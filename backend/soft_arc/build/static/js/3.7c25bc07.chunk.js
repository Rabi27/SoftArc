/*! For license information please see 3.7c25bc07.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[3],[function(e,t,n){"use strict";e.exports=n(172)},function(e,t,n){"use strict";e.exports=n(200)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=(n(8),n(42)),l=n.n(s),c=n(290),h=n(326),d=n(292),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,u=void 0!==s&&s,p=t.name,f=Object(i.a)(t,["defaultTheme","withTheme","name"]);var g=p,A=Object(c.a)(e,Object(r.a)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:g},f)),m=a.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),f=A(Object(r.a)({},n.defaultProps,e)),g=c;return("string"===typeof p||u)&&(s=Object(d.a)()||o,p&&(g=Object(h.a)({theme:s,name:p,props:c})),u&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(r.a)({ref:l||t,classes:f},g))}));return l()(m,n),m}},p=n(49);t.a=function(e,t){return u(e,Object(r.a)({defaultTheme:p.a},t))}},function(e,t,n){e.exports=n(179)()},function(e,t,n){e.exports=n(159)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(20),i=n(19),o=n(0),a=n.n(o),s=n(35),l=(n(8),n(2)),c=n(18),h=n(32),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var u=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},f=function(e){return e},g=a.a.forwardRef;"undefined"===typeof g&&(g=f);var A=g((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,h=Object(l.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return h.ref=f!==g&&t||n,a.a.createElement("a",h)}));var m=g((function(e,t){var n=e.component,i=void 0===n?A:n,o=e.replace,s=e.to,d=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(h.a)(!1);var n=e.history,r=p(u(s,e.location),e.location),c=r?n.createHref(r):"",A=Object(l.a)({},m,{href:c,navigate:function(){var t=u(s,e.location);(o?n.replace:n.push)(t)}});return f!==g?A.ref=t||d:A.innerRef=d,a.a.createElement(i,A)}))})),y=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=y);v((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,f=e.className,g=e.exact,A=e.isActive,b=e.location,w=e.sensitive,x=e.strict,C=e.style,S=e.to,B=e.innerRef,P=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(h.a)(!1);var n=b||e.location,o=p(u(S,n),n),c=o.pathname,E=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=E?Object(r.f)(n.pathname,{path:E,exact:g,sensitive:w,strict:x}):null,T=!!(A?A(O,n):O),I=T?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,s):f,L=T?Object(l.a)({},C,{},d):C,k=Object(l.a)({"aria-current":T&&i||null,className:I,style:L,to:o},P);return y!==v?k.ref=t||B:k.innerRef=B,a.a.createElement(m,k)}))}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(183)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(173)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(155);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(138);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return N}));var r=n(19),i=n(0),o=n.n(i),a=(n(8),n(35)),s=n(103),l=n(32),c=n(2),h=n(104),d=n.n(h),u=(n(67),n(18)),p=(n(42),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),f=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(f.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var A=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var m={},y=0;function v(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(m[e])return m[e];var t=d.a.compile(e);return y<1e4&&(m[e]=t,y++),t}(e)(t,{pretty:!0})}function b(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(f.Consumer,null,(function(e){e||Object(l.a)(!1);var r=e.history,s=e.staticContext,h=i?r.push:r.replace,d=Object(a.c)(t?"string"===typeof n?v(n,t.params):Object(c.a)({},n,{pathname:v(n.pathname,t.params)}):n);return s?(h(d),null):o.a.createElement(A,{onMount:function(){h(d)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},d,{key:n.key}))||h(d)},to:n})}))}var w={},x=0;function C(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var i=[],o={regexp:d()(e,i,t),keys:i};return x<1e4&&(r[e]=o,x++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var h=l[0],u=l.slice(1),p=e===h;return o&&!p?null:{path:n,url:"/"===n&&""===h?"/":h,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=u[n],e}),{})}}),null)}var S=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(f.Consumer,null,(function(t){t||Object(l.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?C(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,h=a.component,d=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(f.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:h?o.a.createElement(h,i):d?d(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function B(e){return"/"===e.charAt(0)?e:"/"+e}function P(e,t){if(!e)return t;var n=B(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function E(e){return"string"===typeof e?e:Object(a.e)(e)}function O(e){return function(){Object(l.a)(!1)}}function T(){}o.a.Component;var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(f.Consumer,null,(function(t){t||Object(l.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?C(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var L=o.a.useContext;function k(){return L(p)}function N(){return L(f).location}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return U}));var r=n(0),i=n.n(r),o=(n(8),i.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function l(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}(),h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var d=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(r.useMemo)((function(){return t.getState()}),[t]);h((function(){var e=s.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,l]);var d=n||o;return i.a.createElement(d.Provider,{value:s},a)},u=n(2),p=n(18),f=n(42),g=n.n(f),A=n(67),m=[],y=[null,null];function v(e,t){var n=e[1];return[t.payload,n+1]}function b(e,t,n){h((function(){return e.apply(void 0,t)}),n)}function w(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function x(e,t,n,r,i,o,a,s,l,c){if(e){var h=!1,d=null,u=function(){if(!h){var e,n,u=t.getState();try{e=r(u,i.current)}catch(p){n=p,d=p}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=u,n.trySubscribe(),u();return function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var C=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,l=n.methodName,h=void 0===l?"connectAdvanced":l,d=n.renderCountProp,f=void 0===d?void 0:d,S=n.shouldHandleStateChanges,B=void 0===S||S,P=n.storeKey,E=void 0===P?"store":P,O=(n.withRef,n.forwardRef),T=void 0!==O&&O,I=n.context,L=void 0===I?o:I,k=Object(p.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),N=L;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(u.a)({},k,{getDisplayName:s,methodName:h,renderCountProp:f,shouldHandleStateChanges:B,storeKey:E,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=k.pure;var d=l?r.useMemo:function(e){return e()};function S(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(p.a)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],l=o[1],h=o[2],f=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(A.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:N}),[s,N]),g=Object(r.useContext)(f),S=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var P=S?n.store:g.store,E=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(P)}),[P]),O=Object(r.useMemo)((function(){if(!B)return y;var e=new c(P,S?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[P,S,g]),T=O[0],I=O[1],L=Object(r.useMemo)((function(){return S?g:Object(u.a)({},g,{subscription:T})}),[S,g,T]),k=Object(r.useReducer)(v,m,C),M=k[0][0],D=k[1];if(M&&M.error)throw M.error;var R=Object(r.useRef)(),j=Object(r.useRef)(h),_=Object(r.useRef)(),F=Object(r.useRef)(!1),H=d((function(){return _.current&&h===j.current?_.current:E(P.getState(),h)}),[P,M,h]);b(w,[j,R,F,h,H,_,I]),b(x,[B,P,T,E,j,R,F,_,I,D],[P,T,E]);var U=Object(r.useMemo)((function(){return i.a.createElement(t,Object(u.a)({},H,{ref:l}))}),[l,t,H]);return Object(r.useMemo)((function(){return B?i.a.createElement(f.Provider,{value:L},U):U}),[f,U,L])}var P=l?i.a.memo(S):S;if(P.WrappedComponent=t,P.displayName=o,T){var O=i.a.forwardRef((function(e,t){return i.a.createElement(P,Object(u.a)({},e,{reactReduxForwardedRef:t}))}));return O.displayName=o,O.WrappedComponent=t,g()(O,t)}return g()(P,t)}}function B(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function P(e,t){if(B(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!B(e[n[i]],t[n[i]]))return!1;return!0}var E=n(33);function O(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function I(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}var L=[function(e){return"function"===typeof e?I(e):void 0},function(e){return e?void 0:O((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?O((function(t){return Object(E.bindActionCreators)(e,t)})):void 0}];var k=[function(e){return"function"===typeof e?I(e):void 0},function(e){return e?void 0:O((function(){return{}}))}];function N(e,t,n){return Object(u.a)({},n,e,t)}var M=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return N}}];function D(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function R(e,t,n,r,i){var o,a,s,l,c,h=i.areStatesEqual,d=i.areOwnPropsEqual,u=i.areStatePropsEqual,p=!1;function f(i,p){var f=!d(p,a),g=!h(i,o);return o=i,a=p,f&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):f?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?function(){var t=e(o,a),r=!u(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,h){return p?f(i,h):(s=e(o=i,a=h),l=t(r,a),c=n(s,l,a),p=!0,c)}}function j(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(p.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?R:D)(a,s,l,e,o)}function _(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}function H(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?k:i,a=t.mapDispatchToPropsFactories,s=void 0===a?L:a,l=t.mergePropsFactories,c=void 0===l?M:l,h=t.selectorFactory,d=void 0===h?j:h;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,h=void 0===l||l,f=a.areStatesEqual,g=void 0===f?F:f,A=a.areOwnPropsEqual,m=void 0===A?P:A,y=a.areStatePropsEqual,v=void 0===y?P:y,b=a.areMergedPropsEqual,w=void 0===b?P:b,x=Object(p.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=_(e,o,"mapStateToProps"),S=_(t,s,"mapDispatchToProps"),B=_(n,c,"mergeProps");return r(d,Object(u.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:S,initMergeProps:B,pure:h,areStatesEqual:g,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:w},x))}}var U=H();var z,Q=n(13);z=Q.unstable_batchedUpdates,a=z},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(46);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(202).default;function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(287)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return u(e,l)},t.parseEndTime=function(e){return u(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=p(t);if(a&&i(a))return Promise.resolve(a);return new Promise((function(r,i){if(f[e])f[e].push({resolve:r,reject:i});else{f[e]=[{resolve:r,reject:i}];var a=function(t){f[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(p(t))}}o(e,(function(r){r?(f[e].forEach((function(e){return e.reject(r)})),f[e]=null):n||a(p(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(t=[]).concat.apply(t,r),a={},s=Object.keys(e),l=0,c=s;l<c.length;l++){var h=c[l];-1===o.indexOf(h)&&(a[h]=e[h])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=o(n(265)),i=o(n(134));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,h=/(\d+)(h|m|s)/g,d=/^\d+$/;function u(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(h))return function(e){var t=0,n=h.exec(e);for(;null!==n;){var r=a(n,3),i=r[1],o=r[2];"h"===o&&(t+=60*parseInt(i,10)*60),"m"===o&&(t+=60*parseInt(i,10)),"s"===o&&(t+=parseInt(i,10)),n=h.exec(e)}return t}(r);if(d.test(r))return parseInt(r)}}}function p(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var f={}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(4),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,c=void 0===l?i.easeInOut:l,h=t.delay,d=void 0===h?0:h;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";var r=n(114),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:h,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)h(arguments[r],n);return t},extend:function(e,t,n){return h(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(28);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=a;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var l=/vimeo\.com\/.+/;t.MATCH_URL_VIMEO=l;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var h=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=h;var d=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=d;var u=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=u;var p=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=p;var f=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=f;var g=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=g;var A=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=A;var m=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;t.MATCH_URL_VIDYARD=m;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;t.MATCH_URL_KALTURA=y;var v=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=v;var b=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;t.VIDEO_EXTENSIONS=b;var w=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=w;var x=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=x;var C=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=C;var S={youtube:function(e){return e instanceof Array?e.every((function(e){return a.test(e)})):a.test(e)},soundcloud:function(e){return s.test(e)&&!v.test(e)},vimeo:function(e){return l.test(e)&&!b.test(e)&&!w.test(e)},facebook:function(e){return c.test(e)||h.test(e)},streamable:function(e){return d.test(e)},wistia:function(e){return u.test(e)},twitch:function(e){return p.test(e)||f.test(e)},dailymotion:function(e){return g.test(e)},mixcloud:function(e){return A.test(e)},vidyard:function(e){return m.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,o=i(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"===typeof a&&e(a))return!0;if(e(a.src))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(v.test(t)||b.test(t)||w.test(t)||x.test(t)||C.test(t))}};t.canPlay=S},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(t,"applyMiddleware",(function(){return A})),n.d(t,"bindActionCreators",(function(){return d})),n.d(t,"combineReducers",(function(){return c})),n.d(t,"compose",(function(){return g})),n.d(t,"createStore",(function(){return s}));var r=n(102),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,c=t,h=[],d=h,u=!1;function p(){d===h&&(d=h.slice())}function f(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1),h=null}}}function A(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,c=l(c,e)}finally{u=!1}for(var t=h=d,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,A({type:o.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return A({type:o.INIT}),(i={dispatch:A,subscribe:g,getState:f,replaceReducer:m})[r.a]=y,i}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],h=n[c],d=e[c],u=h(d,t);if("undefined"===typeof u){var p=l(c,t);throw new Error(p)}i[c]=u,r=r||u!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"===typeof e)return h(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=h(i,t))}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return f({},n,{dispatch:r=g.apply(void 0,o)(n.dispatch)})}}}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l,c,h=s(n(0)),d=n(286),u=n(205),p=d.keyframes(l||(l=r(["\n  0% {transform: rotate(0deg) scale(1)}\n  50% {transform: rotate(180deg) scale(0.8)}\n  100% {transform: rotate(360deg) scale(1)}\n"],["\n  0% {transform: rotate(0deg) scale(1)}\n  50% {transform: rotate(180deg) scale(0.8)}\n  100% {transform: rotate(360deg) scale(1)}\n"]))),f=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.style=function(){var e=n.props,i=e.size,o=e.color;return d.css(c||(c=r(["\n      background: transparent !important;\n      width: ",";\n      height: ",";\n      border-radius: 100%;\n      border: 2px solid;\n      border-color: ",";\n      border-bottom-color: transparent;\n      display: inline-block;\n      animation: "," 0.75s 0s infinite linear;\n      animation-fill-mode: both;\n    "],["\n      background: transparent !important;\n      width: ",";\n      height: ",";\n      border-radius: 100%;\n      border: 2px solid;\n      border-color: ",";\n      border-bottom-color: transparent;\n      display: inline-block;\n      animation: "," 0.75s 0s infinite linear;\n      animation-fill-mode: both;\n    "])),u.cssValue(i||t.defaultProps.size),u.cssValue(i||t.defaultProps.size),o,p)},n}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.css;return t?d.jsx("span",{css:[this.style(),n]}):null},t.defaultProps=u.sizeDefaults(35),t}(h.PureComponent);t.default=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return f}));var r=n(2);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),c=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var h=a[a.length-1];n="."===h||".."===h||""===h}else n=!1;for(var d=0,u=a.length;u>=0;u--){var p=a[u];"."===p?o(a,u):".."===p?(o(a,u),d++):d&&(o(a,u),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(32);function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function u(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function A(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function v(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,d=void 0===l?v:l,A=o.keyLength,C=void 0===A?6:A,S=e.basename?p(h(e.basename)):"";function B(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=u(o,S)),g(o,r,n)}function P(){return Math.random().toString(36).substr(2,C)}var E=m();function O(e){Object(r.a)(H,e),H.length=t.length,E.notifyListeners(H.location,H.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(B(e.state))}function I(){k(B(x()))}var L=!1;function k(e){if(L)L=!1,O();else{E.confirmTransitionTo(e,"POP",d,(function(t){t?O({action:"POP",location:e}):function(e){var t=H.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(L=!0,R(i))}(e)}))}}var N=B(x()),M=[N.key];function D(e){return S+f(e)}function R(e){t.go(e)}var j=0;function _(e){1===(j+=e)&&1===e?(window.addEventListener(b,T),i&&window.addEventListener(w,I)):0===j&&(window.removeEventListener(b,T),i&&window.removeEventListener(w,I))}var F=!1;var H={length:t.length,action:"POP",location:N,createHref:D,push:function(e,r){var i="PUSH",o=g(e,r,P(),H.location);E.confirmTransitionTo(o,i,d,(function(e){if(e){var r=D(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=M.indexOf(H.location.key),h=M.slice(0,c+1);h.push(o.key),M=h,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,P(),H.location);E.confirmTransitionTo(o,i,d,(function(e){if(e){var r=D(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=M.indexOf(H.location.key);-1!==c&&(M[c]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(_(1),F=!0),function(){return F&&(F=!1,_(-1)),t()}},listen:function(e){var t=E.appendListener(e);return _(1),function(){_(-1),t()}}};return H}var S="hashchange",B={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(P(window.location.href)+"#"+e)}function T(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?v:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?p(h(e.basename)):"",d=B[s],A=d.encodePath,b=d.decodePath;function w(){var e=b(E());return l&&(e=u(e,l)),g(e)}var x=m();function C(e){Object(r.a)(H,e),H.length=t.length,x.notifyListeners(H.location,H.action)}var T=!1,I=null;function L(){var e,t,n=E(),r=A(n);if(n!==r)O(r);else{var i=w(),a=H.location;if(!T&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===f(i))return;I=null,function(e){if(T)T=!1,C();else{var t="POP";x.confirmTransitionTo(e,t,o,(function(n){n?C({action:t,location:e}):function(e){var t=H.location,n=D.lastIndexOf(f(t));-1===n&&(n=0);var r=D.lastIndexOf(f(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,R(i))}(e)}))}}(i)}}var k=E(),N=A(k);k!==N&&O(N);var M=w(),D=[f(M)];function R(e){t.go(e)}var j=0;function _(e){1===(j+=e)&&1===e?window.addEventListener(S,L):0===j&&window.removeEventListener(S,L)}var F=!1;var H={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=P(window.location.href)),n+"#"+A(l+f(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,H.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),i=A(l+t);if(E()!==i){I=t,function(e){window.location.hash=e}(i);var o=D.lastIndexOf(f(H.location)),a=D.slice(0,o+1);a.push(t),D=a,C({action:n,location:r})}else C()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,H.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),i=A(l+t);E()!==i&&(I=t,O(i));var o=D.indexOf(f(H.location));-1!==o&&(D[o]=t),C({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(_(1),F=!0),function(){return F&&(F=!1,_(-1)),t()}},listen:function(e){var t=x.appendListener(e);return _(1),function(){_(-1),t()}}};return H}function I(e,t,n){return Math.min(Math.max(e,t),n)}function L(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,h=m();function d(e){Object(r.a)(b,e),b.length=b.entries.length,h.notifyListeners(b.location,b.action)}function u(){return Math.random().toString(36).substr(2,c)}var p=I(s,0,o.length-1),A=o.map((function(e){return g(e,void 0,"string"===typeof e?u():e.key||u())})),y=f;function v(e){var t=I(b.index+e,0,b.entries.length-1),r=b.entries[t];h.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var b={length:A.length,action:"POP",location:A[p],index:p,entries:A,createHref:y,push:function(e,t){var r="PUSH",i=g(e,t,u(),b.location);h.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,u(),b.location);h.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,d({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),h.setPrompt(e)},listen:function(e){return h.appendListener(e)}};return b}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(72);var i=n(139),o=n(84);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(0),i=r.createContext({});t.a=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return d}));var r=n(155);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",h=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",h.push(t[3])),a({type:c,values:h})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(67),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=h(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),A=0;A<a.length;++A){var m=a[A];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=u(n,m);try{c(t,m,y)}catch(v){}}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=/^#([a-f0-9]{3})$/i,a=/^#([a-f0-9]{6})$/i,s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,l=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,i=Array.isArray(t)?(n=t,[Math.min(n[0],255),Math.min(n[1],255),Math.min(n[2],255),n.length>3?n[3]:null]):function(e){var t=e.match(o);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]}(t)||function(e){var t=e.match(s);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]}(t)||function(e){var t=e.match(l);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}(t)||(h[t.toLowerCase()]||!1)||function(e){var t=e.match(a);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]}(t)||[0,0,0,null],c=r(i,4),d=c[0],u=c[1],p=c[2],f=c[3];this.r=d,this.g=u,this.b=p,this.a=f}return i(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}();t.default=c;var h={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new c([0,0,0,0])},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(4),s=(n(8),n(5)),l=n(7),c=n(14),h=i.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,h=e.color,d=void 0===h?"inherit":h,u=e.component,p=void 0===u?"svg":u,f=e.fontSize,g=void 0===f?"default":f,A=e.htmlColor,m=e.titleAccess,y=e.viewBox,v=void 0===y?"0 0 24 24":y,b=Object(a.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(p,Object(r.a)({className:Object(s.a)(o.root,l,"inherit"!==d&&o["color".concat(Object(c.a)(d))],"default"!==g&&o["fontSize".concat(Object(c.a)(g))]),focusable:"false",viewBox:v,color:A,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},b),n,m?i.createElement("title",null,m):null)}));h.muiName="SvgIcon";var d=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(h);function u(e,t){var n=function(t,n){return o.a.createElement(d,Object(r.a)({ref:n},t),e)};return n.muiName=d.muiName,o.a.memo(o.a.forwardRef(n))}},function(e,t,n){"use strict";var r=n(288);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(292),i=(n(0),n(49));function o(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";var r=n(16),i=n(4),o=n(288),a=n(2),s=["xs","sm","md","lg","xl"];function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,l=e.step,c=void 0===l?5:l,h=Object(i.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function u(e,t){var r=s.indexOf(t);return r===s.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-c/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(o,")")},between:u,only:function(e){return u(e,e)},width:function(e){return n[e]}},h)}function c(e,t,n){var i;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var h=n(155),d={black:"#000",white:"#fff"},u={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},A={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},v=n(39),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:u[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:u[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(v.d)(e.main,i):"dark"===t&&(e.dark=Object(v.a)(e.main,o)))}function C(e){var t=e.primary,n=void 0===t?{light:p[300],main:p[500],dark:p[700]}:t,r=e.secondary,s=void 0===r?{light:f.A200,main:f.A400,dark:f.A700}:r,l=e.error,c=void 0===l?{light:g[300],main:g[500],dark:g[700]}:l,C=e.warning,S=void 0===C?{light:A[300],main:A[500],dark:A[700]}:C,B=e.info,P=void 0===B?{light:m[300],main:m[500],dark:m[700]}:B,E=e.success,O=void 0===E?{light:y[300],main:y[500],dark:y[700]}:E,T=e.type,I=void 0===T?"light":T,L=e.contrastThreshold,k=void 0===L?3:L,N=e.tonalOffset,M=void 0===N?.2:N,D=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function R(e){return Object(v.c)(e,w.text.primary)>=k?w.text.primary:b.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(h.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(h.a)(5,JSON.stringify(e.main)));return x(e,"light",n,M),x(e,"dark",r,M),e.contrastText||(e.contrastText=R(e.main)),e},_={dark:w,light:b};return Object(o.a)(Object(a.a)({common:d,type:I,primary:j(n),secondary:j(s,"A400","A200","A700"),error:j(c),warning:j(S),info:j(P),success:j(O),grey:u,contrastThreshold:k,getContrastText:R,augmentColor:j,tonalOffset:M},_[I]),D)}function S(e){return Math.round(1e5*e)/1e5}var B={textTransform:"uppercase"},P='"Roboto", "Helvetica", "Arial", sans-serif';function E(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?P:r,l=n.fontSize,c=void 0===l?14:l,h=n.fontWeightLight,d=void 0===h?300:h,u=n.fontWeightRegular,p=void 0===u?400:u,f=n.fontWeightMedium,g=void 0===f?500:f,A=n.fontWeightBold,m=void 0===A?700:A,y=n.htmlFontSize,v=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,x=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var C=c/14,E=w||function(e){return"".concat(e/v*C,"rem")},O=function(e,t,n,r,i){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:E(t),lineHeight:n},s===P?{letterSpacing:"".concat(S(r/t),"em")}:{},i,b)},T={h1:O(d,96,1.167,-1.5),h2:O(d,60,1.2,-.5),h3:O(p,48,1.167,0),h4:O(p,34,1.235,.25),h5:O(p,24,1.334,0),h6:O(g,20,1.6,.15),subtitle1:O(p,16,1.75,.15),subtitle2:O(g,14,1.57,.1),body1:O(p,16,1.5,.15),body2:O(p,14,1.43,.15),button:O(g,14,1.75,.4,B),caption:O(p,12,1.66,.4),overline:O(p,12,2.66,1,B)};return Object(o.a)(Object(a.a)({htmlFontSize:v,pxToRem:E,round:S,fontFamily:s,fontSize:c,fontWeightLight:d,fontWeightRegular:p,fontWeightMedium:g,fontWeightBold:m},T),x,{clone:!1})}function O(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var T=["none",O(0,2,1,-1,0,1,1,0,0,1,3,0),O(0,3,1,-2,0,2,2,0,0,1,5,0),O(0,3,3,-2,0,3,4,0,0,1,8,0),O(0,2,4,-1,0,4,5,0,0,1,10,0),O(0,3,5,-1,0,5,8,0,0,1,14,0),O(0,3,5,-1,0,6,10,0,0,1,18,0),O(0,4,5,-2,0,7,10,1,0,2,16,1),O(0,5,5,-3,0,8,10,1,0,3,14,2),O(0,5,6,-3,0,9,12,1,0,3,16,2),O(0,6,6,-3,0,10,14,1,0,4,18,3),O(0,6,7,-4,0,11,15,1,0,4,20,3),O(0,7,8,-4,0,12,17,2,0,5,22,4),O(0,7,8,-4,0,13,19,2,0,5,24,4),O(0,7,9,-4,0,14,21,2,0,5,26,4),O(0,8,9,-5,0,15,22,2,0,6,28,5),O(0,8,10,-5,0,16,24,2,0,6,30,5),O(0,8,11,-5,0,17,26,2,0,6,32,5),O(0,9,11,-5,0,18,28,2,0,7,34,6),O(0,9,12,-6,0,19,29,2,0,7,36,6),O(0,10,13,-6,0,20,31,3,0,8,38,7),O(0,10,13,-6,0,21,33,3,0,8,40,7),O(0,10,14,-6,0,22,35,3,0,8,42,7),O(0,11,14,-7,0,23,36,3,0,9,44,8),O(0,11,15,-7,0,24,38,3,0,9,46,8)],I={borderRadius:4},L=n(346);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(L.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var N=n(29),M=n(86);var D=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,s=e.palette,h=void 0===s?{}:s,d=e.spacing,u=e.typography,p=void 0===u?{}:u,f=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),g=C(h),A=l(n),m=k(d),y=Object(o.a)({breakpoints:A,direction:"ltr",mixins:c(A,m,a),overrides:{},palette:g,props:{},shadows:T,typography:E(g,p),spacing:m,shape:I,transitions:N.a,zIndex:M.a},f),v=arguments.length,b=new Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];return y=b.reduce((function(e,t){return Object(o.a)(e,t)}),y)}();t.a=D},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(57);(r=o)&&r.__esModule;var a=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="%"===t.substr(t.length-1)?a.PERCENTAGE:a.PX;var n=parseFloat(t);this.value=isNaN(n)?0:n}return i(e,[{key:"isPercentage",value:function(){return this.type===a.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=s;var l=function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)};t.calculateLengthFromValueWithUnit=function(e,t,n){switch(n){case"px":case"%":return new s(t+n);case"em":case"rem":var r=new s(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):l(e),r;default:return new s("0")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(78)),o=a(n(222));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Bounds=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.top=n,this.width=r,this.height=i}return r(e,null,[{key:"fromClientRect",value:function(t,n,r){return new e(t.left+n,t.top+r,t.width,t.height)}}]),e}(),l=(t.parseBounds=function(e,t,n){return s.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function(e,t){return new s(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,n){var r=t[0].value,i=t[1].value,o=t[2].value,a=t[3].value;return new s(e.left+a+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+a+i),e.height-(n[0].borderWidth+n[2].borderWidth+r+o))},t.parseDocumentSize=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,r,i)},t.parsePathForBorder=function(e,t){switch(t){case 0:return l(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return l(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return l(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return l(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,n,r){var i=[];return e instanceof o.default?i.push(e.subdivide(.5,!1)):i.push(e),n instanceof o.default?i.push(n.subdivide(.5,!0)):i.push(n),r instanceof o.default?i.push(r.subdivide(.5,!0).reverse()):i.push(r),t instanceof o.default?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i}),c=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,n){var r=n[c.TOP_LEFT][0].getAbsoluteValue(e.width),o=n[c.TOP_LEFT][1].getAbsoluteValue(e.height),a=n[c.TOP_RIGHT][0].getAbsoluteValue(e.width),s=n[c.TOP_RIGHT][1].getAbsoluteValue(e.height),l=n[c.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),d=n[c.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),u=n[c.BOTTOM_LEFT][0].getAbsoluteValue(e.width),p=n[c.BOTTOM_LEFT][1].getAbsoluteValue(e.height),f=[];f.push((r+a)/e.width),f.push((u+l)/e.width),f.push((o+p)/e.height),f.push((s+d)/e.height);var g=Math.max.apply(Math,f);g>1&&(r/=g,o/=g,a/=g,s/=g,l/=g,d/=g,u/=g,p/=g);var A=e.width-a,m=e.height-d,y=e.width-l,v=e.height-p;return{topLeftOuter:r>0||o>0?h(e.left,e.top,r,o,c.TOP_LEFT):new i.default(e.left,e.top),topLeftInner:r>0||o>0?h(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,r-t[3].borderWidth),Math.max(0,o-t[0].borderWidth),c.TOP_LEFT):new i.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:a>0||s>0?h(e.left+A,e.top,a,s,c.TOP_RIGHT):new i.default(e.left+e.width,e.top),topRightInner:a>0||s>0?h(e.left+Math.min(A,e.width+t[3].borderWidth),e.top+t[0].borderWidth,A>e.width+t[3].borderWidth?0:a-t[3].borderWidth,s-t[0].borderWidth,c.TOP_RIGHT):new i.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:l>0||d>0?h(e.left+y,e.top+m,l,d,c.BOTTOM_RIGHT):new i.default(e.left+e.width,e.top+e.height),bottomRightInner:l>0||d>0?h(e.left+Math.min(y,e.width-t[3].borderWidth),e.top+Math.min(m,e.height+t[0].borderWidth),Math.max(0,l-t[1].borderWidth),d-t[2].borderWidth,c.BOTTOM_RIGHT):new i.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:u>0||p>0?h(e.left,e.top+v,u,p,c.BOTTOM_LEFT):new i.default(e.left,e.top+e.height),bottomLeftInner:u>0||p>0?h(e.left+t[3].borderWidth,e.top+v,Math.max(0,u-t[3].borderWidth),p-t[2].borderWidth,c.BOTTOM_LEFT):new i.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),h=function(e,t,n,r,a){var s=(Math.sqrt(2)-1)/3*4,l=n*s,h=r*s,d=e+n,u=t+r;switch(a){case c.TOP_LEFT:return new o.default(new i.default(e,u),new i.default(e,u-h),new i.default(d-l,t),new i.default(d,t));case c.TOP_RIGHT:return new o.default(new i.default(e,t),new i.default(e+l,t),new i.default(d,u-h),new i.default(d,u));case c.BOTTOM_RIGHT:return new o.default(new i.default(d,t),new i.default(d,t+h),new i.default(e+l,u),new i.default(e,u));case c.BOTTOM_LEFT:default:return new o.default(new i.default(d,u),new i.default(d-l,u),new i.default(e,t+h),new i.default(e,t))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ue})),n.d(t,"b",(function(){return Ft}));var r,i,o,a=n(0),s=n.n(a),l=n(13);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function p(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"===typeof n?n.apply(void 0,i):n}var a=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(a,p),a}function f(e){var t=e.props,n=e.slot,o=e.defaultTag,a=e.features,s=e.visible,l=void 0===s||s,d=e.name;if(l)return g(t,n,o,d);var u=null!=a?a:r.None;if(u&r.Static){var f=t.static,A=void 0!==f&&f,m=h(t,["static"]);if(A)return g(m,n,o,d)}if(u&r.RenderStrategy){var y,v=t.unmount,b=void 0===v||v,w=h(t,["unmount"]);return p(b?i.Unmount:i.Hidden,((y={})[i.Unmount]=function(){return null},y[i.Hidden]=function(){return g(c({},w,{hidden:!0,style:{display:"none"}}),n,o,d)},y))}return g(t,n,o,d)}function g(e,t,n,r){var i;void 0===t&&(t={});var o=m(e,["unmount","static"]),s=o.as,l=void 0===s?n:s,c=o.children,d=o.refName,p=void 0===d?"ref":d,f=h(o,["as","children","refName"]),g=void 0!==e.ref?((i={})[p]=e.ref,i):{},A="function"===typeof c?c(t):c;if(f.className&&"function"===typeof f.className&&(f.className=f.className(t)),l===a.Fragment&&Object.keys(f).length>0){if(!Object(a.isValidElement)(A)||Array.isArray(A)&&A.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+r+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(f).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return Object(a.cloneElement)(A,Object.assign({},function(e,t,n){for(var r,i=Object.assign({},e),o=function(){var n,o=r.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(i,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))},a=u(n);!(r=a()).done;)o();return i}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(m(f,["ref"])),A.props,["onClick"]),g))}return Object(a.createElement)(l,Object.assign({},m(f,["ref"]),l!==a.Fragment&&g),A)}function A(e){var t;return Object.assign(Object(a.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function m(e,t){void 0===t&&(t=[]);for(var n,r=Object.assign({},e),i=u(t);!(n=i()).done;){var o=n.value;o in r&&delete r[o]}return r}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(a.useRef)(t);return Object(a.useEffect)((function(){r.current=t}),[t]),Object(a.useCallback)((function(e){for(var t,n=u(r.current);!(t=n()).done;){var i=t.value;null!=i&&("function"===typeof i?i(e):i.current=e)}}),[r])}function v(e){for(var t,n,r=e.parentElement,i=null;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(i=r),r=r.parentElement;var o=null!=(t=""===(null==(n=r)?void 0:n.getAttribute("disabled")))&&t;return(!o||!function(e){if(!e)return!1;var t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(i))&&o}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(r||(r={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(i||(i={})),function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(o||(o={}));var b="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,w={serverHandoffComplete:!1};function x(){var e=Object(a.useState)(w.serverHandoffComplete),t=e[0],n=e[1];return Object(a.useEffect)((function(){!0!==t&&n(!0)}),[t]),Object(a.useEffect)((function(){!1===w.serverHandoffComplete&&(w.serverHandoffComplete=!0)}),[]),t}var C=0;function S(){return++C}function B(){var e=x(),t=Object(a.useState)(e?S:null),n=t[0],r=t[1];return b((function(){null===n&&r(S())}),[n]),null!=n?""+n:void 0}var P,E,O,T,I,L=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function k(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(L))}function N(e,t){var n;return void 0===t&&(t=T.Strict),e!==document.body&&p(t,((n={})[T.Strict]=function(){return e.matches(L)},n[T.Loose]=function(){for(var t=e;null!==t;){if(t.matches(L))return!0;t=t.parentElement}return!1},n))}function M(e,t){var n=Array.isArray(e)?e:k(e),r=document.activeElement,i=function(){if(t&(P.First|P.Next))return O.Next;if(t&(P.Previous|P.Last))return O.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(t&P.First)return 0;if(t&P.Previous)return Math.max(0,n.indexOf(r))-1;if(t&P.Next)return Math.max(0,n.indexOf(r))+1;if(t&P.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=t&P.NoScroll?{preventScroll:!0}:{},s=0,l=n.length,c=void 0;do{var h;if(s>=l||s+l<=0)return E.Error;var d=o+s;if(t&P.WrapAround)d=(d+l)%l;else{if(d<0)return E.Underflow;if(d>=l)return E.Overflow}null==(h=c=n[d])||h.focus(a),s+=i}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),E.Success}function D(e,t,n){var r=Object(a.useRef)(t);r.current=t,Object(a.useEffect)((function(){function t(e){r.current.call(window,e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}function R(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(P||(P={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(E||(E={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(O||(O={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(T||(T={})),function(e){e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All"}(I||(I={}));var j=Object(a.createContext)(!1);function _(){var e=Object(a.useContext)(j),t=Object(a.useContext)(z),n=Object(a.useState)((function(){if(!e&&null!==t)return null;if("undefined"===typeof window)return null;var n=document.getElementById("headlessui-portal-root");if(n)return n;var r=document.createElement("div");return r.setAttribute("id","headlessui-portal-root"),document.body.appendChild(r)})),r=n[0],i=n[1];return Object(a.useEffect)((function(){e||null!==t&&i(t.current)}),[t,i,e]),r}var F=a.Fragment;function H(e){var t=e,n=_(),r=Object(a.useState)((function(){return"undefined"===typeof window?null:document.createElement("div")}))[0],i=x();return b((function(){if(n&&r)return n.appendChild(r),function(){var e;n&&(r&&(n.removeChild(r),n.childNodes.length<=0&&(null==(e=n.parentElement)||e.removeChild(n))))}}),[n,r]),i&&n&&r?Object(l.createPortal)(f({props:t,defaultTag:F,name:"Portal"}),r):null}var U=a.Fragment,z=Object(a.createContext)(null);H.Group=function(e){var t=e.target,n=h(e,["target"]);return s.a.createElement(z.Provider,{value:t},f({props:n,defaultTag:U,name:"Popover.Group"}))};var Q=Object(a.createContext)(null);function W(){var e=Object(a.useContext)(Q);if(null===e){var t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,W),t}return e}function V(){var e=Object(a.useState)([]),t=e[0],n=e[1];return[t.length>0?t.join(" "):void 0,Object(a.useMemo)((function(){return function(e){var t=Object(a.useCallback)((function(e){return n((function(t){return[].concat(t,[e])})),function(){return n((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),r=Object(a.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return s.a.createElement(Q.Provider,{value:r},e.children)}}),[n])]}function X(e){var t=W(),n="headlessui-description-"+B();b((function(){return t.register(n)}),[n,t.register]);var r=e,i=c({},t.props,{id:n});return f({props:c({},r,i),slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}var Y,K=Object(a.createContext)(null);function G(){return Object(a.useContext)(K)}function q(e){var t=e.value,n=e.children;return s.a.createElement(K.Provider,{value:t},n)}K.displayName="OpenClosedContext",function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Y||(Y={}));var J,Z,$,ee,te=Object(a.createContext)((function(){}));te.displayName="StackContext",function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(J||(J={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}($||($={})),function(e){e[e.SetTitleId=0]="SetTitleId"}(ee||(ee={}));(Z={})[ee.SetTitleId]=function(e,t){return e.titleId===t.id?e:c({},e,{titleId:t.id})};var ne=Object(a.createContext)(null);ne.displayName="DialogContext";r.RenderStrategy,r.Static;var re,ie,oe;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(ie||(ie={})),function(e){e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.SetButtonId=1]="SetButtonId",e[e.SetPanelId=2]="SetPanelId",e[e.LinkPanel=3]="LinkPanel",e[e.UnlinkPanel=4]="UnlinkPanel"}(oe||(oe={}));var ae=((re={})[oe.ToggleDisclosure]=function(e){var t;return c({},e,{disclosureState:p(e.disclosureState,(t={},t[ie.Open]=ie.Closed,t[ie.Closed]=ie.Open,t))})},re[oe.LinkPanel]=function(e){return!0===e.linkedPanel?e:c({},e,{linkedPanel:!0})},re[oe.UnlinkPanel]=function(e){return!1===e.linkedPanel?e:c({},e,{linkedPanel:!1})},re[oe.SetButtonId]=function(e,t){return e.buttonId===t.buttonId?e:c({},e,{buttonId:t.buttonId})},re[oe.SetPanelId]=function(e,t){return e.panelId===t.panelId?e:c({},e,{panelId:t.panelId})},re),se=Object(a.createContext)(null);function le(e){var t=Object(a.useContext)(se);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+de.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,le),n}return t}function ce(e,t){return p(t.type,ae,e,t)}se.displayName="DisclosureContext";var he=a.Fragment;function de(e){var t,n=e.defaultOpen,r=void 0!==n&&n,i=h(e,["defaultOpen"]),o="headlessui-disclosure-button-"+B(),l="headlessui-disclosure-panel-"+B(),c=Object(a.useReducer)(ce,{disclosureState:r?ie.Open:ie.Closed,linkedPanel:!1,buttonId:o,panelId:l}),d=c[0].disclosureState,u=c[1];Object(a.useEffect)((function(){return u({type:oe.SetButtonId,buttonId:o})}),[o,u]),Object(a.useEffect)((function(){return u({type:oe.SetPanelId,panelId:l})}),[l,u]);var g=Object(a.useMemo)((function(){return{open:d===ie.Open}}),[d]);return s.a.createElement(se.Provider,{value:c},s.a.createElement(q,{value:p(d,(t={},t[ie.Open]=Y.Open,t[ie.Closed]=Y.Closed,t))},f({props:i,slot:g,defaultTag:he,name:"Disclosure"})))}var ue=A((function e(t,n){var r=le([de.name,e.name].join(".")),i=r[0],s=r[1],l=y(n),h=Object(a.useCallback)((function(e){switch(e.key){case o.Space:case o.Enter:e.preventDefault(),e.stopPropagation(),s({type:oe.ToggleDisclosure})}}),[s]),d=Object(a.useCallback)((function(e){switch(e.key){case o.Space:e.preventDefault()}}),[]),u=Object(a.useCallback)((function(e){v(e.currentTarget)||t.disabled||s({type:oe.ToggleDisclosure})}),[s,t.disabled]),p=Object(a.useMemo)((function(){return{open:i.disclosureState===ie.Open}}),[i]);return f({props:c({},t,{ref:l,id:i.buttonId,type:"button","aria-expanded":i.disclosureState===ie.Open||void 0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:h,onKeyUp:d,onClick:u}),slot:p,defaultTag:"button",name:"Disclosure.Button"})})),pe=r.RenderStrategy|r.Static,fe=A((function e(t,n){var r=le([de.name,e.name].join(".")),i=r[0],o=r[1],s=y(n,(function(){i.linkedPanel||o({type:oe.LinkPanel})})),l=G(),h=null!==l?l===Y.Open:i.disclosureState===ie.Open;Object(a.useEffect)((function(){return function(){return o({type:oe.UnlinkPanel})}}),[o]),Object(a.useEffect)((function(){var e;i.disclosureState!==ie.Closed||null!=(e=t.unmount)&&!e||o({type:oe.UnlinkPanel})}),[i.disclosureState,t.unmount,o]);var d=Object(a.useMemo)((function(){return{open:i.disclosureState===ie.Open}}),[i]),u={ref:s,id:i.panelId};return f({props:c({},t,u),slot:d,defaultTag:"div",features:pe,visible:h,name:"Disclosure.Panel"})}));de.Button=ue,de.Panel=fe;var ge,Ae,me,ye;function ve(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=u(e.splice(0));!(t=n()).done;){var r=t.value;r()}}};return t}function be(){var e=Object(a.useState)(ve)[0];return Object(a.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}function we(e,t){var n=Object(a.useState)(e),r=n[0],i=n[1],o=Object(a.useRef)(e);return b((function(){o.current=e}),[e]),b((function(){return i(o.current)}),[o,i].concat(t)),r}function xe(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(e.focus){case ge.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case ge.Previous:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case ge.Next:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case ge.Last:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case ge.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case ge.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?r:o}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(ge||(ge={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(me||(me={})),function(e){e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.GoToOption=3]="GoToOption",e[e.Search=4]="Search",e[e.ClearSearch=5]="ClearSearch",e[e.RegisterOption=6]="RegisterOption",e[e.UnregisterOption=7]="UnregisterOption"}(ye||(ye={}));var Ce=((Ae={})[ye.CloseListbox]=function(e){return e.disabled||e.listboxState===me.Closed?e:c({},e,{activeOptionIndex:null,listboxState:me.Closed})},Ae[ye.OpenListbox]=function(e){return e.disabled||e.listboxState===me.Open?e:c({},e,{listboxState:me.Open})},Ae[ye.SetDisabled]=function(e,t){return e.disabled===t.disabled?e:c({},e,{disabled:t.disabled})},Ae[ye.GoToOption]=function(e,t){if(e.disabled)return e;if(e.listboxState===me.Closed)return e;var n=xe(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeOptionIndex===n?e:c({},e,{searchQuery:"",activeOptionIndex:n})},Ae[ye.Search]=function(e,t){if(e.disabled)return e;if(e.listboxState===me.Closed)return e;var n=e.searchQuery+t.value.toLowerCase(),r=e.options.findIndex((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}));return-1===r||r===e.activeOptionIndex?c({},e,{searchQuery:n}):c({},e,{searchQuery:n,activeOptionIndex:r})},Ae[ye.ClearSearch]=function(e){return e.disabled||e.listboxState===me.Closed||""===e.searchQuery?e:c({},e,{searchQuery:""})},Ae[ye.RegisterOption]=function(e,t){return c({},e,{options:[].concat(e.options,[{id:t.id,dataRef:t.dataRef}])})},Ae[ye.UnregisterOption]=function(e,t){var n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),c({},e,{options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)})},Ae),Se=Object(a.createContext)(null);function Be(e){var t=Object(a.useContext)(Se);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Oe.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Be),n}return t}function Pe(e,t){return p(t.type,Ce,e,t)}Se.displayName="ListboxContext";var Ee=a.Fragment;function Oe(e){var t,n=e.value,r=e.onChange,i=e.disabled,o=void 0!==i&&i,l=h(e,["value","onChange","disabled"]),c=Object(a.useReducer)(Pe,{listboxState:me.Closed,propsRef:{current:{value:n,onChange:r}},labelRef:Object(a.createRef)(),buttonRef:Object(a.createRef)(),optionsRef:Object(a.createRef)(),disabled:o,options:[],searchQuery:"",activeOptionIndex:null}),d=c[0],u=d.listboxState,g=d.propsRef,A=d.optionsRef,m=d.buttonRef,y=c[1];b((function(){g.current.value=n}),[n,g]),b((function(){g.current.onChange=r}),[r,g]),b((function(){return y({type:ye.SetDisabled,disabled:o})}),[o]),D("mousedown",(function(e){var t,n,r,i=e.target;u===me.Open&&((null==(t=m.current)?void 0:t.contains(i))||(null==(n=A.current)?void 0:n.contains(i))||(y({type:ye.CloseListbox}),N(i,T.Loose)||(e.preventDefault(),null==(r=m.current)||r.focus())))}));var v=Object(a.useMemo)((function(){return{open:u===me.Open,disabled:o}}),[u,o]);return s.a.createElement(Se.Provider,{value:c},s.a.createElement(q,{value:p(u,(t={},t[me.Open]=Y.Open,t[me.Closed]=Y.Closed,t))},f({props:l,slot:v,defaultTag:Ee,name:"Listbox"})))}var Te=A((function e(t,n){var r,i=Be([Oe.name,e.name].join(".")),s=i[0],l=i[1],h=y(s.buttonRef,n),d="headlessui-listbox-button-"+B(),u=be(),p=Object(a.useCallback)((function(e){switch(e.key){case o.Space:case o.Enter:case o.ArrowDown:e.preventDefault(),l({type:ye.OpenListbox}),u.nextFrame((function(){s.propsRef.current.value||l({type:ye.GoToOption,focus:ge.First})}));break;case o.ArrowUp:e.preventDefault(),l({type:ye.OpenListbox}),u.nextFrame((function(){s.propsRef.current.value||l({type:ye.GoToOption,focus:ge.Last})}))}}),[l,s,u]),g=Object(a.useCallback)((function(e){switch(e.key){case o.Space:e.preventDefault()}}),[]),A=Object(a.useCallback)((function(e){if(v(e.currentTarget))return e.preventDefault();s.listboxState===me.Open?(l({type:ye.CloseListbox}),u.nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l({type:ye.OpenListbox}))}),[l,u,s]),m=we((function(){if(s.labelRef.current)return[s.labelRef.current.id,d].join(" ")}),[s.labelRef.current,d]),b=Object(a.useMemo)((function(){return{open:s.listboxState===me.Open,disabled:s.disabled}}),[s]);return f({props:c({},t,{ref:h,id:d,type:"button","aria-haspopup":!0,"aria-controls":null==(r=s.optionsRef.current)?void 0:r.id,"aria-expanded":s.listboxState===me.Open||void 0,"aria-labelledby":m,disabled:s.disabled,onKeyDown:p,onKeyUp:g,onClick:A}),slot:b,defaultTag:"button",name:"Listbox.Button"})}));var Ie,Le,ke,Ne=r.RenderStrategy|r.Static,Me=A((function e(t,n){var r,i=Be([Oe.name,e.name].join(".")),s=i[0],l=i[1],h=y(s.optionsRef,n),d="headlessui-listbox-options-"+B(),u=be(),p=be(),g=G(),A=null!==g?g===Y.Open:s.listboxState===me.Open;b((function(){var e=s.optionsRef.current;e&&s.listboxState===me.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[s.listboxState,s.optionsRef]);var m=Object(a.useCallback)((function(e){switch(p.dispose(),e.key){case o.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:ye.Search,value:e.key});case o.Enter:if(e.preventDefault(),e.stopPropagation(),l({type:ye.CloseListbox}),null!==s.activeOptionIndex){var t=s.options[s.activeOptionIndex].dataRef;s.propsRef.current.onChange(t.current.value)}ve().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case o.ArrowDown:return e.preventDefault(),e.stopPropagation(),l({type:ye.GoToOption,focus:ge.Next});case o.ArrowUp:return e.preventDefault(),e.stopPropagation(),l({type:ye.GoToOption,focus:ge.Previous});case o.Home:case o.PageUp:return e.preventDefault(),e.stopPropagation(),l({type:ye.GoToOption,focus:ge.First});case o.End:case o.PageDown:return e.preventDefault(),e.stopPropagation(),l({type:ye.GoToOption,focus:ge.Last});case o.Escape:return e.preventDefault(),e.stopPropagation(),l({type:ye.CloseListbox}),u.nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case o.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:ye.Search,value:e.key}),p.setTimeout((function(){return l({type:ye.ClearSearch})}),350))}}),[u,l,p,s]),v=we((function(){var e,t,n;return null!=(e=null==(t=s.labelRef.current)?void 0:t.id)?e:null==(n=s.buttonRef.current)?void 0:n.id}),[s.labelRef.current,s.buttonRef.current]),w=Object(a.useMemo)((function(){return{open:s.listboxState===me.Open}}),[s]);return f({props:c({},t,{"aria-activedescendant":null===s.activeOptionIndex||null==(r=s.options[s.activeOptionIndex])?void 0:r.id,"aria-labelledby":v,id:d,onKeyDown:m,role:"listbox",tabIndex:0,ref:h}),slot:w,defaultTag:"ul",features:Ne,visible:A,name:"Listbox.Options"})}));function De(e){var t=e.container,n=e.accept,r=e.walk,i=e.enabled,o=void 0===i||i,s=Object(a.useRef)(n),l=Object(a.useRef)(r);Object(a.useEffect)((function(){s.current=n,l.current=r}),[n,r]),b((function(){if(t&&o)for(var e=s.current,n=l.current,r=Object.assign((function(t){return e(t)}),{acceptNode:e}),i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,r,!1);i.nextNode();)n(i.currentNode)}),[t,o,s,l])}Oe.Button=Te,Oe.Label=function e(t){var n=Be([Oe.name,e.name].join("."))[0],r="headlessui-listbox-label-"+B(),i=Object(a.useCallback)((function(){var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[n.buttonRef]),o=Object(a.useMemo)((function(){return{open:n.listboxState===me.Open,disabled:n.disabled}}),[n]);return f({props:c({},t,{ref:n.labelRef,id:r,onClick:i}),slot:o,defaultTag:"label",name:"Listbox.Label"})},Oe.Options=Me,Oe.Option=function e(t){var n=t.disabled,r=void 0!==n&&n,i=t.value,o=h(t,["disabled","value"]),s=Be([Oe.name,e.name].join(".")),l=s[0],d=s[1],u="headlessui-listbox-option-"+B(),p=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===u,g=l.propsRef.current.value===i,A=Object(a.useRef)({disabled:r,value:i});b((function(){A.current.disabled=r}),[A,r]),b((function(){A.current.value=i}),[A,i]),b((function(){var e,t;A.current.textValue=null==(e=document.getElementById(u))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[A,u]);var m=Object(a.useCallback)((function(){return l.propsRef.current.onChange(i)}),[l.propsRef,i]);b((function(){return d({type:ye.RegisterOption,id:u,dataRef:A}),function(){return d({type:ye.UnregisterOption,id:u})}}),[A,u]),b((function(){var e;l.listboxState===me.Open&&g&&(d({type:ye.GoToOption,focus:ge.Specific,id:u}),null==(e=document.getElementById(u))||null==e.focus||e.focus())}),[l.listboxState]),b((function(){if(l.listboxState===me.Open&&p){var e=ve();return e.nextFrame((function(){var e;return null==(e=document.getElementById(u))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[u,p,l.listboxState]);var y=Object(a.useCallback)((function(e){if(r)return e.preventDefault();m(),d({type:ye.CloseListbox}),ve().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[d,l.buttonRef,r,m]),v=Object(a.useCallback)((function(){if(r)return d({type:ye.GoToOption,focus:ge.Nothing});d({type:ye.GoToOption,focus:ge.Specific,id:u})}),[r,u,d]),w=Object(a.useCallback)((function(){r||p||d({type:ye.GoToOption,focus:ge.Specific,id:u})}),[r,p,u,d]),x=Object(a.useCallback)((function(){r||p&&d({type:ye.GoToOption,focus:ge.Nothing})}),[r,p,d]),C=Object(a.useMemo)((function(){return{active:p,selected:g,disabled:r}}),[p,g,r]);return f({props:c({},o,{id:u,role:"option",tabIndex:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===g||void 0,onClick:y,onFocus:v,onPointerMove:w,onMouseMove:w,onPointerLeave:x,onMouseLeave:x}),slot:C,defaultTag:"li",name:"Listbox.Option"})},function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Le||(Le={})),function(e){e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem"}(ke||(ke={}));var Re=((Ie={})[ke.CloseMenu]=function(e){return e.menuState===Le.Closed?e:c({},e,{activeItemIndex:null,menuState:Le.Closed})},Ie[ke.OpenMenu]=function(e){return e.menuState===Le.Open?e:c({},e,{menuState:Le.Open})},Ie[ke.GoToItem]=function(e,t){var n=xe(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:c({},e,{searchQuery:"",activeItemIndex:n})},Ie[ke.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),r=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===r||r===e.activeItemIndex?c({},e,{searchQuery:n}):c({},e,{searchQuery:n,activeItemIndex:r})},Ie[ke.ClearSearch]=function(e){return""===e.searchQuery?e:c({},e,{searchQuery:""})},Ie[ke.RegisterItem]=function(e,t){return c({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},Ie[ke.UnregisterItem]=function(e,t){var n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),c({},e,{items:n,activeItemIndex:i===e.activeItemIndex||null===r?null:n.indexOf(r)})},Ie),je=Object(a.createContext)(null);function _e(e){var t=Object(a.useContext)(je);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Ue.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,_e),n}return t}function Fe(e,t){return p(t.type,Re,e,t)}je.displayName="MenuContext";var He=a.Fragment;function Ue(e){var t,n=Object(a.useReducer)(Fe,{menuState:Le.Closed,buttonRef:Object(a.createRef)(),itemsRef:Object(a.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),r=n[0],i=r.menuState,o=r.itemsRef,l=r.buttonRef,c=n[1];D("mousedown",(function(e){var t,n,r,a=e.target;i===Le.Open&&((null==(t=l.current)?void 0:t.contains(a))||(null==(n=o.current)?void 0:n.contains(a))||(c({type:ke.CloseMenu}),N(a,T.Loose)||(e.preventDefault(),null==(r=l.current)||r.focus())))}));var h=Object(a.useMemo)((function(){return{open:i===Le.Open}}),[i]);return s.a.createElement(je.Provider,{value:n},s.a.createElement(q,{value:p(i,(t={},t[Le.Open]=Y.Open,t[Le.Closed]=Y.Closed,t))},f({props:e,slot:h,defaultTag:He,name:"Menu"})))}var ze,Qe,We,Ve=A((function e(t,n){var r,i=_e([Ue.name,e.name].join(".")),s=i[0],l=i[1],h=y(s.buttonRef,n),d="headlessui-menu-button-"+B(),u=be(),p=Object(a.useCallback)((function(e){switch(e.key){case o.Space:case o.Enter:case o.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:ke.OpenMenu}),u.nextFrame((function(){return l({type:ke.GoToItem,focus:ge.First})}));break;case o.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:ke.OpenMenu}),u.nextFrame((function(){return l({type:ke.GoToItem,focus:ge.Last})}))}}),[l,u]),g=Object(a.useCallback)((function(e){switch(e.key){case o.Space:e.preventDefault()}}),[]),A=Object(a.useCallback)((function(e){if(v(e.currentTarget))return e.preventDefault();t.disabled||(s.menuState===Le.Open?(l({type:ke.CloseMenu}),u.nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),l({type:ke.OpenMenu})))}),[l,u,s,t.disabled]),m=Object(a.useMemo)((function(){return{open:s.menuState===Le.Open}}),[s]);return f({props:c({},t,{ref:h,id:d,type:"button","aria-haspopup":!0,"aria-controls":null==(r=s.itemsRef.current)?void 0:r.id,"aria-expanded":s.menuState===Le.Open||void 0,onKeyDown:p,onKeyUp:g,onClick:A}),slot:m,defaultTag:"button",name:"Menu.Button"})})),Xe=r.RenderStrategy|r.Static,Ye=A((function e(t,n){var r,i,s=_e([Ue.name,e.name].join(".")),l=s[0],h=s[1],d=y(l.itemsRef,n),u="headlessui-menu-items-"+B(),p=be(),g=G(),A=null!==g?g===Y.Open:l.menuState===Le.Open;Object(a.useEffect)((function(){var e=l.itemsRef.current;e&&l.menuState===Le.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[l.menuState,l.itemsRef]),De({container:l.itemsRef.current,enabled:l.menuState===Le.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var m=Object(a.useCallback)((function(e){switch(p.dispose(),e.key){case o.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),h({type:ke.Search,value:e.key});case o.Enter:if(e.preventDefault(),e.stopPropagation(),h({type:ke.CloseMenu}),null!==l.activeItemIndex){var t,n=l.items[l.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}ve().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case o.ArrowDown:return e.preventDefault(),e.stopPropagation(),h({type:ke.GoToItem,focus:ge.Next});case o.ArrowUp:return e.preventDefault(),e.stopPropagation(),h({type:ke.GoToItem,focus:ge.Previous});case o.Home:case o.PageUp:return e.preventDefault(),e.stopPropagation(),h({type:ke.GoToItem,focus:ge.First});case o.End:case o.PageDown:return e.preventDefault(),e.stopPropagation(),h({type:ke.GoToItem,focus:ge.Last});case o.Escape:e.preventDefault(),e.stopPropagation(),h({type:ke.CloseMenu}),ve().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case o.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(h({type:ke.Search,value:e.key}),p.setTimeout((function(){return h({type:ke.ClearSearch})}),350))}}),[h,p,l]),v=Object(a.useCallback)((function(e){switch(e.key){case o.Space:e.preventDefault()}}),[]),b=Object(a.useMemo)((function(){return{open:l.menuState===Le.Open}}),[l]);return f({props:c({},t,{"aria-activedescendant":null===l.activeItemIndex||null==(r=l.items[l.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(i=l.buttonRef.current)?void 0:i.id,id:u,onKeyDown:m,onKeyUp:v,role:"menu",tabIndex:0,ref:d}),slot:b,defaultTag:"div",features:Xe,visible:A,name:"Menu.Items"})})),Ke=a.Fragment;Ue.Button=Ve,Ue.Items=Ye,Ue.Item=function e(t){var n=t.disabled,r=void 0!==n&&n,i=t.onClick,o=h(t,["disabled","onClick"]),s=_e([Ue.name,e.name].join(".")),l=s[0],d=s[1],u="headlessui-menu-item-"+B(),p=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===u;b((function(){if(l.menuState===Le.Open&&p){var e=ve();return e.nextFrame((function(){var e;return null==(e=document.getElementById(u))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[u,p,l.menuState]);var g=Object(a.useRef)({disabled:r});b((function(){g.current.disabled=r}),[g,r]),b((function(){var e,t;g.current.textValue=null==(e=document.getElementById(u))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[g,u]),b((function(){return d({type:ke.RegisterItem,id:u,dataRef:g}),function(){return d({type:ke.UnregisterItem,id:u})}}),[g,u]);var A=Object(a.useCallback)((function(e){return r?e.preventDefault():(d({type:ke.CloseMenu}),ve().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),i?i(e):void 0)}),[d,l.buttonRef,r,i]),m=Object(a.useCallback)((function(){if(r)return d({type:ke.GoToItem,focus:ge.Nothing});d({type:ke.GoToItem,focus:ge.Specific,id:u})}),[r,u,d]),y=Object(a.useCallback)((function(){r||p||d({type:ke.GoToItem,focus:ge.Specific,id:u})}),[r,p,u,d]),v=Object(a.useCallback)((function(){r||p&&d({type:ke.GoToItem,focus:ge.Nothing})}),[r,p,d]),w=Object(a.useMemo)((function(){return{active:p,disabled:r}}),[p,r]);return f({props:c({},o,{id:u,role:"menuitem",tabIndex:-1,"aria-disabled":!0===r||void 0,onClick:A,onFocus:m,onPointerMove:y,onMouseMove:y,onPointerLeave:v,onMouseLeave:v}),slot:w,defaultTag:Ke,name:"Menu.Item"})},function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Qe||(Qe={})),function(e){e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId"}(We||(We={}));var Ge=((ze={})[We.TogglePopover]=function(e){var t;return c({},e,{popoverState:p(e.popoverState,(t={},t[Qe.Open]=Qe.Closed,t[Qe.Closed]=Qe.Open,t))})},ze[We.ClosePopover]=function(e){return e.popoverState===Qe.Closed?e:c({},e,{popoverState:Qe.Closed})},ze[We.SetButton]=function(e,t){return e.button===t.button?e:c({},e,{button:t.button})},ze[We.SetButtonId]=function(e,t){return e.buttonId===t.buttonId?e:c({},e,{buttonId:t.buttonId})},ze[We.SetPanel]=function(e,t){return e.panel===t.panel?e:c({},e,{panel:t.panel})},ze[We.SetPanelId]=function(e,t){return e.panelId===t.panelId?e:c({},e,{panelId:t.panelId})},ze),qe=Object(a.createContext)(null);function Je(e){var t=Object(a.useContext)(qe);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+nt.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return t}qe.displayName="PopoverContext";var Ze=Object(a.createContext)(null);function $e(){return Object(a.useContext)(Ze)}Ze.displayName="PopoverGroupContext";var et=Object(a.createContext)(null);function tt(e,t){return p(t.type,Ge,e,t)}et.displayName="PopoverPanelContext";function nt(e){var t,n="headlessui-popover-button-"+B(),r="headlessui-popover-panel-"+B(),i=Object(a.useReducer)(tt,{popoverState:Qe.Closed,button:null,buttonId:n,panel:null,panelId:r}),o=i[0],l=o.popoverState,c=o.button,h=o.panel,d=i[1];Object(a.useEffect)((function(){return d({type:We.SetButtonId,buttonId:n})}),[n,d]),Object(a.useEffect)((function(){return d({type:We.SetPanelId,panelId:r})}),[r,d]);var u=Object(a.useMemo)((function(){return{buttonId:n,panelId:r,close:function(){return d({type:We.ClosePopover})}}}),[n,r,d]),g=$e(),A=null==g?void 0:g.registerPopover,m=Object(a.useCallback)((function(){var e;return null!=(e=null==g?void 0:g.isFocusWithinPopoverGroup())?e:(null==c?void 0:c.contains(document.activeElement))||(null==h?void 0:h.contains(document.activeElement))}),[g,c,h]);Object(a.useEffect)((function(){return null==A?void 0:A(u)}),[A,u]),D("focus",(function(){l===Qe.Open&&(m()||c&&h&&d({type:We.ClosePopover}))}),!0),D("mousedown",(function(e){var t=e.target;l===Qe.Open&&((null==c?void 0:c.contains(t))||(null==h?void 0:h.contains(t))||(d({type:We.ClosePopover}),N(t,T.Loose)||(e.preventDefault(),null==c||c.focus())))}));var y=Object(a.useMemo)((function(){return{open:l===Qe.Open}}),[l]);return s.a.createElement(qe.Provider,{value:i},s.a.createElement(q,{value:p(l,(t={},t[Qe.Open]=Y.Open,t[Qe.Closed]=Y.Closed,t))},f({props:e,slot:y,defaultTag:"div",name:"Popover"})))}var rt=A((function e(t,n){var r=Je([nt.name,e.name].join(".")),i=r[0],s=r[1],l=Object(a.useRef)(null),h=$e(),d=null==h?void 0:h.closeOthers,u=Object(a.useContext)(et),p=null!==u&&u===i.panelId,g=y(l,n,p?null:function(e){return s({type:We.SetButton,button:e})}),A=Object(a.useRef)(null),m=Object(a.useRef)("undefined"===typeof window?null:document.activeElement);D("focus",(function(){m.current=A.current,A.current=document.activeElement}),!0);var b=Object(a.useCallback)((function(e){var t;if(p){if(i.popoverState===Qe.Closed)return;switch(e.key){case o.Space:case o.Enter:e.preventDefault(),e.stopPropagation(),s({type:We.ClosePopover}),null==(t=i.button)||t.focus()}}else switch(e.key){case o.Space:case o.Enter:e.preventDefault(),e.stopPropagation(),i.popoverState===Qe.Closed&&(null==d||d(i.buttonId)),s({type:We.TogglePopover});break;case o.Escape:if(i.popoverState!==Qe.Open)return null==d?void 0:d(i.buttonId);if(!l.current)return;if(!l.current.contains(document.activeElement))return;s({type:We.ClosePopover});break;case o.Tab:if(i.popoverState!==Qe.Open)return;if(!i.panel)return;if(!i.button)return;if(e.shiftKey){var n;if(!m.current)return;if(null==(n=i.button)?void 0:n.contains(m.current))return;if(i.panel.contains(m.current))return;var r=k(),a=r.indexOf(m.current);if(r.indexOf(i.button)>a)return;e.preventDefault(),e.stopPropagation(),M(i.panel,P.Last)}else e.preventDefault(),e.stopPropagation(),M(i.panel,P.First)}}),[s,i.popoverState,i.buttonId,i.button,i.panel,l,d,p]),w=Object(a.useCallback)((function(e){var t;if(!p&&(e.key===o.Space&&e.preventDefault(),i.popoverState===Qe.Open&&i.panel&&i.button))switch(e.key){case o.Tab:if(!m.current)return;if(null==(t=i.button)?void 0:t.contains(m.current))return;if(i.panel.contains(m.current))return;var n=k(),r=n.indexOf(m.current);if(n.indexOf(i.button)>r)return;e.preventDefault(),e.stopPropagation(),M(i.panel,P.Last)}}),[i.popoverState,i.panel,i.button,p]),x=Object(a.useCallback)((function(e){var n,r;v(e.currentTarget)||(t.disabled||(p?(s({type:We.ClosePopover}),null==(n=i.button)||n.focus()):(i.popoverState===Qe.Closed&&(null==d||d(i.buttonId)),null==(r=i.button)||r.focus(),s({type:We.TogglePopover}))))}),[s,i.button,i.popoverState,i.buttonId,t.disabled,d,p]),C=Object(a.useMemo)((function(){return{open:i.popoverState===Qe.Open}}),[i]);return f({props:c({},t,p?{type:"button",onKeyDown:b,onClick:x}:{ref:g,id:i.buttonId,type:"button","aria-expanded":i.popoverState===Qe.Open||void 0,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:b,onKeyUp:w,onClick:x}),slot:C,defaultTag:"button",name:"Popover.Button"})})),it=r.RenderStrategy|r.Static,ot=A((function e(t,n){var r=Je([nt.name,e.name].join(".")),i=r[0].popoverState,o=r[1],s=y(n),l="headlessui-popover-overlay-"+B(),h=G(),d=null!==h?h===Y.Open:i===Qe.Open,u=Object(a.useCallback)((function(e){if(v(e.currentTarget))return e.preventDefault();o({type:We.ClosePopover})}),[o]),p=Object(a.useMemo)((function(){return{open:i===Qe.Open}}),[i]);return f({props:c({},t,{ref:s,id:l,"aria-hidden":!0,onClick:u}),slot:p,defaultTag:"div",features:it,visible:d,name:"Popover.Overlay"})})),at=r.RenderStrategy|r.Static,st=A((function e(t,n){var r=t.focus,i=void 0!==r&&r,l=h(t,["focus"]),d=Je([nt.name,e.name].join(".")),u=d[0],p=d[1],g=Object(a.useRef)(null),A=y(g,n,(function(e){p({type:We.SetPanel,panel:e})})),m=G(),v=null!==m?m===Y.Open:u.popoverState===Qe.Open,b=Object(a.useCallback)((function(e){var t;switch(e.key){case o.Escape:if(u.popoverState!==Qe.Open)return;if(!g.current)return;if(!g.current.contains(document.activeElement))return;e.preventDefault(),p({type:We.ClosePopover}),null==(t=u.button)||t.focus()}}),[u,g,p]);Object(a.useEffect)((function(){return function(){return p({type:We.SetPanel,panel:null})}}),[p]),Object(a.useEffect)((function(){var e;u.popoverState!==Qe.Closed||null!=(e=t.unmount)&&!e||p({type:We.SetPanel,panel:null})}),[u.popoverState,t.unmount,p]),Object(a.useEffect)((function(){if(i&&u.popoverState===Qe.Open&&g.current){var e=document.activeElement;g.current.contains(e)||M(g.current,P.First)}}),[i,g,u.popoverState]),D("keydown",(function(e){if(u.popoverState===Qe.Open&&g.current&&e.key===o.Tab&&document.activeElement&&g.current&&g.current.contains(document.activeElement)){e.preventDefault();var t,n=M(g.current,e.shiftKey?P.Previous:P.Next);if(n===E.Underflow)return null==(t=u.button)?void 0:t.focus();if(n===E.Overflow){if(!u.button)return;var r=k(),i=r.indexOf(u.button);M(r.splice(i+1).filter((function(e){var t;return!(null==(t=g.current)?void 0:t.contains(e))})),P.First)===E.Error&&M(document.body,P.First)}}})),D("focus",(function(){var e;i&&u.popoverState===Qe.Open&&g.current&&((null==(e=g.current)?void 0:e.contains(document.activeElement))||p({type:We.ClosePopover}))}),!0);var w=Object(a.useMemo)((function(){return{open:u.popoverState===Qe.Open}}),[u]),x={ref:A,id:u.panelId,onKeyDown:b};return s.a.createElement(et.Provider,{value:u.panelId},f({props:c({},l,x),slot:w,defaultTag:"div",features:at,visible:v,name:"Popover.Panel"}))}));nt.Button=rt,nt.Overlay=ot,nt.Panel=st,nt.Group=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)([]),r=n[0],i=n[1],o=Object(a.useCallback)((function(e){i((function(t){var n=t.indexOf(e);if(-1!==n){var r=t.slice();return r.splice(n,1),r}return t}))}),[i]),l=Object(a.useCallback)((function(e){return i((function(t){return[].concat(t,[e])})),function(){return o(e)}}),[i,o]),h=Object(a.useCallback)((function(){var e,n=document.activeElement;return!!(null==(e=t.current)?void 0:e.contains(n))||r.some((function(e){var t,r;return(null==(t=document.getElementById(e.buttonId))?void 0:t.contains(n))||(null==(r=document.getElementById(e.panelId))?void 0:r.contains(n))}))}),[t,r]),d=Object(a.useCallback)((function(e){for(var t,n=u(r);!(t=n()).done;){var i=t.value;i.buttonId!==e&&i.close()}}),[r]),p=Object(a.useMemo)((function(){return{registerPopover:l,unregisterPopover:o,isFocusWithinPopoverGroup:h,closeOthers:d}}),[l,o,h,d]),g=Object(a.useMemo)((function(){return{}}),[]),A={ref:t},m=e;return s.a.createElement(Ze.Provider,{value:p},f({props:c({},m,A),slot:g,defaultTag:"div",name:"Popover.Group"}))};var lt=Object(a.createContext)(null);function ct(){var e=Object(a.useContext)(lt);if(null===e){var t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ct),t}return e}function ht(){var e=Object(a.useState)([]),t=e[0],n=e[1];return[t.length>0?t.join(" "):void 0,Object(a.useMemo)((function(){return function(e){var t=Object(a.useCallback)((function(e){return n((function(t){return[].concat(t,[e])})),function(){return n((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),r=Object(a.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return s.a.createElement(lt.Provider,{value:r},e.children)}}),[n])]}var dt,ut;function pt(e){var t=e.passive,n=void 0!==t&&t,r=h(e,["passive"]),i=ct(),o="headlessui-label-"+B();b((function(){return i.register(o)}),[o,i.register]);var a=c({},i.props,{id:o}),s=c({},r,a);return n&&delete s.onClick,f({props:s,slot:i.slot||{},defaultTag:"label",name:i.name||"Label"})}!function(e){e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption"}(ut||(ut={}));var ft=((dt={})[ut.RegisterOption]=function(e,t){return c({},e,{options:[].concat(e.options,[{id:t.id,element:t.element,propsRef:t.propsRef}])})},dt[ut.UnregisterOption]=function(e,t){var n=e.options.slice(),r=e.options.findIndex((function(e){return e.id===t.id}));return-1===r?e:(n.splice(r,1),c({},e,{options:n}))},dt),gt=Object(a.createContext)(null);function At(e){var t=Object(a.useContext)(gt);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+vt.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,At),n}return t}function mt(e,t){return p(t.type,ft,e,t)}gt.displayName="RadioGroupContext";var yt;function vt(e){var t=e.value,n=e.onChange,r=e.disabled,i=void 0!==r&&r,l=h(e,["value","onChange","disabled"]),d=Object(a.useReducer)(mt,{options:[]}),u=d[0].options,p=d[1],g=ht(),A=g[0],m=g[1],y=V(),v=y[0],b=y[1],w="headlessui-radiogroup-"+B(),x=Object(a.useRef)(null),C=Object(a.useMemo)((function(){return u.find((function(e){return!e.propsRef.current.disabled}))}),[u]),S=Object(a.useMemo)((function(){return u.some((function(e){return e.propsRef.current.value===t}))}),[u,t]),O=Object(a.useCallback)((function(e){var r;if(i)return!1;if(e===t)return!1;var o=null==(r=u.find((function(t){return t.propsRef.current.value===e})))?void 0:r.propsRef.current;return!(null==o?void 0:o.disabled)&&(n(e),!0)}),[n,t,i,u]);De({container:x.current,accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var T=Object(a.useCallback)((function(e){if(x.current){var t=u.filter((function(e){return!1===e.propsRef.current.disabled})).map((function(e){return e.element.current}));switch(e.key){case o.ArrowLeft:case o.ArrowUp:if(e.preventDefault(),e.stopPropagation(),M(t,P.Previous|P.WrapAround)===E.Success){var n=u.find((function(e){return e.element.current===document.activeElement}));n&&O(n.propsRef.current.value)}break;case o.ArrowRight:case o.ArrowDown:if(e.preventDefault(),e.stopPropagation(),M(t,P.Next|P.WrapAround)===E.Success){var r=u.find((function(e){return e.element.current===document.activeElement}));r&&O(r.propsRef.current.value)}break;case o.Space:e.preventDefault(),e.stopPropagation();var i=u.find((function(e){return e.element.current===document.activeElement}));i&&O(i.propsRef.current.value)}}}),[x,u,O]),I=Object(a.useCallback)((function(e){return p(c({type:ut.RegisterOption},e)),function(){return p({type:ut.UnregisterOption,id:e.id})}}),[p]),L=Object(a.useMemo)((function(){return{registerOption:I,firstOption:C,containsCheckedOption:S,change:O,disabled:i,value:t}}),[I,C,S,O,i,t]),k={ref:x,id:w,role:"radiogroup","aria-labelledby":A,"aria-describedby":v,onKeyDown:T};return s.a.createElement(b,{name:"RadioGroup.Description"},s.a.createElement(m,{name:"RadioGroup.Label"},s.a.createElement(gt.Provider,{value:L},f({props:c({},l,k),defaultTag:"div",name:"RadioGroup"}))))}!function(e){e[e.Empty=1]="Empty",e[e.Active=2]="Active"}(yt||(yt={}));vt.Option=function e(t){var n=Object(a.useRef)(null),r="headlessui-radiogroup-option-"+B(),i=ht(),o=i[0],l=i[1],d=V(),u=d[0],p=d[1],g=function(e){void 0===e&&(e=0);var t=Object(a.useState)(e),n=t[0],r=t[1];return{addFlag:Object(a.useCallback)((function(e){return r((function(t){return t|e}))}),[r]),hasFlag:Object(a.useCallback)((function(e){return Boolean(n&e)}),[n]),removeFlag:Object(a.useCallback)((function(e){return r((function(t){return t&~e}))}),[r]),toggleFlag:Object(a.useCallback)((function(e){return r((function(t){return t^e}))}),[r])}}(yt.Empty),A=g.addFlag,m=g.removeFlag,y=g.hasFlag,v=t.value,w=t.disabled,x=void 0!==w&&w,C=h(t,["value","disabled"]),S=Object(a.useRef)({value:v,disabled:x});b((function(){S.current.value=v}),[v,S]),b((function(){S.current.disabled=x}),[x,S]);var P=At([vt.name,e.name].join(".")),E=P.registerOption,O=P.disabled,T=P.change,I=P.firstOption,L=P.containsCheckedOption,k=P.value;b((function(){return E({id:r,element:n,propsRef:S})}),[r,E,n,t]);var N=Object(a.useCallback)((function(){var e;T(v)&&(A(yt.Active),null==(e=n.current)||e.focus())}),[A,T,v]),M=Object(a.useCallback)((function(){return A(yt.Active)}),[A]),D=Object(a.useCallback)((function(){return m(yt.Active)}),[m]),R=(null==I?void 0:I.id)===r,j=O||x,_=k===v,F={ref:n,id:r,role:"radio","aria-checked":_?"true":"false","aria-labelledby":o,"aria-describedby":u,tabIndex:j?-1:_||!L&&R?0:-1,onClick:j?void 0:N,onFocus:j?void 0:M,onBlur:j?void 0:D},H=Object(a.useMemo)((function(){return{checked:_,disabled:j,active:y(yt.Active)}}),[_,j,y]);return s.a.createElement(p,{name:"RadioGroup.Description"},s.a.createElement(l,{name:"RadioGroup.Label"},f({props:c({},C,F),slot:H,defaultTag:"div",name:"RadioGroup.Option"})))},vt.Label=pt,vt.Description=X;var bt=Object(a.createContext)(null);bt.displayName="GroupContext";var wt=a.Fragment;var xt;function Ct(e){var t=e.checked,n=e.onChange,r=h(e,["checked","onChange"]),i="headlessui-switch-"+B(),s=Object(a.useContext)(bt),l=Object(a.useCallback)((function(){return n(!t)}),[n,t]),d=Object(a.useCallback)((function(e){if(v(e.currentTarget))return e.preventDefault();e.preventDefault(),l()}),[l]),u=Object(a.useCallback)((function(e){e.key!==o.Tab&&e.preventDefault(),e.key===o.Space&&l()}),[l]),p=Object(a.useCallback)((function(e){return e.preventDefault()}),[]),g=Object(a.useMemo)((function(){return{checked:t}}),[t]),A={id:i,ref:null===s?void 0:s.setSwitch,role:"switch",tabIndex:0,"aria-checked":t,"aria-labelledby":null==s?void 0:s.labelledby,"aria-describedby":null==s?void 0:s.describedby,onClick:d,onKeyUp:u,onKeyPress:p};return"button"===r.as&&Object.assign(A,{type:"button"}),f({props:c({},r,A),slot:g,defaultTag:"button",name:"Switch"})}function St(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){e.current=!1}),[]),e.current}function Bt(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function Pt(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}function Et(e,t,n,r,i){var o=ve(),a=void 0!==i?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(i):function(){};return Bt.apply(void 0,[e].concat(t,n)),o.nextFrame((function(){Pt.apply(void 0,[e].concat(n)),Bt.apply(void 0,[e].concat(r)),o.add(function(e,t){var n=ve();if(!e)return n.dispose;var r=getComputedStyle(e),i=[r.transitionDuration,r.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),o=i[0],a=i[1];return 0!==o?n.setTimeout((function(){t(xt.Finished)}),o+a):t(xt.Finished),n.add((function(){return t(xt.Cancelled)})),n.dispose}(e,(function(n){return Pt.apply(void 0,[e].concat(r,t)),a(n)})))})),o.add((function(){return Pt.apply(void 0,[e].concat(t,n,r))})),o.add((function(){return a(xt.Cancelled)})),o.dispose}function Ot(e){return void 0===e&&(e=""),Object(a.useMemo)((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}Ct.Group=function(e){var t=Object(a.useState)(null),n=t[0],r=t[1],i=ht(),o=i[0],l=i[1],c=V(),h=c[0],d=c[1],u=Object(a.useMemo)((function(){return{switch:n,setSwitch:r,labelledby:o,describedby:h}}),[n,r,o,h]);return s.a.createElement(d,{name:"Switch.Description"},s.a.createElement(l,{name:"Switch.Label",props:{onClick:function(){n&&(n.click(),n.focus({preventScroll:!0}))}}},s.a.createElement(bt.Provider,{value:u},f({props:e,defaultTag:wt,name:"Switch.Group"}))))},Ct.Label=pt,Ct.Description=X,function(e){e.Finished="finished",e.Cancelled="cancelled"}(xt||(xt={}));var Tt,It=Object(a.createContext)(null);It.displayName="TransitionContext",function(e){e.Visible="visible",e.Hidden="hidden"}(Tt||(Tt={}));var Lt=Object(a.createContext)(null);function kt(e){return"children"in e?kt(e.children):e.current.filter((function(e){return e.state===Tt.Visible})).length>0}function Nt(e){var t=Object(a.useRef)(e),n=Object(a.useRef)([]),r=R();Object(a.useEffect)((function(){t.current=e}),[e]);var o=Object(a.useCallback)((function(e,o){var a;void 0===o&&(o=i.Hidden);var s=n.current.findIndex((function(t){return t.id===e}));-1!==s&&(p(o,((a={})[i.Unmount]=function(){n.current.splice(s,1)},a[i.Hidden]=function(){n.current[s].state=Tt.Hidden},a)),!kt(n)&&r.current&&(null==t.current||t.current()))}),[t,r,n]),s=Object(a.useCallback)((function(e){var t=n.current.find((function(t){return t.id===e}));return t?t.state!==Tt.Visible&&(t.state=Tt.Visible):n.current.push({id:e,state:Tt.Visible}),function(){return o(e,i.Unmount)}}),[n,o]);return Object(a.useMemo)((function(){return{children:n,register:s,unregister:o}}),[s,o,n])}function Mt(){}Lt.displayName="NestingContext";var Dt=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Rt(e){for(var t,n={},r=u(Dt);!(t=r()).done;){var i,o=t.value;n[o]=null!=(i=e[o])?i:Mt}return n}var jt=r.RenderStrategy;function _t(e){var t,n=e.beforeEnter,r=e.afterEnter,o=e.beforeLeave,l=e.afterLeave,d=e.enter,u=e.enterFrom,g=e.enterTo,A=e.leave,m=e.leaveFrom,y=e.leaveTo,v=h(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo"]),w=Object(a.useRef)(null),C=Object(a.useState)(Tt.Visible),S=C[0],P=C[1],E=v.unmount?i.Unmount:i.Hidden,O=function(){var e=Object(a.useContext)(It);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=O.show,I=O.appear,L=function(){var e=Object(a.useContext)(Lt);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),k=L.register,N=L.unregister,M=St(),D=B(),R=Object(a.useRef)(!1),j=Nt((function(){R.current||(P(Tt.Hidden),N(D),W.current.afterLeave())}));b((function(){if(D)return k(D)}),[k,D]),b((function(){var e;E===i.Hidden&&D&&(T&&S!==Tt.Visible?P(Tt.Visible):p(S,((e={})[Tt.Hidden]=function(){return N(D)},e[Tt.Visible]=function(){return k(D)},e)))}),[S,D,k,N,T,E]);var _=Ot(d),F=Ot(u),H=Ot(g),U=Ot(A),z=Ot(m),Q=Ot(y),W=function(e){var t=Object(a.useRef)(Rt(e));return Object(a.useEffect)((function(){t.current=Rt(e)}),[e]),t}({beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:l}),V=x();Object(a.useEffect)((function(){if(V&&S===Tt.Visible&&null===w.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[w,S,V]);var X=M&&!I;b((function(){var e=w.current;if(e&&!X)return R.current=!0,T&&W.current.beforeEnter(),T||W.current.beforeLeave(),T?Et(e,_,F,H,(function(e){R.current=!1,e===xt.Finished&&W.current.afterEnter()})):Et(e,U,z,Q,(function(e){R.current=!1,e===xt.Finished&&(kt(j)||(P(Tt.Hidden),N(D),W.current.afterLeave()))}))}),[W,D,R,N,j,w,X,T,_,F,H,U,z,Q]);var K={ref:w},G=v;return s.a.createElement(Lt.Provider,{value:j},s.a.createElement(q,{value:p(S,(t={},t[Tt.Visible]=Y.Open,t[Tt.Hidden]=Y.Closed,t))},f({props:c({},G,K),defaultTag:"div",features:jt,visible:S===Tt.Visible,name:"Transition.Child"})))}function Ft(e){var t,n=e.show,r=e.appear,i=void 0!==r&&r,o=e.unmount,l=h(e,["show","appear","unmount"]),d=G();void 0===n&&null!==d&&(n=p(d,((t={})[Y.Open]=!0,t[Y.Closed]=!1,t)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var u=Object(a.useState)(n?Tt.Visible:Tt.Hidden),g=u[0],A=u[1],m=Nt((function(){A(Tt.Hidden)})),y=St(),v=Object(a.useMemo)((function(){return{show:n,appear:i||!y}}),[n,i,y]);Object(a.useEffect)((function(){n?A(Tt.Visible):kt(m)||A(Tt.Hidden)}),[n,m]);var b={unmount:o};return s.a.createElement(Lt.Provider,{value:m},s.a.createElement(It.Provider,{value:v},f({props:c({},b,{as:a.Fragment,children:s.a.createElement(_t,Object.assign({},b,l))}),defaultTag:a.Fragment,features:jt,visible:g===Tt.Visible,name:"Transition"})))}Ft.Child=_t,Ft.Root=Ft},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),a=(r=o)&&r.__esModule?r:{default:r},s=n(58),l=n(66),c=n(99),h=n(223),d=n(224),u=n(225),p=n(226),f=n(227),g=n(228),A=n(79),m=n(229),y=n(230),v=n(125),b=n(124),w=n(126),x=n(98),C=n(231),S=n(127),B=n(232),P=n(233),E=n(234),O=n(235),T=n(54),I=n(128),L=n(101);var k=["INPUT","TEXTAREA","SELECT"],N=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.tagName=t.tagName,this.index=i,this.childNodes=[],this.listItems=[],"number"===typeof t.start&&(this.listStart=t.start);var s=t.ownerDocument.defaultView,N=s.pageXOffset,D=s.pageYOffset,R=s.getComputedStyle(t,null),j=(0,d.parseDisplay)(R.display),_="radio"===t.type||"checkbox"===t.type,F=(0,w.parsePosition)(R.position);if(this.style={background:_?I.INPUT_BACKGROUND:(0,l.parseBackground)(R,r),border:_?I.INPUT_BORDERS:(0,c.parseBorder)(R),borderRadius:(t instanceof s.HTMLInputElement||t instanceof HTMLInputElement)&&_?(0,I.getInputBorderRadius)(t):(0,h.parseBorderRadius)(R),color:_?I.INPUT_COLOR:new a.default(R.color),display:j,float:(0,u.parseCSSFloat)(R.float),font:(0,p.parseFont)(R),letterSpacing:(0,f.parseLetterSpacing)(R.letterSpacing),listStyle:j===d.DISPLAY.LIST_ITEM?(0,A.parseListStyle)(R):null,lineBreak:(0,g.parseLineBreak)(R.lineBreak),margin:(0,m.parseMargin)(R),opacity:parseFloat(R.opacity),overflow:-1===k.indexOf(t.tagName)?(0,y.parseOverflow)(R.overflow):y.OVERFLOW.HIDDEN,overflowWrap:(0,v.parseOverflowWrap)(R.overflowWrap?R.overflowWrap:R.wordWrap),padding:(0,b.parsePadding)(R),position:F,textDecoration:(0,x.parseTextDecoration)(R),textShadow:(0,C.parseTextShadow)(R.textShadow),textTransform:(0,S.parseTextTransform)(R.textTransform),transform:(0,B.parseTransform)(R),visibility:(0,P.parseVisibility)(R.visibility),wordBreak:(0,E.parseWordBreak)(R.wordBreak),zIndex:(0,O.parseZIndex)(F!==w.POSITION.STATIC?R.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),j===d.DISPLAY.LIST_ITEM){var H=(0,L.getListOwner)(this);if(H){var U=H.listItems.length;H.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"===typeof t.value?t.value:0===U?"number"===typeof H.listStart?H.listStart:1:H.listItems[U-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",(function(){o.bounds=(0,T.parseBounds)(t,N,D),o.curvedBounds=(0,T.parseBoundCurves)(o.bounds,o.style.border,o.style.borderRadius)})),this.image=M(t,r),this.bounds=_?(0,I.reformatInputBounds)((0,T.parseBounds)(t,N,D)):(0,T.parseBounds)(t,N,D),this.curvedBounds=(0,T.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius)}return i(e,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return this.style.overflow!==y.OVERFLOW.VISIBLE?e.concat([(0,T.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,s.contains)(this.style.display,d.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===P.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==w.POSITION.STATIC&&this.style.position!==w.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==w.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==u.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,s.contains)(this.style.display,d.DISPLAY.INLINE)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_BLOCK)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_FLEX)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_GRID)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_LIST_ITEM)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,s.contains)(this.style.display,d.DISPLAY.INLINE_BLOCK)||(0,s.contains)(this.style.display,d.DISPLAY.INLINE_TABLE)}}]),e}();t.default=N;var M=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var i=e;return t.loadCanvas(i);case"IFRAME":var o=e.getAttribute("data-html2canvas-internal-iframe-key");if(o)return o}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.contains=function(e,t){return 0!==(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(36);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(70);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var r=c(n(43)),i=c(n(53)),o=c(n(221)),a=c(n(78)),s=n(54),l=n(124);function c(e){return e&&e.__esModule?e:{default:e}}var h=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},d=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},u=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},p=t.BACKGROUND_ORIGIN=u,f="auto",g=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){case"contain":this.size=d.CONTAIN;break;case"cover":this.size=d.COVER;break;case"auto":this.size=d.AUTO;break;default:this.value=new i.default(t)}},A=(t.calculateBackgroundSize=function(e,t,n){var r=0,i=0,a=e.size;if(a[0].size===d.CONTAIN||a[0].size===d.COVER){var s=n.width/n.height,l=t.width/t.height;return s<l!==(a[0].size===d.COVER)?new o.default(n.width,n.width/l):new o.default(n.height*l,n.height)}return a[0].value&&(r=a[0].value.getAbsoluteValue(n.width)),a[0].size===d.AUTO&&a[1].size===d.AUTO?i=t.height:a[1].size===d.AUTO?i=r/t.width*t.height:a[1].value&&(i=a[1].value.getAbsoluteValue(n.height)),a[0].size===d.AUTO&&(r=i/t.height*t.width),new o.default(r,i)},t.calculateGradientBackgroundSize=function(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,i=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new o.default(r,i)},new g(f)),m=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case u.BORDER_BOX:return(0,s.calculateBorderBoxPath)(e);case u.PADDING_BOX:default:return(0,s.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,n,r){var i=(0,s.calculatePaddingBox)(t,r);switch(e){case p.BORDER_BOX:return t;case p.CONTENT_BOX:var o=n[l.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),a=n[l.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),c=n[l.PADDING_SIDES.TOP].getAbsoluteValue(t.width),h=n[l.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new s.Bounds(i.left+o,i.top+c,i.width-o-a,i.height-c-h);case p.PADDING_BOX:default:return i}},t.calculateBackgroundPosition=function(e,t,n){return new a.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,n,r,i){switch(e.repeat){case h.REPEAT_X:return[new a.default(Math.round(i.left),Math.round(r.top+t.y)),new a.default(Math.round(i.left+i.width),Math.round(r.top+t.y)),new a.default(Math.round(i.left+i.width),Math.round(n.height+r.top+t.y)),new a.default(Math.round(i.left),Math.round(n.height+r.top+t.y))];case h.REPEAT_Y:return[new a.default(Math.round(r.left+t.x),Math.round(i.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(i.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(i.height+i.top)),new a.default(Math.round(r.left+t.x),Math.round(i.height+i.top))];case h.NO_REPEAT:return[new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new a.default(Math.round(i.left),Math.round(i.top)),new a.default(Math.round(i.left+i.width),Math.round(i.top)),new a.default(Math.round(i.left+i.width),Math.round(i.height+i.top)),new a.default(Math.round(i.left),Math.round(i.height+i.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new r.default(e.backgroundColor),backgroundImage:b(e,t),backgroundClip:m(e.backgroundClip),backgroundOrigin:y(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return u.PADDING_BOX;case"content-box":return u.CONTENT_BOX}return u.BORDER_BOX}),y=function(e){switch(e){case"padding-box":return p.PADDING_BOX;case"content-box":return p.CONTENT_BOX}return p.BORDER_BOX},v=function(e){switch(e.trim()){case"no-repeat":return h.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return h.REPEAT_X;case"repeat-y":case"no-repeat repeat":return h.REPEAT_Y;case"repeat":return h.REPEAT}return h.REPEAT},b=function(e,t){var n=C(e.backgroundImage).map((function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e})),r=e.backgroundPosition.split(","),i=e.backgroundRepeat.split(","),o=e.backgroundSize.split(",");return n.map((function(e,t){var n=(o[t]||f).trim().split(" ").map(w),a=(r[t]||f).trim().split(" ").map(x);return{source:e,repeat:v("string"===typeof i[t]?i[t]:i[0]),size:n.length<2?[n[0],A]:[n[0],n[1]],position:a.length<2?[a[0],a[0]]:[a[0],a[1]]}}))},w=function(e){return"auto"===e?A:new g(e)},x=function(e){switch(e){case"bottom":case"right":return new i.default("100%");case"left":case"top":return new i.default("0%");case"auto":return new i.default("0")}return new i.default(e)},C=t.parseBackgroundImage=function(e){var t=/^\s$/,n=[],r=[],i="",o=null,a="",s=0,l=0,c=function(){var e="";if(i){'"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&r.push(a.trim());var t=i.indexOf("-",1)+1;"-"===i.substr(0,1)&&t>0&&(e=i.substr(0,t).toLowerCase(),i=i.substr(t)),"none"!==(i=i.toLowerCase())&&n.push({prefix:e,method:i,args:r})}r=[],i=a=""};return e.split("").forEach((function(e){if(0!==s||!t.test(e)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===s)return void(s=1);l++;break;case")":if(o)break;if(1===s){if(0===l)return s=0,void c();l--}break;case",":if(o)break;if(0===s)return void c();if(1===s&&0===l&&!i.match(/^url$/i))return r.push(a.trim()),void(a="")}0===s?i+=e:a+=e}})),c(),n}},function(e,t,n){"use strict";e.exports=n(181)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return G}));var r=Uint8Array,i=Uint16Array,o=Uint32Array,a=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new o(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return[n,a]},h=c(a,2),d=h[0],u=h[1];d[28]=258,u[258]=28;for(var p=c(s,0),f=p[0],g=p[1],A=new i(32768),m=0;m<32768;++m){var y=(43690&m)>>>1|(21845&m)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,A[m]=((65280&y)>>>8|(255&y)<<8)>>>1}var v=function(e,t,n){for(var r=e.length,o=0,a=new i(t);o<r;++o)++a[e[o]-1];var s,l=new i(t);for(o=0;o<t;++o)l[o]=l[o-1]+a[o-1]<<1;if(n){s=new i(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var h=o<<4|e[o],d=t-e[o],u=l[e[o]-1]++<<d,p=u|(1<<d)-1;u<=p;++u)s[A[u]>>>c]=h}else for(s=new i(r),o=0;o<r;++o)s[o]=A[l[e[o]-1]++]>>>15-e[o];return s},b=new r(288);for(m=0;m<144;++m)b[m]=8;for(m=144;m<256;++m)b[m]=9;for(m=256;m<280;++m)b[m]=7;for(m=280;m<288;++m)b[m]=8;var w=new r(32);for(m=0;m<32;++m)w[m]=5;var x=v(b,9,0),C=v(b,9,1),S=v(w,5,0),B=v(w,5,1),P=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},E=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},O=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},T=function(e){return(e/8>>0)+(7&e&&1)},I=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var a=new(e instanceof i?i:e instanceof o?o:r)(n-t);return a.set(e.subarray(t,n)),a},L=function(e,t,n){var i=e.length,o=!t||n,c=!n||n.i;n||(n={}),t||(t=new r(3*i));var h=function(e){var n=t.length;if(e>n){var i=new r(Math.max(2*n,e));i.set(t),t=i}},u=n.f||0,p=n.p||0,g=n.b||0,A=n.l,m=n.d,y=n.m,b=n.n,w=8*i;do{if(!A){n.f=u=E(e,p,1);var x=E(e,p+1,3);if(p+=3,!x){var S=e[(U=T(p)+4)-4]|e[U-3]<<8,L=U+S;if(L>i){if(c)throw"unexpected EOF";break}o&&h(g+S),t.set(e.subarray(U,L),g),n.b=g+=S,n.p=p=8*L;continue}if(1==x)A=C,m=B,y=9,b=5;else{if(2!=x)throw"invalid block type";var k=E(e,p,31)+257,N=E(e,p+10,15)+4,M=k+E(e,p+5,31)+1;p+=14;for(var D=new r(M),R=new r(19),j=0;j<N;++j)R[l[j]]=E(e,p+3*j,7);p+=3*N;var _=P(R),F=(1<<_)-1;if(!c&&p+M*(_+7)>w)break;var H=v(R,_,1);for(j=0;j<M;){var U,z=H[E(e,p,F)];if(p+=15&z,(U=z>>>4)<16)D[j++]=U;else{var Q=0,W=0;for(16==U?(W=3+E(e,p,3),p+=2,Q=D[j-1]):17==U?(W=3+E(e,p,7),p+=3):18==U&&(W=11+E(e,p,127),p+=7);W--;)D[j++]=Q}}var V=D.subarray(0,k),X=D.subarray(k);y=P(V),b=P(X),A=v(V,y,1),m=v(X,b,1)}if(p>w)throw"unexpected EOF"}o&&h(g+131072);for(var Y=(1<<y)-1,K=(1<<b)-1,G=y+b+18;c||p+G<w;){var q=(Q=A[O(e,p)&Y])>>>4;if((p+=15&Q)>w)throw"unexpected EOF";if(!Q)throw"invalid length/literal";if(q<256)t[g++]=q;else{if(256==q){A=null;break}var J=q-254;if(q>264){var Z=a[j=q-257];J=E(e,p,(1<<Z)-1)+d[j],p+=Z}var $=m[O(e,p)&K],ee=$>>>4;if(!$)throw"invalid distance";p+=15&$;X=f[ee];if(ee>3){Z=s[ee];X+=O(e,p)&(1<<Z)-1,p+=Z}if(p>w)throw"unexpected EOF";o&&h(g+131072);for(var te=g+J;g<te;g+=4)t[g]=t[g-X],t[g+1]=t[g+1-X],t[g+2]=t[g+2-X],t[g+3]=t[g+3-X];g=te}}n.l=A,n.p=p,n.b=g,A&&(u=1,n.m=y,n.d=m,n.n=b)}while(!u);return g==t.length?t:I(t,0,g)},k=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},N=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},M=function(e,t){for(var n=[],o=0;o<e.length;++o)e[o]&&n.push({s:o,f:e[o]});var a=n.length,s=n.slice();if(!a)return[new r(0),0];if(1==a){var l=new r(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],h=n[1],d=0,u=1,p=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};u!=a-1;)c=n[n[d].f<n[p].f?d++:p++],h=n[d!=u&&n[d].f<n[p].f?d++:p++],n[u++]={s:-1,f:c.f+h.f,l:c,r:h};var f=s[0].s;for(o=1;o<a;++o)s[o].s>f&&(f=s[o].s);var g=new i(f+1),A=D(n[u-1],g,0);if(A>t){o=0;var m=0,y=A-t,v=1<<y;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));o<a;++o){var b=s[o].s;if(!(g[b]>t))break;m+=v-(1<<A-g[b]),g[b]=t}for(m>>>=y;m>0;){var w=s[o].s;g[w]<t?m-=1<<t-g[w]++-1:++o}for(;o>=0&&m;--o){var x=s[o].s;g[x]==t&&(--g[x],++m)}A=t}return[new r(g),A]},D=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},R=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new i(++t),r=0,o=e[0],a=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==o&&l!=t)++a;else{if(!o&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(o),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(o);a=1,o=e[l]}return[n.subarray(0,r),t]},j=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},_=function(e,t,n){var r=n.length,i=T(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},F=function(e,t,n,r,o,c,h,d,u,p,f){k(t,f++,n),++o[256];for(var g=M(o,15),A=g[0],m=g[1],y=M(c,15),C=y[0],B=y[1],P=R(A),E=P[0],O=P[1],T=R(C),I=T[0],L=T[1],D=new i(19),F=0;F<E.length;++F)D[31&E[F]]++;for(F=0;F<I.length;++F)D[31&I[F]]++;for(var H=M(D,7),U=H[0],z=H[1],Q=19;Q>4&&!U[l[Q-1]];--Q);var W,V,X,Y,K=p+5<<3,G=j(o,b)+j(c,w)+h,q=j(o,A)+j(c,C)+h+14+3*Q+j(D,U)+(2*D[16]+3*D[17]+7*D[18]);if(K<=G&&K<=q)return _(t,f,e.subarray(u,u+p));if(k(t,f,1+(q<G)),f+=2,q<G){W=v(A,m,0),V=A,X=v(C,B,0),Y=C;var J=v(U,z,0);k(t,f,O-257),k(t,f+5,L-1),k(t,f+10,Q-4),f+=14;for(F=0;F<Q;++F)k(t,f+3*F,U[l[F]]);f+=3*Q;for(var Z=[E,I],$=0;$<2;++$){var ee=Z[$];for(F=0;F<ee.length;++F){var te=31&ee[F];k(t,f,J[te]),f+=U[te],te>15&&(k(t,f,ee[F]>>>5&127),f+=ee[F]>>>12)}}}else W=x,V=b,X=S,Y=w;for(F=0;F<d;++F)if(r[F]>255){te=r[F]>>>18&31;N(t,f,W[te+257]),f+=V[te+257],te>7&&(k(t,f,r[F]>>>23&31),f+=a[te]);var ne=31&r[F];N(t,f,X[ne]),f+=Y[ne],ne>3&&(N(t,f,r[F]>>>5&8191),f+=s[ne])}else N(t,f,W[r[F]]),f+=V[r[F]];return N(t,f,W[256]),f+V[256]},H=new o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U=new r(0),z=function(e,t,n,l,c,h){var d=e.length,p=new r(l+d+5*(1+Math.floor(d/7e3))+c),f=p.subarray(l,p.length-c),A=0;if(!t||d<8)for(var m=0;m<=d;m+=65535){var y=m+65535;y<d?A=_(f,A,e.subarray(m,y)):(f[m]=h,A=_(f,A,e.subarray(m,d)))}else{for(var v=H[t-1],b=v>>>13,w=8191&v,x=(1<<n)-1,C=new i(32768),S=new i(x+1),B=Math.ceil(n/3),P=2*B,E=function(t){return(e[t]^e[t+1]<<B^e[t+2]<<P)&x},O=new o(25e3),L=new i(288),k=new i(32),N=0,M=0,D=(m=0,0),R=0,j=0;m<d;++m){var z=E(m),Q=32767&m,W=S[z];if(C[Q]=W,S[z]=Q,R<=m){var V=d-m;if((N>7e3||D>24576)&&V>423){A=F(e,f,0,O,L,k,M,D,j,m-j,A),D=N=M=0,j=m;for(var X=0;X<286;++X)L[X]=0;for(X=0;X<30;++X)k[X]=0}var Y=2,K=0,G=w,q=Q-W&32767;if(V>2&&z==E(m-q))for(var J=Math.min(b,V)-1,Z=Math.min(32767,m),$=Math.min(258,V);q<=Z&&--G&&Q!=W;){if(e[m+Y]==e[m+Y-q]){for(var ee=0;ee<$&&e[m+ee]==e[m+ee-q];++ee);if(ee>Y){if(Y=ee,K=q,ee>J)break;var te=Math.min(q,ee-2),ne=0;for(X=0;X<te;++X){var re=m-q+X+32768&32767,ie=re-C[re]+32768&32767;ie>ne&&(ne=ie,W=re)}}}q+=(Q=W)-(W=C[Q])+32768&32767}if(K){O[D++]=268435456|u[Y]<<18|g[K];var oe=31&u[Y],ae=31&g[K];M+=a[oe]+s[ae],++L[257+oe],++k[ae],R=m+Y,++N}else O[D++]=e[m],++L[e[m]]}}A=F(e,f,h,O,L,k,M,D,j,m-j,A),h||(A=_(f,A,U))}return I(p,0,l+T(A)+c)},Q=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,a=0;a!=o;){for(var s=Math.min(a+5552,o);a<s;++a)i+=r+=n[a];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},W=function(e,t,n,r,i){return z(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},V=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},X=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},Y=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function K(e,t){void 0===t&&(t={});var n=Q();n.p(e);var r=W(e,t,2,4);return X(r,t),V(r,r.length-4,n.d()),r}function G(e,t){return L((Y(e),e.subarray(2,-4)),t)}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(14),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},h=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,h=e.classes,d=e.className,u=e.color,p=void 0===u?"initial":u,f=e.component,g=e.display,A=void 0===g?"initial":g,m=e.gutterBottom,y=void 0!==m&&m,v=e.noWrap,b=void 0!==v&&v,w=e.paragraph,x=void 0!==w&&w,C=e.variant,S=void 0===C?"body1":C,B=e.variantMapping,P=void 0===B?c:B,E=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),O=f||(x?"p":P[S]||c[S])||"span";return o.createElement(O,Object(r.a)({className:Object(a.a)(h.root,d,"inherit"!==S&&h[S],"initial"!==p&&h["color".concat(Object(l.a)(p))],b&&h.noWrap,y&&h.gutterBottom,x&&h.paragraph,"inherit"!==s&&h["align".concat(Object(l.a)(s))],"initial"!==A&&h["display".concat(Object(l.a)(A))]),ref:t},E))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(h)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(77);t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.VECTOR,this.x=t,this.y=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(66),i=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},o=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},a=t.parseListStyleType=function(e){switch(e){case"disc":return o.DISC;case"circle":return o.CIRCLE;case"square":return o.SQUARE;case"decimal":return o.DECIMAL;case"cjk-decimal":return o.CJK_DECIMAL;case"decimal-leading-zero":return o.DECIMAL_LEADING_ZERO;case"lower-roman":return o.LOWER_ROMAN;case"upper-roman":return o.UPPER_ROMAN;case"lower-greek":return o.LOWER_GREEK;case"lower-alpha":return o.LOWER_ALPHA;case"upper-alpha":return o.UPPER_ALPHA;case"arabic-indic":return o.ARABIC_INDIC;case"armenian":return o.ARMENIAN;case"bengali":return o.BENGALI;case"cambodian":return o.CAMBODIAN;case"cjk-earthly-branch":return o.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return o.CJK_HEAVENLY_STEM;case"cjk-ideographic":return o.CJK_IDEOGRAPHIC;case"devanagari":return o.DEVANAGARI;case"ethiopic-numeric":return o.ETHIOPIC_NUMERIC;case"georgian":return o.GEORGIAN;case"gujarati":return o.GUJARATI;case"gurmukhi":return o.GURMUKHI;case"hebrew":return o.HEBREW;case"hiragana":return o.HIRAGANA;case"hiragana-iroha":return o.HIRAGANA_IROHA;case"japanese-formal":return o.JAPANESE_FORMAL;case"japanese-informal":return o.JAPANESE_INFORMAL;case"kannada":return o.KANNADA;case"katakana":return o.KATAKANA;case"katakana-iroha":return o.KATAKANA_IROHA;case"khmer":return o.KHMER;case"korean-hangul-formal":return o.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return o.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return o.KOREAN_HANJA_INFORMAL;case"lao":return o.LAO;case"lower-armenian":return o.LOWER_ARMENIAN;case"malayalam":return o.MALAYALAM;case"mongolian":return o.MONGOLIAN;case"myanmar":return o.MYANMAR;case"oriya":return o.ORIYA;case"persian":return o.PERSIAN;case"simp-chinese-formal":return o.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return o.SIMP_CHINESE_INFORMAL;case"tamil":return o.TAMIL;case"telugu":return o.TELUGU;case"thai":return o.THAI;case"tibetan":return o.TIBETAN;case"trad-chinese-formal":return o.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return o.TRAD_CHINESE_INFORMAL;case"upper-armenian":return o.UPPER_ARMENIAN;case"disclosure-open":return o.DISCLOSURE_OPEN;case"disclosure-closed":return o.DISCLOSURE_CLOSED;case"none":default:return o.NONE}},s=(t.parseListStyle=function(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:a(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:s(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return i.INSIDE;case"outside":default:return i.OUTSIDE}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(127),o=n(129);var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.parent=n,this.bounds=r}return r(e,null,[{key:"fromTextNode",value:function(t,n){var r=l(t.data,n.style.textTransform);return new e(r,n,(0,o.parseTextBounds)(r,n,t))}}]),e}();t.default=a;var s=/(^|\s|:|-|\(|\))([a-z])/g,l=function(e,t){switch(t){case i.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case i.TEXT_TRANSFORM.CAPITALIZE:return e.replace(s,c);case i.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function c(e,t,n){return e.length>0?t+n.toUpperCase():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(130),i=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},o={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(o,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(i){return!1}return!0}(document);return Object.defineProperty(o,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=function(e,t){var n=new Image,r=e.createElement("canvas"),i=r.getContext("2d");return new Promise((function(e){n.src=t;var o=function(){try{i.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=o,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout((function(){o()}),500)}))}(document,e);return Object.defineProperty(o,"SUPPORT_BASE64_DRAWING",{value:function(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var o=t.getContext("2d");o.fillStyle="rgb(0, 255, 0)",o.fillRect(0,0,n,n);var a=new Image,s=t.toDataURL();a.src=s;var l=(0,r.createForeignObjectSVG)(n,n,0,0,a);return o.fillStyle="red",o.fillRect(0,0,n,n),(0,r.loadSerializedSVG)(l).then((function(t){o.drawImage(t,0,0);var a=o.getImageData(0,0,n,n).data;o.fillStyle="red",o.fillRect(0,0,n,n);var l=e.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height="100px",i(a)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(n,n,0,0,l)):Promise.reject(!1)})).then((function(e){return o.drawImage(e,0,0),i(o.getImageData(0,0,n,n).data)})).catch((function(e){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(o,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e="undefined"!==typeof(new Image).crossOrigin;return Object.defineProperty(o,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"===typeof(new XMLHttpRequest).responseType;return Object.defineProperty(o,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(o,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),i=n(13),o=!0,a=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function h(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function u(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function f(){return{isFocusVisible:u,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",h,!0),t.addEventListener("pointerdown",h,!0),t.addEventListener("touchstart",h,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(37),n(2);var r=n(69),i=(n(8),n(45),{xs:0,sm:600,md:960,lg:1280,xl:1920}),o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===Object(r.a)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,r){return e[a.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"}),"InvertColors");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(140);var i=n(84),o=n(141);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},,,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var h in n=Object(arguments[c]))i.call(n,h)&&(l[h]=n[h]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";function r(e,t,n,r,i){return null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},s=t.TEXT_DECORATION={NONE:null},l=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},c=function(e){switch(e){case"underline":return l.UNDERLINE;case"overline":return l.OVERLINE;case"line-through":return l.LINE_THROUGH}return l.BLINK};t.parseTextDecoration=function(e){var t,n="none"===(t=e.textDecorationLine?e.textDecorationLine:e.textDecoration)?null:t.split(" ").map(c);return null===n?s.NONE:{textDecorationLine:n,textDecorationColor:e.textDecorationColor?new o.default(e.textDecorationColor):null,textDecorationStyle:function(e){switch(e){case"double":return a.DOUBLE;case"dotted":return a.DOTTED;case"dashed":return a.DASHED;case"wavy":return a.WAVY}return a.SOLID}(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=t.BORDER_STYLE={NONE:0,SOLID:1},s=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},l=Object.keys(s).map((function(e){return e.toLowerCase()}));t.parseBorder=function(e){return l.map((function(t){var n=new o.default(e.getPropertyValue("border-"+t+"-color")),r=function(e){switch(e){case"none":return a.NONE}return a.SOLID}(e.getPropertyValue("border-"+t+"-style")),i=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:r,borderWidth:isNaN(i)?0:i}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toCodePoints=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var i=arguments.length<=n?void 0:arguments[n];i<=65535?t.push(i):(i-=65536,t.push(55296+(i>>10),i%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="undefined"===typeof Uint8Array?[]:new Uint8Array(256),o=0;o<r.length;o++)i[r.charCodeAt(o)]=o;t.decode=function(e){var t=.75*e.length,n=e.length,r=void 0,o=0,a=void 0,s=void 0,l=void 0,c=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var h="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),d=Array.isArray(h)?h:new Uint8Array(h);for(r=0;r<n;r+=4)a=i[e.charCodeAt(r)],s=i[e.charCodeAt(r+1)],l=i[e.charCodeAt(r+2)],c=i[e.charCodeAt(r+3)],d[o++]=a<<2|s>>4,d[o++]=(15&s)<<4|l>>2,d[o++]=(3&l)<<6|63&c;return h},t.polyUint16Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var r=n(58),i=l(n(57)),o=l(n(80)),a=n(79),s=n(131);function l(e){return e&&e.__esModule?e:{default:e}}var c=["OL","UL","MENU"],h=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==c.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,n){var s=t.style.listStyle;if(s){var l=e.ownerDocument.defaultView.getComputedStyle(e,null),c=e.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(l,c),c.style.position="absolute",c.style.bottom="auto",c.style.display="block",c.style.letterSpacing="normal",s.listStylePosition){case a.LIST_STYLE_POSITION.OUTSIDE:c.style.left="auto",c.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",c.style.textAlign="right";break;case a.LIST_STYLE_POSITION.INSIDE:c.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",c.style.right="auto",c.style.textAlign="left"}var h=void 0,d=t.style.margin[0].getAbsoluteValue(t.bounds.width),u=s.listStyleImage;if(u)if("url"===u.method){var p=e.ownerDocument.createElement("img");p.src=u.args[0],c.style.top=t.bounds.top-d+"px",c.style.width="auto",c.style.height="auto",c.appendChild(p)}else{var f=.5*parseFloat(t.style.font.fontSize);c.style.top=t.bounds.top-d+t.bounds.height-1.5*f+"px",c.style.width=f+"px",c.style.height=f+"px",c.style.backgroundImage=l.listStyleImage}else"number"===typeof t.listIndex&&(h=e.ownerDocument.createTextNode(C(t.listIndex,s.listStyleType,!0)),c.appendChild(h),c.style.top=t.bounds.top-d+"px");var g=e.ownerDocument.body;g.appendChild(c),h?(t.childNodes.push(o.default.fromTextNode(h,t)),g.removeChild(c)):t.childNodes.push(new i.default(c,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),d={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},u={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},p={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},f=function(e,t,n,r,i,o){return e<t||e>n?C(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},g=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},A=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(g(Math.abs(e),o,r,(function(e){return(0,s.fromCodePoint)(Math.floor(e%o)+t)}))+i)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return g(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},y=function(e,t,n,i,o,s){if(e<-9999||e>9999)return C(e,a.LIST_STYLE_TYPE.CJK_DECIMAL,o.length>0);var l=Math.abs(e),c=o;if(0===l)return t[0]+c;for(var h=0;l>0&&h<=4;h++){var d=l%10;0===d&&(0,r.contains)(s,1)&&""!==c?c=t[d]+c:d>1||1===d&&0===h||1===d&&1===h&&(0,r.contains)(s,2)||1===d&&1===h&&(0,r.contains)(s,4)&&e>100||1===d&&h>1&&(0,r.contains)(s,8)?c=t[d]+(h>0?n[h-1]:"")+c:1===d&&h>0&&(c=n[h-1]+c),l=Math.floor(l/10)}return(e<0?i:"")+c},v="\u5341\u767e\u5343\u842c",b="\u62fe\u4f70\u4edf\u842c",w="\u30de\u30a4\u30ca\u30b9",x="\ub9c8\uc774\ub108\uc2a4 ",C=t.createCounterText=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"";switch(t){case a.LIST_STYLE_TYPE.DISC:return"\u2022";case a.LIST_STYLE_TYPE.CIRCLE:return"\u25e6";case a.LIST_STYLE_TYPE.SQUARE:return"\u25fe";case a.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var s=A(e,48,57,!0,r);return s.length<4?"0"+s:s;case a.LIST_STYLE_TYPE.CJK_DECIMAL:return m(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case a.LIST_STYLE_TYPE.LOWER_ROMAN:return f(e,1,3999,h,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.UPPER_ROMAN:return f(e,1,3999,h,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_GREEK:return A(e,945,969,!1,r);case a.LIST_STYLE_TYPE.LOWER_ALPHA:return A(e,97,122,!1,r);case a.LIST_STYLE_TYPE.UPPER_ALPHA:return A(e,65,90,!1,r);case a.LIST_STYLE_TYPE.ARABIC_INDIC:return A(e,1632,1641,!0,r);case a.LIST_STYLE_TYPE.ARMENIAN:case a.LIST_STYLE_TYPE.UPPER_ARMENIAN:return f(e,1,9999,d,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_ARMENIAN:return f(e,1,9999,d,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.BENGALI:return A(e,2534,2543,!0,r);case a.LIST_STYLE_TYPE.CAMBODIAN:case a.LIST_STYLE_TYPE.KHMER:return A(e,6112,6121,!0,r);case a.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return m(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case a.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return m(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case a.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case a.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return y(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",v,"\u8ca0",i,14);case a.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return y(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",b,"\u8ca0",i,15);case a.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return y(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",v,"\u8d1f",i,14);case a.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return y(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",b,"\u8d1f",i,15);case a.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return y(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",w,i,0);case a.LIST_STYLE_TYPE.JAPANESE_FORMAL:return y(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",w,i,7);case a.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return y(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",x,o,7);case a.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return y(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",x,o,0);case a.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return y(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",x,o,7);case a.LIST_STYLE_TYPE.DEVANAGARI:return A(e,2406,2415,!0,r);case a.LIST_STYLE_TYPE.GEORGIAN:return f(e,1,19999,p,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.GUJARATI:return A(e,2790,2799,!0,r);case a.LIST_STYLE_TYPE.GURMUKHI:return A(e,2662,2671,!0,r);case a.LIST_STYLE_TYPE.HEBREW:return f(e,1,10999,u,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.HIRAGANA:return m(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case a.LIST_STYLE_TYPE.HIRAGANA_IROHA:return m(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case a.LIST_STYLE_TYPE.KANNADA:return A(e,3302,3311,!0,r);case a.LIST_STYLE_TYPE.KATAKANA:return m(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case a.LIST_STYLE_TYPE.KATAKANA_IROHA:return m(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case a.LIST_STYLE_TYPE.LAO:return A(e,3792,3801,!0,r);case a.LIST_STYLE_TYPE.MONGOLIAN:return A(e,6160,6169,!0,r);case a.LIST_STYLE_TYPE.MYANMAR:return A(e,4160,4169,!0,r);case a.LIST_STYLE_TYPE.ORIYA:return A(e,2918,2927,!0,r);case a.LIST_STYLE_TYPE.PERSIAN:return A(e,1776,1785,!0,r);case a.LIST_STYLE_TYPE.TAMIL:return A(e,3046,3055,!0,r);case a.LIST_STYLE_TYPE.TELUGU:return A(e,3174,3183,!0,r);case a.LIST_STYLE_TYPE.THAI:return A(e,3664,3673,!0,r);case a.LIST_STYLE_TYPE.TIBETAN:return A(e,3872,3881,!0,r);case a.LIST_STYLE_TYPE.DECIMAL:default:return A(e,48,57,!0,r)}}},function(e,t,n){"use strict";(function(e,r){var i,o=n(137);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(75),n(182)(e))},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),o=n(19),a=n(8),s=n.n(a),l=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var d=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",d=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=h(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):l,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return u.contextTypes=((i={})[a]=s.a.object,i),{Provider:d,Consumer:u}};t.a=d}).call(this,n(75))},function(e,t,n){var r=n(201);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=u;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",h=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],u=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,u)s+=u[1];else{var f=e[a],g=n[2],A=n[3],m=n[4],y=n[5],v=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=f&&f!==g,x="+"===v||"*"===v,C="?"===v||"*"===v,S=n[2]||h,B=m||y;r.push({name:A||o++,prefix:g||"",delimiter:S,optional:C,repeat:x,partial:w,asterisk:!!b,pattern:B?c(B):b?".*":"[^"+l(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var h=e[c];if("string"!==typeof h){var d,u=s[h.name];if(null==u){if(h.optional){h.partial&&(o+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(r(u)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(d=l(u[p]),!n[c].test(d))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?h.prefix:h.delimiter)+d}}else{if(d=h.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(u),!n[c].test(d))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+d+'"');o+=h.prefix+d}}else o+=h}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function u(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var u=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+u+p+")*"),a+=p=c.optional?c.partial?u+"("+p+")?":"(?:"+u+"("+p+"))?":u+"("+p+")"}}var f=l(n.delimiter||"/"),g=a.slice(-f.length)===f;return i||(a=(g?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+f+"|$)",h(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return h(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return u(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return L}));var r="persist:",i="persist/FLUSH",o="persist/REHYDRATE",a="persist/PAUSE",s="persist/PERSIST",l="persist/PURGE",c="persist/REGISTER";function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===h(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function f(e){var t,n=e.blacklist||null,i=e.whitelist||null,o=e.transforms||[],a=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key),l=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:g;var c=e.writeFailHandler||null,h={},d={},u=[],p=null,f=null;function A(){if(0===u.length)return p&&clearInterval(p),void(p=null);var e=u.shift(),n=o.reduce((function(t,n){return n.in(t,e,h)}),h[e]);if(void 0!==n)try{d[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete d[e];0===u.length&&(Object.keys(d).forEach((function(e){void 0===h[e]&&delete d[e]})),f=l.setItem(s,t(d)).catch(y))}function m(e){return(!i||-1!==i.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&h[t]!==e[t]&&-1===u.indexOf(t)&&u.push(t)})),Object.keys(h).forEach((function(t){void 0===e[t]&&m(t)&&-1===u.indexOf(t)&&void 0!==h[t]&&u.push(t)})),null===p&&(p=setInterval(A,a)),h=e},flush:function(){for(;0!==u.length;)A();return f||Promise.resolve()}}}function g(e){return JSON.stringify(e)}function A(e){var t,n=e.transforms||[],i="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key),o=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:m,o.getItem(i).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(o){throw o}}))}function m(e){return JSON.parse(e)}function y(e){0}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C(e,t){var n=void 0!==e.version?e.version:-1,c=(e.debug,void 0===e.stateReconciler?p:e.stateReconciler),h=e.getStoredState||A,d=void 0!==e.timeout?e.timeout:5e3,u=null,g=!1,m=!0,v=function(e){return e._persist.rehydrated&&u&&!m&&u.update(e),e};return function(p,A){var w=p||{},C=w._persist,S=x(w,["_persist"]);if(A.type===s){var B=!1,P=function(t,n){B||(A.rehydrate(e.key,t,n),B=!0)};if(d&&setTimeout((function(){!B&&P(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),d),m=!1,u||(u=f(e)),C)return b({},t(S,A),{_persist:C});if("function"!==typeof A.rehydrate||"function"!==typeof A.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return A.register(e.key),h(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){P(e)}),(function(e){P(void 0,e)}))}),(function(e){P(void 0,e)})),b({},t(S,A),{_persist:{version:n,rehydrated:!1}})}if(A.type===l)return g=!0,A.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key);return t.removeItem(n,y)}(e)),b({},t(S,A),{_persist:C});if(A.type===i)return A.result(u&&u.flush()),b({},t(S,A),{_persist:C});if(A.type===a)m=!0;else if(A.type===o){if(g)return b({},S,{_persist:b({},C,{rehydrated:!0})});if(A.key===e.key){var E=t(S,A),O=A.payload,T=b({},!1!==c&&void 0!==O?c(O,p,E,e):E,{_persist:b({},C,{rehydrated:!0})});return v(T)}}if(!C)return t(p,A);var I=t(S,A);return I===S?p:v(b({},I,{_persist:C}))}}var S=n(33);function B(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={registry:[],bootstrapped:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return E({},e,{registry:[].concat(B(e.registry),[t.key])});case o:var n=e.registry.indexOf(t.key),r=B(e.registry);return r.splice(n,1),E({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function L(e,t,n){var r=n||!1,h=Object(S.createStore)(I,T,t&&t.enhancer?t.enhancer:void 0),d=function(e){h.dispatch({type:c,key:e})},u=function(t,n,i){var a={type:o,payload:n,err:i,key:t};e.dispatch(a),h.dispatch(a),r&&p.getState().bootstrapped&&(r(),r=!1)},p=E({},h,{purge:function(){var t=[];return e.dispatch({type:l,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:i,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:a})},persist:function(){e.dispatch({type:s,register:d,rehydrate:u})}});return t&&t.manualPersist||p.persist(),p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(70);var i=n(60);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=(n(8),n(13)),l=n(5),c=n(22),h=n(24),d=n(7),u=n(83),p=n(37),f=n(18),g=n(71),A=n(19),m=n(65);function y(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function v(e,t,n){return null!=n[t]?n[t]:e.props[t]}function b(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var l=a in t,c=a in r,h=t[a],d=Object(o.isValidElement)(h)&&!h.props.in;!c||l&&!d?c||!l||d?c&&l&&Object(o.isValidElement)(h)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:h.props.in,exit:v(s,"exit",e),enter:v(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:v(s,"exit",e),enter:v(s,"enter",e)})}})),i}var w=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},x=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(g.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(A.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,y(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:v(e,"appear",n),enter:v(e,"enter",n),exit:v(e,"exit",n)})}))):b(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(f.a)(e,["component","childFactory"]),i=this.state.contextValue,o=w(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(m.a.Provider,{value:i},o):a.a.createElement(m.a.Provider,{value:i},a.a.createElement(t,r,o))},t}(a.a.Component);x.propTypes={},x.defaultProps={component:"div",childFactory:function(e){return e}};var C=x,S="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var B=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,s=e.rippleSize,c=e.in,d=e.onExited,u=void 0===d?function(){}:d,p=e.timeout,f=o.useState(!1),g=f[0],A=f[1],m=Object(l.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+i},v=Object(l.a)(t.child,g&&t.childLeaving,r&&t.childPulsate),b=Object(h.a)(u);return S((function(){if(!c){A(!0);var e=setTimeout(b,p);return function(){clearTimeout(e)}}}),[b,c,p]),o.createElement("span",{className:m,style:y},o.createElement("span",{className:v}))},P=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,c=e.className,h=Object(i.a)(e,["center","classes","className"]),d=o.useState([]),u=d[0],f=d[1],g=o.useRef(0),A=o.useRef(null);o.useEffect((function(){A.current&&(A.current(),A.current=null)}),[u]);var m=o.useRef(!1),y=o.useRef(null),v=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;f((function(e){return[].concat(Object(p.a)(e),[o.createElement(B,{key:g.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),g.current+=1,A.current=a}),[s]),x=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var h,d,u,p=c?null:b.current,f=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)h=Math.round(f.width/2),d=Math.round(f.height/2);else{var g=e.touches?e.touches[0]:e,A=g.clientX,x=g.clientY;h=Math.round(A-f.left),d=Math.round(x-f.top)}if(s)(u=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(u+=1);else{var C=2*Math.max(Math.abs((p?p.clientWidth:0)-h),h)+2,S=2*Math.max(Math.abs((p?p.clientHeight:0)-d),d)+2;u=Math.sqrt(Math.pow(C,2)+Math.pow(S,2))}e.touches?null===v.current&&(v.current=function(){w({pulsate:i,rippleX:h,rippleY:d,rippleSize:u,cb:n})},y.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):w({pulsate:i,rippleX:h,rippleY:d,rippleSize:u,cb:n})}}),[a,w]),S=o.useCallback((function(){x({},{pulsate:!0})}),[x]),P=o.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(y.current=setTimeout((function(){P(e,t)})));v.current=null,f((function(e){return e.length>0?e.slice(1):e})),A.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:S,start:x,stop:P}}),[S,x,P]),o.createElement("span",Object(r.a)({className:Object(l.a)(s.root,c),ref:b},h),o.createElement(C,{component:null,exit:!0},u))})),E=Object(d.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(P)),O=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,d=e.centerRipple,p=void 0!==d&&d,f=e.children,g=e.classes,A=e.className,m=e.component,y=void 0===m?"button":m,v=e.disabled,b=void 0!==v&&v,w=e.disableRipple,x=void 0!==w&&w,C=e.disableTouchRipple,S=void 0!==C&&C,B=e.focusRipple,P=void 0!==B&&B,O=e.focusVisibleClassName,T=e.onBlur,I=e.onClick,L=e.onFocus,k=e.onFocusVisible,N=e.onKeyDown,M=e.onKeyUp,D=e.onMouseDown,R=e.onMouseLeave,j=e.onMouseUp,_=e.onTouchEnd,F=e.onTouchMove,H=e.onTouchStart,U=e.onDragLeave,z=e.tabIndex,Q=void 0===z?0:z,W=e.TouchRippleProps,V=e.type,X=void 0===V?"button":V,Y=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=o.useRef(null);var G=o.useRef(null),q=o.useState(!1),J=q[0],Z=q[1];b&&J&&Z(!1);var $=Object(u.a)(),ee=$.isFocusVisible,te=$.onBlurVisible,ne=$.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Object(h.a)((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Z(!0),K.current.focus()}}}),[]),o.useEffect((function(){J&&P&&!x&&G.current.pulsate()}),[x,P,J]);var ie=re("start",D),oe=re("stop",U),ae=re("stop",j),se=re("stop",(function(e){J&&e.preventDefault(),R&&R(e)})),le=re("start",H),ce=re("stop",_),he=re("stop",F),de=re("stop",(function(e){J&&(te(e),Z(!1)),T&&T(e)}),!1),ue=Object(h.a)((function(e){K.current||(K.current=e.currentTarget),ee(e)&&(Z(!0),k&&k(e)),L&&L(e)})),pe=function(){var e=s.findDOMNode(K.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},fe=o.useRef(!1),ge=Object(h.a)((function(e){P&&!fe.current&&J&&G.current&&" "===e.key&&(fe.current=!0,e.persist(),G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!b&&(e.preventDefault(),I&&I(e))})),Ae=Object(h.a)((function(e){P&&" "===e.key&&G.current&&J&&!e.defaultPrevented&&(fe.current=!1,e.persist(),G.current.stop(e,(function(){G.current.pulsate(e)}))),M&&M(e),I&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&I(e)})),me=y;"button"===me&&Y.href&&(me="a");var ye={};"button"===me?(ye.type=X,ye.disabled=b):("a"===me&&Y.href||(ye.role="button"),ye["aria-disabled"]=b);var ve=Object(c.a)(a,t),be=Object(c.a)(ne,K),we=Object(c.a)(ve,be),xe=o.useState(!1),Ce=xe[0],Se=xe[1];o.useEffect((function(){Se(!0)}),[]);var Be=Ce&&!x&&!b;return o.createElement(me,Object(r.a)({className:Object(l.a)(g.root,A,J&&[g.focusVisible,O],b&&g.disabled),onBlur:de,onClick:I,onFocus:ue,onKeyDown:ge,onKeyUp:Ae,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:he,onTouchStart:le,ref:we,tabIndex:b?-1:Q},ye,Y),f,Be?o.createElement(E,Object(r.a)({ref:G,center:p},W)):null)}));t.a=Object(d.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(O)},,,,,,,function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(30);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(30),i=n(188),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(118)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(158))},function(e,t,n){"use strict";var r=n(30),i=n(189),o=n(191),a=n(115),s=n(192),l=n(195),c=n(196),h=n(119);e.exports=function(e){return new Promise((function(t,n){var d=e.data,u=e.headers;r.isFormData(d)&&delete u["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.Authorization="Basic "+btoa(f+":"+g)}var A=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(A,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}},p.onabort=function(){p&&(n(h("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(h("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(h(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=(e.withCredentials||c(A))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;m&&(u[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(u,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete u[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(190);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var h=i.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===h.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(77),o=n(98);var a=function(e,t){var n=Math.max.apply(null,e.colorStops.map((function(e){return e.stop}))),r=1/Math.max(1,n);e.colorStops.forEach((function(e){t.addColorStop(r*e.stop,e.color.toString())}))},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t||document.createElement("canvas")}return r(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach((function(e){n.path(e),n.ctx.clip()}))),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach((function(e,n){var r=e.type===i.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===i.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,r,i){this.ctx.fillStyle=i.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);a(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,r=e.left+t.center.x,i=e.top+t.center.y,o=this.ctx.createRadialGradient(r,i,0,r,i,t.radius.x);if(o)if(a(t,o),this.ctx.fillStyle=o,t.radius.x!==t.radius.y){var s=e.left+.5*e.width,l=e.top+.5*e.height,c=t.radius.y/t.radius.x,h=1/c;this.transform(s,l,[1,0,0,c,0,0],(function(){return n.ctx.fillRect(e.left,h*(e.top-l)+l,e.width,e.height*h)}))}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,r,i){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)}},{key:"renderTextNode",value:function(e,t,n,r,i){var a=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach((function(e){if(a.ctx.fillStyle=t.toString(),i&&e.text.trim().length?i.slice(0).reverse().forEach((function(t){a.ctx.shadowColor=t.color.toString(),a.ctx.shadowOffsetX=t.offsetX*a.options.scale,a.ctx.shadowOffsetY=t.offsetY*a.options.scale,a.ctx.shadowBlur=t.blur,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})):a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var s=r.textDecorationColor||t;r.textDecorationLine.forEach((function(t){switch(t){case o.TEXT_DECORATION_LINE.UNDERLINE:var r=a.options.fontMetrics.getMetrics(n).baseline;a.rectangle(e.bounds.left,Math.round(e.bounds.top+r),e.bounds.width,1,s);break;case o.TEXT_DECORATION_LINE.OVERLINE:a.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,s);break;case o.TEXT_DECORATION_LINE.LINE_THROUGH:var i=a.options.fontMetrics.getMetrics(n).middle;a.rectangle(e.bounds.left,Math.ceil(e.bounds.top+i),e.bounds.width,1,s)}}))}}))}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled="undefined"!==typeof window&&t,this.start=r||Date.now(),this.id=n}return r(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r};t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var a=["top","right","bottom","left"];t.parsePadding=function(e){return a.map((function(t){return new o.default(e.getPropertyValue("padding-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var r=d(n(80)),i=n(66),o=n(99),a=d(n(240)),s=d(n(78)),l=d(n(43)),c=d(n(53)),h=(n(54),n(129),n(58));function d(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new l.default([42,42,42]);var u=new l.default([165,165,165]),p=new l.default([222,222,222]),f={borderWidth:1,borderColor:u,borderStyle:o.BORDER_STYLE.SOLID},g=(t.INPUT_BORDERS=[f,f,f,f],t.INPUT_BACKGROUND={backgroundColor:p,backgroundImage:[],backgroundClip:i.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:i.BACKGROUND_ORIGIN.PADDING_BOX},new c.default("50%")),A=[g,g],m=[A,A,A,A],y=new c.default("3px"),v=[y,y],b=[v,v,v,v],w=(t.getInputBorderRadius=function(e){return"radio"===e.type?m:b},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new s.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new s.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new s.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new s.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new s.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new s.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new s.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new a.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else w(x(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){w(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var n=e.options[e.selectedIndex||0];w(n&&n.text||"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,n,i){var o=t.ownerDocument.body;if(e.length>0&&o){var a=t.ownerDocument.createElement("html2canvaswrapper");(0,h.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),a),a.style.position="absolute",a.style.left=n.bounds.left+"px",a.style.top=n.bounds.top+"px",i||(a.style.whiteSpace="nowrap");var s=t.ownerDocument.createTextNode(e);a.appendChild(s),o.appendChild(a),n.childNodes.push(r.default.fromTextNode(s,n)),o.removeChild(a)}}),x=function(e){var t="password"===e.type?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var r,i=n(54),o=n(98),a=n(81),s=(r=a)&&r.__esModule?r:{default:r},l=n(131);var c=t.TextBounds=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.bounds=n},h=(t.parseTextBounds=function(e,t,n){for(var r=0!==t.style.letterSpacing?(0,l.toCodePoints)(e).map((function(e){return(0,l.fromCodePoint)(e)})):(0,l.breakWords)(e,t),i=r.length,a=n.parentNode?n.parentNode.ownerDocument.defaultView:null,u=a?a.pageXOffset:0,p=a?a.pageYOffset:0,f=[],g=0,A=0;A<i;A++){var m=r[A];if(t.style.textDecoration!==o.TEXT_DECORATION.NONE||m.trim().length>0)if(s.default.SUPPORT_RANGE_BOUNDS)f.push(new c(m,d(n,g,m.length,u,p)));else{var y=n.splitText(m.length);f.push(new c(m,h(n,u,p))),n=y}else s.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(m.length));g+=m.length}return f},function(e,t,n){var r=e.ownerDocument.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(r,e);var a=(0,i.parseBounds)(r,t,n);return r.firstChild&&o.replaceChild(r.firstChild,r),a}return new i.Bounds(0,0,0,0)}),d=function(e,t,n,r,o){var a=e.ownerDocument.createRange();return a.setStart(e,t),a.setEnd(e,t+n),i.Bounds.fromClientRect(a.getBoundingClientRect(),r,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t}return r(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=o(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return a(n).then((function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas}))}}]),e}();t.default=i;var o=t.createForeignObjectSVG=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e),a.setAttributeNS(null,"height",t),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n),s.setAttributeNS(null,"y",r),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},a=t.loadSerializedSVG=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(236);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i,o=n(57),a=((i=o)&&i.__esModule,n(125));t.breakWords=function(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===a.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],o=void 0;!(o=n.next()).done;)i.push(o.value.slice());return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(58);var o="Hidden Text";t.FontMetrics=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={},this._document=t}return r(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),a=this._document.body;if(!a)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",a.appendChild(t),n.src=i.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(o)),t.appendChild(r),t.appendChild(n);var s=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode(o)),t.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-t.offsetTop+2;return a.removeChild(t),{baseline:s,middle:l}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r,i=n(81),o=(r=i)&&r.__esModule?r:{default:r};t.Proxy=function(e,t){if(!t.proxy)return Promise.reject(null);var n=t.proxy;return new Promise((function(r,i){var a=o.default.SUPPORT_CORS_XHR&&o.default.SUPPORT_RESPONSE_TYPE?"blob":"text",s=o.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(s.onload=function(){if(s instanceof XMLHttpRequest)if(200===s.status)if("text"===a)r(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return i(e)}),!1),e.readAsDataURL(s.response)}else i("");else r(s.responseText)},s.onerror=i,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t.imageTimeout){var l=t.imageTimeout;s.timeout=l,s.ontimeout=function(){return i("")}}s.send()}))}},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?h((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(n){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=o(e[t],n)})),s(t).forEach((function(i){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(l(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return h;var n=t.customMerge(e);return"function"===typeof n?n:h}(i,n)(e[i],t[i],n):r[i]=o(t[i],n))})),r}function h(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):c(e,t,n):o(t,n)}h.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return h(e,n,t)}),{})};var d=h;e.exports=d},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,l,c,h;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(l=s;0!==l--;)if(!a(e[l],t[l]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(h=e.entries();!(l=h.next()).done;)if(!t.has(l.value[0]))return!1;for(h=e.entries();!(l=h.next()).done;)if(!a(l.value[1],t.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(h=e.entries();!(l=h.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(l=s;0!==l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(t,c[l]))return!1;if(n&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],t[c[l]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(8))&&r.__esModule?r:{default:r};var o=i.default.string,a=i.default.bool,s=i.default.number,l=i.default.array,c=i.default.oneOfType,h=i.default.shape,d=i.default.object,u=i.default.func,p=i.default.node,f={url:c([o,l,d]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:c([o,s]),height:c([o,s]),style:d,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:c([a,o]),playIcon:p,previewTabIndex:s,fallback:p,wrapper:c([o,u,h({render:u.isRequired})]),config:h({soundcloud:h({options:d}),youtube:h({playerVars:d,embedOptions:d,onUnstarted:u}),facebook:h({appId:o,version:o,playerId:o,attributes:d}),dailymotion:h({params:d}),vimeo:h({playerOptions:d}),file:h({attributes:d,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:d,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:h({options:d,playerId:o,customControls:l}),mixcloud:h({options:d}),twitch:h({options:d,playerId:o}),vidyard:h({options:d})}),onReady:u,onStart:u,onPlay:u,onPause:u,onBuffer:u,onBufferEnd:u,onEnded:u,onError:u,onDuration:u,onSeek:u,onProgress:u,onClickPreview:u,onEnablePIP:u,onDisablePIP:u};t.propTypes=f;var g=function(){},A={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:g},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:g,onStart:g,onPlay:g,onPause:g,onBuffer:g,onBufferEnd:g,onEnded:g,onError:g,onDuration:g,onSeek:g,onProgress:g,onClickPreview:g,onEnablePIP:g,onDisablePIP:g};t.defaultProps=A},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Mail");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.default=a},function(e,t,n){"use strict";var r=n(25),i=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(27)).default)(o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return d(c(n=s(this,(e=l(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),d(c(n),"_unsubscribe",void 0),d(c(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&a(n.prototype,r),i&&a(n,i),t}(r.PureComponent);d(u,"defaultProps",{children:null,loading:null})},function(e,t,n){"use strict";var r=n(33).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=(0,((r=n(282))&&r.__esModule?r:{default:r}).default)("local");t.default=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);var i=function(e){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e),r.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return mm}));var r=n(0),i="ej2_instances",o=0,a=!1;function s(e,t){var n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}function l(e,t){for(var n=t,r=e.replace(/\[/g,".").replace(/\]/g,"").split("."),i=0;i<r.length&&!f(n);i++)n=n[r[i]];return n}function c(e,t,n){var r,i,o=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=n||{},s=a,l=o.length;for(r=0;r<l;r++)i=o[r],r+1===l?s[i]=void 0===t?{}:t:p(s[i])&&(s[i]={}),s=s[i];return a}function h(e){return!p(e)&&e.constructor==={}.constructor}function d(e,t){if(!p(t))for(var n=e,r=t,i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];p(n.deepMerge)||-1===n.deepMerge.indexOf(a)||!h(r[a])&&!Array.isArray(r[a])?n[a]=r[a]:u(n[a],n[a],r[a],!0)}}function u(e,t,n,r){var i=e&&"object"===typeof e?e:{},o=arguments.length;r&&(o-=1);for(var a=function(e){if(!s[e])return"continue";var t=s[e];Object.keys(t).forEach((function(e){var n,o=i[e],a=t[e],s=Array.isArray(a)&&Array.isArray(o)&&a.length!==o.length,l=!v()||!(o instanceof Event)&&!s;r&&l&&(h(a)||Array.isArray(a))?h(a)?(n=o||{},Array.isArray(n)&&n.hasOwnProperty("isComplexArray")?u(n,{},a,r):i[e]=u(n,{},a,r)):(n=v()?o&&Object.keys(a).length:o||[],i[e]=u([],n,a,r)):i[e]=a}))},s=arguments,l=1;l<o;l++)a(l);return i}function p(e){return void 0===e||null===e}function f(e){return"undefined"===typeof e}function g(e){return e+"_"+o++}function A(e,t){return e===t||!(e===document||!e)&&A(e.parentNode,t)}function m(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function y(e){var t=e+"";return t.match(/auto|%|px|vh|vm|vmax|vmin|em/)?t:t+"px"}function v(){return a}function b(e,t){var n="string"===typeof e?document.querySelector(e):e;if(n[i])for(var r=0,o=n[i];r<o.length;r++){var a=o[r];if(a instanceof t)return a}return null}var w,x={latn:{_digits:"0123456789",_type:"numeric"}},C={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},S=[0,1,2,3,4,5,6,7,8,9],B=function(){function e(){}return e.getMainObject=function(e,t){return l(v()?t:"main."+t,e)},e.getNumberingSystem=function(e){return l("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var n={},r=0,i=t||Object.keys(e);r<i.length;r++){var o=i[r];n.hasOwnProperty(e[o])||(n[e[o]]=o)}return n},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},n=0,r=Object.keys(C);n<r.length;n++){var i=r[n];t[e[i]]=C[i]}return t},e.constructRegex=function(e){for(var t=e.length,n="",r=0;r<t;r++)n+=r!==t-1?e[r]+"|":e[r];return n},e.convertValueParts=function(e,t,n){return e.replace(t,(function(e){return n[e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=l("numbers",e),t.nSystem=l("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,n,r){var i={},o=this.getDefaultNumberingSystem(e);if(!f(o.nSystem)||r){var a=r?l("obj.mapperDigits",o):l(o.nSystem+"._digits",t);f(a)||(i.numericPair=this.reverseObject(a,S),i.numberParseRegex=new RegExp(this.constructRegex(a),"g"),i.numericRegex="["+a[0]+"-"+a[9]+"]",n&&(i.numericRegex=a[0]+"-"+a[9],i.symbolNumberSystem=l(r?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),i.symbolMatch=this.getSymbolMatch(i.symbolNumberSystem),i.numberSystem=o.nSystem))}return i},e.getNumberMapper=function(e,t,n){var r={mapper:{}},i=this.getDefaultNumberingSystem(e);if(!f(i.nSystem)){r.numberSystem=i.nSystem,r.numberSymbols=l("symbols-numberSystem-"+i.nSystem,i.obj),r.timeSeparator=l("timeSeparator",r.numberSymbols);var o=l(i.nSystem+"._digits",t);if(!f(o))for(var a=0,s=S;a<s.length;a++){var c=s[a];r.mapper[c]=o[c]}}return r},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=x,e}(),P={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var n=e.getDate(),r=e.getMonth(),i=e.getFullYear(),o=r+1,a=i;o<3&&(a-=1,o+=12);var s=Math.floor(a/100),l=s-Math.floor(s/4)-2,c=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(o+1))+n-l-1524,h=c+(l=(s=Math.floor((c-1867216.25)/36524.25))-Math.floor(s/4)+1)+1524,d=Math.floor((h-122.1)/365.25),u=Math.floor(365.25*d),p=Math.floor((h-u)/30.6001);n=h-u-Math.floor(30.6001*p),(r=Math.floor((h-u)/20.6001))>13&&(d+=1,r-=12),r-=1,i=d-4716;var f=c-24e5,g=10631/30,A=c-1948084,m=Math.floor(A/10631);A-=10631*m;var y=Math.floor((A-.1335)/g),v=30*m+y;A-=Math.floor(y*g+.1335);var b=Math.floor((A+28.5001)/29.5);13===b&&(b=12);for(var w=A-Math.floor(29.5001*b-29),x=0;x<t.length&&!(t[x]>f);x++);var C=x+16260,S=Math.floor((C-1)/12),B=S+1,P=C-12*S,E=f-t[x-1]+1;return(E+"").length>2&&(E=w,P=b,B=v),{year:B,month:P,date:E}},e.toGregorian=function(e,n,r){var i=r+t[12*(e-1)+1+(n-1)-16260-1]-1+24e5,o=Math.floor(i+.5),a=Math.floor((o-1867216.25)/36524.25),s=(a=o+1+a-Math.floor(a/4))+1524,l=Math.floor((s-122.1)/365.25),c=Math.floor(365.25*l),h=Math.floor((s-c)/30.6001),d=s-c-Math.floor(30.6001*h),u=h-(h>13.5?13:1),p=l-(u>2.5?4716:4715);return p<=0&&u--,new Date(p+"/"+u+"/"+d)}}(w||(w={}));var E=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,O="stand-alone",T=["sun","mon","tue","wed","thu","fri","sat"],I={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},L={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},k=function(){function e(){}return e.dateFormat=function(e,t,n){var r=this,i=G.getDependables(n,e,t.calendar),o=l("parserObject.numbers",i),a=i.dateObject,s={isIslamic:G.islamicRegex.test(t.calendar)};v()&&t.isServerRendered&&(t=G.compareBlazorDateFormats(t,e));var c=t.format||G.getResultantPattern(t.skeleton,i.dateObject,t.type,!1,v()?e:"");if(s.dateSeperator=v()?l("dateSeperator",a):G.getDateSeparator(i.dateObject),f(c))m("Format options or type given must be invalid");else{c=G.ConvertDateToWeekFormat(c),v()&&(c=c.replace(/tt/,"a")),s.pattern=c,s.numMapper=v()?u({},o):B.getNumberMapper(i.parserObject,B.getNumberingSystem(n));for(var h=0,d=c.match(E)||[];h<d.length;h++){var p=d[h],g=p.length,A=p[0];"K"===A&&(A="h");switch(A){case"E":case"c":v()?s.weekday=l("days."+G.monthIndex[g],a):s.weekday=i.dateObject[G.days][O][G.monthIndex[g]];break;case"M":case"L":v()?s.month=l("months."+G.monthIndex[g],a):s.month=i.dateObject[G.month][O][G.monthIndex[g]];break;case"a":s.designator=v()?l("dayPeriods",a):l("dayPeriods.format.wide",a);break;case"G":var y=g<=3?"eraAbbr":4===g?"eraNames":"eraNarrow";s.era=v()?l("eras",a):l("eras."+y,i.dateObject);break;case"z":s.timeZone=l("dates.timeZoneNames",i.parserObject)}}}return function(e){return isNaN(e.getDate())?null:r.intDateFormatter(e,s)}},e.intDateFormatter=function(e,t){for(var n="",r=t.pattern.match(G.dateParseRegex),i=this.getCurrentDateValue(e,t.isIslamic),o=0,a=r;o<a.length;o++){var s=a[o],l=s.length,c=s[0];"K"===c&&(c="h");var h=void 0,d="",u=void 0,f=void 0,g="";switch(c){case"M":case"L":h=i.month,l>2?n+=t.month[h]:u=!0;break;case"E":case"c":n+=t.weekday[T[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(u=!0,"d"===c)h=i.date;else if("f"===c){u=!1,f=!0;var A=(d=(d=e[I[c]]().toString()).substring(0,l)).length;if(l!==A){if(l>3)continue;for(var m=0;m<l-A;m++)d="0"+d.toString()}g+=d}else h=e[I[c]]();"h"===c&&(h=h%12||12);break;case"y":f=!0,g+=i.year,2===l&&(g=g.substr(g.length-2));break;case"a":var y=e.getHours()<12?"am":"pm";n+=t.designator[y];break;case"G":var v=e.getFullYear()<0?0:1,b=t.era[v];p(b)&&(b=t.era[v?0:1]),n+=b||"";break;case"'":n+="''"===s?"'":s.replace(/\'/g,"");break;case"z":var w=e.getTimezoneOffset(),x=l<4?"+H;-H":t.timeZone.hourFormat;x=x.replace(/:/g,t.numMapper.timeSeparator),0===w?n+=t.timeZone.gmtZeroFormat:(f=!0,g=this.getTimeZoneValue(w,x)),g=t.timeZone.gmtFormat.replace(/\{0\}/,g);break;case":":n+=t.numMapper.numberSymbols.timeSeparator;break;case"/":n+=t.dateSeperator;break;case"W":u=!0,h=G.getWeekOfYear(e);break;default:n+=s}u&&(f=!0,g=this.checkTwodigitNumber(h,l)),f&&(n+=B.convertValueParts(g,G.latnParseRegex,t.numMapper.mapper))}return n},e.getCurrentDateValue=function(e,t){return t?w.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var n=e+"";return 2===t&&2!==n.length?"0"+n:n},e.getTimeZoneValue=function(e,t){var n=this,r=t.split(";")[e>0?1:0],i=Math.abs(e);return r.replace(/HH?|mm/g,(function(e){var t=e.length,r=-1!==e.indexOf("H");return n.checkTwodigitNumber(Math.floor(r?i/60:i%60),t)}))},e}(),N={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},M=["infinity","nan","group","decimal","exponential"],D=function(){function e(){}return e.numberFormatter=function(e,t,n){var r,i=this,o=u({},t),a={},s={},c=G.getDependables(n,e,"",!0),h=c.numericObject;s.numberMapper=v()?u({},h):B.getNumberMapper(c.parserObject,B.getNumberingSystem(n),!0),s.currencySymbol=v()?l("currencySymbol",h):G.getCurrencySymbol(c.numericObject,o.currency||K,t.altSymbol),s.percentSymbol=v()?l("numberSymbols.percentSign",h):s.numberMapper.numberSymbols.percentSign,s.minusSymbol=v()?l("numberSymbols.minusSign",h):s.numberMapper.numberSymbols.minusSign;var d=s.numberMapper.numberSymbols;if(t.format&&!G.formatRegex.test(t.format))a=G.customFormat(t.format,s,c.numericObject);else{if(u(o,G.getProperNumericSkeleton(t.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,v()||(r=G.getSymbolPattern(o.type,s.numberMapper.numberSystem,c.numericObject,o.isAccount)),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),f(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),f(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&!v()&&(r=r.replace(/\u00A4/g,G.defaultCurrency)),v())a.nData=u({},{},l(o.type+"nData",h)),a.pData=u({},{},l(o.type+"pData",h)),"currency"===o.type&&t.currency&&G.replaceBlazorCurrency([a.pData,a.nData],s.currencySymbol,t.currency);else{var p=r.split(";");a.nData=G.getFormatData(p[1]||"-"+p[0],!0,s.currencySymbol),a.pData=G.getFormatData(p[0],!1,s.currencySymbol),o.useGrouping&&(o.groupSeparator=d[M[2]],o.groupData=this.getGroupingDetails(p[0]))}if(f(o.minimumFractionDigits)&&(o.minimumFractionDigits=a.nData.minimumFraction),f(o.maximumFractionDigits)){var g=a.nData.maximumFraction;o.maximumFractionDigits=f(g)&&o.isPercent?0:g}var A=o.minimumFractionDigits,m=o.maximumFractionDigits;f(A)||f(m)||A>m&&(o.maximumFractionDigits=A)}return u(a.nData,o),u(a.pData,o),function(e){return isNaN(e)?d[M[1]]:isFinite(e)?i.intNumberFormatter(e,a,s):d[M[0]]}},e.getGroupingDetails=function(e){var t={},n=e.match(G.negativeDataRegex);if(n&&n[4]){var r=n[4],i=r.lastIndexOf(",");if(-1!==i){var o=r.split(".")[0];t.primary=o.length-i-1;var a=r.lastIndexOf(",",i-1);-1!==a&&(t.secondary=i-1-a)}}return t},e.checkValueRange=function(e,t,n,r){var i=r?"f":"s",o=0,a=N["l"+i],s=N["m"+i];if(f(e)||(this.checkRange(e,a,r),o++),f(t)||(this.checkRange(t,s,r),o++),2===o){if(!(e<t))return!0;m(s+"specified must be less than the"+a)}else n&&1===o&&m("Both"+s+"and"+s+"must be present");return!1},e.checkRange=function(e,t,n){var r=n?[0,20]:[1,21];(e<r[0]||e>r[1])&&m(t+"value must be within the range"+r[0]+"to"+r[1])},e.intNumberFormatter=function(e,t,n){var r;if(!f(t.nData.type)){e<0?(e*=-1,r=t.nData):r=0===e&&t.zeroData||t.pData;var i="";return r.isPercent&&(e*=100),r.groupOne?i=this.processSignificantDigits(e,r.minimumSignificantDigits,r.maximumSignificantDigits):(i=this.processFraction(e,r.minimumFractionDigits,r.maximumFractionDigits),r.minimumIntegerDigits&&(i=this.processMinimumIntegers(i,r.minimumIntegerDigits))),"scientific"===r.type&&(i=(i=e.toExponential(r.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[M[4]])),i=i.replace(".",n.numberMapper.numberSymbols[M[3]]),r.useGrouping&&(i=this.groupNumbers(i,r.groupData.primary,r.groupSeparator||",",n.numberMapper.numberSymbols[M[3]]||".",r.groupData.secondary)),i=B.convertValueParts(i,G.latnParseRegex,n.numberMapper.mapper),"N/A"===r.nlead?r.nlead:r.nlead+i+r.nend}},e.processSignificantDigits=function(e,t,n){var r=e+"";return r.length<t?e.toPrecision(t):+(r=e.toPrecision(n))+""},e.groupNumbers=function(e,t,n,r,i){for(var o=!p(i)&&0!==i,a=e.split(r),s=a[0],l=s.length,c="";l>t;)c=s.slice(l-t,l)+(c.length?n+c:""),l-=t,o&&(t=i,o=!1);return a[0]=s.slice(0,l)+(c.length?n:"")+c,a.join(r)},e.processFraction=function(e,t,n){var r=(e+"").split(".")[1],i=r?r.length:0;if(t&&i<t){var o="";if(0!==i){o+=e;for(var a=0;a<t-i;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!p(n)&&(i>n||0===n)?e.toFixed(n):e+""},e.processMinimumIntegers=function(e,t){var n=e.split("."),r=n[0],i=r.length;if(i<t){for(var o=0;o<t-i;o++)r="0"+r;n[0]=r}return n.join(".")},e}(),R=/^[0-9]*$/,j={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},_=function(){function e(){}return e.dateParser=function(e,t,n){var r=this,i=G.getDependables(n,e,t.calendar),o=B.getCurrentNumericOptions(i.parserObject,B.getNumberingSystem(n),!1,v()),a={};v()&&t.isServerRendered&&(t=G.compareBlazorDateFormats(t,e));var s,c=t.format||G.getResultantPattern(t.skeleton,i.dateObject,t.type,!1,v()?e:""),h="";if(f(c))m("Format options or type given must be invalid");else{c=G.ConvertDateToWeekFormat(c),a={isIslamic:G.islamicRegex.test(t.calendar),pattern:c,evalposition:{},culture:e};for(var d=c.match(G.dateParseRegex)||[],u=d.length,g=0,A=0,y=!1,b=o.numericRegex,x=v()?i.parserObject.numbers:B.getNumberMapper(i.parserObject,B.getNumberingSystem(n)),C=0;C<u;C++){var S=d[C],P=S.length,E="K"===S[0]?"h":S[0],O=void 0,T=void 0,I=L[E],k=2===P?"":"?";switch(y&&(g=A,y=!1),E){case"E":case"c":var N=void 0;N=v()?l("days."+G.monthIndex[P],i.dateObject):i.dateObject[G.days]["stand-alone"][G.monthIndex[P]];var M=B.reverseObject(N);h+="("+Object.keys(M).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(T=!0,("M"===E||"L"===E)&&P>2){var D=void 0;D=v()?l("months."+G.monthIndex[P],i.dateObject):i.dateObject.months["stand-alone"][G.monthIndex[P]],a[I]=B.reverseObject(D),h+="("+Object.keys(a[I]).join("|")+")"}else if("f"===E){if(P>3)continue;O=!0,h+="("+b+b+"?"+b+"?)"}else O=!0,h+="("+b+b+k+")";"h"===E&&(a.hour12=!0);break;case"W":h+="("+b+(1===P?"?":"")+b+")";break;case"y":T=O=!0,h+=2===P?"("+b+b+")":"("+b+"{"+P+",})";break;case"a":T=!0;var R=v()?l("dayPeriods",i.dateObject):l("dayPeriods.format.wide",i.dateObject);a[I]=B.reverseObject(R),h+="("+Object.keys(a[I]).join("|")+")";break;case"G":T=!0;var j=P<=3?"eraAbbr":4===P?"eraNames":"eraNarrow";a[I]=B.reverseObject(v()?l("eras",i.dateObject):l("eras."+j,i.dateObject)),h+="("+Object.keys(a[I]).join("|")+"?)";break;case"z":T=0!==(new Date).getTimezoneOffset(),a[I]=l("dates.timeZoneNames",i.parserObject);var _=a[I],F=(s=P<4)?"+H;-H":_.hourFormat;F=F.replace(/:/g,x.timeSeparator),h+="("+this.parseTimeZoneRegx(F,_,b)+")?",y=!0,A=s?6:12;break;case"'":h+="("+S.replace(/\'/g,"")+")?";break;default:h+="([\\D])"}T&&(a.evalposition[I]={isNumber:O,pos:C+1+g,hourOnly:s}),C!==u-1||p(h)||(a.parserRegex=new RegExp("^"+h+"$","i"))}}return function(e){var t=r.internalDateParse(e,a,o);if(p(t)||!Object.keys(t).length)return null;if(a.isIslamic){var n={},i=t.year,s=t.day,l=t.month,c=i?i+"":"",h=2===c.length;i&&l&&s&&!h||(n=w.getHijriDate(new Date)),h&&(i=parseInt((n.year+"").slice(0,2)+c,10));var d=w.toGregorian(i||n.year,l||n.month,s||n.date);t.year=d.getFullYear(),t.month=d.getMonth()+1,t.day=d.getDate()}return r.getDateObject(t)}},e.getDateObject=function(e,t){var n=t||new Date;n.setMilliseconds(0);var r=e.year,i=e.designator,o=e.timeZone;if(!f(r)){if((r+"").length<=2)r+=100*Math.floor(n.getFullYear()/100);n.setFullYear(r)}for(var a=0,s=["hour","minute","second","milliseconds","month","day"];a<s.length;a++){var l=s[a],c=e[l];if(f(c)&&"day"===l&&n.setDate(1),!f(c))if("month"===l){if((c-=1)<0||c>11)return new Date("invalid");var h=n.getDate();n.setDate(1),n[j[l]](c);var d=new Date(n.getFullYear(),c+1,0).getDate();n.setDate(h<d?h:d)}else{if("day"===l){var u=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(c<1||c>u)return null}n[j[l]](c)}}if(!f(i)){var p=n.getHours();"pm"===i?n.setHours(p+(12===p?0:12)):12===p&&n.setHours(0)}if(!f(o)){var g=o-n.getTimezoneOffset();0!==g&&n.setMinutes(n.getMinutes()+g)}return n},e.internalDateParse=function(e,t,n){var r=e.match(t.parserRegex),i={hour:0,minute:0,second:0};n.numericRegex;if(p(r))return null;for(var o=0,a=Object.keys(t.evalposition);o<a.length;o++){var s=a[o],l=t.evalposition[s],c=r[l.pos];if(l.isNumber)i[s]=this.internalNumberParser(c,n);else if("timeZone"!==s||f(c))c="month"!==s||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?c:c[0].toUpperCase()+c.substring(1).toLowerCase(),c="designator"===s&&/^(AM|PM)$/i.test(c)?c.toUpperCase():c,i[s]=t[s][c];else{var h=l.pos,d=void 0,u=r[h+1],g=!f(u);l.hourOnly?d=60*this.getZoneValue(g,u,r[h+4],n):(d=60*this.getZoneValue(g,u,r[h+7],n),d+=this.getZoneValue(g,r[h+4],r[h+10],n)),p(d)||(i[s]=d)}}return t.hour12&&(i.hour12=!0),i},e.internalNumberParser=function(e,t){return e=B.convertValueParts(e,t.numberParseRegex,t.numericPair),R.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,n){var r,i,o=t.gmtFormat,a="("+n+")("+n+")";return r=e.replace("+","\\+"),i=(r=-1!==e.indexOf("HH")?r.replace(/HH|mm/g,"("+a+")"):r.replace(/H|m/g,"("+a+"?)")).split(";").map((function(e){return o.replace("{0}",e)})),r=i.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,n,r){var i=e?t:n;if(!i)return 0;var o=this.internalNumberParser(i,r);return e?-o:o},e}(),F=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,H=/,/g,U=["minusSign","infinity"],z=function(){function e(){}return e.numberParser=function(e,t,n){var r,i=this,o=G.getDependables(n,e,"",!0),a={custom:!0};G.formatRegex.test(t.format)||!t.format?(u(a,G.getProperNumericSkeleton(t.format||"N")),a.custom=!1,a.fractionDigits||t.maximumFractionDigits&&(a.maximumFractionDigits=t.maximumFractionDigits)):u(a,G.customFormat(t.format,null,null));var s,c=l("numbers",o.parserObject);if(r=B.getCurrentNumericOptions(o.parserObject,B.getNumberingSystem(n),!0,v()),a.symbolRegex=B.getSymbolRegex(Object.keys(r.symbolMatch)),a.infinity=r.symbolNumberSystem[U[1]],v())a.nData=u({},{},l(a.type+"nData",c)),a.pData=u({},{},l(a.type+"pData",c)),"currency"===a.type&&t.currency&&G.replaceBlazorCurrency([a.pData,a.nData],l("currencySymbol",c),t.currency);else if(s=G.getSymbolPattern(a.type,r.numberSystem,o.numericObject,a.isAccount)){var h=(s=s.replace(/\u00A4/g,G.defaultCurrency)).split(";");a.nData=G.getFormatData(h[1]||"-"+h[0],!0,""),a.pData=G.getFormatData(h[0],!0,"")}return function(e){return i.getParsedNumber(e,a,r)}},e.getParsedNumber=function(e,t,n){var r,i,o,a,s,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=B.convertValueParts(e,t.symbolRegex,n.symbolMatch),0===(e=-1!==(e=B.convertValueParts(e,n.numberParseRegex,n.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);var c=e.match(F);if(p(c))return NaN;a=c[1],o=c[2];var h=c[5];return s=c[6],i=(r=t.custom?a===t.nData.nlead&&s===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==s.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,o=o.replace(H,""),h&&(o+=h),l=+o,("percent"===t.type||i)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?r?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(l=this.convertMaxFracDigits(o,t,l,r)),r&&(l*=-1),l},e.convertMaxFracDigits=function(e,t,n,r){var i=e.split(".");return i[1]&&i[1].length>t.maximumFractionDigits&&(n=+n.toFixed(t.custom?r?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),n},e}(),Q=function(){function e(e){this.ranArray=[],this.boundedEvents={},p(e)||(this.context=e)}return e.prototype.on=function(e,t,n,r){if(!p(t)){var i=n||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:i}]:p(r)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:i}):-1===this.ranArray.indexOf(r)&&(this.ranArray.push(r),this.boundedEvents[e].push({handler:t,context:i,id:r}))}},e.prototype.off=function(e,t,n){if(!this.notExist(e)){var r=l(e,this.boundedEvents);if(t){for(var i=0;i<r.length;i++)if(n){if(r[i].id===n){r.splice(i,1);var o=this.ranArray.indexOf(n);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===r[i].handler){r.splice(i,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t,n,r){if(this.notExist(e))n&&n.call(this,t);else{t&&(t.name=e);var i=l(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(i,t,n,r,0);for(var o=0,a=i;o<a.length;o++){var s=a[o];s.handler.call(s.context,t)}n&&n.call(this,t)}},e.prototype.blazorCallback=function(e,t,n,r,i){var o=this,a=i===e.length-1;if(i<e.length){var s=e[i],l=s.handler.call(s.context,t);if(l&&"function"===typeof l.then){if(!n)return l;l.then((function(l){if(l="string"===typeof l&&o.isJson(l)?JSON.parse(l,o.dateReviver):l,u(t,t,l,!0),!n||!a)return o.blazorCallback(e,t,n,r,i+1);n.call(s.context,t)})).catch((function(e){r&&r.call(s.context,"string"===typeof e&&o.isJson(e)?JSON.parse(e,o.dateReviver):e)}))}else{if(!n||!a)return this.blazorCallback(e,t,n,r,i+1);n.call(s.context,t)}}},e.prototype.dateReviver=function(e,t){return v&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var n=0,r=e;n<r.length;n++){if(r[n].handler===t)return!0}return!1},e}(),W=new Q,V=!1,X={},Y="en-US",K="USD";!function(){function e(e){e&&(this.culture=e)}e.prototype.getDateFormat=function(e){return k.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},X)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=K),v()&&e&&!e.format&&(e.minimumFractionDigits=0),D.numberFormatter(this.getCulture(),e||{},X)},e.prototype.getDateParser=function(e){return _.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},X)},e.prototype.getNumberParser=function(e){return v()&&e&&!e.format&&(e.minimumFractionDigits=0),z.numberParser(this.getCulture(),e||{format:"N"},X)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return G.getActualDateTimeFormat(this.getCulture(),e,X,t)},e.prototype.getNumberPattern=function(e,t){return G.getActualNumberFormat(this.getCulture(),e,X,t)},e.prototype.getFirstDayOfWeek=function(){return G.getWeekData(this.getCulture(),X)},e.prototype.getCulture=function(){return this.culture||Y}}();var G,q={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var n=["infinity","nan","group","decimal"],r=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,i={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function s(t,n,r,i,o){var a,s=r||"date";if(o)a=g({skeleton:t},o).format||g({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(a=l(s+"Formats."+t,n),"dateTime"===s){var c=l("dateFormats."+t,n),h=l("timeFormats."+t,n);a=a.replace("{1}",c).replace("{0}",h)}}else a=l("dateTimeFormats.availableFormats."+t,n);f(a)&&"yMd"===t&&(a="M/d/y")}return a}function c(t,n,r,i){var o={},a=r||"gregorian";if(o.parserObject=B.getMainObject(t,n)||(v()?e.blazorDefaultObject:e.defaultObject),i)o.numericObject=l("numbers",o.parserObject);else{var s=v()?"dates":"dates.calendars."+a;o.dateObject=l(s,o.parserObject)}return o}function h(e,t,n,r){return l(e+"Formats-numberSystem-"+t+(r?".accounting":".standard"),n)||(r?l(e+"Formats-numberSystem-"+t+".standard",n):"")}function d(t){var n=t.match(e.dateConverterMapper);if(n&&v()){var r=3===n[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,r)}return t}function g(e,t){var n=e.format||e.skeleton,r=l((t||"en-US")+"."+n,q);return r||(r=l("en-US."+n,q)),r&&(r=d(r),e.format=r.replace(/tt/,"a")),e}function A(t){var n=t.match(e.formatRegex),r={},i=n[1].toUpperCase();return r.isAccount="A"===i,r.type=e.patternMatcher[i],t.length>1&&(r.fractionDigits=parseInt(n[2],10)),r}function m(n,r,i,o){var a=o?{}:{nlead:"",nend:""},s=n.match(e.customRegex);if(s){o||(a.nlead=y(s[1],i),a.nend=y(s[10],i),a.groupPattern=s[4]);var l=s[7];if(l&&r){var c=l.match(t);p(c)?a.minimumFraction=0:a.minimumFraction=c.length,a.maximumFraction=l.length-1}}return a}function y(t,n){return t?t.replace(e.defaultCurrency,n):""}function b(e,t,n){return l("currencies."+t+(n?"."+n:".symbol"),e)||l("currencies."+t+".symbol-alt-narrow",e)||"$"}function w(t,r,i){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=t.match(e.customRegex);if(p(a)||""===a[5]&&"N/A"!==t)return o.type=void 0,o;o.nlead=a[1],o.nend=a[10];var s=a[6];o.useGrouping=-1!==s.indexOf(","),s=s.replace(/,/g,"");var l=a[7];if(-1!==s.indexOf("0")&&(o.minimumIntegerDigits=s.length-s.indexOf("0")),p(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),p(r)?u(o,x([o.nlead,o.nend],"%","%")):(u(o,x([o.nlead,o.nend],"$",r.currencySymbol)),o.isCurrency||u(o,x([o.nlead,o.nend],"%",r.percentSymbol))),!p(i)){var c=h(o.type,r.numberMapper.numberSystem,i,!1);o.useGrouping&&(o.groupSeparator=r.numberMapper.numberSymbols[n[2]],o.groupData=D.getGroupingDetails(c.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")}return o}function x(e,t,n){for(var r={nlead:e[0],nend:e[1]},i=0;i<2;i++){var o=e[i],s=o.indexOf(t);if(-1!==s&&(s<o.indexOf("'")||s>o.lastIndexOf("'"))){r[a[i]]=o.substr(0,s)+n+o.substr(s+1),r[a[t]]=!0,r.type=r.isCurrency?"currency":"percent";break}}return r}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=s,e.getDependables=c,e.getSymbolPattern=h,e.ConvertDateToWeekFormat=d,e.compareBlazorDateFormats=g,e.getProperNumericSkeleton=A,e.getFormatData=m,e.getCurrencySymbol=b,e.customFormat=function(e,t,n){for(var r={},i=e.split(";"),o=["pData","nData","zeroData"],a=0;a<i.length;a++)r[o[a]]=w(i[a],t,n);return p(r.nData)&&(r.nData=u({},r.pData),r.nData.nlead=p(t)?"-"+r.nData.nlead:t.minusSymbol+r.nData.nlead),r},e.isCurrencyPercent=x,e.getDateSeparator=function(e){var t=(l("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,n,o){var a=c(n,e,t.calendar);v()&&(t=g(t,e));var h=t.format||s(t.skeleton,a.dateObject,t.type);if(o){if(-1!==(h=h.replace(r,(function(e){return i[e]}))).indexOf("z")){var d=h.match(/z/g).length,u=void 0,p={timeZone:{}};p.numMapper=B.getNumberMapper(a.parserObject,B.getNumberingSystem(n)),p.timeZone=l("dates.timeZoneNames",a.parserObject);var f=(new Date).getTimezoneOffset(),A=d<4?"+H;-H":p.timeZone.hourFormat;A=A.replace(/:/g,p.numMapper.timeSeparator),0===f?u=p.timeZone.gmtZeroFormat:(u=k.getTimeZoneValue(f,A),u=p.timeZone.gmtFormat.replace(/\{0\}/,u)),h=h.replace(/[z]+/,'"'+u+'"')}h=h.replace(/ $/,"")}return h},e.getActualNumberFormat=function(t,n,r,i){var o,a,s=c(r,t,"",!0),d={custom:!0},p=s.numericObject,f={},g=(n.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(n.format)?A(n.format||"N"):{},w={};if(g){w.numberMapper=v()?u({},s.numericObject):B.getNumberMapper(s.parserObject,B.getNumberingSystem(r),!0);var x=v()?l("currencySymbol",s.numericObject):b(s.numericObject,n.currency||K,n.altSymbol),C=h("currency",w.numberMapper.numberSystem,s.numericObject,/a/i.test(n.format)),S=(C=C.replace(/\u00A4/g,x)).split(";");f.hasNegativePattern=!!v()||S.length>1,f.nData=v()?l(y.type+"nData",p):m(S[1]||"-"+S[0],!0,x),f.pData=v()?l(y.type+"pData",p):m(S[0],!1,x),g[2]||n.minimumFractionDigits||n.maximumFractionDigits||(o=m(C.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(n.format)||!n.format){if(u(d,A(n.format||"N")),d.custom=!1,a="###0",d.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||o){d.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=d.fractionDigits),a=function(e,t,n){e+=".";for(var r=0;r<t;r++)e+="0";if(t<n)for(var i=n-t,o=0;o<i;o++)e+="#";return e}(a,o||d.fractionDigits||n.minimumFractionDigits||0,n.maximumFractionDigits||0)}if(n.minimumIntegerDigits&&(a=function(e,t){for(var n=e.split("."),r="",i=0;i<t;i++)r+="0";return n[1]?r+"."+n[1]:r}(a,n.minimumIntegerDigits)),n.useGrouping&&(a=function(e){var t=e.split("."),n=t[0],r=3-n.length%3;e="";for(var i=(n=(r&&1===r?"#":2===r?"##":"")+n).length-1;i>0;i-=3)e=","+n[i-2]+n[i-1]+n[i]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(a)),"currency"===d.type||d.type&&v()){v()&&"currency"!==d.type&&(f.pData=l(d.type+"pData",p),f.nData=l(d.type+"nData",p));var P=a;a=f.pData.nlead+P+f.pData.nend,(f.hasNegativePattern||v())&&(a+=";"+f.nData.nlead+P+f.nData.nend)}"percent"!==d.type||v()||(a+=" %")}else a=n.format.replace(/\'/g,'"');return Object.keys(w).length>0&&(a=i?a:function(e,t){if(-1!==e.indexOf(",")){var n=e.split(",");e=n[0]+l("numberMapper.numberSymbols.group",t)+n[1].replace(".",l("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",l("numberMapper.numberSymbols.decimal",t));return e}(a,w)),a},e.getWeekData=function(e,t){var n="sun",r=l("supplemental.weekData.firstDay",t),i=e;return/en-/.test(i)&&(i=i.slice(3)),i=i.slice(0,2).toUpperCase()+i.substr(2),r&&(n=r[i]||"sun"),o[n]},e.replaceBlazorCurrency=function(e,t,n){var r=l(n||"",P);if(t!==r)for(var i=0,o=e;i<o.length;i++){var a=o[i];a.nend=a.nend.replace(t,r),a.nlead=a.nlead.replace(t,r)}},e.getWeekOfYear=function(e){var t,n=new Date(e.getFullYear(),0,1),r=n.getDay();r=r>=0?r:r+7;var i=Math.floor((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;if(r<4){if((t=Math.floor((i+r-1)/7)+1)>52){var o=new Date(e.getFullYear()+1,0,1).getDay();t=(o=o>=0?o:o+7)<4?1:53}}else t=Math.floor((i+r-1)/7);return t}}(G||(G={}));var J=/^(.*?):[ \t]*([^\r\n]*)$/gm,Z=function(){function e(e,t,n,r){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!p(n)||n):"object"===typeof e&&(this.options=e,d(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:r}return e.prototype.send=function(e){var t=this;this.data=p(e)?this.data:e;var n={cancel:!1,httpRequest:null};return new Promise((function(e,r){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,r)},p(t.onLoad)||(t.httpRequest.onload=t.onLoad),p(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),p(t.onAbort)||(t.httpRequest.onabort=t.onAbort),p(t.onError)||(t.httpRequest.onerror=t.onError),p(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),p(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(n.httpRequest=t.httpRequest,t.beforeSend(n)),n.cancel||t.httpRequest.send(p(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(r){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(n)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,n;t={};for(var r=J.exec(this.httpRequest.getAllResponseHeaders());r;)t[r[1].toLowerCase()]=r[2],r=J.exec(this.httpRequest.getAllResponseHeaders());return p(n=t[e.toLowerCase()])?null:n},e}(),$=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,ee=/msie|trident/i,te=/Trident\/7\./,ne=/(ipad|iphone|ipod touch)/i,re=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,ie=/android/i,oe=/trident|windows phone|edge/i,ae=/(version)[ \/]([\w.]+)/i,se={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var le=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},n=[],r=0,i=Object.keys(se);r<i.length;r++){var o=i[r];if(n=e.userAgent.match(se[o])){if(t.name="opr"===n[1].toLowerCase()?"opera":n[1].toLowerCase(),t.name="crios"===n[1].toLowerCase()?"chrome":t.name,t.version=n[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(te)){t.name="msie";break}var a=e.userAgent.match(ae);"safari"===t.name&&a&&(t.version=a[2]);break}}return t},e.getEvent=function(t){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer&&!e.isWindows?n[t].isPointer:e.isTouch?n[t].isTouch+(e.isDevice?"":" "+n[t].isDevice):n[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,n){var r=window.browserDetails;return"undefined"===typeof r[t]?r[t]=n.test(e.userAgent):r[t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return f(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",ee)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return f(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return f(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return f(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",$)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",ne)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",re)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",ie)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return f(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(f(window.cordova)&&f(window.PhoneGap)&&f(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",oe)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return f(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return f(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return f(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return f(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),ce=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,n,r,i,o){var a,s=e.addOrGetEventData(t);a=o?function(e,t){var n;return function(){var r=this,i=arguments,o=function(){return n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(o,t)}}(r,o):r,i&&(a=a.bind(i));for(var l=n.split(" "),c=0;c<l.length;c++)s.push({name:l[c],listener:r,debounce:a}),le.isIE?t.addEventListener(l[c],a):t.addEventListener(l[c],a,{passive:!1});return a},e.remove=function(t,n,r){for(var i=e.addOrGetEventData(t),o=n.split(" "),a=function(e){var n,a=-1;i&&0!==i.length&&i.some((function(t,i){return t.name===o[e]&&t.listener===r&&(a=i,n=t.debounce,!0)})),-1!==a&&i.splice(a,1),n&&t.removeEventListener(o[e],n)},s=0;s<o.length;s++)a(s)},e.clearEvents=function(t){var n,r;r=u([],r,n=e.addOrGetEventData(t));for(var i=0;i<r.length;i++)t.removeEventListener(r[i].name,r[i].debounce),n.shift()},e.trigger=function(t,n,r){for(var i=0,o=e.addOrGetEventData(t);i<o.length;i++){var a=o[i];a.name===n&&a.debounce.call(this,r)}},e}(),he=new RegExp("\\n|\\r|\\s\\s+","g"),de=new RegExp(/'|"/g),ue=new RegExp("if ?\\("),pe=new RegExp("else if ?\\("),fe=new RegExp("else"),ge=new RegExp("for ?\\("),Ae=new RegExp("(/if|/for)"),me=new RegExp("\\((.*)\\)",""),ye=new RegExp("^[0-9]+$","g"),ve=new RegExp("[\\w\"'.\\s+]+","g"),be=new RegExp('"(.*?)"',"g"),we=new RegExp("[\\w\"'@#$.\\s+]+","g"),xe=new RegExp("\\${([^}]*)}","g"),Ce=/^\..*/gm,Se=/\\/gi,Be=/\\\\/gi,Pe=new RegExp("[\\w\"'@#$.\\s+]+","g"),Ee=/\window\./gm;function Oe(e,t,n){var r="data",i=function(e,t,n,r){var i=0,o=[],a=e.match(/class="([^\"]+|)\s{2}/g),s="";a&&a.forEach((function(t){s=t.replace(/\s\s+/g," "),e=e.replace(t,s)}));return e.replace(he,"").replace(be,"'$1'").replace(xe,(function(e,a,s,l){var c=/\@|\#|\$/gm,h=a.match(me);if(h){var d=h[1];if(pe.test(a))a='";} '+a.replace(h[1],d.replace(ve,(function(e){return Te(e=e.trim(),!de.test(e)&&-1===o.indexOf(e),t,o,r)})))+'{ \n str = str + "';else if(ue.test(a))a='"; '+a.replace(h[1],d.replace(we,(function(e){return ke(e,t,o,r)})))+'{ \n str = str + "';else if(ge.test(a)){var u=h[1].split(" of ");a='"; '+a.replace(h[1],(function(e){return o.push(u[0]),o.push(u[0]+"Index"),"var i"+(i+=1)+"=0; i"+i+" < "+Te(u[1],!0,t,o,r)+".length; i"+i+"++"}))+"{ \n "+u[0]+"= "+Te(u[1],!0,t,o,r)+"[i"+i+"]; \n var "+u[0]+"Index=i"+i+'; \n str = str + "'}else{var p=a.split("("),f=n&&n.hasOwnProperty(p[0])?"this.":"global";f=/\./.test(p[0])?"":f;var g=h[1].split(",");0===h[1].length||/data/.test(g[0])||/window./.test(g[0])||(h[1]="global"===f?t+"."+h[1]:h[1]);var A=/\@|\$|\#/gm,m=/\]\./gm;if(Ee.test(a)&&m.test(a)||A.test(a))/\@|\$|\#|\]\./gm.test(a)&&(a='"+ '+("global"===f?"":f)+a.replace(h[1],d.replace(Pe,(function(e){return ke(e,t,o,r)})))+'+ "');else a='" + '+("global"===f?"":f)+a.replace(d,Te(h[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==f,t,o,r))+'+"'}}else fe.test(a)?a='"; '+a.replace(fe,'} else { \n str = str + "'):a.match(Ae)?a=a.replace(Ae,'"; \n } \n str = str + "'):c.test(a)?(a.match(Se)&&(a=Le(a)),a='"+'+Ie(a,-1===o.indexOf(a),t,o)+'"]+"'):a=a.match(Se)?'"+'+Ie(a=Le(a),-1===o.indexOf(a),t,o)+'"]+"':'"+'+Te(a.replace(/\,/gi,"+"+t+"."),-1===o.indexOf(a),t,o,r)+'+"';return a}))}(e,r,t,n);return new Function(r,'var str="'+i+'"; return str;').bind(t)}function Te(e,t,n,r,i){return!t||ye.test(e)||-1!==r.indexOf(e.split(".")[0])||i?e:n+"."+e}function Ie(e,t,n,r){return t&&!ye.test(e)&&-1===r.indexOf(e.split(".")[0])?n+'["'+e:e}function Le(e){return e=e.match(Be)?e:e.replace(Se,"\\\\")}function ke(e,t,n,r){e=e.trim();if(/\window\./gm.test(e))return e;var i=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=Ie(e,-1===n.indexOf(e),t,n)+'"]'),Ce.test(e)?function(e,t,n,r){return!t||ye.test(e)||-1!==r.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:n+"."+e}(e,!i.test(e)&&-1===n.indexOf(e),t,n):Te(e,!i.test(e)&&-1===n.indexOf(e),t,n,r)}var Ne=/^[\n\r.]+\<tr|^\<tr/,Me=/^[\n\r.]+\<svg|^\<path|^\<g/,De={};function Re(){return"-"+Math.random().toString(36).substr(2,5)}function je(e,t,n){var r=Ue.compile(e,t,n);return function(e,t,n,i,o,a,s){var l=r(e,t,n,s),c="BlazorTemplateId";if(v()&&!o){var h=i+Re();if(De[i]||(De[i]=[]),p(a))e.BlazorTemplateId=h,De[i].push(e);else for(var d=0,u=Object.keys(De[i][a]);d<u.length;d++){var f=u[d];f!==c&&e[f]&&(De[i][a][f]=e[f]),f===c&&(h=De[i][a][f])}return"rowTemplate"===n?[it("tr",{id:h,className:"e-blazor-template"})]:[it("div",{id:h,className:"e-blazor-template"})]}return"string"===typeof l?Me.test(l)?it("svg",{innerHTML:l}).childNodes:it(Ne.test(l)?"table":"div",{innerHTML:l}).childNodes:l}}function _e(e,t,n,r,i){if(v()){window.sfBlazor.updateTemplate(t,De[e],e,n,i),!1!==r&&(De[e]=[])}}function Fe(e,t,n){var r=document.getElementById(e);if(r)for(var i=r.getElementsByClassName("blazor-inner-template"),o=0;o<i.length;o++){var a=" ";a=p(n)?i[o].getAttribute("data-templateId"):i[n].getAttribute("data-templateId");var s=document.getElementById(a);if(s)for(var l=s.childNodes.length,c=0;c<l;c++)p(n)?i[o].appendChild(s.childNodes[0]):(i[n].appendChild(s.childNodes[0]),o=i.length)}}var He,Ue={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t,n){return void 0===t&&(t={}),Oe(e,t)},e}())).compile},ze=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Qe=/(?:#([\w-]+)|(\w+)|\.([\w-]+))/g,We=/^(\.|#)/,Ve={".":"className","#":"id"},Xe={className:"attributes.className",id:"attributes.id",tagName:"tagName"},Ye=["area","base","basefont","br","col","frame","hr","img","input","link","meta","param","embed","command","keygen","source","track","wbr"],Ke=["a","address","article","applet","aside","audio","blockquote","button","canvas","center","dd","del","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","ins","isindex","li","map","menu","noframes","noscript","object","ol","output","p","pre","section","script","table","tbody","td","tfoot","th","thead","tr","ul","video"],Ge=["abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],qe=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],Je=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"],Ze=["Script","style"],$e={tabindex:"tabIndex"},et=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,tt=/^<\/([-A-Za-z0-9_]+)[^>]*>/,nt=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;!function(e){function t(e,t){t&&e&&e.forEach((function(e){return h(e)&&(e.parent&&n(e),e.parent=t),e}))}function n(e){var t=e.parent;if(t){var n=t.children.indexOf(e);-1!==n&&t.children.splice(n)}return t}function r(e,t){var n=e.match(We),r={};if(n){var i=Ve[n[0]];if("className"===i){var o=t.filter((function(e){return e.hasOwnProperty("className")}))[0],a=!1;o||(a=!0,o={});var s=o[i]||"";o[i]=s+"(?=.*?\\b{value}\\b)".replace("{value}",e.replace(".","")),a&&t.push(o)}else r[i]=e.replace(n[0],""),t.push(r)}else t.push({tagName:e})}function i(e,t,n,r){if(e.children){var o=e.children.filter((function(e){if("string"!==typeof e){for(var n=!0,r=0,i=t;r<i.length;r++){var o=i[r],a=Object.keys(o)[0],s=o[a],c=l(Xe[a],e);if("className"===a){if(!new RegExp("^"+s+".*$").test(c)){n=!1;break}}else if(c!==s){n=!1;break}}return n}return!1}));return r||o.length&&!n||e.children.forEach((function(e){h(e)&&(o=o.concat(i(e,t,n)))})),o}return[]}function o(e){for(var t,n=[],r=[],i=[];e;){t=!0;var o=a(r);if(o&&s(Ze,o))e=e.replace(new RegExp("([\\s\\S]*?)</"+a(i)+"[^>]*>"),(function(e,t){return p(t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2")),""})),u("",a(r));else{if(0===e.indexOf("</"))(l=e.match(tt))&&(e=e.substring(l[0].length),l[0].replace(tt,u)),t=!1;else if(0===e.indexOf("<")){var l;(l=e.match(et))&&(e=e.substring(l[0].length),l[0].replace(et,d)),t=!1}if(t){var c=e.indexOf("<"),h=c<0?e:e.substring(0,c);e=c<0?"":e.substring(c),p(h)}}e}function d(e,t,o){if(t=t.toLowerCase(),s(Ke,t))for(;a(r)&&s(Ge,a(r));)u("",a(r));s(qe,t)&&a(r)&&u("",t);var l=s(Ye,t);l||r.push(t);var c={};o.replace(nt,(function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[2]?n[2]:n[3]?n[3]:n[4]?n[4]:s(Je,t)?t:"";if("style"===t){for(var o=i.split(";"),a={},l=0,h=o.length;l<h;l++){var d=o[l],u=d.split(":");a[u[0]]=u[1]}i=a}c[t=$e[t]||t]=i})),c["data-id"]=Re();var h={tagName:t,attributes:c};if(l){var d=i[0]||n;void 0===d.children&&(d.children=[]),h.parent=d,d.children.push(h)}else i.unshift(h)}function u(e,t){var o;if(t)for(o=r.length-1;o>=0&&r[o]!==t;o--);else o=0;if(o>=0){for(var a=i.length-1;a>=o;a--){var s=i.shift();if(0===i.length)n.push(s);else{var l=i[0];void 0===l.children&&(l.children=[]),s.parent=l,l.children.push(s)}}r.length=o}}function p(e){if(0===i.length)n.push(e);else{var t=i[0];void 0===t.children&&(t.children=[]),t.children.push(e)}}return n}function a(e){return e[e.length-1]}function s(e,t){return-1!==e.indexOf(t)}e.createElement=function(e,t){var n=[],r=u({},{},t,!0);if(!p(t)&&Object.keys(t).length&&(r.innerHTML&&(n=o(r.innerHTML),delete r.innerHTML),r.attrs&&(u(r,r.attrs),delete r.attrs),r.styles)){for(var i=r.styles.split(";"),a={},s=0,l=i.length;s<l;s++){var c=i[s].split(":");a[c[0]]=c[1]}delete r.styles,r.style=a}return{tagName:e,attributes:r||{},children:n}},e.assignParent=t,e.append=function(e,n){t(e,n),n.children?n.children=n.children.concat(e):n.children=[].concat(e)},e.prepend=function(e,n){if(t(e,n),n.children&&n.children.length)for(var r=e.length-1;r>=0;r--)n.children.unshift(e[r]);else n.children=[],n.children.concat(e)},e.detach=n,e.vDomSelector=function e(t){for(var n=t.ele,o=t.selector,a=t.selectAll,s=t.immediateParent,l=o.split(" "),c=n,h=0,d=l.length;h<d;h++){var u=!1,p=c,f=l[h],g=[];if(ze.test(f))!0,r(f,g);else if(-1===f.indexOf(">"))for(var A=0,m=f.match(Qe);A<m.length;A++){r(m[A],g)}else if(-1!==f.indexOf(">")){u=!0;for(var y=n,v=void 0,b=0,w=0,x=f.split(">");w<x.length;w++){var C=x[w];if(!y)break;if(y.length){for(var S=[],B=0,P=y;B<P.length;B++){var E=P[B];S=S.concat(e({ele:E,selector:C,selectAll:a,immediateParent:!!b}))}v=S}else v=e({ele:y,selector:C,selectAll:a,immediateParent:!!b});b++,y=v}v&&(c=v)}if(!u)if(p.length){for(var O=[],T=0,I=p;T<I.length;T++){var L=I[T];O=O.concat(i(L,g,a,s))}c=O}else c=i(p,g,a,s)}return a?c:c[0]||null},e.accessElement=i,e.ConvertHTMLToJSon=o,e.cloneNode=function(e,t){return h(e)?t?u({},{},e,!0):{tagName:e.tagName,attributes:e.attributes}:e.cloneNode(t)},e.setStyleAttribute=function(e,t){e.attributes.style?e.attributes.style=u({},t):e.attributes.style=u(e.attributes.style,t)}}(He||(He={}));var rt=/^svg|^path|^g/;function it(e,t){var n=rt.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(n.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(n.className=t.className),void 0!==t.id&&(n.id=t.id),void 0!==t.styles&&n.setAttribute("style",t.styles),void 0!==t.attrs&&ft(n,t.attrs)),n}function ot(e,t){for(var n=st(t),r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=n;a<s.length;a++){var d=s[a];if(h(o)){var u=l("attributes.className",o);p(u)?c("attributes.className",d,o):new RegExp("\\b"+d+"\\b","i").test(u)||c("attributes.className",u+" "+d,o)}else o.classList.contains(d)||o.classList.add(d)}return e}function at(e,t){for(var n=st(t),r=0,i=e;r<i.length;r++){var o=i[r],a=h(o);if(a?l("attributes.className",o):""!==o.className)for(var s=0,d=n;s<d.length;s++){var u=d[s];if(a){var p=l("attributes.className",o).split(" "),f=p.indexOf(u);-1!==f&&p.splice(f,1),c("attributes.className",p.join(" "),o)}else o.classList.remove(u)}}return e}function st(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function lt(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function ct(e,t,n){if(h(t))He.prepend(e,t);else{for(var r=document.createDocumentFragment(),i=0,o=e;i<o.length;i++){var a=o[i];r.appendChild(a)}t.insertBefore(r,t.firstElementChild),n&&dt(t)}return e}function ht(e,t,n){if(h(t))He.append(e,t);else{for(var r=document.createDocumentFragment(),i=0,o=e;i<o.length;i++){var a=o[i];r.appendChild(a)}t.appendChild(r),n&&dt(t)}return e}function dt(e){e.querySelectorAll("script").forEach((function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),ut(t)}))}function ut(e){if(h(e))return He.detach(e);var t=e.parentNode;return t?t.removeChild(e):void 0}function pt(e){if(h(e))He.detach(e);else{var t=e.parentNode;ce.clearEvents(e),t.removeChild(e)}}function ft(e,t){for(var n=e,r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(h(n)){var a=o;"tabindex"===o&&(a="tabIndex"),n.attributes[a]=t[o]}else n.setAttribute(o,t[o])}return n}function gt(e,t,n){return void 0===t&&(t=document),h(t)&&n?He.vDomSelector({ele:t,selector:e,selectAll:!1}):(e=mt(e),t.querySelector(e))}function At(e,t,n){return void 0===t&&(t=document),h(t)&&!n?He.vDomSelector({ele:t,selector:e,selectAll:!0}):(e=mt(e),t.querySelectorAll(e))}function mt(e){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(e.match(/#[0-9]/g)||e.match(t)){for(var n=e.split(","),r=0;r<n.length;r++){for(var i=n[r].split(" "),o=0;o<i.length;o++)if(i[o].indexOf("#")>-1&&!i[o].match(/\[.*\]/)){var a=i[o].split("#");if(a[1].match(/^\d/)||a[1].match(t)){var s=i[o].split(".");s[0]=s[0].replace(/#/,"[id='")+"']",i[o]=s.join(".")}}n[r]=i.join(" ")}return n.join(",")}return e}function yt(e,t){var n=e;if("function"===typeof n.closest)return n.closest(t);for(;n&&1===n.nodeType;){if(wt(n,t))return n;n=n.parentNode}return null}function vt(e,t){void 0!==t&&(h(e)?He.setStyleAttribute(e,t):Object.keys(t).forEach((function(n){e.style[n]=t[n]})))}function bt(e,t,n){ot([e],t),at([e],n)}function wt(e,t){var n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return n?n.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var xt=new RegExp("]"),Ct=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new Q(this),f(t)||(this.element="string"===typeof t?document.querySelector(t):t,p(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),f(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!t,d(this,e),!0!==t?(d(this.changedProperties,e),this.dataBind()):v()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n},e.callChildDataBind=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t[i]instanceof Array)for(var o=0,a=t[i];o<a.length;o++){var s=a[o];void 0!==s.dataBind&&s.dataBind()}else t[i].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,n=this.changedProperties,r=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,r),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(v()){e=e||{},u(this.bulkChanges,{},e,!0);this.allowServerDataBinding&&window.sfBlazor.updateModel&&(window.sfBlazor.updateModel(this),this.bulkChanges={})}},e.prototype.saveChanges=function(e,t,n){if(v()){var r={};r[e]=t,this.serverDataBind(r)}this.isProtectedOnChange||(this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var r="ej2"+function(e){for(var t="",n=0;n<5;n++)t+=(n?",":"")+e[n];return t}(n),i=function(n){n.source===window&&"string"===typeof n.data&&n.data.length<=32&&n.data===r&&(e(),t())};return window.addEventListener("message",i,!1),window.postMessage(r,"*"),t=function(){window.removeEventListener("message",i),e=i=r=void 0}}(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,n,r){var i=this;if(!0!==this.isDestroyed){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(e,t,n,r);if(xt.test(e)){var s=l(e,this);if(s){if(window.Blazor){var c=s.call(this,t);c&&"function"===typeof c.then?n?c.then((function(e){n&&(e="string"===typeof e&&i.modelObserver.isJson(e)?JSON.parse(e):e,n.call(i,e))})).catch((function(e){r&&(e="string"===typeof e&&i.modelObserver.isJson(e)?JSON.parse(e):e,r.call(i,e))})):a=c:n&&n.call(this,t)}else s.call(this,t),n&&n.call(this,t)}else n&&n.call(this,t)}return this.isProtectedOnChange=o,a}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();ot([this.element],["e-lib",e]),p(this.element.ej2_instances)?c("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),at([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&at([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function St(e,t,n,r){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof r||(e.properties[t]=s(r,[e,t,n])),e.properties[t]}function Bt(e,t,n,r,i,o){for(var a=[],l=n?n.length:0,c=0;c<l;c++){var h=r;if(o&&(h=r(n[c],e)),i){var d=s(h,[e,t,{},!0]);d.setProperties(n[c],!0),a.push(d)}else a.push(s(h,[e,t,n[c],!1]))}return a}function Pt(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function Et(e,t){return function(n){if(this.properties[t]!==n){var r=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,n,r),this.properties[t]=n}}}function Ot(e,t,n){return function(){return St(this,t,e,n)}}function Tt(e,t,n){return function(r){St(this,t,e,n).setProperties(r)}}function It(e,t,n){return function(){var r=n({});return this.properties.hasOwnProperty(t)?this.properties[t]:St(this,t,e,r)}}function Lt(e,t,n){return function(r){var i=n(r,this);St(this,t,e,i).setProperties(r)}}function kt(e,t,n){return function(){var r=this;if(!this.properties.hasOwnProperty(t)){var i=Bt(this,t,e,n,!1);this.properties[t]=i}var o=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||o||["push","pop"].forEach((function(e){var i={value:Rt(e,t,n,r.properties[t]).bind(r),configurable:!0};Object.defineProperty(r.properties[t],e,i)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function Nt(e,t,n){return function(r){this.isComplexArraySetter=!0;var i=Bt(this,t,e,n,!1),o=Bt(this,t,r,n,!0);this.isComplexArraySetter=!1,this.saveChanges(t,o,i),this.properties[t]=o}}function Mt(e,t,n){return function(r){var i=this.properties.hasOwnProperty(t)?this.properties[t]:e,o=Bt(this,t,r,n,!0,!0);this.saveChanges(t,o,i),this.properties[t]=o}}function Dt(e,t,n){return function(){var r=n({});if(!this.properties.hasOwnProperty(t)){var i=Bt(this,t,e,r,!1);this.properties[t]=i}return this.properties[t]}}function Rt(e,t,n,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var a=0;a<n.length;a++){Array.prototype[e].apply(r,[n[a]]);var s=jt(o+(r.length-1),n[a],!this.controlParent,e);this.serverDataBind(s,n[a],!1,e)}break;case"pop":Array.prototype[e].apply(r);var l=jt(o+r.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return r}}function jt(e,t,n,r){var i=e;if(n&&((i={})[e]=t,t&&"object"===typeof t)){i[e].ejsAction=r}return i}function _t(e){return function(t,n){var r={set:Et(e,n),get:Pt(e,n),enumerable:!0,configurable:!0};Object.defineProperty(t,n,r),Vt(t,n,"prop",e)}}function Ft(e,t){return function(n,r){var i={set:Tt(e,r,t),get:Ot(e,r,t),enumerable:!0,configurable:!0};Object.defineProperty(n,r,i),Vt(n,r,"complexProp",e,t)}}function Ht(e){return function(t,n){var r={set:Lt({},n,e),get:It({},n,e),enumerable:!0,configurable:!0};Object.defineProperty(t,n,r),Vt(t,n,"complexProp",{},e)}}function Ut(e,t){return function(n,r){var i={set:Nt(e,r,t),get:kt(e,r,t),enumerable:!0,configurable:!0};Object.defineProperty(n,r,i),Vt(n,r,"colProp",e,t)}}function zt(e){return function(t,n){var r={set:Mt([],n,e),get:Dt([],n,e),enumerable:!0,configurable:!0};Object.defineProperty(t,n,r),Vt(t,n,"colProp",{},e)}}function Qt(){return function(e,t){var n={set:function(e){var n=this.properties[t];if(n!==e){var r=Xt(this,t);!1===f(n)&&r.context.removeEventListener(r.prefix,n),r.context.addEventListener(r.prefix,e),this.properties[t]=e}},get:Pt(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n),Vt(e,t,"event")}}function Wt(e){}function Vt(e,t,n,r,i){f(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[n+"s"].push({propertyName:t,defaultValue:r,type:i}),e.propList[n+"Names"].push(t)}function Xt(e,t){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:t};var n=l("propName",e);return n&&(t=n+"-"+t),Xt(l("parentObj",e),t)}var Yt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gt=function(e){function t(t){var n=e.call(this,t,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var n;return Yt(t,e),n=t,t.prototype.animate=function(e,t){t=t||{};var r=this.getModel(t);if("string"===typeof e)for(var i=0,o=Array.prototype.slice.call(At(e,document));i<o.length;i++){var a=o[i];r.element=a,n.delayAnimation(r)}else r.element=e,n.delayAnimation(r)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var n=e.getAttribute("e-animation-id");if(n){var r=parseInt(n,10);cancelAnimationFrame(r),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout((function(){n.applyAnimation(e)}),e.delay):n.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var n=0,r=0,i=0,o=e.duration;e.element.setAttribute("e-animate","true");!function a(s){try{if(s){i=0===i?s:i,e.timeStamp=s+e.timeStamp-i,i=s,!n&&e.begin&&e.begin.call(t,e),n+=1;var l=e.timeStamp/n;e.timeStamp<o&&e.timeStamp+l<o&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(a)):(cancelAnimationFrame(r),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else performance.now(),r=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",r.toString())}catch(c){cancelAnimationFrame(r),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,c)}}()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},Kt([_t("FadeIn")],t.prototype,"name",void 0),Kt([_t(400)],t.prototype,"duration",void 0),Kt([_t("ease")],t.prototype,"timingFunction",void 0),Kt([_t(0)],t.prototype,"delay",void 0),Kt([Qt()],t.prototype,"progress",void 0),Kt([Qt()],t.prototype,"begin",void 0),Kt([Qt()],t.prototype,"end",void 0),Kt([Qt()],t.prototype,"fail",void 0),t=n=Kt([Wt],t)}(Ct);function qt(e,t,n){var r=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===r.rippleFlag||void 0===r.rippleFlag&&!tn?Function:(e.setAttribute("data-ripple","true"),ce.add(e,"mousedown",Jt,{parent:e,rippleOptions:r}),ce.add(e,"mouseup",Zt,{parent:e,rippleOptions:r,done:n}),ce.add(e,"mouseleave",$t,{parent:e,rippleOptions:r}),le.isPointer&&ce.add(e,"transitionend",$t,{parent:e,rippleOptions:r}),function(){e.removeAttribute("data-ripple"),ce.remove(e,"mousedown",Jt),ce.remove(e,"mouseup",Zt),ce.remove(e,"mouseleave",$t),ce.remove(e,"transitionend",$t)})}function Jt(e){var t=e.target,n=this.rippleOptions.selector,r=n?yt(t,n):t;if(!(!r||this.rippleOptions&&yt(t,this.rippleOptions.ignore))){var i=r.getBoundingClientRect(),o=e.pageX-document.body.scrollLeft,a=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),s=Math.max(Math.abs(o-i.left),Math.abs(o-i.right)),l=Math.max(Math.abs(a-i.top),Math.abs(a-i.bottom)),c=Math.sqrt(s*s+l*l),h=2*c+"px",d=o-i.left-c,u=a-i.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,u=0,h="100%"),r.classList.add("e-ripple");var p=it("div",{className:"e-ripple-element",styles:"width: "+h+";height: "+h+";left: "+d+"px;top: "+u+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});r.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)",r!==this.parent&&ce.add(r,"mouseleave",$t,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Zt(e){en(e,this)}function $t(e){en(e,this)}function en(e,t){var n=t.rippleOptions.duration,r=e.target,i=t.rippleOptions.selector,o=i?yt(r,i):r;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var a=At(".e-ripple-element",o),s=a[a.length-1];s&&(s.style.opacity="0.5"),t.parent!==o&&ce.remove(o,"mouseleave",$t),setTimeout((function(){s&&s.parentNode&&s.parentNode.removeChild(s),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),t.done&&t.done(e)}),n)}}var tn=!1;var nn,rn=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(var r=0;r<n;r++)for(var i=e[r],o=0,a=t;o<a.length;o++){var l=a[o],h=i.member;if(l.prototype.getModuleName()===i.member&&!this.isModuleLoaded(h)){var d=s(l,i.args),u=this.getMemberName(h);i.isProperty?c(u,l,this.parent):c(u,d,this.parent);var p=i;p.member=u,this.loadedModules.push(p)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var n=t[e];n.isProperty||l(n.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t,n,r=this,i=e.map((function(e){return r.getMemberName(e.member)})),o=0,a=this.loadedModules.filter((function(e){return-1===i.indexOf(e.member)}));o<a.length;o++){var s=a[o];s.isProperty||l(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),t=this.parent,n=s.member,delete t[n]}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,n=this.loadedModules;t<n.length;t++){if(n[t].member===this.getMemberName(e))return!0}return!1},e}(),on=function(){function e(e,t,n,r){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=l("callChildDataBind",Ct),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=r,this.setProperties(n,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(d(this,e),this.updateChange(!1,this.propName),this.clearChanges()):d(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(c(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),c(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,n,r){this.controlParent.isProtectedOnChange||(r||this.serverDataBind(e,t,!0),this.oldProperties[e]=n,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,n,r){if(v()&&!this.parentObj.isComplexArraySetter){var i,o={},a=n?this.getParentKey(!0)+"."+e:e;if(-1!==a.indexOf(".")){var s=a.split(".");i=o;for(var l=0;l<s.length;l++){var c=l===s.length-1;i[s[l]]=c?t:{},i=c?i:i[s[l]]}}else o[a]={},i=o[a],o[a][e]=t;if(this.isParentArray){i.ejsAction=r||"none"}this.controlParent.serverDataBind(o)}},e.prototype.getParentKey=function(e){var t="",n=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var r=this.parentObj[this.propName].length;r=e?r:r>0?r-1:0,n+=t=-1!==t?"-"+t:"-"+r}return this.controlParent!==this.parentObj&&(n=this.parentObj.getParentKey()+"."+this.propName+t),n},e}(),an=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ln=0,cn=0,hn=!1;var dn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),r.isStringTemplate=!1,r.needsID=!1,r.isReactHybrid=!1,p(r.enableRtl)&&r.setProperties({enableRtl:V},!0),p(r.locale)&&r.setProperties({locale:Y},!0),r.moduleLoader=new rn(r),r.localObserver=new Q(r),W.on("notifyExternalChange",r.detectFunction,r,r.randomId),f(n)||r.appendTo(),r}return an(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(at([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),W.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Q(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return hn?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.appendTo=function(t){if(p(t)||"string"!==typeof t?p(t)||(this.element=t):this.element=gt(t,document),!p(this.element)){var n="e-"+this.getModuleName().toLowerCase();ot([this.element],["e-control",n]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var r=l("ej2_instances",this.element);r&&-1!==r.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(v()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,n){if("string"===typeof e)this.localObserver.on(e,t,n);else for(var r=0,i=e;r<i.length;r++){var o=i[r];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var n=0,r=e;n<r.length;n++){var i=r[n];this.localObserver.off(i.event,i.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[n])&&this.prototype.injectedModules.push(e[n])},t.prototype.createElement=function(e,t,n){return n&&this.isReactHybrid?(t&&(t={}),t["data-id"]=Re(),He.createElement(e,t)):it(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e;p(e=hn?window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(hn?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(){},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(ln=0),nn=this.pageID(location.href),cn=history.length,e+"_"+nn+"_"+ln++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return nn!==this.pageID(location.href)||cn!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,n={},r=0,i=e;r<i.length;r++){var o,a=i[r];f(o=l(a,this))||c(a,this.getActualProperties(o),n)}return JSON.stringify(n,(function(e,n){return t.getActualProperties(n)}))},t.prototype.getActualProperties=function(e){return e instanceof on?l("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var n={},r=function(r){if(-1===t.indexOf(r)){var o=e[r];if("object"!==typeof o||o instanceof Array)n[r]=o;else{var a=t.filter((function(e){return new RegExp(r+".").test(e)})).map((function(e){return e.replace(r+".","")}));n[r]=i.iterateJsonProperties(i.getActualProperties(o),a)}}},i=this,o=0,a=Object.keys(e);o<a.length;o++){r(a[o])}return n},sn([_t(!1)],t.prototype,"enablePersistence",void 0),sn([_t()],t.prototype,"enableRtl",void 0),sn([_t()],t.prototype,"locale",void 0),t=sn([Wt],t)}(Ct);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){ln=0}));var un=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fn={left:0,top:0,bottom:0,right:0},gn={isDragged:!1},An=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return un(t,e),pn([_t(0)],t.prototype,"left",void 0),pn([_t(0)],t.prototype,"top",void 0),t}(on),mn=function(e){function t(t,r){var i=e.call(this,r,t)||this;return i.dragLimit=n.getDefaultPosition(),i.borderWidth=n.getDefaultPosition(),i.padding=n.getDefaultPosition(),i.diffX=0,i.prevLeft=0,i.prevTop=0,i.dragProcessStarted=!1,i.tapHoldTimer=0,i.externalInitialize=!1,i.diffY=0,i.parentScrollX=0,i.parentScrollY=0,i.droppables={},i.bind(),i}var n;return un(t,e),n=t,t.prototype.bind=function(){this.toggleEvents(),le.isIE&&ot([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return u({},fn)},t.prototype.toggleEvents=function(e){var t;f(this.handle)||(t=gt(this.handle,this.element));var n=this.enableTapHold&&le.isDevice&&le.isTouch?this.mobileInitialize:this.initialize;e?ce.remove(t||this.element,le.touchStartEvent,n):ce.add(t||this.element,le.touchStartEvent,n,this)},t.prototype.mobileInitialize=function(e){var t=this,n=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,n)}),this.tapHoldThreshold),ce.add(document,le.touchMoveEvent,this.removeTapholdTimer,this),ce.add(document,le.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),ce.remove(document,le.touchMoveEvent,this.removeTapholdTimer),ce.remove(document,le.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return p(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),p(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var n=this.abort;"string"===typeof n&&(n=[n]);for(var r=0;r<n.length;r++)if(!p(yt(e.target,n[r])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!f(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){var o=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(o.left+this.parentScrollX),this.relativeYPosition=i.pageY-(o.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(ce.add(document,le.touchMoveEvent,this.intDragStart,this),ce.add(document,le.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,ce.trigger(document.documentElement,le.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!f(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var n,r=this.getCoordinates(e),i=getComputedStyle(this.element);this.margin={left:parseInt(i.marginLeft,10),top:parseInt(i.marginTop,10),right:parseInt(i.marginRight,10),bottom:parseInt(i.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var a=yt(e.target,this.dragTarget);p(a)||(o=a)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);var s=this.initialPosition.x-r.pageX,l=this.initialPosition.y-r.pageY;if(Math.sqrt(s*s+l*l)>=this.distance||this.externalInitialize){var c=this.getHelperElement(e);if(!c||p(c))return;var h=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(h.offsetParent),this.dragStart){var d={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:v()?this.bindDragEvents.bind(this):null,dragElement:h};this.trigger("dragStart",d)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var u=getComputedStyle(o),g=parseFloat(u.marginTop);this.clone&&0!==g&&(n.top+=g);var A=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},vt(h,this.getDragPosition({position:"absolute",left:A.left,top:A.top})),ce.remove(document,le.touchMoveEvent,this.intDragStart),ce.remove(document,le.touchEndEvent,this.intDestroy),v()||this.bindDragEvents(h)}}},t.prototype.bindDragEvents=function(e){lt(e)?(ce.add(document,le.touchMoveEvent,this.intDrag,this),ce.add(document,le.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(p(e))return{left:0,top:0};var t=e.getBoundingClientRect(),n=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(n.marginLeft,10),top:t.top+window.pageYOffset-parseInt(n.marginTop,10)}},t.prototype.intDrag=function(e){if(f(e.changedTouches)||1===e.changedTouches.length){var t,n;this.position=this.getMousePosition(e,this.isDragScroll);var r=this.getDocumentWidthHeight("Height");r<this.position.top&&(this.position.top=r);var i=this.getDocumentWidthHeight("Width");if(i<this.position.left&&(this.position.left=i),this.drag){var o=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:o})}var a=this.checkTargetElement(e);if(a.target&&a.instance){var s=!0;this.hoverObject&&(this.hoverObject.instance!==a.instance?this.triggerOutFunction(e,a):s=!1),s&&(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a)}else this.hoverObject&&this.triggerOutFunction(e,a);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var c=this.parentClientRect.left,h=this.parentClientRect.top,d=this.getCoordinates(e),u=d.pageX,g=d.pageY,A=this.position.left-this.diffX,m=this.position.top-this.diffY,y=getComputedStyle(l),v=parseFloat(y.marginTop);if(this.dragArea){if(this.pageX!==u||this.skipDistanceCheck){var b=l.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>A&&A>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<A+b&&A>0?A-(A-this.dragLimit.right)+window.pageXOffset-b:A<0?this.dragLimit.left:A}if(this.pageY!==g||this.skipDistanceCheck){var w=l.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));n=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+w&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-w:m<0?this.dragLimit.top:m}}else t=A,n=m;var x,C,S=h+this.borderWidth.top,B=c+this.borderWidth.left;if(this.dragProcessStarted&&(p(n)&&(n=this.prevTop),p(t)&&(t=this.prevLeft)),this.dragArea){if(this.dragLimit.top=this.clone?this.dragLimit.top:0,x=n-S<0?this.dragLimit.top:n-S,C=t-B<0?this.dragElePosition.left:t-B,v>0&&(this.clone&&(x+=this.element.offsetTop,m<0&&(this.element.offsetTop+m>=0?x=this.element.offsetTop+m:x-=this.element.offsetTop),x=this.dragLimit.bottom<x?this.dragLimit.bottom:x),n-S<0))if(m+v+(l.offsetHeight-S)>=0){var P=this.dragLimit.top+m-S;P+v+S<0?x-=v+S:x=P}else x-=v+S}else x=n-S,C=t-B;var E=this.getProcessedPositionValue({top:x+"px",left:C+"px"});vt(l,this.getDragPosition(E)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=n,this.position.left=t,this.position.top=n,this.pageX=u,this.pageY=g}},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=u({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,n=document.documentElement;return Math.max(t["scroll"+e],n["scroll"+e],t["offset"+e],n["offset"+e],n["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,f(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(e);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(e,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),ce.remove(document,le.touchMoveEvent,this.intDragStart),ce.remove(document,le.touchEndEvent,this.intDragStop),ce.remove(document,le.touchEndEvent,this.intDestroy),ce.remove(document,le.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(gn.isDragged=!gn.isDragged),gn.isDragged},t.prototype.setDragArea=function(){var e,t,n,r=0,i=0;if(n="string"===typeof this.dragArea?gt(this.dragArea):this.dragArea){var o=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:o.right-o.left,t=n.scrollHeight?n.scrollHeight:o.bottom-o.top;for(var a=["Top","Left","Bottom","Right"],s=getComputedStyle(n),l=0;l<a.length;l++){var c=a[l],h=s["border"+c+"Width"],d=s["padding"+c],u=c.toLowerCase();this.borderWidth[u]=isNaN(parseFloat(h))?0:parseFloat(h),this.padding[u]=isNaN(parseFloat(d))?0:parseFloat(d)}r=o.top,i=o.left,this.dragLimit.left=i+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=i+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=r+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,n=this.getCoordinates(e),r=this.helperElement.style.pointerEvents||"";return A(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=r):t=e.target,t},t.prototype.currentStateCheck=function(e,t){return p(this.currentStateTarget)||this.currentStateTarget===e?p(t)?e:t:this.currentStateTarget},t.prototype.getMousePosition=function(e,t){var n,r,i=void 0!==e.srcElement?e.srcElement:e.target,o=this.getCoordinates(e),a=p(i.offsetParent);return t?(n=this.clone?o.pageX:o.pageX+(a?0:i.offsetParent.scrollLeft)-this.relativeXPosition,r=this.clone?o.pageY:o.pageY+(a?0:i.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,r=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),{left:n-(this.margin.left+this.cursorAt.left),top:r-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=it("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,n){this.droppables[this.scope]=e?null:{draggable:t,helper:n,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),n=this.getDropInstance(t);if(!n&&t&&!p(t.parentNode)){var r=yt(t.parentNode,".e-droppable")||t.parentElement;r&&(n=this.getDropInstance(r))}return{target:t,instance:n}},t.prototype.getDropInstance=function(e){var t,n=e&&e.ej2_instances;if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r];if("droppable"===o.getModuleName()){t=o;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},pn([Ft({},An)],t.prototype,"cursorAt",void 0),pn([_t(!0)],t.prototype,"clone",void 0),pn([_t()],t.prototype,"dragArea",void 0),pn([_t()],t.prototype,"isDragScroll",void 0),pn([_t()],t.prototype,"isReplaceDragEle",void 0),pn([_t(!0)],t.prototype,"isPreventSelect",void 0),pn([Qt()],t.prototype,"drag",void 0),pn([Qt()],t.prototype,"dragStart",void 0),pn([Qt()],t.prototype,"dragStop",void 0),pn([_t(1)],t.prototype,"distance",void 0),pn([_t()],t.prototype,"handle",void 0),pn([_t()],t.prototype,"abort",void 0),pn([_t()],t.prototype,"helper",void 0),pn([_t("default")],t.prototype,"scope",void 0),pn([_t("")],t.prototype,"dragTarget",void 0),pn([_t()],t.prototype,"axis",void 0),pn([_t()],t.prototype,"queryPositionInfo",void 0),pn([_t(!1)],t.prototype,"enableTailMode",void 0),pn([_t(!1)],t.prototype,"skipDistanceCheck",void 0),pn([_t(!0)],t.prototype,"preventDefault",void 0),pn([_t(!1)],t.prototype,"enableAutoScroll",void 0),pn([_t(!1)],t.prototype,"enableTapHold",void 0),pn([_t(750)],t.prototype,"tapHoldThreshold",void 0),t=n=pn([Wt],t)}(Ct),yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bn=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.mouseOver=!1,r.dragData={},r.dragStopCalled=!1,r.bind(),r}return yn(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){ce.add(this.element,le.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:n}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var n,r=!0,i=this.dragData[this.scope],o=!!i&&(i.helper&&lt(i.helper));o&&(n=this.isDropArea(e,i.helper,t),this.accept&&(r=wt(i.helper,this.accept))),o&&this.drop&&n.canDrop&&r&&this.trigger("drop",{event:e,target:n.target,droppedElement:i.helper,dragData:i}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,n){var r={canDrop:!0,target:n||e.target},i="touchend"===e.type;if(i||r.target===t){t.style.display="none";var o=i?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);r.canDrop=!1,r.canDrop=A(a,this.element),r.canDrop&&(r.target=a),t.style.display=""}return r},t.prototype.destroy=function(){ce.remove(this.element,le.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},vn([_t()],t.prototype,"accept",void 0),vn([_t("default")],t.prototype,"scope",void 0),vn([Qt()],t.prototype,"drop",void 0),vn([Qt()],t.prototype,"over",void 0),vn([Qt()],t.prototype,"out",void 0),t=vn([Wt],t)}(Ct),wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Cn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Sn=function(e){function t(t,r){var i=e.call(this,r,t)||this;return i.keyPressHandler=function(e){for(var t=e.altKey,r=e.ctrlKey,o=e.shiftKey,a=e.which,s=0,l=Object.keys(i.keyConfigs);s<l.length;s++)for(var c=l[s],h=0,d=i.keyConfigs[c].split(",");h<d.length;h++){var u=d[h],p=n.getKeyConfigData(u.trim());t===p.altKey&&r===p.ctrlKey&&o===p.shiftKey&&a===p.keyCode&&(e.action=c,i.keyAction&&i.keyAction(e))}},i.bind(),i}var n;return wn(t,e),n=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),r={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?r.keyCode=Number(t[t.length-1]):r.keyCode=n.getKeyCode(t[t.length-1]),n.configCache[e]=r,r},t.getKeyCode=function(e){return Cn[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},xn([_t({})],t.prototype,"keyConfigs",void 0),xn([_t("keyup")],t.prototype,"eventName",void 0),xn([Qt()],t.prototype,"keyAction",void 0),t=n=xn([Wt],t)}(Ct),Bn=function(){function e(e,t,n){this.controlName=e,this.localeStrings=t,this.setLocale(n||Y)}return e.prototype.setLocale=function(t){var n=this.intGetControlConstant(e.locale,t);this.currentLocale=n||this.localeStrings},e.load=function(e){this.locale=u(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return p(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},e.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},e.locale={},e}(),Pn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pn(t,e),En([_t(50)],t.prototype,"swipeThresholdDistance",void 0),t}(on),Tn=/(Up|Down)/,In=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.touchAction=!0,r.tapCount=0,r.startEvent=function(e){if(!0===r.touchAction){var t=r.updateChangeTouches(e);void 0!==e.changedTouches&&(r.touchAction=!1),r.isTouchMoved=!1,r.movedDirection="",r.startPoint=r.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},r.startEventData=t,r.hScrollLocked=r.vScrollLocked=!1,r.tStampStart=Date.now(),r.timeOutTapHold=setTimeout((function(){r.tapHoldEvent(e)}),r.tapHoldThreshold),ce.add(r.element,le.touchMoveEvent,r.moveEvent,r),ce.add(r.element,le.touchEndEvent,r.endEvent,r),ce.add(r.element,le.touchCancelEvent,r.cancelEvent,r)}},r.moveEvent=function(e){var t=r.updateChangeTouches(e);r.movedPoint=t,r.isTouchMoved=!(t.clientX===r.startPoint.clientX&&t.clientY===r.startPoint.clientY);var n={};r.isTouchMoved&&(clearTimeout(r.timeOutTapHold),r.calcScrollPoints(e),n=u(n,{},{startEvents:r.startEventData,originalEvent:e,startX:r.startPoint.clientX,startY:r.startPoint.clientY,distanceX:r.distanceX,distanceY:r.distanceY,scrollDirection:r.scrollDirection,velocity:r.getVelocity(t)}),r.trigger("scroll",n),r.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},r.cancelEvent=function(e){clearTimeout(r.timeOutTapHold),clearTimeout(r.timeOutTap),r.tapCount=0,r.swipeFn(e),ce.remove(r.element,le.touchCancelEvent,r.cancelEvent)},r.endEvent=function(e){r.swipeFn(e),r.isTouchMoved||"function"===typeof r.tap&&(r.trigger("tap",{originalEvent:e,tapCount:++r.tapCount}),r.timeOutTap=setTimeout((function(){r.tapCount=0}),r.tapThreshold)),r.modeclear()},r.swipeFn=function(e){clearTimeout(r.timeOutTapHold),clearTimeout(r.timeOutTap);var t=r.updateChangeTouches(e),n=t.clientX-r.startPoint.clientX,i=t.clientY-r.startPoint.clientY;n=Math.floor(n<0?-1*n:n),i=Math.floor(i<0?-1*i:n),r.isTouchMoved=n>1||i>1,/Mozilla|Firefox|Mac OS/.test(le.userAgent)&&0===t.clientX&&0===t.clientY&&"mouseup"===e.type&&(r.isTouchMoved=!1),r.endPoint=t,r.calcPoints(e);var o={originalEvent:e,startEvents:r.startEventData,startX:r.startPoint.clientX,startY:r.startPoint.clientY,distanceX:r.distanceX,distanceY:r.distanceY,swipeDirection:r.movedDirection,velocity:r.getVelocity(t)};if(r.isTouchMoved){var a=void 0,s=r.swipeSettings.swipeThresholdDistance;a=u(a,r.defaultArgs,o);var l=!1,c=r.element,h=r.isScrollable(c),d=Tn.test(r.movedDirection);(s<r.distanceX&&!d||s<r.distanceY&&d)&&(l=!h||r.checkSwipe(c,d)),l&&r.trigger("swipe",a)}r.modeclear()},r.modeclear=function(){r.modeClear=setTimeout((function(){r.touchAction=!0}),"function"!==typeof r.tap?0:20),r.lastTapTime=(new Date).getTime(),ce.remove(r.element,le.touchMoveEvent,r.moveEvent),ce.remove(r.element,le.touchEndEvent,r.endEvent),ce.remove(r.element,le.touchCancelEvent,r.cancelEvent)},r.bind(),r}return Pn(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),le.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){ce.add(this.element,le.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){ce.remove(this.element,le.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),n=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(n)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,ce.remove(this.element,le.touchMoveEvent,this.moveEvent),ce.remove(this.element,le.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),ce.remove(this.element,le.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,n=e.clientY,r=Date.now(),i=t-this.startPoint.clientX,o=n-this.startPoint.clientX,a=r-this.tStampStart;return Math.sqrt(i*i+o*o)/a},t.prototype.checkSwipe=function(e,t){var n=["scroll","offset"],r=t?["Height","Top"]:["Width","Left"];return e[n[0]+r[0]]<=e[n[1]+r[0]]||(0===e[n[0]+r[1]]||e[n[1]+r[0]]+e[n[0]+r[1]]>=e[n[0]+r[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},En([Qt()],t.prototype,"tap",void 0),En([Qt()],t.prototype,"tapHold",void 0),En([Qt()],t.prototype,"swipe",void 0),En([Qt()],t.prototype,"scroll",void 0),En([_t(350)],t.prototype,"tapThreshold",void 0),En([_t(750)],t.prototype,"tapHoldThreshold",void 0),En([Ft({},On)],t.prototype,"swipeSettings",void 0),t=En([Wt],t)}(Ct),Ln=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],kn=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Nn=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"],Mn=function(){function e(){}return e.beforeSanitize=function(){return{selectors:{tags:Ln,attributes:kn}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var n=this.wrapElement.innerHTML;return this.removeElement(),n},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var n=e[t].attributes,r=0;r<n.length;r++)this.wrapElement.children[t].removeAttribute(n[r].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){ut(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+Nn.join("],[")+"]");e.length>0&&e.forEach((function(e){Nn.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,n){var r=e.wrapElement.querySelectorAll(t.selector);r.length>0&&r.forEach((function(e){e.removeAttribute(t.attribute)}))}))},e}(),Dn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],jn=["accordion","tab","splitter"],_n=new RegExp("]"),Fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReactForeceUpdate=!1,t.isReact=!0,t}return Dn(t,e),t.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==jn.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&this.renderReactTemplates()},t.prototype.renderReactComponent=function(){var e=this.reactElement;e&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.shouldComponentUpdate=function(e){return this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},t.prototype.updateProperties=function(e,t){for(var n=this,r=u({},e),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s="className"===a;"children"!==a&&(s||p(this.htmlattributes[a])||this.htmlattributes[a]===r[a]||(this.htmlattributes[a]=r[a]),this.compareValues(this.props[a],e[a])?delete r[a]:-1!==this.attrKeys.indexOf(a)&&(s?(this.element.classList.remove(this.props[a]),this.element.classList.add(r[a])):"disabled"!==a&&delete r[a]))}r.children&&delete r.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout((function(){n.refreshProperties(r,e,t)})):this.refreshProperties(r,e,t)},t.prototype.refreshProperties=function(e,t,n){Object.keys(e).length&&(n||this.processComplexTemplate(e,this),this.setProperties(e,n)),this.refreshChild(n,t)},t.prototype.processComplexTemplate=function(e,t){var n=t.complexTemplate;if(n)for(var r in n){var i=n[r];e[r]&&c(i,l(r,e),e)}},t.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var n=Object.keys(this.props);this.htmlattributes||(this.htmlattributes={}),this.attrKeys=Rn.concat(this.controlAttributes||[]);for(var r=0,i=n;r<i.length;r++){var o=i[r];-1===o.indexOf("data-")&&-1===o.indexOf("aria-")&&-1===this.attrKeys.indexOf(o)||this.htmlattributes[o]!==this.props[o]&&(this.htmlattributes[o]=this.props[o])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(t){e.reactElement=t};-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+t.reactUid,t.reactUid++)}return this.htmlattributes},t.prototype.trigger=function(e,t,n){var r=this;if(!0!==this.isDestroyed&&this.modelObserver){if(_n.test(e)){var i=l(e,this);i?(i.call(this,t),n&&n.call(this,t)):n&&n.call(this,t)}"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var o=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===e?setTimeout((function(){r.isDestroyed||r.modelObserver.notify(e,t,n)})):this.modelObserver.notify(e,t,n),this.isProtectedOnChange=o}},t.prototype.compareValues=function(e,t){if(typeof e===typeof t){if(e===t)return!0;if((!p(e)&&e.constructor)!==(!p(t)&&t.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===t.toString();if(h(e)||Array.isArray(e)){var n=e,r=t;return h(n)&&(n=[e],r=[t]),this.compareObjects(n,r).status}}return!1},t.prototype.compareObjects=function(e,t,n){var r=!0,i=[];if(e.length===t.length)for(var o=0,a=t.length;o<a;o++){var s={},l=e[o],c=t[o],h=Object.keys(c);if(0!==h.length)for(var d=0,u=h;d<u.length;d++){var p=u[d],f=l[p],g=c[p];if(!l.hasOwnProperty(p)||!this.compareValues(g,f)){if(!n)return{status:!1};r=!1,s[p]=g}}else{if(!n)return{status:!1};r=!1}Object.keys(s).length&&i.push({index:o,value:s,key:n})}else r=!1;return{status:r,changedProperties:i}},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var n=this.getInjectedModules()||[],r=0,i=this.getInjectedServices()||[];r<i.length;r++){var o=i[r];-1===n.indexOf(o)&&n.push(o)}this.injectedModules=n}if(this.directivekeys){var a=[],s=this.validateChildren({},this.directivekeys,t||this.props);if(s&&Object.keys(s).length){if(!e&&this.skipRefresh)for(var c=0,h=this.skipRefresh;c<h.length;c++){delete s[h[c]]}if(this.prevProperties)for(var d=Object.keys(this.prevProperties),p=0;p<d.length;p++){var f=d[p];if(s.hasOwnProperty(f)){var g=this.compareObjects(this.prevProperties[f],s[f],f);if(g.status)delete s[f];else{g.changedProperties.length&&(a=a.concat(g.changedProperties));var A={};A[f]=s[f],this.prevProperties=u(this.prevProperties,A)}}}else this.prevProperties=u({},s,{},!0);if(a.length)for(var m=0,y=a;m<y.length;m++){var v=y[m],b=l(v.key+"."+v.index,this);b&&b.setProperties?b.setProperties(v.value):u(b,v.value)}else this.setProperties(s,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);(this.initRenderCalled&&this.isAppendCalled&&this.element&&!["dropdowntree","checkbox"].indexOf(this.getModuleName())?document.body.contains(this.element):!this.isDestroyed)&&this.destroy()},t.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,e?this.forceUpdate(e):this.forceUpdate(),this.isReactForeceUpdate=!1},t.prototype.clearTemplate=function(e,t,n){var r=this,i=[];e&&e.length?Array.prototype.forEach.call(e,(function(e){var n=0,o=0;if(r.portals.forEach((function(t){t.propName===e&&(i.push(o),o++)})),t&&r.portals[i[t[n]]].propName==e)r.portals.splice(t,1),n++;else for(var a=0;a<r.portals.length;a++)r.portals[a].propName==e&&(r.portals.splice(a,1),a--)})):this.portals=[],this.renderReactTemplates(n)},t.prototype.validateChildren=function(e,t,n){for(var i=!1,o=0,a=r.Children.toArray(n.children);o<a.length;o++){var s=a[o],l=this.getChildType(s),c=t[l];if(l&&t){var h=this.getChildProps(r.Children.toArray(s.props.children),c);h.length&&(i=!0,e[s.type.propertyName||l]=h)}}return i?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=!1,s=void 0;"string"===typeof t?(a=!0,s=t):s=Object.keys(t)[0];var l=o.props;if(this.getChildType(o)===s)if(a||!l.children){var c=u({},l,{},!0);this.processComplexTemplate(c,o.type),n.push(c)}else{var h=this.validateChildren(u({},l),t[s],l)||l;h.children&&delete h.children,this.processComplexTemplate(h,o.type),n.push(h)}}return n},t.prototype.getInjectedServices=function(){for(var e=0,t=r.Children.toArray(this.props.children);e<t.length;e++){var n=t[e];if(n.type.isService)return n.props.services}return[]},t.reactUid=1,t}(r.Component);function Hn(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){"isMounted"!==n&&"replaceState"!==n&&(e.prototype[n]=t.prototype[n])}))}))}var Un,zn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zn(t,e),t.prototype.render=function(){return null},t.isDirective=!0,t}(r.PureComponent),Wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Wn(t,e),t.prototype.render=function(){return null},t.isService=!0}(r.PureComponent),n(13)),Xn=Ue.compile;Un={compile:function(e,t){return"string"===typeof e?Xn(e,t):function(t,n,i,o){var a,s=e,l=t;if("object"===typeof s&&(s=e.template,l=u({},t,e.data||{})),a=o||document.createElement("div"),n&&n.isLegacyTemplate)Vn.render(s(l),a),o||ut(a);else{var c=r.createElement(s,l),h=Vn.createPortal(c,a);h.propName=i,n.portals?n.portals.push(h):n.portals=[h]}if(!o)return[a]}}},Ue.compile=Un.compile;var Yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Yn(t,e),t.moduleName="layer"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Yn(t,e),t.propertyName="layers",t.moduleName="layers"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Gn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Kn(t,e),t.moduleName="customCursor"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Kn(t,e),t.propertyName="customCursor",t.moduleName="customCursors"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),qn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gn(t,e),t.moduleName="connector"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gn(t,e),t.propertyName="connectors",t.moduleName="connectors"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Jn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qn(t,e),t.moduleName="connectorFixedUserHandle"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qn(t,e),t.propertyName="fixedUserHandles",t.moduleName="connectorFixedUserHandles"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Zn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Jn(t,e),t.moduleName="connectorAnnotation"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Jn(t,e),t.propertyName="annotations",t.moduleName="connectorAnnotations"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),$n=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Zn(t,e),t.moduleName="node"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Zn(t,e),t.propertyName="nodes",t.moduleName="nodes"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),er=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}$n(t,e),t.moduleName="nodeFixedUserHandle"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}$n(t,e),t.propertyName="fixedUserHandles",t.moduleName="nodeFixedUserHandles"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),tr=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}er(t,e),t.moduleName="nodeAnnotation"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}er(t,e),t.propertyName="annotations",t.moduleName="nodeAnnotations"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),nr=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tr(t,e),t.moduleName="port"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tr(t,e),t.propertyName="ports",t.moduleName="ports"}(Qn),function(){function e(e,t){this.width=e,this.height=t}return e.prototype.isEmpty=function(){return 0===this.height&&0===this.width},e.prototype.clone=function(){return new e(this.width,this.height)},e}()),rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),t.equals=function(e,t){return e===t||!(!e||!t)&&(!e||!t||e.x===t.x&&e.y===t.y)},t.isEmptyPoint=function(e){return!e.x||!e.y},t.transform=function(e,t,n){var r={x:0,y:0};return r.x=Math.round(100*(e.x+n*Math.cos(t*Math.PI/180)))/100,r.y=Math.round(100*(e.y+n*Math.sin(t*Math.PI/180)))/100,r},t.findLength=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.findAngle=function(e,t){var n=Math.atan2(t.y-e.y,t.x-e.x);return n=180*n/Math.PI,(n%=360)<0&&(n+=360),n},t.distancePoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getLengthFromListOfPoints=function(e){for(var t=0,n=0;n<e.length-1;n++)t+=this.distancePoints(e[n],e[n+1]);return t},t.adjustPoint=function(e,t,n,r){var i,o=n?{x:e.x,y:e.y}:{x:t.x,y:t.y};return e.x===t.x?e.y<t.y&&n||e.y>t.y&&!n?o.y+=r:o.y-=r:e.y===t.y?e.x<t.x&&n||e.x>t.x&&!n?o.x+=r:o.x-=r:n?(i=this.findAngle(e,t),o=this.transform(e,i,r)):(i=this.findAngle(t,e),o=this.transform(t,i,r)),o},t.direction=function(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"Right":"Left":e.y<t.y?"Bottom":"Top"},t.prototype.getClassName=function(){return"Point"},ir([_t(0)],t.prototype,"x",void 0),ir([_t(0)],t.prototype,"y",void 0),t}(on);function ar(e){var t,n=[],r=function(e){var t=/([a-z]+)|([+-]?(?:\d+\.?\d*|\.\d+))/gi,n=[],r=[],i={};t.lastIndex=0;var o=!1;i=t.exec(e);for(;i;)"e"===i[1]?o=!0:i[1]?("zm"===i[1].toLowerCase()?(n.length&&r.push(n),r.push(["Z"]),n=[i[1].substring(1,2)]):(n.length&&r.push(n),n=[i[1]]),o=!1):(n.length||(n=[]),o||n.push(Number(i[2])),o=!1),i=t.exec(e);n.length&&r.push(n);return r}(e);if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i],a="";switch((a=o[0]).toLowerCase()){case"m":for(t=1;t<o.length;t++)n.push({command:a,x:o[t],y:o[t+1]}),t+=1,"m"===a?a="l":"M"===a&&(a="L");break;case"l":case"t":for(t=1;t<o.length;t++)n.push({command:a,x:o[t],y:o[t+1]}),t+=1;break;case"h":for(t=1;t<o.length;t++)n.push({command:a,x:o[t]});break;case"v":for(t=1;t<o.length;t++)n.push({command:a,y:o[t]});break;case"z":n.push({command:a});break;case"c":for(t=1;t<o.length;t++)n.push({command:a,x1:o[t],y1:o[t+1],x2:o[t+2],y2:o[t+3],x:o[t+4],y:o[t+5]}),t+=5;break;case"s":for(t=1;t<o.length;t++)n.push({command:a,x2:o[t],y2:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"q":for(t=1;t<o.length;t++)n.push({command:a,x1:o[t],y1:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"a":for(t=1;t<o.length;t++)n.push({command:a,r1:o[t],r2:o[t+1],angle:o[t+2],largeArc:o[t+3],sweep:o[t+4],x:o[t+5],y:o[t+6]}),t+=6}}return n}function sr(e){var t,n,r="";for(r="M"+e[0].x+" "+e[0].y,n=1;n<e.length;n++)r+="L"+(t=e[n]).x+" "+t.y;return r+="Z"}function lr(e){var t,n,r,i,o,a,s,l,c,h,d=[];for(s=0,l=0,h=0,c=e.length;h<c;++h){var u,p=e[h];u=p.command,"y1"in p&&(i=p.y1),"y2"in p&&(a=p.y2),"x1"in p&&(r=p.x1),"x2"in p&&(o=p.x2),"x"in p&&(s=p.x),"y"in p&&(l=p.y);var f=d[d.length-1];switch(u){case"M":d.push({command:"M",x:s,y:l});break;case"L":d.push({command:"L",x0:t,y0:n,x:s,y:l});break;case"H":d.push({command:"L",x0:t,y0:n,x:s,y:n});break;case"V":d.push({command:"L",x0:t,y0:n,x:t,y:l});break;case"C":d.push({command:"C",x0:t,y0:n,x1:r,y1:i,x2:o,y2:a,x:s,y:l});break;case"S":if(f){var g=void 0,A={x:2*t-(g="C"===f.command||"S"===f.command?{x:f.x2,y:f.y2}:{x:t,y:n}).x,y:2*n-g.y};d.push({command:"C",x0:t,y0:n,x1:A.x,y1:A.y,x2:o,y2:a,x:s,y:l})}break;case"Q":d.push({command:"Q",x0:t,y0:n,x1:r,y1:i,x:s,y:l});break;case"T":if(f){g=void 0,A={x:2*t-(g="Q"===f.command?{x:f.x1,y:f.y1}:{x:t,y:n}).x,y:2*n-g.y};d.push({command:"Q",x0:t,y0:n,x1:A.x,y1:A.y,x:s,y:l})}break;case"A":var m=p;m.command="A",d.push(m);break;case"Z":case"z":d.push({command:"Z"}),s=t,l=n}"M"!==u&&"m"!==u||(s,l),t=s,n=l}return d}function cr(e,t,n,r,i,o,a,s){var l,c,h,d,u,p,f,g,A;for(u=0,p=0,g=0,f=e.length;g<f;++g){var m=e[g],y=m.command;"x"in m&&(u=m.x),"y"in m&&(p=m.y),"y1"in m&&(c=m.y1),"y2"in m&&(d=m.y2),"x1"in m&&(l=m.x1),"x2"in m&&(h=m.x2),r?(void 0!==u&&(u=dr(u,t,i,a)),void 0!==p&&(p=dr(p,n,o,s)),void 0!==l&&(l=dr(l,t,i,a)),void 0!==c&&(c=dr(c,n,o,s)),void 0!==h&&(h=dr(h,t,i,a)),void 0!==d&&(d=dr(d,n,o,s))):(void 0!==u&&(u=Number((u+t).toFixed(2))),void 0!==p&&(p=Number((p+n).toFixed(2))),void 0!==l&&(l=Number((l+t).toFixed(2))),void 0!==c&&(c=Number((c+n).toFixed(2))),void 0!==h&&(h=Number((h+t).toFixed(2))),void 0!==d&&(d=Number((d+n).toFixed(2)))),(A=hr(m,y,{x:u,y:p,x1:l,y1:c,x2:h,y2:d,r1:m.r1,r2:m.r2},r,t,n))&&(e[g]=A),"M"!==y&&"m"!==y||(u,p)}return pr(e)}function hr(e,t,n,r,i,o){switch(t){case"M":case"L":e.x=n.x,e.y=n.y;break;case"H":e.x=n.x;break;case"V":e.y=n.y;break;case"C":e.x=n.x,e.y=n.y,e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2;break;case"S":e.x=n.x,e.y=n.y,e.x2=n.x2,e.y2=n.y2;break;case"Q":e.x=n.x,e.y=n.y,e.x1=n.x1,e.y1=n.y1;break;case"T":e.x=n.x,e.y=n.y;break;case"A":var a=n.r1,s=n.r2;r&&(n.r1=a*=i,n.r2=s*=o),e.x=n.x,e.y=n.y,e.r1=n.r1,e.r2=n.r2;break;case"z":case"Z":e={command:"Z"}}return e}function dr(e,t,n,r){return e!==n?e=r!==n?e*t-(Number(n)*t-Number(n))+(r-Number(n)):Number(e)*t-(Number(n)*t-Number(n)):r!==n&&(e=r),Number(e.toFixed(2))}function ur(e){var t,n,r,i,o,a,s,l,c,h;for(s=0,l=0,h=0,c=e.length;h<c;++h){var d=e[h],u=d.command;if(/[MLHVCSQTA]/.test(u))"x"in d&&(d.x=s=d.x),"y"in d&&(d.y=l=d.y);else{"x1"in d&&(d.x1=r=s+d.x1),"x2"in d&&(d.x2=o=s+d.x2),"y1"in d&&(d.y1=i=l+d.y1),"y2"in d&&(d.y2=a=l+d.y2),"x"in d&&(d.x=s+=d.x),"y"in d&&(d.y=l+=d.y);var p=void 0;switch(u){case"m":case"M":p={command:"M",x:s,y:l};break;case"l":case"L":p={command:"L",x:s,y:l};break;case"h":case"H":p={command:"H",x:s};break;case"v":case"V":p={command:"V",y:l};break;case"c":case"C":p={command:"C",x:s,y:l,x1:r,y1:i,x2:o,y2:a};break;case"s":case"S":p={command:"S",x:s,y:l,x2:o,y2:a};break;case"q":case"Q":p={command:"Q",x:s,y:l,x1:r,y1:i};break;case"t":case"T":p={command:"T",x:s,y:l};break;case"a":case"A":(p={command:"A",x:s,y:l}).r1=d.r1,p.r2=d.r2,p.angle=d.angle,p.largeArc=d.largeArc,p.sweep=d.sweep;break;case"z":case"Z":p={command:"Z"},s=t,l=n,p=e[h]}p&&(e[h]=p)}"M"!==u&&"m"!==u||(t=s,n=l)}return e}function pr(e){var t,n="";for(t=0;t<e.length;t++)n+=0===t?fr(e[t]):" "+fr(e[t]);return n}function fr(e){var t="";switch(e.command){case"Z":case"z":t=e.command;break;case"M":case"m":case"L":case"l":t=e.command+" "+e.x+" "+e.y;break;case"C":case"c":t=e.command+" "+e.x1+" "+e.y1+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"Q":case"q":t=e.command+" "+e.x1+" "+e.y1+" "+e.x+" "+e.y;break;case"A":case"a":var n=e.command,r=e.angle,i=e.largeArc?"1":"0",o=e.sweep?"1":"0";t=n+" "+e.r1+" "+e.r2+" "+r+" "+i+" "+o+" "+e.x+" "+e.y;break;case"H":case"h":t=e.command+" "+e.x;break;case"V":case"v":t=e.command+" "+e.y;break;case"S":case"s":t=e.command+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"T":case"t":t=e.command+" "+e.x+" "+e.y}return t}var gr,Ar=function(){function e(e,t,n,r){this.x=Number.MAX_VALUE,this.y=Number.MAX_VALUE,this.width=0,this.height=0,void 0===e||void 0===t?(e=t=Number.MAX_VALUE,n=r=0):(void 0===n&&(n=0),void 0===r&&(r=0)),this.x=e,this.y=t,this.width=n,this.height=r}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return{x:this.left,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return{x:this.right,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return{x:this.left,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return{x:this.right,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleLeft",{get:function(){return{x:this.left,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleRight",{get:function(){return{x:this.right,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topCenter",{get:function(){return{x:this.x+this.width/2,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomCenter",{get:function(){return{x:this.x+this.width/2,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),e.prototype.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},e.prototype.uniteRect=function(e){var t=Math.max(Number.NaN===this.right||this.x===Number.MAX_VALUE?e.right:this.right,e.right),n=Math.max(Number.NaN===this.bottom||this.y===Number.MAX_VALUE?e.bottom:this.bottom,e.bottom);return this.x=Math.min(this.left,e.left),this.y=Math.min(this.top,e.top),this.width=t-this.x,this.height=n-this.y,this},e.prototype.unitePoint=function(e){if(this.x===Number.MAX_VALUE)return this.x=e.x,void(this.y=e.y);var t=Math.min(this.left,e.x),n=Math.min(this.top,e.y),r=Math.max(this.right,e.x),i=Math.max(this.bottom,e.y);this.x=t,this.y=n,this.width=r-this.x,this.height=i-this.y},e.prototype.Inflate=function(e){return this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e,this},e.prototype.intersects=function(e){return!(this.right<e.left||this.left>e.right||this.top>e.bottom||this.bottom<e.top)},e.prototype.containsRect=function(e){return this.left<=e.left&&this.right>=e.right&&this.top<=e.top&&this.bottom>=e.bottom},e.prototype.containsPoint=function(e,t){return void 0===t&&(t=0),this.left-t<=e.x&&this.right+t>=e.x&&this.top-t<=e.y&&this.bottom+t>=e.y},e.toBounds=function(t){for(var n=new e,r=0,i=t;r<i.length;r++){var o=i[r];n.unitePoint(o)}return n},e.empty=new e(Number.MAX_VALUE,Number.MIN_VALUE,0,0),e}();!function(e){e[e.Identity=0]="Identity",e[e.Translation=1]="Translation",e[e.Scaling=2]="Scaling",e[e.Unknown=4]="Unknown"}(gr||(gr={}));var mr=function(e,t,n,r,i,o,a){this.m11=e,this.m12=t,this.m21=n,this.m22=r,this.offsetX=i,this.offsetY=o,this.type=a};function yr(){return new mr(1,0,0,1,0,0,gr.Identity)}function vr(e,t){var n=function(e,t,n){switch(e.type){case gr.Identity:break;case gr.Translation:t+=e.offsetX,n+=e.offsetY;break;case gr.Scaling:t*=e.m11,n*=e.m22;break;case gr.Translation|gr.Scaling:t*=e.m11,t+=e.offsetX,n*=e.m22,n+=e.offsetY;break;default:var r=n*e.m21+e.offsetX,i=t*e.m12+e.offsetY;t*=e.m11,t+=r,n*=e.m22,n+=i}return{x:t,y:n}}(e,t.x,t.y);return{x:Math.round(100*n.x)/100,y:Math.round(100*n.y)/100}}function br(e,t,n,r){Cr(e,function(e,t,n){var r=yr(),i=Math.sin(e),o=Math.cos(e),a=t*(1-o)+n*i,s=n*(1-o)-t*i;return r.type=gr.Unknown,Sr(r,o,i,-i,o,a,s),r}(.017453292519943295*(t%=360),n||0,r||0))}function wr(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0),Cr(e,function(e,t,n,r){var i=yr();return i.type=n||r?gr.Scaling|gr.Translation:gr.Scaling,Sr(i,e,0,0,t,n-e*n,r-t*r),i}(t,n,r,i))}function xr(e,t,n){return e.type&gr.Identity?(e.type=gr.Translation,void Sr(e,1,0,0,1,t,n)):e.type&gr.Unknown?(e.offsetX+=t,void(e.offsetY+=n)):(e.offsetX+=t,e.offsetY+=n,void(e.type|=gr.Translation))}function Cr(e,t){var n=e.type,r=t.type;if(r!==gr.Identity){if(n===gr.Identity)return Br(e,t),void(e.type=t.type);if(r===gr.Translation)return e.offsetX+=t.offsetX,e.offsetY+=t.offsetY,void(n!==gr.Unknown&&(e.type|=gr.Translation));if(n!==gr.Translation){var i=n<<4|r;switch(i){case 34:return e.m11*=t.m11,void(e.m22*=t.m22);case 35:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,void(e.type=gr.Translation|gr.Scaling);case 36:break;default:switch(i){case 50:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX*=t.m11,void(e.offsetY*=t.m22);case 51:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.m11*e.offsetX+t.offsetX,void(e.offsetY=t.m22*e.offsetY+t.offsetY);case 52:break;default:switch(i){case 66:case 67:case 68:break;default:return}}}var o=yr();return Sr(o,e.m11*t.m11+e.m12*t.m21,e.m11*t.m12+e.m12*t.m22,e.m21*t.m11+e.m22*t.m21,e.m21*t.m12+e.m22*t.m22,e.offsetX*t.m11+e.offsetY*t.m21+t.offsetX,e.offsetX*t.m12+e.offsetY*t.m22+t.offsetY),o.m21||o.m12?o.type=gr.Unknown:((o.m11&&1!==o.m11||o.m22&&1!==o.m22)&&(o.type=gr.Scaling),(o.offsetX||o.offsetY)&&(o.type|=gr.Translation),(o.type&(gr.Translation|gr.Scaling))===gr.Identity&&(o.type=gr.Identity),o.type=gr.Scaling|gr.Translation),Br(e,o),void(e.type=o.type)}var a=e.offsetX,s=e.offsetY;e.offsetX=a*t.m11+s*t.m21+t.offsetX,e.offsetY=a*t.m12+s*t.m22+t.offsetY,r!==gr.Unknown?e.type=gr.Translation|gr.Scaling:e.type=gr.Unknown}}function Sr(e,t,n,r,i,o,a){e.m11=t,e.m12=n,e.m21=r,e.m22=i,e.offsetX=o,e.offsetY=a}function Br(e,t){e.m11=t.m11,e.m12=t.m12,e.m21=t.m21,e.m22=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,e.type=t.type}var Pr,Er,Or,Tr,Ir,Lr,kr,Nr,Mr,Dr,Rr,jr,_r,Fr,Hr,Ur,zr,Qr,Wr,Vr,Xr,Yr,Kr,Gr,qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Zr=function(e){if(e){if(v())return ii;switch(e.type){case"Linear":return oi;case"Radial":return ai;default:return oi}}return oi},$r=function(e,t,n,r){this.left=e,this.right=t,this.top=n,this.bottom=r},ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t(0)],t.prototype,"left",void 0),Jr([_t(0)],t.prototype,"right",void 0),Jr([_t(0)],t.prototype,"top",void 0),Jr([_t(0)],t.prototype,"bottom",void 0),t}(on),ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t(45)],t.prototype,"angle",void 0),Jr([_t(5)],t.prototype,"distance",void 0),Jr([_t(.7)],t.prototype,"opacity",void 0),Jr([_t("lightgrey")],t.prototype,"color",void 0),t}(on),ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.getClassName=function(){return"Stop"},Jr([_t("")],t.prototype,"color",void 0),Jr([_t(0)],t.prototype,"offset",void 0),Jr([_t(1)],t.prototype,"opacity",void 0),t}(on),ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([Ut([],ni)],t.prototype,"stops",void 0),Jr([_t("None")],t.prototype,"type",void 0),Jr([_t("")],t.prototype,"id",void 0),t}(on),ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t(0)],t.prototype,"x1",void 0),Jr([_t(0)],t.prototype,"x2",void 0),Jr([_t(0)],t.prototype,"y1",void 0),Jr([_t(0)],t.prototype,"y2",void 0),Jr([_t(0)],t.prototype,"cx",void 0),Jr([_t(0)],t.prototype,"cy",void 0),Jr([_t(0)],t.prototype,"fx",void 0),Jr([_t(0)],t.prototype,"fy",void 0),Jr([_t(50)],t.prototype,"r",void 0),t}(ri),oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t(0)],t.prototype,"x1",void 0),Jr([_t(0)],t.prototype,"x2",void 0),Jr([_t(0)],t.prototype,"y1",void 0),Jr([_t(0)],t.prototype,"y2",void 0),t}(ri),ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t(0)],t.prototype,"cx",void 0),Jr([_t(0)],t.prototype,"cy",void 0),Jr([_t(0)],t.prototype,"fx",void 0),Jr([_t(0)],t.prototype,"fy",void 0),Jr([_t(50)],t.prototype,"r",void 0),t}(ri),si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t("white")],t.prototype,"fill",void 0),Jr([_t("black")],t.prototype,"strokeColor",void 0),Jr([_t("")],t.prototype,"strokeDashArray",void 0),Jr([_t(1)],t.prototype,"strokeWidth",void 0),Jr([_t(1)],t.prototype,"opacity",void 0),Jr([Ht(Zr)],t.prototype,"gradient",void 0),t}(on),li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t("transparent")],t.prototype,"fill",void 0),t}(si),ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),Jr([_t("black")],t.prototype,"color",void 0),Jr([_t("Arial")],t.prototype,"fontFamily",void 0),Jr([_t(12)],t.prototype,"fontSize",void 0),Jr([_t(!1)],t.prototype,"italic",void 0),Jr([_t(!1)],t.prototype,"bold",void 0),Jr([_t("CollapseSpace")],t.prototype,"whiteSpace",void 0),Jr([_t("WrapWithOverflow")],t.prototype,"textWrapping",void 0),Jr([_t("Center")],t.prototype,"textAlign",void 0),Jr([_t("None")],t.prototype,"textDecoration",void 0),Jr([_t("Wrap")],t.prototype,"textOverflow",void 0),Jr([_t("transparent")],t.prototype,"fill",void 0),t}(si);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qr(t,e),Jr([_t("white")],t.prototype,"fill",void 0),Jr([_t("Wrap")],t.prototype,"textOverflow",void 0),Jr([_t(1)],t.prototype,"strokeWidth",void 0),Jr([Ht(Zr)],t.prototype,"gradient",void 0),Jr([_t(1)],t.prototype,"opacity",void 0),Jr([_t(!1)],t.prototype,"italic",void 0),Jr([_t("")],t.prototype,"strokeDashArray",void 0),Jr([_t("black")],t.prototype,"color",void 0),Jr([_t(12)],t.prototype,"fontSize",void 0),Jr([_t("Arial")],t.prototype,"fontFamily",void 0),Jr([_t("CollapseSpace")],t.prototype,"whiteSpace",void 0),Jr([_t("Center")],t.prototype,"textAlign",void 0),Jr([_t("None")],t.prototype,"textDecoration",void 0),Jr([_t(!1)],t.prototype,"bold",void 0),Jr([_t("black")],t.prototype,"strokeColor",void 0),Jr([_t("WrapWithOverflow")],t.prototype,"textWrapping",void 0)}(on);!function(e){e[e.Default=0]="Default",e[e.expandNode=2]="expandNode",e[e.interaction=4]="interaction",e[e.GroupingInProgress=8]="GroupingInProgress",e[e.GroupClipboardInProcess=16]="GroupClipboardInProcess",e[e.ClearObject=32]="ClearObject"}(Pr||(Pr={})),function(e){e[e.Visible=1]="Visible",e[e.Hidden=2]="Hidden",e[e.Hover=4]="Hover",e[e.Connect=8]="Connect"}(Er||(Er={})),function(e){e[e.None=0]="None",e[e.ShowHorizontalLines=1]="ShowHorizontalLines",e[e.ShowVerticalLines=2]="ShowVerticalLines",e[e.ShowLines=3]="ShowLines",e[e.SnapToHorizontalLines=4]="SnapToHorizontalLines",e[e.SnapToVerticalLines=8]="SnapToVerticalLines",e[e.SnapToLines=12]="SnapToLines",e[e.SnapToObject=16]="SnapToObject",e[e.All=31]="All"}(Or||(Or={})),function(e){e[e.None=1]="None",e[e.ConnectorSourceThumb=2]="ConnectorSourceThumb",e[e.ConnectorTargetThumb=4]="ConnectorTargetThumb",e[e.ResizeSouthEast=8]="ResizeSouthEast",e[e.ResizeSouthWest=16]="ResizeSouthWest",e[e.ResizeNorthEast=32]="ResizeNorthEast",e[e.ResizeNorthWest=64]="ResizeNorthWest",e[e.ResizeEast=128]="ResizeEast",e[e.ResizeWest=256]="ResizeWest",e[e.ResizeSouth=512]="ResizeSouth",e[e.ResizeNorth=1024]="ResizeNorth",e[e.Rotate=2048]="Rotate",e[e.UserHandle=4096]="UserHandle",e[e.ToolTip=8192]="ToolTip",e[e.ResizeAll=2046]="ResizeAll",e[e.All=16382]="All"}(Tr||(Tr={})),function(e){e.SamePoint="SamePoint",e.DifferentPoint="DifferentPoint"}(Ir||(Ir={})),function(e){e.Linear="Linear",e.Nonlinear="Nonlinear"}(Lr||(Lr={})),function(e){e[e.None=1]="None",e[e.Select=2]="Select",e[e.Delete=4]="Delete",e[e.Drag=8]="Drag",e[e.DragSourceEnd=16]="DragSourceEnd",e[e.DragTargetEnd=32]="DragTargetEnd",e[e.DragSegmentThumb=64]="DragSegmentThumb",e[e.AllowDrop=128]="AllowDrop",e[e.Bridging=256]="Bridging",e[e.BridgeObstacle=512]="BridgeObstacle",e[e.InheritBridging=1024]="InheritBridging",e[e.PointerEvents=2048]="PointerEvents",e[e.Tooltip=4096]="Tooltip",e[e.InheritTooltip=8192]="InheritTooltip",e[e.Interaction=4218]="Interaction",e[e.ReadOnly=16384]="ReadOnly",e[e.LineRouting=32768]="LineRouting",e[e.InheritLineRouting=65536]="InheritLineRouting",e[e.ConnectToNearByNode=131072]="ConnectToNearByNode",e[e.ConnectToNearByPort=262144]="ConnectToNearByPort",e[e.ConnectToNearByElement=393216]="ConnectToNearByElement",e[e.Default=470590]="Default"}(kr||(kr={})),function(e){e[e.ReadOnly=2]="ReadOnly",e[e.InheritReadOnly=4]="InheritReadOnly",e[e.Select=8]="Select",e[e.Drag=16]="Drag",e[e.Resize=32]="Resize",e[e.Rotate=64]="Rotate",e[e.Interaction=120]="Interaction",e[e.None=0]="None"}(Nr||(Nr={})),function(e){e[e.None=0]="None",e[e.Select=2]="Select",e[e.Drag=4]="Drag",e[e.Rotate=8]="Rotate",e[e.Shadow=16]="Shadow",e[e.PointerEvents=32]="PointerEvents",e[e.Delete=64]="Delete",e[e.InConnect=128]="InConnect",e[e.OutConnect=256]="OutConnect",e[e.Individual=512]="Individual",e[e.Expandable=1024]="Expandable",e[e.AllowDrop=2048]="AllowDrop",e[e.Inherit=78]="Inherit",e[e.ResizeNorthEast=4096]="ResizeNorthEast",e[e.ResizeEast=8192]="ResizeEast",e[e.ResizeSouthEast=16384]="ResizeSouthEast",e[e.ResizeSouth=32768]="ResizeSouth",e[e.ResizeSouthWest=65536]="ResizeSouthWest",e[e.ResizeWest=131072]="ResizeWest",e[e.ResizeNorthWest=262144]="ResizeNorthWest",e[e.ResizeNorth=524288]="ResizeNorth",e[e.Resize=1044480]="Resize",e[e.AspectRatio=1048576]="AspectRatio",e[e.Tooltip=2097152]="Tooltip",e[e.InheritTooltip=4194304]="InheritTooltip",e[e.ReadOnly=8388608]="ReadOnly",e[e.HideThumbs=16777216]="HideThumbs",e[e.AllowMovingOutsideLane=33554432]="AllowMovingOutsideLane",e[e.Default=5240814]="Default"}(Mr||(Mr={})),function(e){e[e.None=0]="None",e[e.ElementIsPort=2]="ElementIsPort",e[e.ElementIsGroup=4]="ElementIsGroup",e[e.HorizontalLaneHeader=8]="HorizontalLaneHeader"}(Dr||(Dr={})),function(e){e[e.Rotate=2]="Rotate",e[e.ConnectorSource=4]="ConnectorSource",e[e.ConnectorTarget=8]="ConnectorTarget",e[e.ResizeNorthEast=16]="ResizeNorthEast",e[e.ResizeEast=32]="ResizeEast",e[e.ResizeSouthEast=64]="ResizeSouthEast",e[e.ResizeSouth=128]="ResizeSouth",e[e.ResizeSouthWest=256]="ResizeSouthWest",e[e.ResizeWest=512]="ResizeWest",e[e.ResizeNorthWest=1024]="ResizeNorthWest",e[e.ResizeNorth=2048]="ResizeNorth",e[e.Default=4094]="Default"}(Rr||(Rr={})),function(e){e[e.None=1]="None",e[e.Bridging=2]="Bridging",e[e.UndoRedo=4]="UndoRedo",e[e.Tooltip=8]="Tooltip",e[e.UserInteraction=16]="UserInteraction",e[e.ApiUpdate=32]="ApiUpdate",e[e.PageEditable=48]="PageEditable",e[e.Zoom=64]="Zoom",e[e.PanX=128]="PanX",e[e.PanY=256]="PanY",e[e.Pan=384]="Pan",e[e.ZoomTextEdit=512]="ZoomTextEdit",e[e.Virtualization=1024]="Virtualization",e[e.LineRouting=2048]="LineRouting",e[e.Default=500]="Default"}(jr||(jr={})),function(e){e[e.None=0]="None",e[e.SingleSelect=1]="SingleSelect",e[e.MultipleSelect=2]="MultipleSelect",e[e.ZoomPan=4]="ZoomPan",e[e.DrawOnce=8]="DrawOnce",e[e.ContinuousDraw=16]="ContinuousDraw",e[e.Default=3]="Default"}(_r||(_r={})),function(e){e[e.Self=1]="Self",e[e.Parent=2]="Parent"}(Fr||(Fr={})),function(e){e[e.Canvas=0]="Canvas",e[e.Svg=1]="Svg"}(Hr||(Hr={})),function(e){e[e.None=0]="None",e[e.Control=1]="Control",e[e.Meta=1]="Meta",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift"}(Ur||(Ur={})),function(e){e[e.None=null]="None",e[e.Number0=0]="Number0",e[e.Number1=1]="Number1",e[e.Number2=2]="Number2",e[e.Number3=3]="Number3",e[e.Number4=4]="Number4",e[e.Number5=5]="Number5",e[e.Number6=6]="Number6",e[e.Number7=7]="Number7",e[e.Number8=8]="Number8",e[e.Number9=9]="Number9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Delete=46]="Delete",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.BackSpace=8]="BackSpace",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.Star=56]="Star",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus"}(zr||(zr={})),function(e){e[e.Render=2]="Render",e[e.PublicMethod=4]="PublicMethod",e[e.ToolAction=8]="ToolAction",e[e.UndoRedo=16]="UndoRedo",e[e.TextEdit=32]="TextEdit",e[e.Group=64]="Group",e[e.Clear=128]="Clear",e[e.PreventClearSelection=256]="PreventClearSelection",e[e.Interactions=512]="Interactions",e[e.PreventHistory=1024]="PreventHistory",e[e.PreventIconsUpdate=2048]="PreventIconsUpdate",e[e.PreventCollectionChangeOnDragOver=4096]="PreventCollectionChangeOnDragOver",e[e.PreventZIndexOnDragging=8192]="PreventZIndexOnDragging",e[e.isGroupDragging=16384]="isGroupDragging",e[e.DragUsingMouse=32768]="DragUsingMouse",e[e.DecoratorPropertyChange=65536]="DecoratorPropertyChange",e[e.PreventLaneContainerUpdate=131072]="PreventLaneContainerUpdate"}(Qr||(Qr={})),function(e){e[e.None=2]="None",e[e.DrawSelectorBorder=4]="DrawSelectorBorder",e[e.PreventRenderSelector=8]="PreventRenderSelector"}(Wr||(Wr={})),function(e){e[e.None=0]="None",e[e.PreventDrag=2]="PreventDrag",e[e.PreventScale=4]="PreventScale",e[e.PreventDataInit=8]="PreventDataInit",e[e.hScrollbarMoved=16]="hScrollbarMoved",e[e.vScrollbarMoved=32]="vScrollbarMoved",e[e.AnimationClick=64]="AnimationClick",e[e.EnableGroupAction=128]="EnableGroupAction",e[e.PanInProgress=256]="PanInProgress",e[e.OverViewAction=512]="OverViewAction"}(Vr||(Vr={})),function(e){e[e.None=0]="None",e[e.PropertyChange=1024]="PropertyChange",e[e.Interaction=2048]="Interaction"}(Xr||(Xr={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"}(Yr||(Yr={})),function(e){e[e.collectionChange=0]="collectionChange",e[e.rotateChange=1]="rotateChange",e[e.positionChange=2]="positionChange",e[e.propertyChange=3]="propertyChange",e[e.selectionChange=4]="selectionChange",e[e.sizeChange=5]="sizeChange",e[e.drop=6]="drop",e[e.sourcePointChange=7]="sourcePointChange",e[e.targetPointChange=8]="targetPointChange",e[e.connectionChange=9]="connectionChange",e[e.animationComplete=10]="animationComplete",e[e.click=11]="click",e[e.doubleClick=12]="doubleClick",e[e.scrollChange=13]="scrollChange",e[e.dragEnter=14]="dragEnter",e[e.dragLeave=15]="dragLeave",e[e.dragOver=16]="dragOver",e[e.textEdit=17]="textEdit",e[e.paletteSelectionChange=18]="paletteSelectionChange",e[e.historyChange=19]="historyChange",e[e.mouseEnter=20]="mouseEnter",e[e.mouseLeave=21]="mouseLeave",e[e.mouseOver=22]="mouseOver",e[e.expandStateChange=23]="expandStateChange",e[e.segmentCollectionChange=24]="segmentCollectionChange",e[e.commandExecute=25]="commandExecute",e[e.historyStateChange=26]="historyStateChange",e[e.onUserHandleMouseDown=27]="onUserHandleMouseDown",e[e.onUserHandleMouseUp=28]="onUserHandleMouseUp",e[e.onUserHandleMouseEnter=29]="onUserHandleMouseEnter",e[e.onUserHandleMouseLeave=30]="onUserHandleMouseLeave",e[e.onImageLoad=31]="onImageLoad",e[e.onDoBindingInit=32]="onDoBindingInit",e[e.keyUp=33]="keyUp",e[e.keyDown=34]="keyDown",e[e.fixedUserHandleClick=35]="fixedUserHandleClick"}(Kr||(Kr={})),function(e){e[e.None=1]="None",e[e.Drag=2]="Drag",e[e.Draw=4]="Draw",e[e.InConnect=8]="InConnect",e[e.OutConnect=16]="OutConnect",e[e.Default=24]="Default"}(Gr||(Gr={}));var hi="contextMenuOpen",di=function(){function e(){this.pivot={x:.5,y:.5},this.isDirt=!0,this.isExport=!1,this.exportScaleValue={x:0,y:0},this.exportScaleOffset={x:0,y:0},this.canApplyStyle=!0,this.visible=!0,this.offsetX=0,this.offsetY=0,this.cornerRadius=0,this.minHeight=void 0,this.minWidth=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.width=void 0,this.height=void 0,this.rotateAngle=0,this.margin={left:0,right:0,top:0,bottom:0},this.horizontalAlignment="Auto",this.verticalAlignment="Auto",this.flip="None",this.relativeMode="Point",this.transform=Fr.Self|Fr.Parent,this.style={fill:"white",strokeColor:"black",opacity:1,strokeWidth:1},this.desiredSize=new nr,this.actualSize=new nr,this.parentTransform=0,this.preventContainer=!1,this.isSvgRender=!1,this.bounds=new Ar(0,0,0,0),this.shadow=null,this.description="",this.staticSize=!1,this.isRectElement=!1,this.isCalculateDesiredSize=!0,this.flipOffset={x:0,y:0},this.elementActions=Dr.None,this.inversedAlignment=!0,this.position=void 0,this.unitMode=void 0,this.float=!1,this.floatingBounds=void 0}return e.prototype.setOffsetWithRespectToBounds=function(e,t,n){this.unitMode=n,this.position={x:e,y:t}},e.prototype.getAbsolutePosition=function(e){if(void 0!==this.position)return"Absolute"===this.unitMode?this.position:{x:this.position.x*e.width,y:this.position.y*e.height}},Object.defineProperty(e.prototype,"outerBounds",{get:function(){return this.floatingBounds||this.bounds},set:function(e){this.floatingBounds=e},enumerable:!0,configurable:!0}),e.prototype.measure=function(e,t,n){var r=void 0!==this.width?this.width:(e.width||0)-this.margin.left-this.margin.right,i=void 0!==this.height?this.height:(e.height||0)-this.margin.top-this.margin.bottom;return this.id&&0===i&&this.elementActions&Dr.HorizontalLaneHeader&&(i=this.actualSize.height),this.desiredSize=new nr(r,i),this.isCalculateDesiredSize&&(this.desiredSize=this.validateDesiredSize(this.desiredSize,e)),this.desiredSize},e.prototype.arrange=function(e){return this.actualSize=e,this.updateBounds(),this.actualSize},e.prototype.updateBounds=function(){this.bounds=Vu(this)},e.prototype.validateDesiredSize=function(e,t){return!this.isRectElement||this.width||this.minWidth||this.maxWidth||(e.width=50),!this.isRectElement||this.height||this.minHeight||this.maxHeight||(e.height=50),(void 0===e||void 0!==this.width&&void 0!==this.height)&&((e=e||new nr).width=void 0===this.width?(t.width||0)-this.margin.left-this.margin.right:this.width,e.height=void 0===this.height?(t.height||0)-this.margin.top-this.margin.bottom:this.height),void 0!==this.minWidth&&(e.width=Math.max(e.width,this.minWidth)),void 0!==this.minHeight&&(e.height=Math.max(e.height,this.minHeight)),void 0!==this.maxWidth&&0!==this.maxWidth&&(e.width=Math.min(e.width,this.maxWidth)),void 0!==this.maxHeight&&0!==this.maxHeight&&(e.height=Math.min(e.height,this.maxHeight)),e},e}(),ui=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=new $r(0,0,0,0),t.desiredBounds=void 0,t.measureChildren=!0,t.prevRotateAngle=0,t}return ui(t,e),t.prototype.hasChildren=function(){return void 0!==this.children&&this.children.length>0},t.prototype.measure=function(e,n,r){this.desiredBounds=void 0;var i,o,a=void 0;if(this.hasChildren()){for(var s=0;s<this.children.length;s++){"Stretch"!==(i=this.children[s]).horizontalAlignment||e.width||(e.width=i.bounds.width),"Stretch"!==i.verticalAlignment||e.height||(e.height=i.bounds.height);var l="Stretch"===i.horizontalAlignment||"Stretch"===i.verticalAlignment;(this.measureChildren||l||i instanceof t&&void 0!==i.measureChildren)&&i.measure(e,n,r),o=this.GetChildrenBounds(i),"Stretch"!==i.horizontalAlignment&&"Stretch"!==i.verticalAlignment?void 0===this.desiredBounds?this.desiredBounds=o:this.desiredBounds.uniteRect(o):!this.actualSize||this.actualSize.width||this.actualSize.height||i.preventContainer||"Stretch"!==i.horizontalAlignment||"Stretch"!==i.verticalAlignment||(void 0===this.desiredBounds?this.desiredBounds=i.bounds:this.desiredBounds.uniteRect(i.bounds))}if(void 0!==this.desiredBounds&&0!==this.rotateAngle){var c={x:this.desiredBounds.x+this.desiredBounds.width*this.pivot.x,y:this.desiredBounds.y+this.desiredBounds.height*this.pivot.y},h=rp(this.rotateAngle,void 0,void 0,c);this.desiredBounds.x=h.x-this.desiredBounds.width*this.pivot.x,this.desiredBounds.y=h.y-this.desiredBounds.height*this.pivot.y}this.desiredBounds&&(a=new nr(this.desiredBounds.width,this.desiredBounds.height))}return a=this.validateDesiredSize(a,e),this.stretchChildren(a),this.desiredSize=a,a},t.prototype.arrange=function(e){var n,r=this.desiredBounds;if(r){this.offsetX,this.offsetY;if(this.offsetX=r.x+r.width*this.pivot.x,this.offsetY=r.y+r.height*this.pivot.y,this.hasChildren())for(var i=0;i<this.children.length;i++){var o=!1;"Stretch"===(n=this.children[i]).horizontalAlignment&&(n.offsetX=this.offsetX,n.parentTransform=this.parentTransform+this.rotateAngle,this.flip&&this.elementActions&Dr.ElementIsGroup&&(n.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-n.parentTransform:n.parentTransform),o=!0),"Stretch"===n.verticalAlignment&&(n.offsetY=this.offsetY,n.parentTransform=this.parentTransform+this.rotateAngle,o=!0),(o||this.measureChildren||n instanceof t&&void 0!==n.measureChildren)&&n.arrange(n.desiredSize)}}return this.actualSize=e,this.updateBounds(),this.prevRotateAngle=this.rotateAngle,e},t.prototype.stretchChildren=function(e){if(this.hasChildren())for(var n=0,r=this.children;n<r.length;n++){var i=r[n];"Stretch"!==i.horizontalAlignment&&void 0!==i.desiredSize.width||(i.desiredSize.width=e.width-i.margin.left-i.margin.right),"Stretch"!==i.verticalAlignment&&void 0!==i.desiredSize.height||(i.desiredSize.height=e.height-i.margin.top-i.margin.bottom),i instanceof t&&i.stretchChildren(i.desiredSize)}},t.prototype.applyPadding=function(e){e.width+=this.padding.left+this.padding.right,e.height+=this.padding.top+this.padding.bottom},t.prototype.findChildOffsetFromCenter=function(e,t){var n=function(e,t){var n=e.x+t.desiredSize.width*t.pivot.x,r=e.y+t.desiredSize.height*t.pivot.y;return{x:n,y:r}}({x:t.x-e.desiredSize.width/2,y:t.y-e.desiredSize.height/2},e);n=rp(e.rotateAngle,t.x,t.y,n),n=rp(this.rotateAngle+this.parentTransform,this.offsetX,this.offsetY,n),e.offsetX=n.x,e.offsetY=n.y},t.prototype.GetChildrenBounds=function(e){var t=e.desiredSize.clone(),n=(e.rotateAngle,this.rotateAngle,e.offsetX),r=e.offsetY,i=n-t.width*e.pivot.x,o=r-t.height*e.pivot.y,a=i+t.width,s=o+t.height,l={x:i,y:o},c={x:a,y:o},h={x:i,y:s},d={x:a,y:s};return l=rp(e.rotateAngle,e.offsetX,e.offsetY,l),c=rp(e.rotateAngle,e.offsetX,e.offsetY,c),h=rp(e.rotateAngle,e.offsetX,e.offsetY,h),d=rp(e.rotateAngle,e.offsetX,e.offsetY,d),0!==this.rotateAngle&&(l=rp(-this.rotateAngle,void 0,void 0,l),c=rp(-this.rotateAngle,void 0,void 0,c),h=rp(-this.rotateAngle,void 0,void 0,h),d=rp(-this.rotateAngle,void 0,void 0,d)),Ar.toBounds([l,c,h,d])},t}(di),fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e){function t(){var t=e.call(this)||this;return t.textContent="",t.canMeasure=!0,t.isLaneOrientation=!1,t.canConsiderBounds=!0,t.hyperlink={color:"blue"},t.doWrap=!0,t.textNodes=[],t.style={color:"black",fill:"transparent",strokeColor:"black",strokeWidth:1,fontFamily:"Arial",fontSize:12,whiteSpace:"CollapseSpace",textWrapping:"WrapWithOverflow",textAlign:"Center",italic:!1,bold:!1,textDecoration:"None",strokeDashArray:"",opacity:5,gradient:null,textOverflow:"Wrap"},t.style.fill="transparent",t.style.strokeColor="transparent",t}return fi(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.textContent},set:function(e){this.textContent!==e&&(this.textContent=e,this.isDirt=!0,this.doWrap=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.textNodes},set:function(e){this.textNodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapBounds",{get:function(){return this.textWrapBounds},set:function(e){this.textWrapBounds=e},enumerable:!0,configurable:!0}),t.prototype.refreshTextElement=function(){this.isDirt=!0},t.prototype.measure=function(e){var t;return t=this.isDirt&&this.canMeasure?function(e,t,n,r,i){var o,a,s=new nr(0,0),l=function(e,t){var n={fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray,opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,width:t||e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5};return n.fontSize=e.style.fontSize,n.fontFamily=e.style.fontFamily,n.textOverflow=e.style.textOverflow,n.textDecoration=e.style.textDecoration,n.doWrap=e.doWrap,n.whiteSpace=tp(e.style.whiteSpace,e.style.textWrapping),n.content=e.content,n.textWrapping=e.style.textWrapping,n.breakWord=Ju(e.style.textWrapping),n.textAlign=qu(e.style.textAlign),n.color=e.style.color,n.italic=e.style.italic,n.bold=e.style.bold,n.dashArray="",n.strokeWidth=0,n.fill="",n}(e,r);e.childNodes=o=function(e,t,n){var r,i,o=[],a=0,s=t||e.content;if("nowrap"!==e.whiteSpace&&"pre"!==e.whiteSpace)if("breakall"===e.breakWord)for(r="",r+=s[0],a=0;a<s.length;a++)if((i=Zu(r,e))>=e.width&&r.length>0)o[o.length]={text:r,x:0,dy:0,width:i},r="";else{(r+=s[a+1]||"").indexOf("\n")>-1&&(o[o.length]={text:r,x:0,dy:0,width:Zu(r,e)},r="");var l=Zu(r,e);Math.ceil(l)+2>=e.width&&r.length>0&&(o[o.length]={text:r,x:0,dy:0,width:l},r=""),a===s.length-1&&r.length>0&&(o[o.length]={text:r,x:0,dy:0,width:l},r="")}else o=function(e,t,n){var r,i,o,a,s=[],l="",c=0,h=0,d="nowrap"!==e.whiteSpace,u=(t||e.content).split("\n");for(c=0;c<u.length;c++)for("",r="NoWrap"!==e.textWrapping?u[c].split(" "):"NoWrap"===e.textWrapping?[u[c]]:u,h=0;h<r.length;h++){var p=Zu(i=(l+=((0!==h||1===r.length)&&d&&l.length>0?" ":"")+r[h])+" "+(r[h+1]||""),e);Math.floor(p)>(n||e.width)-2&&l.length>0?(s[s.length]={text:l,x:0,dy:0,width:i===l?p:l===a?o:Zu(l,e)},l=""):h===r.length-1&&(s[s.length]={text:l,x:0,dy:0,width:p},l=""),a=i,o=p}return s}(e,t,n);else o[o.length]={text:s,x:0,dy:0,width:Zu(s,e)};return o}(l,i,e.isLaneOrientation?r:void 0),e.wrapBounds=a=function(e,t){var n,r,i={x:0,width:0},o=0;for(o=0;o<t.length;o++)r=n=t[o].width,n="left"===e.textAlign?0:"center"===e.textAlign?n>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)?0:-n/2:"right"===e.textAlign?-n:t.length>1?0:-n/2,t[o].dy=1.2*e.fontSize,t[o].x=n,i?(i.x=Math.min(i.x,n),i.width=Math.max(i.width,r)):i={x:n,width:r};return i}(l,o),s.width=a.width,e.wrapBounds.width>=r&&"Wrap"!==l.textOverflow&&(s.width=r);return s.height=o.length*e.style.fontSize*1.2,s}(this,this.style,this.content,this.isLaneOrientation?e.height:this.width||e.width):this.desiredSize,void 0===this.width||void 0===this.height?this.desiredSize=new nr(t.width,t.height):this.desiredSize=new nr(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return(e.width!==this.actualSize.width||e.height!==this.actualSize.height||this.isDirt)&&(this.doWrap=!0),this.actualSize=e,this.updateBounds(),this.isDirt=!1,this.actualSize},t}(di),Ai=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.measureChildren=void 0,t}return Ai(t,e),t.prototype.measure=function(t,n,r){var i=void 0,o=void 0;if(this.hasChildren()){for(var a=0,s=this.children;a<s.length;a++){var l=s[a];l instanceof gi?l.canMeasure&&(t.width=t.width||this.maxWidth||this.minWidth,l.measure(t)):l instanceof gi||l.measure(t,n,r);var c=l.desiredSize.clone();0!==l.rotateAngle&&(c=np(c,l.rotateAngle));var h=c.width+l.margin.right,d=c.height+l.margin.bottom,u=new Ar(l.margin.left,l.margin.top,h,d);if(l.float)if(void 0!==l.getAbsolutePosition(c))continue;l instanceof gi&&!(l instanceof gi&&l.canConsiderBounds)||(void 0===o?o=u:o.uniteRect(u))}if(o){var p,f;p=Math.max(o.left,0),f=Math.max(o.top,0),i=new nr(o.width+p,o.height+f)}}return i=e.prototype.validateDesiredSize.call(this,i,t),e.prototype.stretchChildren.call(this,i),i.width+=this.padding.left+this.padding.right,i.height+=this.padding.top+this.padding.bottom,this.desiredSize=i,i},t.prototype.arrange=function(t,n){if(this.outerBounds=new Ar,this.hasChildren())for(var r=this.offsetY-t.height*this.pivot.y+this.padding.top,i=this.offsetX-t.width*this.pivot.x+this.padding.left,o=0,a=this.children;o<a.length;o++){var s=a[o];if(0!==(s.transform&Fr.Parent)){s.parentTransform=this.parentTransform+this.rotateAngle,("None"!==this.flip||this.elementActions&Dr.ElementIsGroup)&&(s.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-s.parentTransform:s.parentTransform);var l,c=s.desiredSize.clone(),h=void 0,d=i,u=r;if("Point"===s.relativeMode){var p=s.getAbsolutePosition(t);void 0!==p&&(d+=p.x,u+=p.y)}l={x:(h="Object"===s.relativeMode?this.alignChildBasedOnParent(s,c,t,d,u):this.alignChildBasedOnaPoint(s,d,u)).x+c.width/2,y:h.y+c.height/2},e.prototype.findChildOffsetFromCenter.call(this,s,l)}!n||"Stretch"!==s.horizontalAlignment&&"Stretch"!==s.verticalAlignment?s instanceof gi&&s.canMeasure?(s.arrange(s.desiredSize),this.outerBounds.uniteRect(s.outerBounds)):s instanceof gi||(s.arrange(s.desiredSize),this.outerBounds.uniteRect(s.outerBounds)):s.arrange(t)}return this.actualSize=t,this.updateBounds(),this.outerBounds.uniteRect(this.bounds),t},t.prototype.alignChildBasedOnParent=function(e,t,n,r,i){switch(e.horizontalAlignment){case"Auto":case"Left":r+=e.margin.left;break;case"Right":r+=n.width-t.width-e.margin.right;break;case"Stretch":case"Center":r+=n.width/2-t.width/2}switch(e.verticalAlignment){case"Auto":case"Top":i+=e.margin.top;break;case"Bottom":i+=n.height-t.height-e.margin.bottom;break;case"Stretch":case"Center":i+=n.height/2-t.height/2}return{x:r,y:i}},t.prototype.alignChildBasedOnaPoint=function(e,t,n){switch(t+=e.margin.left-e.margin.right,n+=e.margin.top-e.margin.bottom,e.horizontalAlignment){case"Auto":case"Left":t=e.inversedAlignment?t:t-e.desiredSize.width;break;case"Stretch":case"Center":t-=e.desiredSize.width*e.pivot.x;break;case"Right":t=e.inversedAlignment?t-e.desiredSize.width:t}switch(e.verticalAlignment){case"Auto":case"Top":n=e.inversedAlignment?n:n-e.desiredSize.height;break;case"Stretch":case"Center":n-=e.desiredSize.height*e.pivot.y;break;case"Bottom":n=e.inversedAlignment?n-e.desiredSize.height:n}return{x:t,y:n}},t}(pi);function yi(e){return vi[e.toString()]}var vi={Rectangle:"M0,0 L50,0 L50,50 L0,50 z",Ellipse:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Hexagon:"M30,0 L60,0 L90,30 L60,60 L30,60 L0,30 L30,0 z",Parallelogram:"M30,0 L60,0 L45,30 L15,30 z",Triangle:"M45,0 L90,45 L0,45 L45,0 z",Plus:"M696.6084,158.2656 L674.8074,158.2656 L674.8074,136.4656 L658.4084,136.4656 L658.4084,158.2656 L636.6084,158.2656L636.6084,174.6646 L658.4084,174.6646 L658.4084,196.4656 L674.8074,196.4656 L674.8074,174.6646 L696.6084,174.6646L696.6084,158.2656 z",Star:"M540.3643,137.9336 L546.7973,159.7016 L570.3633,159.7296 L550.7723,171.9366 L558.9053,194.9966 L540.3643,179.4996L521.8223,194.9966 L529.9553,171.9366 L510.3633,159.7296 L533.9313,159.7016 L540.3643,137.9336 z",Pentagon:"M30,0 L60,30 L50,70 L10,70 L0,30 L30,0 z",Heptagon:"M223.7783,195.7134 L207.1303,174.8364 L213.0713,148.8034 L237.1303,137.2174 L261.1883,148.8034 L267.1303,174.8364L250.4813,195.7134 L223.7783,195.7134 z",Octagon:"M98.7319,196.4653 L81.1579,178.8923 L81.1579,154.0393 L98.7319,136.4653 L123.5849,136.4653L141.1579,154.0393 L141.1579,178.8923 L123.5849,196.4653 L98.7319,196.4653 z",Trapezoid:"M127.2842,291.4492 L95.0322,291.4492 L81.1582,256.3152 L141.1582,256.3152 L127.2842,291.4492 z",Decagon:"M657.3379,302.4141 L642.3369,291.5161 L636.6089,273.8821 L642.3369,256.2481 L657.3379,245.3511 L675.8789,245.3511L690.8789,256.2481 L696.6089,273.8821L690.8789,291.5161 L675.8789,302.4141 L657.3379,302.4141 z",RightTriangle:"M836.293,292.9238 L776.293,292.9238 L776.293,254.8408 L836.293,292.9238 z",Cylinder:"M 542.802,362.009C 542.802,368.452 525.341,373.676 503.802,373.676C 482.263,373.676 464.802,368.452 464.802,362.009L 464.802,466.484C 464.802,472.928 482.263,478.151 503.802,478.151C 525.341,478.151 542.802,472.928 542.802,466.484L 542.802,362.016C 542.802,368.459 525.341,373.534 503.802,373.534C 482.263,373.534 464.802,368.31 464.802,361.867L 464.802,362.016C 464.802,355.572 482.263,350.349 503.802,350.349C 525.341,350.349 542.802,355.572 542.802,362.016",Diamond:"M397.784,287.875 L369.5,316.159 L341.216,287.875 L369.5,259.591 L397.784,287.875 z"},bi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wi=function(e){function t(){var t=e.call(this)||this;return t.pathData="",t.transformPath=!0,t.absolutePath="",t.canMeasurePath=!1,t.absoluteBounds=new Ar,t}return bi(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.pathData},set:function(e){this.pathData!==e&&(this.pathData=e,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.getPoints=function(){var e=this;return this.pointTimer||(this.pointTimer=setTimeout((function(){e.points=null,e.pointTimer=null}),200)),this.points=this.points||function(e){var t,n,r=[],i="measureElement";window[i].style.visibility="visible";var o=du(window[i].children[2])[0];o.setAttributeNS(null,"d",e.data);var a=e.absoluteBounds,s=fu(e,a,e);o.setAttributeNS(null,"d",s);var l=o.getTotalLength();for(n=0;n<=l;n+=10)t=o.getPointAtLength(n),r.push({x:t.x,y:t.y});return window[i].style.visibility="hidden",r}(this),function(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],a={x:e.offsetX-e.actualSize.width*e.pivot.x+o.x,y:e.offsetY-e.actualSize.height*e.pivot.y+o.y},s=void 0,l=e.rotateAngle+e.parentTransform;l&&br(s=yr(),l,e.offsetX,e.offsetY),s&&(a=vr(s,a)),n.push(a)}return n}(this,this.points)},t.prototype.measure=function(e){return this.staticSize&&void 0!==this.width&&void 0!==this.height?this.absoluteBounds=new Ar(this.offsetX-this.width*this.pivot.x,this.offsetY-this.height*this.pivot.y,this.width,this.height):(!this.isDirt||!this.transformPath&&void 0!==this.width&&void 0!==this.height||this.absoluteBounds&&0!==this.absoluteBounds.height)&&!this.canMeasurePath||(this.absoluteBounds=uu(this.data?this.data:"")),void 0===this.width?this.desiredSize=new nr(this.absoluteBounds.width,this.height||this.absoluteBounds.height):void 0===this.height?this.desiredSize=new nr(this.width||this.absoluteBounds.width,this.absoluteBounds.height):this.desiredSize=new nr(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.canMeasurePath=!1,this.desiredSize},t.prototype.arrange=function(e){return(this.isDirt||this.actualSize.width!==e.width||this.actualSize.height!==e.height)&&(this.isDirt=!0,this.absolutePath=this.updatePath(this.data,this.absoluteBounds,e),this.staticSize||(this.points=null)),this.actualSize=this.desiredSize,this.updateBounds(),this.isDirt=!1,this.actualSize},t.prototype.updatePath=function(e,t,n){var r=!1,i="",o=-t.x,a=-t.y,s=[];return n.width===t.width&&n.height===t.height||(o=n.width/Number(t.width?t.width:1),a=n.height/Number(t.height?t.height:1),r=!0),s=ur(s=ar(e)),i=(r||this.isDirt)&&this.transformPath?cr(s,o,a,r,t.x,t.y,0,0):pr(s),r=!1,i},t}(di),xi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ci=function(e){function t(){var t=e.call(this)||this;return t.imageSource="",t.imageScale="None",t.imageAlign="None",t.stretch="Stretch",t}return xi(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this.imageSource},set:function(e){this.imageSource=e,this.isDirt=!0},enumerable:!0,configurable:!0}),t.prototype.measure=function(e,t,n){return this.isDirt&&("Stretch"!==this.stretch||void 0===this.width&&void 0===this.height)&&(this.contentSize=function(e,t,n,r){var i="measureElement";window[i].style.visibility="visible";var o=window[i].children[1];o.setAttribute("src",e);var a=o.getBoundingClientRect(),s=a.width,l=a.height;t=new nr(s,l),window[i].style.visibility="hidden";var c=document.createElement("img");return c.setAttribute("src",e),ju(c,{id:n+"sf-imageNode",style:"display: none;"}),document.body.appendChild(c),c.onload=function(e){var t=e.currentTarget;r&&r(n,{width:t.width,height:t.height})},t}(this.source,this.contentSize,t,n),this.isDirt=!1),void 0!==this.width&&void 0!==this.height?(this.desiredSize=new nr(this.width,this.height),this.contentSize=this.desiredSize):this.desiredSize=this.contentSize,this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new nr(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(di),Si=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(e){function t(t,n){var r=e.call(this)||this;return r.data="",r.nodeId="",r.diagramId="",r.scale="Stretch",r.diagramId=n,r.nodeId=t,r}return Si(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.canReset||(this.canReset=!0,this.template=Mu(this,!1),this.canReset=!1,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){if(this.isDirt){var t=function(e){var t="measureElement";window[t].style.visibility="visible";var n=window[t].children[2];n.appendChild(e);var r=e.getBoundingClientRect(),i=n.getBoundingClientRect(),o=r;return o.x=r.left-i.left,o.y=r.top-i.top,n.removeChild(e),window[t].style.visibility="hidden",o}(this.template);this.contentSize=new nr,this.contentSize.width=t.width,this.contentSize.height=t.height;var n=t.x,r=t.y;this.templatePosition={x:n,y:r},this.isDirt=!1}if(void 0===this.width||void 0===this.height){var i=function(e){var t="measureElement";window[t].style.visibility="visible";var n=window[t].children[2];n.appendChild(e);var r=n.getBoundingClientRect();return n.removeChild(e),window[t].style.visibility="hidden",r}(this.template);this.desiredSize=new nr(i.width,i.height)}else this.desiredSize=new nr(this.width,this.height);return this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new nr(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(di),Pi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ei=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Oi=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.inEdges=[],o.outEdges=[],o}return Pi(t,e),Ei([_t("")],t.prototype,"id",void 0),Ei([_t("Center")],t.prototype,"horizontalAlignment",void 0),Ei([_t("Center")],t.prototype,"verticalAlignment",void 0),Ei([Ft({},ei)],t.prototype,"margin",void 0),Ei([_t(12)],t.prototype,"width",void 0),Ei([_t(12)],t.prototype,"height",void 0),Ei([Ft({},si)],t.prototype,"style",void 0),Ei([_t("Square")],t.prototype,"shape",void 0),Ei([_t(Er.Connect)],t.prototype,"visibility",void 0),Ei([_t("")],t.prototype,"pathData",void 0),Ei([_t(Gr.Default)],t.prototype,"constraints",void 0),Ei([_t()],t.prototype,"addInfo",void 0),Ei([_t()],t.prototype,"outEdges",void 0),Ei([_t()],t.prototype,"inEdges",void 0),t}(on),Ti=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return Pi(t,e),t.prototype.getClassName=function(){return"PointPort"},Ei([Ft({x:.5,y:.5},or)],t.prototype,"offset",void 0),t}(Oi),Ii=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Li=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ii(t,e),Li([_t("blue")],t.prototype,"color",void 0),Li([_t("")],t.prototype,"content",void 0),Li([_t("")],t.prototype,"link",void 0),Li([_t("None")],t.prototype,"textDecoration",void 0),t}(on),Ni=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return r.id||(t.parentObj&&t.parentObj.propName&&"phases"===t.parentObj.propName?o.id=t.parentObj.id:o.id=Uu()),o}return Ii(t,e),Li([_t("")],t.prototype,"content",void 0),Li([_t(void 0)],t.prototype,"template",void 0),Li([_t("String")],t.prototype,"annotationType",void 0),Li([_t(!0)],t.prototype,"visibility",void 0),Li([_t(Nr.InheritReadOnly)],t.prototype,"constraints",void 0),Li([Ft(void 0,ki)],t.prototype,"hyperlink",void 0),Li([_t("")],t.prototype,"id",void 0),Li([_t()],t.prototype,"width",void 0),Li([_t()],t.prototype,"height",void 0),Li([_t(0)],t.prototype,"rotateAngle",void 0),Li([Ft({strokeWidth:0,strokeColor:"transparent",fill:"transparent"},ci)],t.prototype,"style",void 0),Li([_t("Center")],t.prototype,"horizontalAlignment",void 0),Li([_t("Center")],t.prototype,"verticalAlignment",void 0),Li([Ft({},ei)],t.prototype,"margin",void 0),Li([Ft({top:void 0,bottom:void 0,left:void 0,right:void 0},ei)],t.prototype,"dragLimit",void 0),Li([_t("Shape")],t.prototype,"type",void 0),Li([_t()],t.prototype,"addInfo",void 0),t}(on),Mi=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return Ii(t,e),t.prototype.getClassName=function(){return"ShapeAnnotation"},Li([Ft({x:.5,y:.5},or)],t.prototype,"offset",void 0),t}(Ni),Di=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return Ii(t,e),t.prototype.getClassName=function(){return"PathAnnotation"},Li([_t(.5)],t.prototype,"offset",void 0),Li([Ft({x:0,y:0},or)],t.prototype,"displacement",void 0),Li([_t("Center")],t.prototype,"alignment",void 0),Li([_t(!1)],t.prototype,"segmentAngle",void 0),t}(Ni);function Ri(e){return ji[e.toString()]}var ji={X:"M14,14 L106,106 M106,14 L14,106",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Square:"M0,0 L10,0 L10,10 L0,10 z"},_i={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z"};function Fi(e){return Wi[e.toString()]}var Hi,Ui,zi,Qi,Wi={Process:"M419.511,76.687L359.511,76.687L359.511,43.086L419.511,43.086z",Decision:"M 253.005,115.687L 200.567,146.071L 148.097,115.687L 200.534,85.304L 253.005,115.687 Z",Document:"M 60 31.9 c 0 0 -11 -7.7 -30 0 s -30 0 -30 0 V 0 h 60 V 31.9 Z",PreDefinedProcess:"M 0,0 L 50,0 L 50,50 L 0,50 Z  M 8.334,0 L 8.334,50 M 41.667,0 L 41.667,50",Terminator:"M 269.711,29.33C 269.71,44.061 257.77,56 243.04,56L 158.058,56C 143.33,56 131.39,44.061 131.39,29.33L 131.39,29.33C 131.391,14.6057 143.33,2.669 158.058,2.669L 243.044,2.669C 257.772,2.669 269.711,14.6057 269.711,29.333 Z",PaperTap:"M0.0009,17.2042 L0.0009,47.165 C0.001,47.165 14.403,53.5455 25.00,47.165 C35.599,40.7852 44.403,43.5087 50.00,47.165L50.001,17.2042 M50.001,32.7987 L50.001,2.8405 C50.001,2.8405 35.599,-3.5427 25.001,2.8405C14.403,9.2237 5.599,6.494 0.0009,2.8405 L0.0009,32.7987",DirectData:"M 132.62 0 L 17.38 0 C 7.78 0 0 13.43 0 30 C 0 46.57 7.78 60 17.38 60 L 132.62 60 M 132.62 0C 123.02 0 115.24 13.43 115.24 30 C 115.24 46.57 123.02 60 132.62 60 C 142.22 60 150 46.57 150 30 C 150 13.43 142.22 0 132.62 0 z ",SequentialData:"M0.0029,24.999 C0.0029,11.1922 10.433,0.0021 23.295,0.0021 C36.159,0.00216 46.585,11.1922 46.585,24.999C46.585,38.8057 36.159,49.9979 23.295,49.9979 C10.433,49.9979 0.0029,38.8057 0.0029,24.999 z M23.294,49.999 L50.002,49.999",Sort:"M50.001,24.9971 L25.001,49.9971 L0.00097,24.9971 L25.001,-0.00286865 L50.001,24.9971 z M0.000976562,24.9971 L50.001,24.9971",MultiDocument:"M43.6826,40 C44.8746,40.6183 45.8586,41.3502 46.8366,42.1122 L46.8366,4.74487 L3.09857,4.74487 L3.09857,10.9544 M46.837,35.143 C48.027,35.765 49.025,36.604 50.003,37.369 L50.003,0.002 L6.264,0.002 L6.264,4.744 M43.682,47.113 L43.682,10.765 L0.0025,10.7652 L0.0025,47.1132 C0.0025,47.1132 12.5846,53.6101 21.8426,47.1132 C31.1006,40.6163 38.792,43.393 43.6826,47.1132 z",Collate:"M50.001,0.0028 L25.001,25.0029 L0.00097,0.0028 L50.001,0.002 z M0.0009,50.002 L25.001,25.002L50.001,50.002 L0.0009,50.0029 z",SummingJunction:"M7.3252,42.6768 L42.6772,7.3247 M42.6768,42.6768 L7.3248,7.3247 M0.0009,25.001 C0.0009,11.193 11.197,0.0009 25.001,0.0009 C38.809,0.0009 50.001,11.193 50.001,25.001 C50.001,38.809 38.809,50.001 25.001,50.001 C11.197,50.00 0.0009,38.809 0.0009,25.00 z",Or:"M 0 50 L 100 50 M 50 100 L 50 0.0 M 0 50 C 0 22.384 22.392 0 50 0 C 77.616 0 100 22.384 100 50 C 100 77.616 77.616 100 50 100 C 22.392 100 0 77.616 0 50 Z",InternalStorage:"M 0 3.81946A 2.5,3.81946 0 0,1 2.5,0L 47.5 0A 2.5,3.81946 0 0,1 50,3.81946L 50 45.836A 2.5,3.819446 0 0,1 47.5,49.652778L 2.5 49.652778A 2.5,3.819446 0 0,1 0,45.8336L 0 3.819446ZM 0 11.45834L 50 11.4583334M 12.5 0L 12.5 49.652778",Extract:"M0,35 L30,0 L60,35 Z",ManualOperation:"M46.4,28.8 L14.8,28.8 L0,0 L60,0 Z",Merge:"M60,0 L30,35 L0,0 Z",OffPageReference:"M60,33.3 L30.1,39 L0,33.3 L0,0 L60,0 Z",SequentialAccessStorage:"M 60 30 C 60 13.4 46.6 0 30 0 S 0 13.4 0 30 s 13.4 30 30 30 h 28.6 v -6.5 h -9.9C 55.5 48 60 39.5 60 30 Z",Annotation:"M49.9984,50.0029 L-0.00271199,50.0029 L-0.00271199,0.00286865 L49.9984,0.00286865",Annotation2:"M49.9977,50.0029 L25.416,50.0029 L25.416,0.00286865 L49.9977,0.00286865 M25.4166,25.0029 L-0.00227869,25.0029",Data:"M 10 0 L 40 0 L 30 40 L 0 40 Z",Card:"M275,60 L400,60 L400,110 L260,110 L260,75 Z",Delay:"M0,0 L12.029,0 C14.212999,0 16,1.7869979 16,3.9709952 C16,6.1549926 14.212999,7.9409904 12.029,7.9409904 L0,7.9409904 z",Preparation:"M 1048.17 572 C 1051.06 568.86 1055.17 567.05 1059.5 567 L 1094.51 567 C 1098.84 567.05 1102.95 568.86 1105.84 572 L 1126.43 595 C 1127.01 596.28 1127.01 597.72 1126.43 599 L 1105.84 622 C 1102.95 625.14 1098.84 626.95 1094.51 627 L 1059.5 627 C 1055.17 626.95 1051.06 625.14 1048.17 622 L 1027.58 599 C 1027 597.72 1027 596.28 1027.58 595 L 1048.17 572 Z",Display:"M47.8809,19.2914 L32.7968,-0.00594145 L11.3902,-0.00594145 C7.93166,-0.00594145 0.00124586,11.187 0.00124586,24.9968C0.00124586,38.8032 7.93166,49.9962 11.3902,49.9962 L32.7968,49.99 L47.615,31.038 C47.615,31.0388 52.798,24.9968 47.880,19.2914 z",ManualInput:"M 912 732 L 1006.85 707 C 1008.2 707 1009.5 707.53 1010.46 708.46 C 1011.41 709.4 1011.95 710.67 1011.95 712 L 1011.95 762C 1012 764.41 1010.28 766.52 1007.87 767 L 917.1 767 C 915.75 767 914.45 766.47 913.49 765.54 C 912.54 764.6 912 763.33 912 762 L 912 732 Z",LoopLimit:"M 8 9 L 27 9 L 33 15 L 33 26 C 33 27 33 27 32 27 L 4 27 C 3 27 2 27 2 26 L 2 15 L 8 9 Z",StoredData:"M 5.55 0L 50 0A 1.5,30 0 0,1 50,0A 5.555,25 0 0,0 50,50A 1.5,30 0 0,1 50,50L 5.555 50A 5.55,25 0 0,1 5.555,0Z"};function Vi(e,t,n){var r=function(e,t,n,r,i){var o,a,s,l,c,h,d=e.sourceWrapper,u=e.targetWrapper,p=e.sourcePortWrapper,f=e.targetPortWrapper,g=[],A=13,m={corners:o,point:t,direction:s,margin:{left:5,right:5,bottom:5,top:5}},y={corners:a,point:n,direction:l,margin:{left:5,right:5,bottom:5,top:5}};void 0!==d&&void 0!==u&&(c=Wu(d),h=Wu(u),m.corners=d.corners,y.corners=u.corners);if(void 0!==p){var v={x:p.offsetX,y:p.offsetY};m.direction=Po(v,c,d.bounds,!1)}if(void 0!==f){var b={x:f.offsetX,y:f.offsetY};y.direction=Po(b,h,u.bounds,!1)}if(void 0!==d&&void 0!==u)return void 0!==m.direction&&void 0!==y.direction||(r?function(e,t,n){"LeftToRight"===n?(e.direction=e.direction?e.direction:"Right",t.direction=t.direction?t.direction:"Left"):"RightToLeft"===n?(e.direction=e.direction?e.direction:"Left",t.direction=t.direction?t.direction:"Right"):"TopToBottom"===n?(e.direction=e.direction?e.direction:"Bottom",t.direction=t.direction?t.direction:"Top"):"BottomToTop"===n&&(e.direction=e.direction?e.direction:"Top",t.direction=t.direction?t.direction:"Bottom")}(m,y,r):m.corners.top>y.corners.bottom&&Math.abs(m.corners.top-y.corners.bottom)>m.margin.top+m.margin.bottom?(m.direction=m.direction?m.direction:"Top",y.direction=y.direction?y.direction:"Bottom"):m.corners.bottom<y.corners.top&&Math.abs(m.corners.bottom-y.corners.top)>m.margin.bottom+m.margin.top?(m.direction=m.direction?m.direction:"Bottom",y.direction=y.direction?y.direction:"Top"):m.corners.right<y.corners.left&&Math.abs(m.corners.right-y.corners.left)>m.margin.right+m.margin.left||m.corners.right+A<y.corners.left||y.corners.right>=m.corners.left-A&&m.corners.left>y.corners.left?(m.direction=m.direction?m.direction:"Right",y.direction=y.direction?y.direction:"Left"):m.corners.left>y.corners.right&&Math.abs(m.corners.left-y.corners.right)>m.margin.left+m.margin.right||y.corners.right+A<m.corners.left||m.corners.right>=y.corners.left-A&&m.corners.left<y.corners.left?(m.direction=m.direction?m.direction:"Left",y.direction=y.direction?y.direction:"Right"):d.id!==u.id&&!c.equals(c,h)&&h.containsPoint(c.topCenter,m.margin.top)?(m.direction=m.direction?m.direction:"Bottom",y.direction=y.direction?y.direction:"Top"):(m.direction=m.direction?m.direction:"Top",y.direction=y.direction?y.direction:"Bottom")),function(e,t,n,r,i,o){var a,s=e.sourceWrapper,l=e.targetWrapper,c=e.sourcePortWrapper,h=e.targetPortWrapper,d=[],u=s.corners,p=l.corners,f=(p.center,{corners:u,point:r,direction:t,margin:{left:5,right:5,bottom:5,top:5}}),g={corners:p,point:i,direction:n,margin:{left:5,right:5,bottom:5,top:5}},A=no(s,u,e.sourceWrapper.bounds),m=no(l,p,e.targetWrapper.bounds),y=!1;e.sourceWrapper&&e.targetWrapper&&(y=function(e,t,n){for(var r=eo(e,n.sourcePadding),i=eo(t,n.targetPadding),o=0;o<r.length-1;o++)for(var a=r[o],s=0;s<i.length-1;s++){if(yh(a,i[s]).enabled)return!0}return!1}(e.sourceWrapper,e.targetWrapper,e));if(void 0!==c){switch(f.point={x:c.offsetX,y:c.offsetY},f.direction){case"Bottom":case"Top":f.point.y=f.point.y;break;case"Left":case"Right":f.point.x=f.point.x}e.sourcePadding&&!y&&(h&&(g.point={x:h.offsetX,y:h.offsetY}),f.point=$i(e,f,g,!1))}else"Orthogonal"===e.type?(e.segments&&e.segments.length>0&&e.segments[0].direction&&(f.direction=e.segments[0].direction),f.point=po(A,f.direction),a=po(A,Oo(f.direction)),f.point=go(e,s,f.point,a,!1)):f.point=s.corners.center;if(void 0!==h){switch(g.point={x:h.offsetX,y:h.offsetY},g.direction){case"Bottom":case"Top":g.point.y=g.point.y;break;case"Left":case"Right":g.point.x=g.point.x}e.targetPadding&&!y&&(g.point=$i(e,f,g,!0))}else"Orthogonal"===e.type?(g.point=po(m,g.direction),a=po(m,Oo(g.direction)),g.point=go(e,l,g.point,a,!0)):g.point=l.corners.center;if("Orthogonal"!==e.type){var v=void 0,b=void 0;if(oo(e),void 0===e.sourcePortWrapper){f.point=f.corners.center,e.segments&&e.segments.length>0&&(b=e.segments[0],v=or.isEmptyPoint(b.point)?void 0:b);var w=void 0!==v?v.point:g.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[0].vector1.angle&&e.segments[0].vector1.distance){var x=Math.max(f.corners.width,f.corners.height);w=or.transform(f.point,e.segments[0].vector1.angle,x/2)}f.point=y?e.sourceWrapper.bounds.center:go(e,s,f.point,w,!1)}if(void 0===e.targetPortWrapper){g.point=g.corners.center,e.segments&&e.segments.length>1&&(b=e.segments[e.segments.length-2],v=or.isEmptyPoint(b.point)?void 0:b);var C=v?v.point:f.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[e.segments.length-1].vector2.angle&&e.segments[e.segments.length-1].vector2.distance){x=Math.max(f.corners.width,f.corners.height);C=or.transform(g.point,e.segments[0].vector2.angle,x/2)}g.point=y?e.targetWrapper.bounds.center:go(e,l,C,g.point,!0)}d=ro(e,f,g)}else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].direction)d=function(e,t,n,r,i,o,a){var s,l,c,h,d=[];oo(e);for(var u=0;u<e.segments.length;u++){if(l=e.segments[u],r&&t.direction===Oo(l.direction)&&(l.direction=t.direction),u>0&&e.segments[u-1].direction===l.direction)u=ao(e,u,t);else if(l.direction)t.point=Xi(t,e.segments[u]);else{var p=e.segments[u-1];t.point=p.points[p.points.length-1]}if(u===e.segments.length-1)if(lo(e,t),Zi(s=void 0===i?so(e,t,n):qi(e,t,n),e,t),l.points=[],s.length>=2)for(c=0;c<s.length;c++)l.points.push(s[c]);else h=u;if(void 0!==h&&(h===e.segments.length-1&&(e.segments[h-1].direction=null,e.segments[h-1].length=null),e.segments.splice(h,1)),r&&0===u){var f=Ji(e,r,o);f&&(t.point=f)}}return co(e,d)}(e,f,g,c,h,s);else{if(!e.segments[0]){v=new ol(e,"segments",{type:"Orthogonal"},!0);e.segments.push(v)}e.segments[0].points=d=function(e,t,n,r,i){var o,a=!1;(a=function(e,t){var n=!1;switch(e){case"Left":switch(t){case"Right":case"Bottom":n=!0}break;case"Top":switch(t){case"Left":case"Right":case"Bottom":n=!0}break;case"Bottom":switch(t){case"Right":n=!0}}return n}(t.direction,n.direction))&&Bo(t,n);"Right"===t.direction&&"Left"===n.direction?o=function(e,t,n,r){var i,o=e.sourcePortWrapper,a=Math.round(Math.abs(t.point.y-n.point.y)),s={x:Math.max(t.point.x,t.corners.right),y:t.point.y},l={x:Math.min(n.point.x,n.corners.left),y:n.point.y},c=10;if(r){var h=l;l=s,s=h}t.corners.bottom+c<n.corners.top-c||t.corners.top-c>n.corners.bottom+c||(c=0);t.margin={left:c,right:c,top:c,bottom:c},n.margin={left:c,right:c,top:c,bottom:c},i=0===a&&(t.corners.right<n.corners.left||r&&t.corners.right<n.corners.left)?Yr.One:t.point.x+t.margin.right<n.point.x-n.margin.left||e.sourceWrapper!==e.targetWrapper&&(Wu(e.sourceWrapper).containsPoint(l)||Wu(e.targetWrapper).containsPoint(s))?Yr.Three:(t.corners.bottom<=n.corners.top||t.corners.top>=n.corners.top||void 0!==o&&o.offsetY<=n.corners.top||void 0===o&&t.corners.right<=n.corners.top||void 0!==o&&o.offsetY>=n.corners.bottom||void 0===o&&(t.corners.right,n.corners.bottom),Yr.Five);return i}(e,t,n,a):"Right"===t.direction&&"Right"===n.direction?o=function(e,t,n){var r,i=e.sourcePortWrapper,o=e.targetPortWrapper,a=t.point.x-n.point.x,s=t.point.y-n.point.y;n.margin={left:10,right:10,top:10,bottom:10},t.margin={left:10,right:10,top:10,bottom:10},r=t.corners.right>=n.corners.right?void 0!==i&&(i.offsetY<n.corners.top||i.offsetY>n.corners.bottom)||void 0===i&&t.corners.middleRight.y<n.corners.top||void 0!==i&&i.offsetY>n.corners.bottom+n.margin.bottom&&t.corners.top>n.corners.bottom||void 0===i&&t.corners.middleRight.y>n.corners.bottom||void 0!==i&&i.offsetY<n.corners.top&&t.corners.bottom>n.corners.top||void 0===i&&t.corners.middleRight.y>n.corners.bottom?Yr.Three:t.corners.right<n.corners.left||n.corners.right<t.corners.left?Yr.Five:0===a||0===s?Yr.One:Yr.Three:void 0!==o&&t.corners.bottom<o.offsetY||void 0===o&&t.corners.bottom<n.corners.middleRight.y||void 0!==o&&t.corners.top>o.offsetY||void 0===o&&t.corners.top>n.corners.middleRight.y||void 0!==o&&(void 0!==i&&i.offsetX<n.corners.left&&i.offsetX!==o.offsetX&&i.offsetY!==o.offsetY&&Math.abs(t.corners.right-n.corners.left)<=20||void 0===i&&t.corners.right<n.corners.left&&t.corners.center.x!==n.corners.center.x&&t.corners.center.y!==n.corners.center.y)?Yr.Three:t.corners.right<n.corners.left?Yr.Five:0===a||0===s?Yr.One:Yr.Three;return r}(e,t,n):"Right"===t.direction&&"Top"===n.direction?o=function(e,t,n,r){var i,o=e.targetPortWrapper,a=e.sourcePortWrapper,s={x:Math.max(t.point.x,t.corners.right),y:t.point.y},l={x:n.point.x,y:Math.min(n.point.y,n.corners.top)};if(n.margin={left:5,right:5,top:5,bottom:5},t.margin={top:5,bottom:5,left:5,right:5},r){var c=a;a=o,o=c}i=void 0!==a&&a.offsetY<n.corners.top-n.margin.top||void 0===a&&t.corners.bottom<n.corners.top-n.margin.top?t.corners.bottom<n.corners.top?void 0!==o&&t.corners.right+t.margin.right<o.offsetX||void 0===o&&t.corners.right+t.margin.right<n.corners.topCenter.x?Yr.Two:Yr.Four:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.topCenter.x?Yr.Four:Yr.Two:void 0!==a&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(a.offsetY-n.corners.top)<=25||void 0!==o&&Math.abs(o.offsetX-t.corners.topCenter.x)>=25&&t.corners.middleRight.y<o.offsetY?Yr.Two:t.corners.right<n.corners.left?Yr.Four:e.sourceWrapper!==e.targetWrapper&&(Wu(e.sourceWrapper).containsPoint(l)||Wu(e.targetWrapper).containsPoint(s))?Yr.Two:Yr.Four;return i}(e,t,n,a):"Right"===t.direction&&"Bottom"===n.direction?o=function(e,t,n,r){var i;t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10};var o=e.sourcePortWrapper,a=e.targetPortWrapper;if(r){var s=o;o=a,a=s}i=void 0!==o&&o.offsetY>n.corners.bottom+n.margin.bottom||void 0===o&&t.corners.middleRight.y>n.corners.bottom+n.margin.bottom?t.corners.top>n.corners.bottom?void 0!==a&&t.corners.right+t.margin.right<a.offsetX||void 0===a&&t.corners.right+t.margin.right<n.corners.bottomCenter.x?Yr.Two:Yr.Four:void 0!==a&&t.corners.left>a.offsetX||void 0===a&&t.corners.left>n.corners.bottomCenter.x?Yr.Four:Yr.Two:void 0!==o&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(o.offsetY-n.corners.bottom)<=25?Yr.Two:(t.corners.right,n.corners.left,Yr.Four);return i}(e,t,n,a):"Bottom"===t.direction&&"Top"===n.direction?o=function(e,t){var n,r=e.point.x-t.point.x,i=10;e.corners.right+i<t.corners.left-i||e.corners.left-i>t.corners.right+i||(i=0);e.margin={left:i,right:i,top:i,bottom:i},t.margin={left:i,right:i,top:i,bottom:i},n=0===r&&e.corners.bottom<t.corners.top?Yr.One:e.corners.bottom+e.margin.bottom<t.corners.top-t.margin.top?Yr.Three:(e.corners.right+e.margin.right<t.corners.left-t.margin.left||(e.corners.left,e.margin.left,t.corners.right,t.margin.right),Yr.Five);return n}(t,n):"Bottom"===t.direction&&"Bottom"===n.direction?(t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10},o=function(e,t,n){var r,i=e.sourcePortWrapper,o=e.targetPortWrapper,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(n.point.y-n.point.y));r=t.corners.bottom<n.corners.bottom?void 0!==i&&i.offsetX<n.corners.left-n.margin.left||void 0===i&&t.corners.bottomCenter.x<n.corners.left-n.margin.left||void 0!==i&&i.offsetX>n.corners.right+n.margin.right||void 0===i&&t.corners.bottomCenter.x>n.corners.right+n.margin.right?Yr.Three:t.corners.bottom<n.corners.top?Yr.Five:0===a||0===s?Yr.One:Yr.Three:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.left||void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<n.corners.right?Yr.Three:t.corners.top>n.corners.bottom?Yr.Five:0===a||0===s?Yr.One:Yr.Three;return r}(e,t,n)):"Bottom"===t.direction&&"Left"===n.direction?o=function(e,t,n,r){var i,o=e.sourcePortWrapper,a=e.targetPortWrapper;if(r){var s=o;o=a,a=s}i=void 0!==o&&o.offsetX<n.corners.left-n.margin.left||void 0===o&&t.corners.bottomCenter.x<n.corners.bottomLeft.x-n.margin.left?t.corners.right<n.corners.left?void 0!==a&&t.corners.bottom+t.margin.bottom<a.offsetY||void 0===a&&t.corners.bottom+t.margin.bottom<n.corners.middleLeft.y?Yr.Two:Yr.Four:void 0!==a&&t.corners.top>a.offsetY||void 0===a&&t.corners.top>n.corners.middleLeft.y?Yr.Four:Yr.Two:void 0!==a&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(a.offsetY-t.corners.bottom)<=25?Yr.Two:Yr.Four;return i}(e,t,n,a):"Left"===t.direction&&"Left"===n.direction?o=function(e,t,n){var r=e.sourcePortWrapper,i=e.targetPortWrapper;t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10};var o,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(t.point.y-n.point.y));o=t.corners.left<n.corners.left?void 0!==i&&t.corners.bottom+t.margin.bottom<i.offsetY||void 0===i&&t.corners.bottom+t.margin.bottom<n.corners.middleLeft.y||void 0!==i&&t.corners.top-t.margin.top>i.offsetY||void 0===i&&t.corners.top-t.margin.top>n.corners.middleLeft.y?Yr.Three:t.corners.right<n.corners.left||n.corners.right<t.corners.left?Yr.Five:0===a||0===s?Yr.One:Yr.Three:void 0!==r&&r.offsetY<n.corners.top-n.margin.top||void 0===r&&t.corners.middleLeft.y<n.corners.top||void 0!==r&&r.offsetY>n.corners.bottom+n.margin.bottom||void 0===r&&t.corners.middleLeft.y>n.corners.bottom+n.margin.bottom?Yr.Three:t.corners.left>n.corners.right?Yr.Five:0===a||0===s?Yr.One:Yr.Three;return o}(e,t,n):"Left"===t.direction&&"Top"===n.direction?o=function(e,t,n,r){var i,o=e.sourcePortWrapper,a=e.targetPortWrapper,s={x:Math.min(t.point.x,t.corners.left),y:t.point.y},l={x:n.point.x,y:Math.min(n.point.y,n.corners.top)};if(r){var c=o;o=a,a=c}i=void 0!==o&&o.offsetY<n.corners.top-n.margin.top||void 0===o&&(t.corners.bottom<n.corners.top-n.margin.top||t.corners.middleLeft.y<n.corners.top-n.margin.top)?t.corners.bottom<n.corners.top?void 0!==a&&t.corners.left-t.margin.left>a.offsetX||void 0===a&&t.corners.left-t.margin.left>n.corners.topCenter.x?Yr.Two:Yr.Four:void 0!==a&&t.corners.right<a.offsetX||void 0===a&&t.corners.right<n.corners.topCenter.x?Yr.Four:Yr.Two:void 0!==o&&Math.abs(t.corners.left-n.corners.right)<=25&&Math.abs(o.offsetY-n.corners.top)<=25||e.sourceWrapper!==e.targetWrapper&&(Wu(e.sourceWrapper).containsPoint(l)||Wu(e.targetWrapper).containsPoint(s))?Yr.Two:(t.corners.left,n.corners.right,Yr.Four);return i}(e,t,n,a):"Top"===t.direction&&"Top"===n.direction&&(o=function(e,t,n){var r,i=e.sourcePortWrapper,o=e.targetPortWrapper,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(t.point.y-n.point.y));t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10},r=t.corners.top<n.corners.top?void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.left||void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<n.corners.right?Yr.Three:t.corners.bottom<n.corners.top?Yr.Five:0===a||0===s?Yr.One:Yr.Three:void 0!==i&&i.offsetX>n.corners.right||void 0===i&&t.corners.left>n.corners.right||void 0!==i&&i.offsetX<n.corners.left||void 0===i&&t.corners.bottomRight.x<n.corners.left?Yr.Three:t.corners.top>n.corners.bottom?Yr.Five:0===a||0===s?Yr.One:Yr.Three;return r}(e,t,n));a&&Bo(t,n);return function(e,t,n,r,i,o){var a,s,l=e.sourceWrapper,c=e.targetWrapper,h=l.corners,d=c.corners,u=20;if((n.direction!==r.direction||t===Yr.Five)&&(n.direction===Oo(r.direction)||t===Yr.Three))switch(n.direction){case"Left":h.middleLeft.x>d.middleRight.x&&(s=(h.middleLeft.x-d.middleRight.x)/2,u=o?s:Math.min(u,s));break;case"Right":h.middleRight.x<d.middleLeft.x&&(s=(d.middleLeft.x-h.middleRight.x)/2,u=o?s:Math.min(u,s));break;case"Top":h.topCenter.y>d.bottomCenter.y&&(s=(h.topCenter.y-d.bottomCenter.y)/2,u=o?s:Math.min(u,s));break;case"Bottom":h.bottomCenter.y<d.topCenter.y&&(s=(d.topCenter.y-h.bottomCenter.y)/2,u=o?s:Math.min(u,s))}u=bo(h,n,u),i&&(u=Math.max(u,i));t===Yr.One&&(a=[n.point,r.point]);t===Yr.Two&&(a=wo(n,r));t===Yr.Three&&(a=xo(e,n,r,u));if(t===Yr.Four){a=Co(n,r,void 0,a,u)}t===Yr.Five&&(a=function(e,t,n){void 0===n&&(n=20);var r,i,o=n,a=e.corners.left-e.margin.left,s=e.corners.right+e.margin.right,l=e.corners.bottom+e.margin.bottom,c=e.corners.top-e.margin.top,h=t.corners.left-t.margin.left,d=t.corners.right+t.margin.right,u=t.corners.bottom+t.margin.bottom,p=t.corners.top-t.margin.top;switch(e.direction){case"Left":(c>p&&c<u||l<u&&l>p)&&a>h&&a<=d&&n>=20&&(o=e.point.x-t.corners.left+o),i=fo(e.point,o,180);break;case"Top":(a>h&&a<d||s<d&&s>h)&&c>p&&c<=u&&n>=20&&(o=e.point.y-t.corners.top+o),i=fo(e.point,o,270);break;case"Right":(c>p&&c<u||l<u&&l>p)&&s<d&&s>=h&&n>=20&&(o=t.corners.right-e.point.x+o),i=fo(e.point,o,0);break;case"Bottom":(a>h&&a<d||s<d&&s>h)&&l<u&&l>=p&&n>=20&&(o=t.corners.bottom-e.point.y+o),i=fo(e.point,o,90)}if(r=[e.point,i],"Top"===e.direction||"Bottom"===e.direction){var f=e.direction;e.direction=i.x>t.point.x?"Left":"Right",e.point=i,r=Co(e,t,f,r)}else{f=e.direction;e.direction=i.y>t.point.y?"Top":"Bottom",e.point=i,r=Co(e,t,f,r)}return r}(n,r,u));return a}(e,o,t,n,r,i)}(e,f,g,void 0,o)}return d}(e,m.direction,y.direction,m.point,y.point,i);oo(e),(e.sourceWrapper||e.targetWrapper)&&function(e,t,n){var r=e.sourcePortWrapper,i=e.targetPortWrapper,o=e.sourceWrapper,a=t.point,s={left:0,right:0,top:0,bottom:0},l={x:0,y:0},c="Top";o?(a=n.point,s=t.margin):(o=e.targetWrapper,s=n.margin);if("Orthogonal"===e.type)if(e.segments&&e.segments.length>0&&e.sourceWrapper&&e.segments[0].direction)t.direction=e.segments[0].direction,l=go(e,o,l=po(o.corners,t.direction),po(o.corners,Oo(t.direction)),!1);else{var h={corners:null,direction:null,point:null,margin:null};ho(o,{corners:null,direction:null,point:a,margin:s},h,e),l=h.point,c=h.direction}else{var d=void 0;e.segments&&e.segments.length>1&&(d=o===e.sourceWrapper?e.segments[0].point:e.segments[e.segments.length-2].point),l=go(e,o,o.bounds.center,e.segments&&e.segments.length>1?d:a,o===e.targetWrapper)}o===e.sourceWrapper?(t.direction=t.direction||c,t.point=l,e.sourcePortWrapper&&(t.point={x:r.offsetX,y:r.offsetY},e.sourcePadding&&(t.point=$i(e,t,n,!1)))):(n.direction=n.direction||c,n.point=l,e.targetPortWrapper&&(n.point={x:i.offsetX,y:i.offsetY},e.targetPadding&&(n.point=$i(e,t,n,!0))))}(e,m,y);if("Straight"===e.type||"Bezier"===e.type)g=ro(e,m,y);else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].length&&null!==e.segments[0].direction)g=function(e,t,n,r,i,o,a){var s,l,c,h,d=[];if(oo(e),e.segments.length>0){for(var u=0;u<e.segments.length;u++){var p=e.segments[u];if(0===u&&void 0!==e.sourcePortWrapper&&(c=Po({x:o.offsetX,y:o.offsetY},Wu(r),r.bounds,!1),p.direction===Oo(c)&&(p.direction=c)),u>0&&e.segments[u-1].direction===p.direction)u=ao(e,u,t);else{var f=e.segments[u-1];t.point=p.direction?Xi(t,p):f.points[f.points.length-1]}if(u===e.segments.length-1&&(a||i?e.targetWrapper&&void 0===e.targetPortWrapper?(lo(e,t),l=Ki(e,t,n)):l=qi(e,t,n):l=Yi(e,t,n),l))if(Zi(l,e,t),p.points=[],l.length>=2)for(s=0;s<l.length;s++)p.points.push(l[s]);else h=u;if(o&&0===u){var g=Ji(e,o,r);g&&(t.point=g)}}void 0!==h&&(h===e.segments.length-1&&(e.segments[h-1].direction=null,e.segments[h-1].length=null),e.segments.splice(h,1)),d=co(e,d)}return d}(e,m,y,d,u,p,f);else{var w=void 0;m.direction?w=bo(d.bounds,m,20):m.direction=y.direction?void 0!==e.targetPortWrapper?y.direction:Oo(y.direction):or.direction(m.point,y.point),e.segments[0].points=g=xo(e,m,y,w)}return g}(e,"Straight"!==e.type&&e.sourceWrapper?e.sourceWrapper.corners.center:function(e){var t;if(e.sourcePortWrapper){var n=e.sourcePortWrapper;t={x:n.offsetX,y:n.offsetY}}else if(e.sourceID&&e.sourceWrapper)if(e.targetWrapper){var r=e.sourceWrapper.corners.center,i=e.targetWrapper.corners.center;t=go(e,e.sourceWrapper,r,i,!1)}else t=e.sourcePoint;else t=e.sourcePoint;return t}(e),e.targetPoint,t,n);return Ao(e,r[0],!1),Ao(e,r[r.length-1],!0),r}function Xi(e,t){e.direction=t.direction,t.points=[],t.points.push(e.point);var n="Left"===t.direction||"Top"===t.direction?-t.length:t.length,r="Left"===t.direction||"Right"===t.direction?0:90,i=fo(e.point,n,r);return t.points.push(i),i}function Yi(e,t,n){var r,i,o,a;(t.corners=e.sourceWrapper?e.sourceWrapper.corners:void 0,e.sourcePortWrapper)&&(o=Po({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Wu(e.sourceWrapper),e.sourceWrapper.bounds,!1),!t.corners||"Bottom"!==t.direction&&"Top"!==t.direction?!t.corners||"Left"!==t.direction&&"Right"!==t.direction||n.point.y>t.corners.top&&n.point.y<t.corners.bottom&&(i=t.point.x>n.point.x?"Left":"Right"):n.point.x>t.corners.left&&n.point.x<t.corners.right&&(i=t.point.y>n.point.y?"Top":"Bottom"));e.sourcePortWrapper&&o===Oo(i)?(("Left"===o||"Right"===o)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.center.y&&n.point.y>=t.corners.top&&n.point.y<=t.corners.center.y?(t.direction="Top",a=t.point.y-t.corners.top+20):("Left"===o||"Right"===o)&&t.point.y>t.corners.center.y&&t.point.y<=t.corners.bottom&&n.point.y>t.corners.center.y&&n.point.y<=t.corners.bottom?(t.direction="Bottom",a=t.corners.bottom-t.point.y+20):("Top"===o||"Bottom"===o)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.center.x&&n.point.x>=t.corners.left&&n.point.x<=t.corners.center.x?(t.direction="Left",a=t.point.x-t.corners.left+20):("Top"===o||"Bottom"===o)&&t.point.x<=t.corners.right&&t.point.x>t.corners.center.x&&n.point.x<=t.corners.right&&n.point.x<t.corners.center.x&&(t.direction="Right",a=t.corners.right-t.point.x+20),t.direction&&a&&(r=xo(e,t,n,a,!0))):(t.direction=i||io(t.direction,t.point,n.point),r=wo(t,n));return r}function Ki(e,t,n){var r;n.corners=e.targetWrapper.corners,ho(e.targetWrapper,t,n,e);var i=io(n.direction,t.point,n.point);t.direction!==n.direction||"Left"!==t.direction&&"Right"!==t.direction?(t.direction=i,r=wo(t,n)):(t.direction=i,r=xo(e,t,n,e.targetWrapper.width/2+20),t.point=r[1],ho(e.targetWrapper,t,n,e),r=xo(e,t,n));return r}function Gi(e,t,n){var r,i;n.corners=e.targetWrapper.corners,"Left"!==t.direction&&"Right"!==t.direction?n.corners.center.y!==t.point.y||n.corners.left<=t.point.x&&t.point.x<=n.corners.right?n.corners.center.y===t.point.y&&"Bottom"===e.segments[e.segments.length-2].direction||n.corners.center.y>t.point.y&&t.point.y>=n.corners.top?(r="Top",i=t.point.y-n.corners.top+20):n.corners.center.y===t.point.y&&"Top"===e.segments[e.segments.length-2].direction||n.corners.center.y<t.point.y&&t.point.y<=n.corners.bottom?(r="Bottom",i=n.corners.bottom-t.point.y+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.top<=t.point.y&&t.point.y<=t.corners.bottom&&(r=t.direction,i=t.point.y>n.point.y?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):(r="Top",i=n.corners.height/2+20):n.corners.center.x!==t.point.x||n.corners.top<t.point.y&&t.point.y<=n.corners.bottom?n.corners.center.x===t.point.x&&"Right"===e.segments[e.segments.length-2].direction||n.corners.center.x>t.point.x&&t.point.x>=n.corners.left?(r="Left",i=t.point.x-n.corners.left+20):n.corners.center.x===t.point.x&&"Left"===e.segments[e.segments.length-2].direction||n.corners.center.x<=t.point.x&&t.point.x<=n.corners.right?(r="Right",i=n.corners.right-t.point.x+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.left<=t.point.x&&t.point.x<=t.corners.right&&(r=t.direction,i=t.point.x>n.point.x?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20):(r="Left",i=n.corners.width/2+20);var o="Left"===r||"Top"===r?-i:i,a="Left"===r||"Right"===r?0:90,s=t.point;t.point=fo(t.point,o,a),t.direction=or.direction(t.point,n.point),void 0===e.sourcePortWrapper||void 0===e.targetPortWrapper||t.corners.center.x!==n.corners.center.x&&t.corners.center.y!==n.corners.center.y||(t.direction=n.direction);var l=xo(e,t,n);return l.splice(0,0,s),l}function qi(e,t,n){var r,i;(n.corners=e.targetWrapper.corners,void 0!==e.sourcePortWrapper)&&(i=Po({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Wu(e.sourceWrapper),e.sourceWrapper.bounds,!1));var o=function(e,t,n,r){var i=!1;switch(n.direction){case"Left":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Right"===r&&t.point.x>n.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||("Bottom"===r&&t.point.y>n.point.y||"Top"===r&&t.point.y<n.point.y)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction="Right"===r?t.point.y>n.point.y?"Top":"Bottom":t.point.x<n.point.x?"Right":"Left",i=!0):t.point.x>n.point.x&&(t.point.y>n.point.y||t.point.y<n.point.y)&&!(n.corners.top>t.point.y&&n.corners.bottom<t.point.y)?t.direction="Left":t.point.x<n.point.x&&t.point.y>n.point.y||t.point.x>n.point.x&&t.point.y<=n.point.y&&n.corners.top<t.point.y&&n.corners.center.y>=t.point.y?t.direction="Top":t.point.x<n.point.x&&t.point.y<n.point.y||t.point.x>n.point.x&&t.point.y>n.point.y&&n.corners.bottom<t.point.y&&n.corners.center.y>t.point.y?t.direction="Bottom":t.point.y===n.point.y&&t.point.x<n.point.x&&(t.direction="Right");break;case"Right":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&("Bottom"===r&&t.point.y>n.point.y||"Top"===r&&t.point.y<n.point.y)&&t.point.x>n.point.x&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction=t.point.x>n.point.x?"Left":"Right",i=!0):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Left"===r&&t.point.x<n.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=t.point.y>n.point.y?"Top":"Bottom",i=!0):t.point.x<n.point.x&&n.corners.top<=t.point.y&&n.corners.bottom>=t.point.y&&t.point.y===n.point.y||t.point.y>n.point.y&&t.point.x>n.point.x?t.direction="Top":t.point.y<n.point.y&&t.point.x>n.point.x?t.direction="Bottom":t.point.x<n.point.x&&(t.point.y>n.point.y||t.point.y<n.point.y)?t.direction="Right":t.point.y===n.point.y&&t.point.x>n.point.x&&(t.direction="Left");break;case"Top":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Bottom"===r&&t.point.y>n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right||("Right"===r&&t.point.x>n.point.x||"Left"===r&&n.point.y>t.point.y&&n.point.x>t.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction="Bottom"===r?t.point.x>n.point.x?"Left":"Right":t.point.y<n.point.y?"Bottom":"Top",i=!0):t.point.x===n.point.x&&t.point.y<n.point.y?t.direction="Bottom":t.point.y>n.point.y&&t.point.x>n.corners.left&&t.point.x<n.corners.right?t.direction="Left":t.point.y>=n.point.y?t.direction="Top":t.point.y<n.point.y&&t.point.x>n.point.x?t.direction="Left":t.point.y<n.point.y&&t.point.x<n.point.x&&(t.direction="Right");break;case"Bottom":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&(("Right"===r||"Left"===r&&n.point.x>t.point.x)&&t.point.y>n.point.y&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Top"===r&&t.point.y<n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?(t.direction="Right"===r||"Left"===r?t.point.y>n.point.y?"Top":"Bottom":t.point.x>n.point.x?"Left":"Right",i=!0):t.point.y<n.point.y&&t.point.x>n.corners.left&&n.corners.right>t.point.x?t.point.y<n.point.y&&t.point.x>n.corners.left&&n.corners.center.x>=t.point.x?t.direction="Left":t.point.y<n.point.y&&t.point.x<n.corners.right&&n.corners.center.x<t.point.x&&(t.direction="Right"):t.point.y>n.point.y&&t.point.x>n.point.x?t.direction="Left":t.point.y>n.point.y&&t.point.x<n.point.x?t.direction="Right":t.point.y<=n.point.y&&(t.point.x>n.point.x||n.point.x>t.point.x)&&(t.direction="Bottom")}return i}(e,t,n,i);return void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&n.direction===Oo(i)&&(("Left"===n.direction&&t.point.x>n.point.x||"Right"===n.direction&&t.point.x<n.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Bottom"===n.direction&&t.point.y<n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?r=Gi(e,t,n):t.direction===n.direction?r=xo(e,t,n):("Left"===n.direction&&t.point.x>n.point.x||"Right"===n.direction&&t.point.x<n.point.x)&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.y<=n.point.y&&n.corners.top<=t.point.y&&n.corners.bottom>=t.point.y||"Top"===n.direction&&t.point.y>n.point.y||"Bottom"===n.direction&&t.point.y<n.point.y&&n.corners.left<=t.point.x&&n.corners.right>=t.point.x?r=Gi(e,t,n):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Left"===t.direction||"Right"===t.direction)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom&&("Top"===n.direction||"Bottom"===n.direction)&&n.corners.center.x===t.corners.center.x?(t.direction="Top"===n.direction?"Bottom":"Top",r=xo(e,t,n,"Top"===n.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&("Left"===n.direction||"Right"===n.direction)&&n.corners.center.y===t.corners.center.y?(t.direction="Left"===n.direction?"Right":"Left",r=xo(e,t,n,"Left"===n.direction?t.corners.right-t.point.x+20:t.point.x-t.corners.left+20)):r=o?xo(e,t,n,"Left"===t.direction||"Right"===t.direction?"Left"===t.direction?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20:"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):wo(t,n),r}function Ji(e,t,n){var r,i={x:t.offsetX,y:t.offsetY},o=Wu(n),a=Po(i,o,n.bounds,!1),s=e.segments[0];return s.direction!==a&&(!function(e,t,n,r,i,o){var a,s,l=13,c=[];c.push(r),r.y===i.y&&("Left"===t&&i.x<r.x||"Right"===t&&i.x>r.x)||r.x===i.x&&("Top"===t&&i.y<r.y||"Bottom"===t&&i.y>r.y)||("Top"===t||"Bottom"===t?"Top"===t&&i.y<r.y&&i.y>r.y-l||"Bottom"===t&&i.y>r.y&&i.y<r.y+l?(s="Top"===t?n.top-l:n.bottom+l,c.push({x:r.x,y:s}),c.push({x:r.x+(i.x-r.x)/2,y:s}),c.push({x:r.x+(i.x-r.x)/2,y:i.y})):Math.abs(r.x-i.x)>l&&("Top"===t&&i.y<r.y||"Bottom"===t&&i.y>r.y)?c.push({x:r.x,y:i.y}):(s="Top"===t?n.top-l:n.bottom+l,a=i.x<r.x?n.left-l:n.right+l,c.push({x:r.x,y:s}),c.push({x:i.x,y:s})):"Left"===t&&i.x<r.x&&i.x>r.x-l||"right"===t&&i.x>r.x&&i.x<r.x+l?(a="Left"===t?n.left-l:n.right+l,c.push({x:a,y:r.y}),c.push({x:a,y:r.y+(i.y-r.y)/2}),c.push({x:i.x,y:r.y+(i.y-r.y)/2})):Math.abs(r.y-i.y)>l&&("Left"===t&&i.x<r.x||"Right"===t&&i.x>r.x)?c.push({x:i.x,y:r.y}):(a="Left"===t?n.left-l:n.right+l,c.push({x:a,y:r.y}),c.push({x:a,y:i.y})),o&&(c.push(e.points[0]),c.reverse()),e.points=c)}(s,a,o,s.points[0],s.points[s.points.length-1],!1),r=s.points[s.points.length-1],s.direction=or.direction(s.points[s.points.length-2],s.points[s.points.length-1])),r}function Zi(e,t,n){var r,i=t.segments[t.segments.length-2],o=i.points[i.points.length-1];("Top"!==i.direction&&"Bottom"!==i.direction||o.x!==e[1].x)&&("Left"!==i.direction&&"Right"!==i.direction||o.y!==e[1].y)||(i.points[i.points.length-1]=e[1],r=or.direction(i.points[0],i.points[i.points.length-1]),void 0!==t.sourceWrapper&&void 0===t.sourcePortWrapper&&r===Oo(i.direction)&&("Left"===i.direction||"Right"===i.direction?i.points[0].x="Right"===i.direction?i.points[0].x-t.sourceWrapper.corners.width:i.points[0].x+t.sourceWrapper.corners.width:i.points[0].y="Bottom"===i.direction?i.points[0].y-t.sourceWrapper.corners.height:i.points[0].y+t.sourceWrapper.corners.height),i.direction=r,i.length=or.distancePoints(i.points[0],i.points[i.points.length-1]),e.splice(0,1))}function $i(e,t,n,r){var i=e.sourcePortWrapper,o=e.targetPortWrapper,a=r?e.targetPadding:e.sourcePadding,s=r?o:i,l=new Ar(s.bounds.x-a,s.bounds.y-a,s.actualSize.width+2*a,s.actualSize.height+2*a),c=[l.topLeft,l.topRight,l.bottomRight,l.bottomLeft];c[c.length]=c[0];var h={x1:t.point.x,y1:t.point.y,x2:n.point.x,y2:n.point.y},d=r?n.point:t.point;return mo(h,c,!0,d)||d}function eo(e,t){var n=[],r=wh(e,e.corners,t);r.push(r[0]);for(var i=0;i<r.length-1;i++)n.push(to(r[i],r[i+1]));return n}function to(e,t){return{x1:e.x,y1:e.y,x2:t.x,y2:t.y}}function no(e,t,n){var r,i=e.rotateAngle+e.parentTransform;if(i){if(i<45)return t;if(i<=135)r={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.middleLeft,topRight:t.topLeft,middleLeft:t.bottomCenter,center:n.center,middleRight:t.topCenter,bottomLeft:t.bottomRight,bottomCenter:t.middleRight,bottomRight:t.topRight,left:n.left,right:n.right,top:n.top,bottom:n.bottom};else if(i<=225)r={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.bottomCenter,topRight:t.bottomRight,middleLeft:t.middleRight,center:n.center,middleRight:t.middleLeft,bottomLeft:t.topLeft,bottomCenter:t.topCenter,bottomRight:t.topRight,left:n.left,right:n.right,top:n.top,bottom:n.bottom};else{if(!(i<=315))return t;r={width:t.width,height:t.height,topLeft:t.topRight,topCenter:t.middleRight,topRight:t.bottomRight,middleLeft:t.topCenter,center:n.center,middleRight:t.bottomCenter,bottomLeft:t.topLeft,bottomCenter:t.middleLeft,bottomRight:t.bottomLeft,left:n.left,right:n.right,top:n.top,bottom:n.bottom}}return r}return t}function ro(e,t,n){var r=[];if(e.segments&&e.segments.length>0){var i=void 0,o=[],a=t.point;for(i=0;i<e.segments.length;i++){var s=e.segments[i];if((o=[]).push(a),i!==e.segments.length-1?(o.push(s.point),a=s.point):o.push(n.point),e.segments[i].points=o,e.segments.length>1&&or.equals(s.points[0],s.points[1])&&e.segments.splice(i,1),s)for(var l=0;l<s.points.length;l++)(l>0||0===i)&&r.push(s.points[l])}}return r}function io(e,t,n){return"Top"===e||"Bottom"===e?n.x>t.x?"Right":"Left":n.y>t.y?"Bottom":"Top"}function oo(e){if("Straight"===e.type||"Bezier"===e.type){if(0===e.segments.length||e.segments.length>0&&!or.isEmptyPoint(e.segments[e.segments.length-1].point)){var t="Bezier"===e.type?new il(e,"segments",{type:"Bezier"},!0):new rl(e,"segments",{type:"Straight"},!0);e.segments.push(t)}}else if(0===e.segments.length||e.segments[e.segments.length-1].direction){t=new ol(e,"segments",{type:"Orthogonal"},!0);e.segments.push(t)}}function ao(e,t,n){var r=e.segments[t],i="Left"===r.direction||"Top"===r.direction?-r.length:r.length,o="Left"===r.direction||"Right"===r.direction?0:90,a=fo(n.point,i,o);return e.segments[t-1].length+=r.length,e.segments[t-1].points[1]=n.point=a,e.segments.splice(t,1),--t}function so(e,t,n){var r,i;e.sourcePortWrapper&&(i=Po({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Wu(e.sourceWrapper),e.sourceWrapper.bounds,!1));ho(e.targetWrapper,t,n,e);var o=io(n.direction,t.point,n.point);if(void 0===e.sourcePortWrapper||t.direction!==n.direction||("Top"!==t.direction&&"Bottom"!==t.direction||t.corners.center.x!==n.corners.center.x)&&("Left"!==t.direction&&"Right"!==t.direction||t.corners.center.y!==n.corners.center.y))if(n.point.x>=t.corners.left&&n.point.x<=t.corners.right&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom){t.direction=n.point.y>t.point.y?"Bottom":"Top",r=xo(e,t,n,"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20)}else if(e.sourcePortWrapper&&i===Oo(o)){var a;("Left"===i||"Right"===i)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=n.point.y>t.point.y?"Bottom":"Top",a=t.corners.height/2+20):("Top"===i||"Bottom"===i)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&(t.direction=n.point.x>t.point.x?"Right":"Left",a=t.corners.width/2+20),t.direction&&a?r=xo(e,t,n,a,!0):(t.direction=o,r=wo(t,n))}else if(!e.sourcePortWrapper||i!==n.direction||"Top"!==i&&"Bottom"!==i||t.corners.center.x!==n.corners.center.x)t.direction=o,r=wo(t,n);else{t.direction=n.point.y>t.point.y?"Bottom":"Top",r=xo(e,t,n,"Bottom"===t.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)}else t.direction=o,r=xo(e,t,n,"Top"===o||"Bottom"===o?e.sourceWrapper.height/2+20:e.sourceWrapper.width/2+20),t.point=r[1],"Left"===o||"Right"===o?(n.direction=o,n.point="Left"===o?n.corners.middleLeft:n.corners.middleRight):ho(e.targetWrapper,t,n,e),r=xo(e,t,n);return r}function lo(e,t){if(void 0!==e.targetWrapper&&void 0===e.targetPortWrapper){if(Wu(e.targetWrapper).containsPoint(t.point,1)){var n=e.targetWrapper,r=e.segments[e.segments.length-2],i=r.points[r.points.length-1],o=Oo(r.direction);"Bottom"===o?i.y<n.corners.bottom+1&&(r.points[r.points.length-1].y=n.corners.bottom+20,r.length=or.distancePoints(r.points[0],r.points[r.points.length-1])):"Top"===o?i.y>n.corners.top-1&&(r.points[r.points.length-1].y=n.corners.top-20,r.length=or.distancePoints(r.points[0],r.points[r.points.length-1])):"Left"===o?i.x>n.corners.left-1&&(r.points[r.points.length-1].x=n.corners.left-20,r.length=or.distancePoints(r.points[0],r.points[r.points.length-1])):"Right"===o&&i.x<n.corners.right+1&&(r.points[r.points.length-1].x=n.corners.right+20,r.length=or.distancePoints(r.points[0],r.points[r.points.length-1])),t.point=r.points[r.points.length-1]}}}function co(e,t){for(var n=0;n<e.segments.length;n++)for(var r=e.segments[n],i=0;i<r.points.length;i++)(i>0||0===n)&&t.push(r.points[i]);return t}function ho(e,t,n,r){var i,o={x:0,y:0},a=no(e,e.corners,e.bounds),s=t.margin,l=t.point;if(a.bottomCenter.y+s.bottom<l.y)i="Bottom",o=a.bottomCenter;else if(a.topCenter.y-s.top>l.y)i="Top",o=a.topCenter;else if(a.middleLeft.x-s.left>l.x)i="Left",o=a.middleLeft;else if(a.middleRight.x+s.right<l.x)i="Right",o=a.middleRight;else{var c=Math.abs(l.y-a.topCenter.y),h=Math.abs(l.x-a.middleRight.x),d=Math.abs(l.y-a.bottomCenter.y),u=Math.abs(l.x-a.middleLeft.x),p=Number.MAX_VALUE;p=c,i="Top",o=a.topCenter,p>h&&(p=h,i="Right",o=a.middleRight),p>d&&(p=d,i="Bottom",o=a.bottomCenter),p>u&&(i="Left",o=a.middleLeft)}n.point=o,n.direction=i;var f=po(a,Oo(n.direction));n.point=go(r,e,n.point,f,e===r.targetWrapper)}function uo(e,t){var n={x:t.x,y:e.y},r=or.findLength(n,t),i=or.findLength(t,e),o=Math.asin(r/i);return o=180*o/Math.PI,e.x<t.x?e.y>t.y&&(o=360-o):o=e.y<t.y?180-o:180+o,o}function po(e,t){var n;switch(t){case"Left":n=e.middleLeft;break;case"Top":n=e.topCenter;break;case"Right":n=e.middleRight;break;case"Bottom":n=e.bottomCenter}return n}function fo(e,t,n){return or.transform(e,n,t)}function go(e,t,n,r,i){n={x:n.x,y:n.y},r={x:r.x,y:r.y};var o,a,s=i?e.targetWrapper:e.sourceWrapper,l=i?e.targetPadding:e.sourcePadding,c=i||"Orthogonal"===e.type?n:r,h=s,d=rp(-s.parentTransform,s.offsetX,s.offsetY,n),u=rp(-s.parentTransform,s.offsetX,s.offsetY,r);if("Orthogonal"===e.type){d.x===u.x&&(d.y<u.y?d.y-=5:d.y+=5),d.y===u.y&&(d.x<u.x?d.x-=5:d.x+=5),n=rp(s.parentTransform,s.offsetX,s.offsetY,d)}else if(i){var p=or.findAngle(n,r);r=or.transform({x:r.x,y:r.y},p,Math.max(s.actualSize.width,s.actualSize.height))}else{p=or.findAngle(r,n);n=or.transform({x:n.x,y:n.y},p,Math.max(s.actualSize.width,s.actualSize.height))}return(e.sourcePadding||e.targetPadding)&&(o=new Ar(s.bounds.x-l,s.bounds.y-l,s.actualSize.width+2*l,s.actualSize.height+2*l)),s instanceof wi&&s.data?(a=o?[o.topLeft,o.topRight,o.bottomRight,o.bottomLeft]:h.getPoints(),h.data.split("m").length-1+(h.data.split("M").length-1)===1&&(a[a.length]=a[0])):(a=o?[o.topLeft,o.topRight,o.bottomRight,o.bottomLeft]:wh(s,s.corners))[a.length]=a[0],mo({x1:n.x,y1:n.y,x2:r.x,y2:r.y},a,!0,c)||n}function Ao(e,t,n){return t.x=Math.round(100*t.x)/100,t.y=Math.round(100*t.y)/100,n?e.targetPoint=t:e.sourcePoint=t,t}function mo(e,t,n,r){var i,o=t.length,a={x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y},s=yo(e,a);if(s&&(i=or.distancePoints(s,r)),isNaN(i)||i>0)for(var l=1;l<o-1;l++){var c=yo(e,a={x1:t[l].x,y1:t[l].y,x2:t[l+1].x,y2:t[l+1].y});if(c){var h=or.distancePoints(c,r);if((isNaN(i)||i>h)&&(i=h,s=c),i>=0&&i<=1)break}}return s}function yo(e,t){var n,r,i,o,a,s,l,c,h,d,u,p,f=e.x1,g=e.y1,A=e.x2,m=e.y2,y=t.x1,v=t.y1,b=t.x2,w=t.y2;if(d=(n=m-g)*b+(i=f-A)*w+(a=A*g-f*m),0!==(h=n*y+i*v+a)&&0!==d&&vo(h,d))return null;if(c=(r=w-v)*A+(o=y-b)*m+(s=b*v-y*w),0!==(l=r*f+o*g+s)&&0!==c&&vo(l,c))return null;var x=n*o-r*i;return 0===x?null:(u=x<0?-x/2:x/2,u=0,{x:(p=i*s-o*a)<0?(p-u)/x:(p+u)/x,y:(p=r*a-n*s)<0?(p-u)/x:(p+u)/x})}function vo(e,t){return e*t>=0}function bo(e,t,n){switch(t.direction){case"Left":t.point.x>e.left&&(n=t.point.x-e.left>n?t.point.x-e.left+n:n);break;case"Right":t.point.x<e.right&&(n=e.right-t.point.x>n?e.right-t.point.x+n:n);break;case"Top":t.point.y>e.top&&(n=t.point.y-e.top>n?t.point.y-e.top+n:n);break;case"Bottom":t.point.y<e.bottom&&(n=e.bottom-t.point.y>n?e.bottom-t.point.y+n:n)}return n}function wo(e,t){var n;switch(e.direction){case"Left":case"Right":var r={x:t.point.x,y:e.point.y};n=or.equals(e.point,r)||or.equals(t.point,r)?[e.point,t.point]:[e.point,r,t.point];break;case"Top":case"Bottom":var i={x:e.point.x,y:t.point.y};n=or.equals(e.point,i)||or.equals(t.point,i)?[e.point,t.point]:[e.point,i,t.point]}return n}function xo(e,t,n,r,i){r||(r=20);var o,a,s,l=e.sourcePortWrapper,c=n.point.x-t.point.x,h=n.point.y-t.point.y;if(!i&&(Math.abs(c)<.001||Math.abs(h)<.001)&&void 0===n.direction)return[t.point,n.point];if(void 0===e.targetWrapper&&Math.abs(c)<=31&&Math.abs(h)<=31){if("Left"===t.direction||"Right"===t.direction?Math.abs(h)<12&&(t.direction=t.point.y>n.point.y?"Top":"Bottom"):Math.abs(c)<12&&(t.direction=t.point.x>n.point.x?"Left":"Right"),Math.abs(c)>12||Math.abs(h)>12)return wo(t,n);r+=5}return"Left"===t.direction||"Right"===t.direction?("Right"===t.direction?(void 0!==n.direction&&"Right"===n.direction&&(r=Math.max(t.point.x,n.point.x)-t.point.x+r),t.point.x>n.point.x&&void 0===l&&(r=-r)):(void 0!==n.direction&&"Left"===n.direction&&(r=t.point.x-Math.min(t.point.x,n.point.x)+r),(t.point.x>n.point.x||void 0!==l||"Left"===t.direction)&&(r=-r)),s=n.point.y-t.point.y,o=fo(t.point,r,0),0!==(s=n.point.y-o.y)&&(a=fo(o,n.point.y-o.y,90))):"Top"!==t.direction&&"Bottom"!==t.direction||("Bottom"===t.direction?void 0!==n.direction&&"Bottom"===n.direction&&(r=Math.max(t.point.y,n.point.y)-t.point.y+r):(void 0!==n.direction&&"Top"===n.direction&&(r=t.point.y-Math.min(t.point.y,n.point.y)+r),(t.point.y>n.point.y||void 0!==l||"Top"===t.direction)&&(r=-r)),s=n.point.x-t.point.x,o=(t.direction,fo(t.point,r,90)),0!==(s=n.point.x-o.x)&&(a=fo(o,n.point.x-o.x,0))),0===s?[t.point,n.point]:[t.point,o,a,n.point]}function Co(e,t,n,r,i){var o;switch(void 0===i&&(i=20),void 0===n?(e.margin={left:2,right:2,top:2,bottom:2},t.margin={left:0,right:5,top:0,bottom:5}):"Bottom"===e.direction?t.corners.top>e.corners.bottom&&t.corners.top-e.corners.bottom<20&&(i=(t.corners.top-e.corners.bottom)/2):"Top"===e.direction?t.corners.bottom<e.corners.top&&e.corners.top-t.corners.bottom<20&&(i=(e.corners.top-t.corners.bottom)/2):"Right"===e.direction?t.corners.left>e.corners.right&&t.corners.left-e.corners.right<20&&(i=(t.corners.left-e.corners.right)/2):"Left"===e.direction&&t.corners.right<e.corners.left&&e.corners.left-t.corners.right<20&&(i=(e.corners.left-t.corners.right)/2),e.direction){case"Left":i=function(e,t,n,r){e.corners.left-e.margin.left>t.corners.left-t.margin.left&&e.corners.left-e.margin.left<=t.corners.right+t.margin.right?(("Bottom"===t.direction&&e.point.y<t.point.y||"Top"===t.direction&&e.point.y>t.point.y)&&(r+=e.corners.left-t.corners.left),r+=e.point.x-e.corners.left):void 0!==n&&"Top"!==n&&"Bottom"===t.direction&&e.point.y<t.point.y||void 0!==n&&"Bottom"!==n&&"Top"===t.direction&&t.point.y<e.point.y?r+=Math.abs(e.point.x-t.corners.right):r+=e.point.x-e.corners.left;return r}(e,t,n,i),o=fo(e.point,i,180);break;case"Right":i=function(e,t,n,r){e.corners.right+e.margin.right<t.corners.right+t.margin.right&&e.corners.right+e.margin.right>=t.corners.left-t.margin.left?(("Bottom"===t.direction&&e.point.y<t.point.y||"Top"===t.direction&&e.point.y>t.point.y)&&(n+=t.corners.right-e.corners.right),n+=e.corners.right-e.point.x):void 0!==r&&"Top"!==r&&"Bottom"===t.direction&&e.point.y<t.point.y||void 0!==r&&"Bottom"!==r&&"Top"===t.direction&&t.point.y<e.point.y?n+=Math.abs(e.point.x-t.corners.right):n+=e.corners.right-e.point.x;return n}(e,t,i,n),o=fo(e.point,i,0);break;case"Top":i=function(e,t,n,r){e.corners.top-e.margin.top>t.corners.top+t.margin.top&&e.corners.top-e.margin.top<=t.corners.bottom+t.margin.bottom?(("Right"===t.direction&&e.point.x<t.point.x||"Left"===t.direction&&e.point.x>t.point.x)&&(r+=e.corners.top-t.corners.top),r+=e.point.y-e.corners.top):void 0!==n&&"Left"!==n&&"Right"===t.direction&&e.point.x<t.point.x||void 0!==n&&"Right"!==n&&"Left"===t.direction&&t.point.x<e.point.x?r+=Math.abs(e.point.y-t.corners.bottom):r+=e.point.y-e.corners.top;return r}(e,t,n,i),o=fo(e.point,i,270);break;case"Bottom":i=function(e,t,n,r){e.corners.bottom+e.margin.bottom<t.corners.bottom+t.margin.bottom&&e.corners.bottom+e.margin.bottom>=t.corners.top-t.margin.top?(("Right"===t.direction&&e.point.x<t.point.x||"Left"===t.direction&&e.point.x>t.point.x)&&(n+=t.corners.bottom-e.corners.bottom),n+=e.corners.bottom-e.point.y):void 0!==r&&"Left"!==r&&"Right"===t.direction&&e.point.x<t.point.x||void 0!==r&&"Right"!==r&&"Left"===t.direction&&t.point.x<e.point.x?n+=Math.abs(e.point.y-t.corners.bottom):n+=e.corners.bottom-e.point.y;return n}(e,t,i,n),o=fo(e.point,i,90)}return void 0!==r?r.push(o):r=[e.point,o],"Top"===e.direction||"Bottom"===e.direction?So(o,"horizontal",e,t,r):"Right"!==e.direction&&"Left"!==e.direction||So(o,"vertical",e,t,r),r}function So(e,t,n,r,i){var o,a,s;"horizontal"===t?(n.margin={left:0,right:10,top:0,bottom:10},r.margin={left:0,right:10,top:0,bottom:10}):"vertical"===t&&(n.margin={left:10,right:0,top:10,bottom:0},r.margin={left:10,right:0,top:10,bottom:0});var l=20;if("horizontal"===t){switch(r.direction){case"Left":if(n.corners.right+n.margin.right<r.corners.left-r.margin.left&&(r.corners.left-n.corners.right>l||n.corners.top-n.margin.top<=r.point.y&&n.corners.bottom+n.margin.bottom>=r.point.y)){var c=Math.min(Math.abs(r.corners.left-n.corners.right)/2,20);l=n.corners.right-e.x+c}else l="Top"===n.direction&&e.y>r.point.y||"Bottom"===n.direction&&e.y<r.point.y?Math.min(r.corners.left,e.x)-e.x-20:e.x>=n.corners.left-n.margin.left&&e.x<=n.corners.right+n.margin.right?Math.min(r.corners.left,n.corners.left)-e.x-20:r.corners.left-e.x-20;break;case"Right":if(n.corners.left-n.margin.left>r.corners.right+r.margin.right&&(n.corners.left-r.corners.right>l||n.corners.top-n.margin.top<=r.point.y&&n.corners.bottom+n.margin.bottom>=r.point.y)){c=Math.min(Math.abs(n.corners.left-r.corners.right)/2,20);l=n.corners.left-e.x-c}else l="Top"===n.direction&&e.y>r.point.y||"Bottom"===n.direction&&e.y<r.point.y?Math.max(r.corners.right,e.x)-e.x+20:e.x>=n.corners.left-n.margin.left&&e.x<=n.corners.right+n.margin.right?Math.max(r.corners.right,n.corners.right)-e.x+20:r.corners.right-e.x+20}o=fo(e,l,0),a=fo(o,r.point.y-e.y,90),s=r.point}else if("vertical"===t){switch(r.direction){case"Top":if(n.corners.bottom+n.margin.bottom<r.corners.top-r.margin.top&&(r.corners.top-n.corners.bottom>l||n.corners.left-n.margin.left<=r.point.x&&n.corners.right+n.margin.right>=r.point.x)){c=Math.min(Math.abs(r.corners.top-n.corners.bottom)/2,20);l=n.corners.bottom-e.y+c}else l="Left"===n.direction&&e.x>r.point.x||"Right"===n.direction&&e.x<r.point.x?Math.min(r.corners.top,e.y)-e.y-20:e.y>=n.corners.top-n.margin.top&&e.y<=n.corners.bottom+n.margin.bottom?Math.min(r.corners.top,n.corners.top)-e.y-20:r.corners.top-e.y-20;break;case"Bottom":if(n.corners.top-n.margin.top>r.corners.bottom+r.margin.bottom&&(n.corners.top-r.corners.bottom>l||n.corners.left-n.margin.left<=r.point.x&&n.corners.right+n.margin.right>=r.point.x)){c=Math.min(Math.abs(n.corners.top-r.corners.bottom)/2,20);l=n.corners.top-e.y-c}else l="Left"===n.direction&&e.x>r.point.x||"Right"===n.direction&&e.x<r.point.x?Math.max(r.corners.bottom,e.y)-e.y+20:e.y>=n.corners.top-n.margin.top&&e.y<=n.corners.bottom+n.margin.bottom?Math.max(r.corners.bottom,n.corners.bottom)-e.y+20:r.corners.bottom-e.y+20}o=fo(e,l,90),a=fo(o,r.point.x-e.x,0),s=r.point}i.push(o),i.push(a),i.push(s)}function Bo(e,t){var n=e.direction;e.direction=t.direction,t.direction=n;var r=e.point;e.point=t.point,t.point=r;var i=e.corners;e.corners=t.corners,t.corners=i}function Po(e,t,n,r){var i=void 0===t?n:t,o=i.topLeft,a=i.topRight,s=i.bottomRight,l=i.bottomLeft,c=i.center,h=uo(c,e),d=uo(c,s),u=uo(c,l),p=uo(c,o),f=uo(c,a);return h>p&&h<f?"Top":h>=d&&h<u?"Bottom":h>=u&&h<=p?"Left":"Right"}function Eo(e){var t=e.wrapper.children[0].bounds;return"None"!==e.sourceDecorator.shape&&t.uniteRect(e.wrapper.children[1].bounds),"None"!==e.targetDecorator.shape&&t.uniteRect(e.wrapper.children[2].bounds),t}function Oo(e){switch(e){case"Top":return"Bottom";case"Bottom":return"Top";case"Left":return"Right";case"Right":return"Left"}return"auto"}var To,Io,Lo=!1;function ko(e,t,n,r,i){if(Ui=void 0,Ui=i,Lo=!!r,!e)return{left:0,top:0};t||(t="left"),n||(n="top"),Qi=e.ownerDocument,zi=e;return function(e,t,n){switch(Hi=zi.getBoundingClientRect(),t+e){case"topcenter":No(zo(),n),Mo(Fo(),n);break;case"topright":No(Uo(),n),Mo(Fo(),n);break;case"centercenter":No(zo(),n),Mo(_o(),n);break;case"centerright":No(Uo(),n),Mo(_o(),n);break;case"centerleft":No(Ho(),n),Mo(_o(),n);break;case"bottomcenter":No(zo(),n),Mo(jo(),n);break;case"bottomright":No(Uo(),n),Mo(jo(),n);break;case"bottomleft":No(Ho(),n),Mo(jo(),n);break;default:case"topleft":No(Ho(),n),Mo(Fo(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})}function No(e,t){t.left=e}function Mo(e,t){t.top=e}function Do(){return Qi.documentElement.scrollTop||Qi.body.scrollTop}function Ro(){return Qi.documentElement.scrollLeft||Qi.body.scrollLeft}function jo(){return Lo?Hi.bottom:Hi.bottom+Do()}function _o(){return Fo()+Hi.height/2}function Fo(){return Lo?Hi.top:Hi.top+Do()}function Ho(){return Hi.left+Ro()}function Uo(){return Hi.right+Ro()-(Ui&&Hi.width>=Ui.width?Ui.width:0)}function zo(){return Ho()+Hi.width/2}function Qo(e,t,n,r){if(void 0===t&&(t=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var i=e.getBoundingClientRect();if(Io=t,To=e.ownerDocument,r||(r=ko(e,"left","top")),n.X){var o=Io?Jo():la(),a=na(),s=ra(),l=a-r.left,c=r.left+i.width-s;i.width>o?r.left=l>0&&c<=0?s-i.width:c>0&&l<=0?a:l>c?s-i.width:a:l>0?r.left+=l:c>0&&(r.left-=c)}if(n.Y){var h=Io?Zo():sa(),d=ta(),u=ia(),p=d-r.top,f=r.top+i.height-u;i.height>h?r.top=p>0&&f<=0?u-i.height:f>0&&p<=0?d:p>f?u-i.height:d:p>0?r.top+=p:f>0&&(r.top-=f)}return r}function Wo(e,t,n,r){void 0===t&&(t=null);var i=ko(e,"left","top");n&&(i.left=n),r&&(i.top=r);var o=[];Io=t,To=e.ownerDocument;var a=e.getBoundingClientRect(),s=i.top,l=i.left,c=i.left+a.width,h=qo(s,i.top+a.height),d=Yo(l,c);return h.topSide&&o.push("top"),d.rightSide&&o.push("right"),d.leftSide&&o.push("left"),h.bottomSide&&o.push("bottom"),o}function Vo(e,t,n,r,i,o,a,s,l){if(void 0===a&&(a=null),void 0===s&&(s={X:!0,Y:!0}),t&&e&&i&&o&&(s.X||s.Y)){var c,h={TL:null,TR:null,BL:null,BR:null},d={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(e).display){var u=e.style.visibility;e.style.visibility="hidden",e.style.display="block",c=e.getBoundingClientRect(),e.style.removeProperty("display"),e.style.visibility=u}else c=e.getBoundingClientRect();var p={posX:i,posY:o,offsetX:n,offsetY:r,position:{left:0,top:0}};Io=a,To=t.ownerDocument,function(e,t,n,r,i){n.position=ko(e,n.posX,n.posY,r,i),t.TL=ko(e,"left","top",r,i),t.TR=ko(e,"right","top",r,i),t.BR=ko(e,"left","bottom",r,i),t.BL=ko(e,"right","bottom",r,i)}(t,h,p,l,c),Xo(d,p,c),s.X&&Ko(t,d,h,p,c,!0),s.Y&&h.TL.top>-1&&Go(t,d,h,p,c,!0),function(e,t,n){var r=0,i=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var o=ko(e.offsetParent,"left","top",!1,n);r=o.left,i=o.top}e.style.top=t.position.top+t.offsetY-i+"px",e.style.left=t.position.left+t.offsetX-r+"px"}(e,p,c)}}function Xo(e,t,n){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+n.width},e.BL={top:e.TL.top+n.height,left:e.TL.left},e.BR={top:e.TL.top+n.height,left:e.TL.left+n.width}}function Yo(e,t){var n=!1,r=!1;return e-aa()<na()&&(n=!0),t>ra()&&(r=!0),{leftSide:n,rightSide:r}}function Ko(e,t,n,r,i,o){var a=Yo(t.TL.left,t.TR.left);n.TL.left-aa()<=na()&&(a.leftSide=!1),n.TR.left>ra()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&("right"===r.posX?r.posX="left":r.posX="right",r.offsetX=r.offsetX+i.width,r.offsetX=-1*r.offsetX,r.position=ko(e,r.posX,r.posY,!1),Xo(t,r,i),o&&Ko(e,t,n,r,i,!1))}function Go(e,t,n,r,i,o){var a=qo(t.TL.top,t.BL.top);n.TL.top-oa()<=ta()&&(a.topSide=!1),n.BL.top>=ia()&&e.getBoundingClientRect().bottom<window.innerHeight&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&("top"===r.posY?r.posY="bottom":r.posY="top",r.offsetY=r.offsetY+i.height,r.offsetY=-1*r.offsetY,r.position=ko(e,r.posX,r.posY,!1,i),Xo(t,r,i),o&&Go(e,t,n,r,i,!1))}function qo(e,t){var n=!1,r=!1;return e-oa()<ta()&&(n=!0),t>ia()&&(r=!0),{topSide:n,bottomSide:r}}function Jo(){return Io.getBoundingClientRect().width}function Zo(){return Io.getBoundingClientRect().height}function $o(){return Io.getBoundingClientRect().left}function ea(){return Io.getBoundingClientRect().top}function ta(){return Io?ea():0}function na(){return Io?$o():0}function ra(){return Io?aa()+$o()+Jo():aa()+la()}function ia(){return Io?oa()+ea()+Zo():oa()+sa()}function oa(){return To.documentElement.scrollTop||To.body.scrollTop}function aa(){return To.documentElement.scrollLeft||To.body.scrollLeft}function sa(){return window.innerHeight}function la(){var e=window.innerWidth,t=document.documentElement.getBoundingClientRect();return e-(e-(p(document.documentElement)?0:t.width))}var ca=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ha=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ca(t,e),ha([_t("left")],t.prototype,"X",void 0),ha([_t("top")],t.prototype,"Y",void 0),t}(on),ua="e-popup",pa="e-rtl",fa="e-popup-open",ga="e-popup-close",Aa=function(e){function t(t,n){return e.call(this,n,t)||this}return ca(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"width":vt(this.element,{width:y(e.width)});break;case"height":vt(this.element,{height:y(e.height)});break;case"zIndex":vt(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var i=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+i).toString()+"px";break;case"offsetY":var o=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.remove(ua,pa,fa,ga),this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(ua);var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=y(this.width)),"auto"!==this.height&&(e.height=y(this.height)),vt(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){le.isDevice&&ce.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];ce.add(n,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){le.isDevice&&ce.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];ce.remove(n,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||p(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"===typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?p(this.element)||this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,t){for(var n=this.getScrollableParent(e),r=0;r<n.length;r++)if(!this.isElementVisible(e,n[r]))return!1;return!0},t.prototype.isElementVisible=function(e,t){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(p(this.checkGetBoundingClientRect(t))){var r=window,i={top:r.scrollY,left:r.scrollX,right:r.scrollX+r.outerWidth,bottom:r.scrollY+r.outerHeight},o=ko(e),a={top:o.top,left:o.left,right:o.left+n.width,bottom:o.top+n.height},s={top:i.bottom-a.top,left:i.right-a.left,bottom:a.bottom-i.top,right:a.right-i.left};return s.top>0&&s.left>0&&s.right>0&&s.bottom>0}var l=t.getBoundingClientRect();return!(n.bottom<l.top)&&!(n.bottom>l.bottom)&&!(n.right>l.right)&&!(n.left<l.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(pa):this.element.classList.remove(pa)},t.prototype.setContent=function(){p(this.content)||(this.element.innerHTML="","string"===typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))},t.prototype.orientationOnChange=function(){var e=this;setTimeout((function(){e.refreshPosition()}),200)},t.prototype.refreshPosition=function(e,t){p(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},t.prototype.reposition=function(){var e,t,n=this.getRelateToElement();if("number"===typeof this.position.X&&"number"===typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"===typeof this.position.X&&"number"===typeof this.position.Y||"number"===typeof this.position.X&&"string"===typeof this.position.Y){var r=void 0,i=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"===typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=i,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(n){i=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=i}else e={left:0,top:0};p(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return null}},t.prototype.getAnchorPosition=function(e,t,n,r,i){var o=this.checkGetBoundingClientRect(t),a=this.checkGetBoundingClientRect(e);if(p(o)||p(a))return null;var s=e,l={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?l=ko(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==s.tagName&&(t=t.parentElement),l=function(e,t){var n=!1,r={left:0,top:0},i=e;if(!e||!t)return r;for(p(t.offsetParent)&&"fixed"===t.style.position&&(n=!0);(t.offsetParent||n)&&e&&t.offsetParent!==e;)r.left+=e.offsetLeft,r.top+=e.offsetTop,e=e.offsetParent;for(e=i;(t.offsetParent||n)&&e&&t.offsetParent!==e;)r.left-=e.scrollLeft,r.top-=e.scrollTop,e=e.parentElement;return r}(s,t)),n.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.left+=window.innerWidth/2-o.width/2:"container"===this.targetType?l.left+=a.width/2-o.width/2:l.left+=a.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.left+=window.innerWidth-o.width:"container"===this.targetType?l.left+=a.width-o.width:l.left+=a.width}switch(n.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.top+=window.innerHeight/2-o.height/2:"container"===this.targetType?l.top+=a.height/2-o.height/2:l.top+=a.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.top+=window.innerHeight-o.height:"container"===this.targetType?l.top+=a.height-o.height:l.top+=a.height}return l.left+=r,l.top+=i,l},t.prototype.callFlip=function(e){var t=this.getRelateToElement();Vo(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==Wo(this.element,this.viewPortElement).length)if(p(this.viewPortElement)){var t=Qo(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),r=this.checkGetBoundingClientRect(this.viewPortElement);if(p(n)||p(r))return null;e&&!0===e.Y&&(r.top>n.top?this.element.style.top="0px":r.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-r.bottom)+"px")),e&&!0===e.X&&(r.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-r.right)+"px":r.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(r.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,t){var n=this;if(this.wireEvents(),1e3===this.zIndex||!p(t)){var r=p(t)?this.element:t;this.zIndex=ya(r),vt(this.element,{zIndex:this.zIndex})}e=p(e)||"object"!==typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(at([this.element],ga),ot([this.element],fa),this.checkCollision(),at([this.element],fa),ot([this.element],ga)),p(e)?(at([this.element],ga),ot([this.element],fa),this.trigger("open")):(e.begin=function(){n.isDestroyed||(at([n.element],ga),ot([n.element],fa))},e.end=function(){n.isDestroyed||n.trigger("open")},new Gt(e).animate(this.element))},t.prototype.hide=function(e){var t=this;e=p(e)||"object"!==typeof e?this.hideAnimation:e,p(e)?(at([this.element],fa),ot([this.element],ga),this.trigger("close")):(e.end=function(){t.isDestroyed||(at([t.element],fa),ot([t.element],ga),t.trigger("close"))},new Gt(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),ma(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var n=getComputedStyle(t);"fixed"===n.position&&!p(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top)?y(window.scrollY-parseInt(this.element.style.top)):y(parseInt(this.element.style.top)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,!p(this.element)&&p(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},ha([_t("auto")],t.prototype,"height",void 0),ha([_t("auto")],t.prototype,"width",void 0),ha([_t(null)],t.prototype,"content",void 0),ha([_t("container")],t.prototype,"targetType",void 0),ha([_t(null)],t.prototype,"viewPortElement",void 0),ha([_t({X:"none",Y:"none"})],t.prototype,"collision",void 0),ha([_t("")],t.prototype,"relateTo",void 0),ha([Ft({},da)],t.prototype,"position",void 0),ha([_t(0)],t.prototype,"offsetX",void 0),ha([_t(0)],t.prototype,"offsetY",void 0),ha([_t(1e3)],t.prototype,"zIndex",void 0),ha([_t(!1)],t.prototype,"enableRtl",void 0),ha([_t("reposition")],t.prototype,"actionOnScroll",void 0),ha([_t(null)],t.prototype,"showAnimation",void 0),ha([_t(null)],t.prototype,"hideAnimation",void 0),ha([Qt()],t.prototype,"open",void 0),ha([Qt()],t.prototype,"close",void 0),ha([Qt()],t.prototype,"targetExitViewport",void 0),t=ha([Wt],t)}(dn);function ma(e,t){for(var n=getComputedStyle(e),r=[],i=/(auto|scroll)/,o=e.parentElement;o&&"HTML"!==o.tagName;){var a=getComputedStyle(o);"absolute"===n.position&&"static"===a.position||!i.test(a.overflow+a.overflowY+a.overflowX)||r.push(o),o=o.parentElement}return t||r.push(document),r}function ya(e){for(var t=e.parentElement,n=[];t&&"BODY"!==t.tagName;){var r=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),i=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==r&&"static"!==i&&n.push(r),t=t.parentElement}for(var o=[],a=0;a<document.body.children.length;a++)if(!e.isEqualNode(document.body.children[a])){r=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),i=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");"auto"!==r&&"static"!==i&&o.push(r)}o.push("999");var s=[];if(!p(e.parentElement)&&"BODY"!==e.parentElement.tagName){var l=[].slice.call(e.parentElement.children);for(a=0;a<l.length;a++){r=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("z-index"),i=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("position");"auto"!==r&&"static"!==i&&s.push(r)}}var c=n.concat(o,s),h=Math.max.apply(Math,c)+1;return h>2147483647?2147483647:h}var va,ba,wa,xa,Ca,Sa,Ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ea="e-tooltip",Oa="e-rtl",Ta="e-tip-content",Ia="e-arrow-tip",La="e-arrow-tip-outer",ka="e-arrow-tip-inner",Na="e-tip-bottom",Ma="e-tip-top",Da="e-tip-left",Ra="e-tip-right",ja="e-popup-open",_a="e-popup-close",Fa="e-lib",Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ba(t,e),Pa([_t({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Pa([_t({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(on),Ua=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isBlazorTooltip=!1,r.contentTargetValue=null,r.contentEvent=null,r.contentAnimation=null,r}return Ba(t,e),t.prototype.initialize=function(){this.formatPosition(),this.isServerRender()||ot([this.element],Ea)},t.prototype.isServerRender=function(){return v()&&this.isServerRendered},t.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},t.prototype.renderArrow=function(){var e;(this.setTipClass(this.position),this.isServerRender())?(ot([(e=this.tooltipEle.querySelector("."+Ia)).querySelector("."+La)],this.tipClass),ot([e.querySelector("."+ka)],this.tipClass),this.tooltipEle.appendChild(e)):((e=this.createElement("div",{className:Ia+" "+this.tipClass})).appendChild(this.createElement("div",{className:La+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:ka+" "+this.tipClass})),this.tooltipEle.appendChild(e))},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass=Da:0===e.indexOf("Bottom")?this.tipClass=Ma:0===e.indexOf("Left")?this.tipClass=Ra:this.tipClass=Na},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(Fa),this.popupObj=new Aa(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=ko(e,this.tooltipPositionX,this.tooltipPositionY),n=this.calculateTooltipOffset(this.position),r=this.collisionFlipFit(e,t.left+n.left,t.top+n.top);return this.tooltipEle.style.display="",r},t.prototype.reposition=function(e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)},t.prototype.closePopupHandler=function(){Fe(this.element.id+"content"),this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)},t.prototype.calculateTooltipOffset=function(e){var t={top:0,left:0},n=this.tooltipEle.offsetWidth,r=this.tooltipEle.offsetHeight,i=this.tooltipEle.querySelector("."+Ia),o=i?i.offsetWidth:0,a=i?i.offsetHeight:0,s=this.showTipPointer?0:8,l=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(s+=2),e){case"RightTop":t.left+=o+s,t.top-=r-l;break;case"RightCenter":t.left+=o+s,t.top-=r/2;break;case"RightBottom":t.left+=o+s,t.top-=l;break;case"BottomRight":t.top+=a+s,t.left-=c;break;case"BottomCenter":t.top+=a+s,t.left-=n/2;break;case"BottomLeft":t.top+=a+s,t.left-=n-c;break;case"LeftBottom":t.left-=o+n+s,t.top-=l;break;case"LeftCenter":t.left-=o+n+s,t.top-=r/2;break;case"LeftTop":t.left-=o+n+s,t.top-=r-l;break;case"TopLeft":t.top-=r+a+s,t.left-=n-c;break;case"TopRight":t.top-=r+a+s,t.left-=c;break;default:t.top-=r+a+s,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},t.prototype.updateTipPosition=function(e){var t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,."+ka);at(t,[Na,Ma,Da,Ra]),this.setTipClass(e),ot(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,n,r){if(!1!==this.showTipPointer){var i,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";var a,s=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,c=this.tooltipEle.querySelector("."+Ia),h=this.tooltipEle.querySelector("."+ka),d=c.offsetWidth,u=c.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===Na||this.tipClass===Ma){if(this.tipClass===Na?(o="99.9%",h.style.top="-"+(u-2)+"px"):(o=-(u-1)+"px",h.style.top="-"+(u-6)+"px"),e)i=(a="Center"!==n||s>e.offsetWidth||this.mouseTrail)&&"Left"===n||!a&&"End"===this.tipPointerPosition?s-d-2+"px":a&&"Right"===n||!a&&"Start"===this.tipPointerPosition?"2px":s/2-d/2+"px"}else this.tipClass===Ra?(i="99.9%",h.style.left="-"+(d-2)+"px"):(i=-(d-1)+"px",h.style.left=d-2-d+"px"),o=(a="Center"!==r||l>e.offsetHeight||this.mouseTrail)&&"Top"===r||!a&&"End"===this.tipPointerPosition?l-u-2+"px":a&&"Bottom"===r||!a&&"Start"===this.tipPointerPosition?"2px":l/2-u/2+"px";c.style.top=o,c.style.left=i}},t.prototype.renderContent=function(e){var t=this.tooltipEle.querySelector("."+Ta);if(this.cssClass&&ot([this.tooltipEle],this.cssClass.split(" ")),e&&!p(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),p(this.content))e&&!p(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(this.isBlazorTooltip||!this.isServerRender())if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content&&this.content.indexOf("<div>Blazor")<0)this.enableHtmlSanitizer&&this.setProperties({content:Mn.sanitize(this.content)},!0),t[this.enableHtmlParse?"innerHTML":"textContent"]=this.content;else{var n=je(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t);n&&ht(n,t),this.renderReactTemplates(),"string"===typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0,_e(this.element.id+"content","Content",this))}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),ce.add(e,le.touchStartEvent,this.onStickyClose,this)}},t.prototype.addDescribedBy=function(e,t){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),ft(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})},t.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),r=n.indexOf(t);-1!==r&&n.splice(r,1),e.removeAttribute("data-tooltip-id");var i=n.join(" ").trim();i?e.setAttribute("aria-describedby",i):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var t=this;if(!this.isSticky){this.autoCloseTimer=setTimeout((function(){t.close()}),1500)}},t.prototype.targetClick=function(e){var t;p(t=this.target?yt(e.target,this.target):this.element)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){var t;if(!(p(t=this.target?yt(e.target,this.target):this.element)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var n=0,r=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]"));n<r.length;n++){var i=r[n];this.restoreElement(i)}this.showTooltip(t,this.animation.open,e)}},t.prototype.showTooltip=function(e,t,n){var r=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!p(n)};this.trigger("beforeRender",this.tooltipEventArgs,function(i){r.beforeRenderCallback(i,e,n,t)}.bind(this))},t.prototype.beforeRenderCallback=function(e,t,n,r){var i=!1;if(e.cancel)this.isHidden=!0,this.clear();else if(this.isHidden=!1,p(this.tooltipEle)){if(this.isServerRender()){this.contentTargetValue=t,this.contentEvent=n,this.contentAnimation=r;this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"true"}),i=!0}else this.ctrlId=this.element.getAttribute("id")?g(this.element.getAttribute("id")):g("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+y(this.width)+";height:"+y(this.height)+";position:absolute;"}),this.beforeRenderBlazor(t,this);i||this.afterRenderBlazor(t,n,r,this)}else this.isServerRender()&&(ot([this.tooltipEle],ja),document.body.appendChild(this.tooltipEle),this.renderCloseIcon(),this.renderPopup(t)),t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),Gt.stop(this.tooltipEle),this.reposition(t),this.afterRenderBlazor(t,n,r,this))},t.prototype.contentUpdated=function(e){p(this.tooltipEle)&&this.isServerRender()&&(this.ctrlId=this.element.id,this.tooltipEle=document.querySelector("#"+this.ctrlId+"_content"),this.tooltipEle&&(this.tooltipEle.setAttribute("style","width:"+y(this.width)+";height:"+y(this.height)+";position:absolute;"),this.beforeRenderBlazor(this.contentTargetValue,this),this.afterRenderBlazor(this.contentTargetValue,this.contentEvent,this.contentAnimation,this),this.contentTargetValue=this.contentEvent=this.contentAnimation=null))},t.prototype.beforeRenderBlazor=function(e,t){e&&(le.isDevice&&ot([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=y(t.width)),this.isServerRender()||t.tooltipEle.appendChild(t.createElement("div",{className:Ta})),document.body.appendChild(t.tooltipEle),at([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),ot([t.tooltipEle],ja),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),Gt.stop(t.tooltipEle),t.reposition(e))},t.prototype.afterRenderBlazor=function(e,t,n,r){if(e){at([r.tooltipEle],ja),ot([r.tooltipEle],_a),r.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:r.tooltipEle,isInteracted:!p(t)},r.needTemplateReposition()&&!r.mouseTrail&&(r.tooltipEle.style.display="none");r.trigger("beforeOpen",r.tooltipEventArgs,function(i){r.beforeOpenCallback(i,e,n,t)}.bind(r))}},t.prototype.beforeOpenCallback=function(e,t,n,r){var i=this;if(e.cancel)this.isHidden=!0,this.clear(),this.restoreElement(t);else{var o={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if("None"===n.effect&&(o=void 0),this.openDelay>0){this.showTimer=setTimeout((function(){i.mouseTrail&&ce.add(t,"mousemove touchstart mouseenter",i.onMouseMove,i),i.popupObj&&i.popupObj.show(o,t)}),this.openDelay)}else this.popupObj&&this.popupObj.show(o,t)}r&&this.wireMouseEvents(r,t)},t.prototype.needTemplateReposition=function(){return!p(this.viewContainerRef)&&"string"!==typeof this.viewContainerRef||this.isServerRender()&&this.isBlazorTemplate},t.prototype.checkCollision=function(e,t,n){var r={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},i=Wo(this.tooltipEle,this.checkCollideTarget(),t,n);return i.length>0&&(r.horizontal=i.indexOf("left")>=0?"Right":i.indexOf("right")>=0?"Left":this.tooltipPositionX,r.vertical=i.indexOf("top")>=0?"Bottom":i.indexOf("bottom")>=0?"Top":this.tooltipPositionY),r},t.prototype.collisionFlipFit=function(e,t,n){var r=this.checkCollision(e,t,n),i=r.position;if(this.tooltipPositionY!==r.vertical&&(i=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?r.vertical+this.tooltipPositionX:this.tooltipPositionX+r.vertical),this.tooltipPositionX!==r.horizontal&&(0===i.indexOf("Left")&&(r.vertical="LeftTop"===i||"LeftCenter"===i?"Top":"Bottom",i=r.vertical+"Left"),0===i.indexOf("Right")&&(r.vertical="RightTop"===i||"RightCenter"===i?"Top":"Bottom",i=r.vertical+"Right"),r.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:i},this.trigger("beforeCollision",this.tooltipEventArgs),r.position!==i){var o=ko(e,r.horizontal,r.vertical);this.adjustArrow(e,i,r.horizontal,r.vertical);var a=this.calculateTooltipOffset(i);a.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(i.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,a.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(i.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,r.position=i,r.left=o.left+a.left,r.top=o.top+a.top}else this.adjustArrow(e,i,r.horizontal,r.vertical);var s={left:r.left,top:r.top},l=Qo(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:!1},s).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===i.indexOf("Bottom")||0===i.indexOf("Top"))){var c=this.tooltipEle.querySelector("."+Ia),h=parseInt(c.style.left,10)-(l-r.left);h<0?h=0:h+c.offsetWidth>this.tooltipEle.clientWidth&&(h=this.tooltipEle.clientWidth-c.offsetWidth),c.style.left=h.toString()+"px"}return this.tooltipEle.style.display="",s.left=l,s},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,t,n){var r=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);this.hideTimer=setTimeout((function(){r.closeDelay&&r.tooltipEle&&r.isTooltipOpen||r.tooltipHide(e,t,n)}),this.closeDelay)}else this.tooltipHide(e,t,n)},t.prototype.tooltipHide=function(e,t,n){var r,i=this;r=t?this.target?n||t.target:this.element:document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:r,event:t||null,element:this.tooltipEle,isInteracted:!p(t)},this.trigger("beforeClose",this.tooltipEventArgs,(function(t){t.cancel?i.isHidden=!1:i.isServerRender()?i.blazorHide(e,r):i.popupHide(e,r)}))},t.prototype.blazorHide=function(e,t){var n=this;this.popupObj?this.popupHide(e,t):setTimeout((function(){n.popupHide(e,t)}),200)},t.prototype.popupHide=function(e,t){t&&this.restoreElement(t),this.isHidden=!0;var n={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),p(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){if(this.tooltipEle&&(at([this.tooltipEle],_a),ot([this.tooltipEle],ja)),this.isHidden){if(this.popupObj&&this.popupObj.destroy(),this.isServerRender()&&this.tooltipEle){this.tooltipEle.style.display="none";this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"false"}),pt(this.tooltipEle)}else this.tooltipEle&&pt(this.tooltipEle);this.tooltipEle=null,this.popupObj=null}},t.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var n=yt(t,".e-tooltip-wrap.e-lib.e-popup");n?ce.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),ce.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var t=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),Gt.stop(this.tooltipEle),at([this.tooltipEle],_a),ot([this.tooltipEle],ja),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var r=this.calculateTooltipOffset(this.position),i=t+r.left+this.offsetX,o=n+r.top+this.offsetY,a=this.checkCollision(e.target,i,o);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=s,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var l=this.calculateTooltipOffset(a.position);a.left=t+l.left-this.offsetX,a.top=n+l.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===yt(e.target,"."+Ea)&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&(yt(e.target,".e-tooltip-wrap.e-lib.e-popup")||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=Na,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var r=n[t];if("Custom"===r)return;"Focus"===r&&this.wireFocusEvents(),"Click"===r&&ce.add(this.element,le.touchStartEvent,this.targetClick,this),"Hover"===r&&(le.isDevice?(this.touchModule=new In(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),ce.add(this.element,le.touchEndEvent,this.touchEndHandler,this)):(ce.add(this.element,"mouseover",this.targetHover,this),this.isServerRender()&&!this.isSticky&&ce.add(this.element,"mouseleave",this.onMouseOut,this)))}ce.add(document,"touchend",this.touchEnd,this),ce.add(document,"scroll wheel",this.scrollHandler,this),ce.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=le.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(p(this.target))ce.add(this.element,"focus",this.targetHover,this);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var n=t[e];ce.add(n,"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&ce.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&(this.isServerRender()||ce.add(t,"mouseleave",this.onMouseOut,this)),this.closeDelay&&(ce.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),ce.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&ce.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var r=n[t];if("Custom"===r)return;"Focus"===r&&this.unwireFocusEvents(),"Click"===r&&ce.remove(this.element,le.touchStartEvent,this.targetClick),"Hover"===r&&(le.isDevice?(this.touchModule&&this.touchModule.destroy(),ce.remove(this.element,le.touchEndEvent,this.touchEndHandler)):(ce.remove(this.element,"mouseover",this.targetHover),this.isServerRender()&&!this.isSticky&&ce.remove(this.element,"mouseleave",this.onMouseOut)))}ce.remove(document,"touchend",this.touchEnd),ce.remove(document,"scroll wheel",this.scrollHandler),ce.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(p(this.target))ce.remove(this.element,"focus",this.targetHover);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var n=t[e];ce.remove(n,"focus",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var t=0,n=this.getTriggerList(this.opensOn);t<n.length;t++){var r=n[t];"Focus"===r&&ce.remove(e,"blur",this.onMouseOut),"Hover"!==r||le.isDevice||this.isServerRender()||ce.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(ce.remove(e,"mouseenter",this.tooltipHover),ce.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&ce.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var n=this.findTarget(),r=0,i=Object.keys(e);r<i.length;r++){switch(i[r]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=y(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=y(e.height),this.reposition(n));break;case"content":if(this.tooltipEle)this.isServerRender()&&(this.isBlazorTooltip=!0),this.renderContent();else if(this.isServerRender()){var o={content:e.content};this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",o)}break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var a=this.tooltipEle.querySelector("."+ka);a.style.top=a.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var l=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+l).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&at([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&ot([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?ot([this.tooltipEle],Oa):at([this.tooltipEle],Oa))}}},t.prototype.open=function(e,t){p(t)&&(t=this.animation.open),p(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)},t.prototype.destroy=function(){if(this.isServerRender()||(e.prototype.destroy.call(this),this.tooltipEle&&pt(this.tooltipEle)),this.isServerRender()&&this.tooltipEle){var t=document.querySelector("#"+this.ctrlId+"_content_placeholder");t&&t.appendChild(this.tooltipEle)}this.popupObj&&this.popupObj.destroy(),at([this.element],Ea),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null},Pa([_t("auto")],t.prototype,"width",void 0),Pa([_t("auto")],t.prototype,"height",void 0),Pa([_t()],t.prototype,"content",void 0),Pa([_t()],t.prototype,"target",void 0),Pa([_t("TopCenter")],t.prototype,"position",void 0),Pa([_t(0)],t.prototype,"offsetX",void 0),Pa([_t(0)],t.prototype,"offsetY",void 0),Pa([_t(!0)],t.prototype,"showTipPointer",void 0),Pa([_t(!0)],t.prototype,"enableHtmlParse",void 0),Pa([_t(!1)],t.prototype,"windowCollision",void 0),Pa([_t("Auto")],t.prototype,"tipPointerPosition",void 0),Pa([_t("Auto")],t.prototype,"opensOn",void 0),Pa([_t(!1)],t.prototype,"mouseTrail",void 0),Pa([_t(!1)],t.prototype,"isSticky",void 0),Pa([Ft({},Ha)],t.prototype,"animation",void 0),Pa([_t(0)],t.prototype,"openDelay",void 0),Pa([_t(0)],t.prototype,"closeDelay",void 0),Pa([_t()],t.prototype,"cssClass",void 0),Pa([_t(!1)],t.prototype,"enableHtmlSanitizer",void 0),Pa([Qt()],t.prototype,"beforeRender",void 0),Pa([Qt()],t.prototype,"beforeOpen",void 0),Pa([Qt()],t.prototype,"afterOpen",void 0),Pa([Qt()],t.prototype,"beforeClose",void 0),Pa([Qt()],t.prototype,"afterClose",void 0),Pa([Qt()],t.prototype,"beforeCollision",void 0),Pa([Qt()],t.prototype,"created",void 0),Pa([Qt()],t.prototype,"destroyed",void 0),t=Pa([Wt],t)}(dn),za=!1;function Qa(e,t,n,r,i){if(ba=n+t==="topright"?void 0:i,ba=i,za=!!r,!e)return{left:0,top:0};t||(t="left"),n||(n="top"),xa=e.ownerDocument,wa=e;return function(e,t,n){switch(va=wa.getBoundingClientRect(),t+e){case"topcenter":Wa($a(),n),Va(qa(),n);break;case"topright":Wa(Za(),n),Va(qa(),n);break;case"centercenter":Wa($a(),n),Va(Ga(),n);break;case"centerright":Wa(Za(),n),Va(Ga(),n);break;case"centerleft":Wa(Ja(),n),Va(Ga(),n);break;case"bottomcenter":Wa($a(),n),Va(Ka(),n);break;case"bottomright":Wa(Za(),n),Va(Ka(),n);break;case"bottomleft":Wa(Ja(),n),Va(Ka(),n);break;default:case"topleft":Wa(Ja(),n),Va(qa(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})}function Wa(e,t){t.left=e}function Va(e,t){t.top=e}function Xa(){return xa.documentElement.scrollTop||xa.body.scrollTop}function Ya(){return xa.documentElement.scrollLeft||xa.body.scrollLeft}function Ka(){return za?va.bottom:va.bottom+Xa()}function Ga(){return qa()+va.height/2}function qa(){return za?va.top:va.top+Xa()}function Ja(){return va.left+Ya()}function Za(){return va.right+Ya()-(ba?ba.width:0)}function $a(){return Ja()+va.width/2}function es(e,t){var n=!1,r=!1;return e-ds()<ss()&&(n=!0),t>ls()&&(r=!0),{leftSide:n,rightSide:r}}function ts(e,t){var n=!1,r=!1;return e-hs()<as()&&(n=!0),t>cs()&&(r=!0),{topSide:n,bottomSide:r}}function ns(){return Sa.getBoundingClientRect().width}function rs(){return Sa.getBoundingClientRect().height}function is(){return Sa.getBoundingClientRect().left}function os(){return Sa.getBoundingClientRect().top}function as(){return Sa?os():0}function ss(){return Sa?is():0}function ls(){return Sa?ds()+is()+ns():ds()+ps()}function cs(){return Sa?hs()+os()+rs():hs()+us()}function hs(){return Ca.documentElement.scrollTop||Ca.body.scrollTop}function ds(){return Ca.documentElement.scrollLeft||Ca.body.scrollLeft}function us(){return window.innerHeight}function ps(){var e=window.innerWidth;return e-(e-(p(document.documentElement)?0:document.documentElement.offsetWidth))}var fs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gs=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},As=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fs(t,e),gs([_t({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),gs([_t({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0)}(on),"e-tip-bottom"),ms="e-tip-top",ys="e-tip-left",vs="e-tip-right",bs="e-popup-open",ws="e-popup-close",xs="e-lib",Cs="e-popup-open",Ss="e-popup-close",Bs=function(){function e(e){this.isBlazorTooltip=!1,this.contentEvent=null,this.width="auto",this.height="auto",this.content="",this.target="",this.position="TopCenter",this.offsetX=0,this.offsetY=0,this.tipPointerPosition="Auto",this.openDelay=0,this.closeDelay=0,this.cssClass="",this.element=e,this.tipClass=As,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0,this.showTipPointer=!0}return e.prototype.open=function(e,t,n){p(this.animation.open)&&(this.animation.open=this.element.tooltip&&this.element.tooltip.animation&&this.element.tooltip.animation.open),this.showTooltip(e,t)},e.prototype.updateTooltip=function(e){this.tooltipEle&&(this.addDescribedBy(e,this.ctrlId+"_content"),this.renderContent(e),this.reposition(e),this.adjustArrow(e,this.position,this.tooltipPositionX,this.tooltipPositionY))},e.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},e.prototype.destroy=function(){},e.prototype.close=function(){if(this.tooltipEle){at([this.tooltipEle],ws),ot([this.tooltipEle],bs),Gt.stop(this.tooltipEle);var e=void 0,t=this;t.isHidden=!0,this.animation.close&&(e={name:this.animation.close.effect,duration:this.animation.close.duration||0,delay:this.animation.close.delay||0,timingFunction:"easeOut"}),p(e)?(at([this.tooltipEle],Cs),ot([this.tooltipEle],Ss),pt(this.tooltipEle),this.tooltipEle=null):(e.end=function(){t.isHidden&&(pt(t.tooltipEle),t.tooltipEle=null)},new Gt(e).animate(this.tooltipEle))}},e.prototype.showTooltip=function(e,t,n){var r=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!p(n)};this.element.trigger("beforeRender",this.tooltipEventArgs,function(i){r.beforeRenderCallback(i,e,n,t)}.bind(this))},e.prototype.beforeRenderCallback=function(e,t,n,r){this.formatPosition();e.cancel?this.isHidden=!0:(this.isHidden=!1,p(this.tooltipEle)?(this.ctrlId=this.element.element.id,this.tooltipEle=it("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+y(this.width)+";height:"+y(this.height)+";position:absolute; pointer-events:none;"}),this.beforeRenderBlazor(t,this),Gt.stop(this.tooltipEle),this.afterRenderBlazor(t,n,r,this)):t&&(this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),Gt.stop(this.tooltipEle),this.reposition(t),this.afterRenderBlazor(t,n,r,this),this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY)))},e.prototype.afterRenderBlazor=function(e,t,n,r){var i=this;if(e){at([r.tooltipEle],bs),ot([r.tooltipEle],ws),r.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:r.tooltipEle,isInteracted:!p(t)};var o=void 0;this.animation.open&&(o={name:this.animation.open.effect,duration:this.animation.open.duration||0,delay:this.animation.open.delay||0,timingFunction:"easeIn"}),p(o)?(at([r.tooltipEle],ws),ot([r.tooltipEle],bs)):(o.begin=function(){at([r.tooltipEle],Ss),ot([r.tooltipEle],Cs)},o.end=function(){i.element.trigger("open")},new Gt(o).animate(this.tooltipEle))}},e.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass=ys:0===e.indexOf("Bottom")?this.tipClass=ms:0===e.indexOf("Left")?this.tipClass=vs:this.tipClass=As},e.prototype.renderArrow=function(){this.setTipClass(this.position);var e=it("div",{className:"e-arrow-tip "+this.tipClass});e.appendChild(it("div",{className:"e-arrow-tip-outer "+this.tipClass})),e.appendChild(it("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(e)},e.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=Qa(e,this.tooltipPositionX,this.tooltipPositionY),n=this.calculateTooltipOffset(this.position),r=this.collisionFlipFit(e,t.left+n.left,t.top+n.top);return this.tooltipEle.style.display="",r},e.prototype.checkCollision=function(e,t,n){var r={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},i=function(e,t,n,r){void 0===t&&(t=null);var i=Qa(e,"left","top");n&&(i.left=n),r&&(i.top=r);var o=[];Sa=t,Ca=e.ownerDocument;var a=e.getBoundingClientRect(),s=i.top,l=i.left,c=i.left+a.width,h=ts(s,i.top+a.height),d=es(l,c);return h.topSide&&o.push("top"),d.rightSide&&o.push("right"),d.leftSide&&o.push("left"),h.bottomSide&&o.push("bottom"),o}(this.tooltipEle,this.target?this.element.element:null,t,n);return i.length>0&&(r.horizontal=i.indexOf("left")>=0?"Right":i.indexOf("right")>=0?"Left":this.tooltipPositionX,r.vertical=i.indexOf("top")>=0?"Bottom":i.indexOf("bottom")>=0?"Top":this.tooltipPositionY),r},e.prototype.collisionFlipFit=function(e,t,n){var r=this.checkCollision(e,t,n),i=r.position;if(this.tooltipPositionY!==r.vertical&&(i=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?r.vertical+this.tooltipPositionX:this.tooltipPositionX+r.vertical),this.tooltipPositionX!==r.horizontal&&(0===i.indexOf("Left")&&(r.vertical="LeftTop"===i||"LeftCenter"===i?"Top":"Bottom",i=r.vertical+"Left"),0===i.indexOf("Right")&&(r.vertical="RightTop"===i||"RightCenter"===i?"Top":"Bottom",i=r.vertical+"Right"),r.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:i},this.element.trigger("beforeCollision",this.tooltipEventArgs),r.position!==i){var o=Qa(e,r.horizontal,r.vertical);this.adjustArrow(e,i,r.horizontal,r.vertical);var a=this.calculateTooltipOffset(i);a.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(i.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,a.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(i.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,r.position=i,r.left=o.left+a.left,r.top=o.top+a.top}else this.adjustArrow(e,i,r.horizontal,r.vertical);var s={left:r.left,top:r.top},l=function(e,t,n,r){if(void 0===t&&(t=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var i=e.getBoundingClientRect();if(Sa=t,Ca=e.ownerDocument,r||(r=Qa(e,"left","top")),n.X){var o=Sa?ns():ps(),a=ss(),s=ls(),l=a-r.left,c=r.left+i.width-s;i.width>o?r.left=l>0&&c<=0?s-i.width:c>0&&l<=0?a:l>c?s-i.width:a:l>0?r.left+=l:c>0&&(r.left-=c)}if(n.Y){var h=Sa?rs():us(),d=as(),u=cs(),p=d-r.top,f=r.top+i.height-u;i.height>h?r.top=p>0&&f<=0?u-i.height:f>0&&p<=0?d:p>f?u-i.height:d:p>0?r.top+=p:f>0&&(r.top-=f)}return r}(this.tooltipEle,this.target?this.element.element:null,{X:!0,Y:!1},s).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===i.indexOf("Bottom")||0===i.indexOf("Top"))){var c=this.tooltipEle.querySelector(".e-arrow-tip"),h=parseInt(c.style.left,10)-(l-r.left);h<0?h=0:h+c.offsetWidth>this.tooltipEle.clientWidth&&(h=this.tooltipEle.clientWidth-c.offsetWidth),c.style.left=h.toString()+"px"}return this.tooltipEle.style.display="",s.left=l,s},e.prototype.calculateTooltipOffset=function(e){var t={top:0,left:0},n=this.tooltipEle.offsetWidth,r=this.tooltipEle.offsetHeight,i=this.tooltipEle.querySelector(".e-arrow-tip"),o=i?i.offsetWidth:0,a=i?i.offsetHeight:0,s=this.showTipPointer?0:8,l=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(e){case"RightTop":t.left+=o+s,t.top-=r-l;break;case"RightCenter":t.left+=o+s,t.top-=r/2;break;case"RightBottom":t.left+=o+s,t.top-=l;break;case"BottomRight":t.top+=a+s,t.left-=c;break;case"BottomCenter":t.top+=a+s,t.left-=n/2;break;case"BottomLeft":t.top+=a+s,t.left-=n-c;break;case"LeftBottom":t.left-=o+n+s,t.top-=l;break;case"LeftCenter":t.left-=o+n+s,t.top-=r/2;break;case"LeftTop":t.left-=o+n+s,t.top-=r-l;break;case"TopLeft":t.top-=r+a+s,t.left-=n-c;break;case"TopRight":t.top-=r+a+s,t.left-=c;break;default:t.top-=r+a+s,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},e.prototype.reposition=function(e){var t=this.getTooltipPosition(e);this.tooltipEle.style.left=t.left+"px",this.tooltipEle.style.top=t.top+"px"},e.prototype.beforeRenderBlazor=function(e,t){if(e){le.isDevice&&ot([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=y(t.width)),t.tooltipEle.appendChild(it("div",{className:"e-tip-content e-diagramTooltip-content"})),document.body.appendChild(t.tooltipEle),ot([t.tooltipEle],bs),at([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),ot([t.tooltipEle],bs),this.showTipPointer&&t.renderArrow();var n=this.getTooltipPosition(e);this.tooltipEle.classList.remove(xs),this.tooltipEle.style.left=n.left+"px",this.tooltipEle.style.top=n.top+"px",t.reposition(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY)}},e.prototype.addDescribedBy=function(e,t){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),ft(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})},e.prototype.renderContent=function(e){var t=this.tooltipEle.querySelector(".e-tip-content");if(this.cssClass&&ot([this.tooltipEle],this.cssClass.split(" ")),e&&!p(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),p(this.content))e&&!p(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(this.isBlazorTooltip,t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content&&this.content.indexOf("<div>Blazor")<0)t.innerHTML=this.content;else{ht(je(this.content)({},null,null,this.element.element.id+"content"),t),"string"===typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0,_e(this.element.element.id+"content","Content",this))}},e.prototype.updateTipPosition=function(e){var t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");at(t,[As,ms,ys,vs]),this.setTipClass(e),ot(t,this.tipClass)},e.prototype.adjustArrow=function(e,t,n,r){if(this.showTipPointer){var i,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";var a,s=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,c=this.tooltipEle.querySelector(".e-arrow-tip"),h=this.tooltipEle.querySelector(".e-arrow-tip-inner"),d=c.offsetWidth,u=c.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===As||this.tipClass===ms){if(this.tipClass===As?(o="99.9%",h.style.top="-"+(u-2)+"px"):(o=-(u-1)+"px",h.style.top="-"+(u-6)+"px"),e)i=(a="Center"!==n||s>e.offsetWidth)&&"Left"===n||!a&&"End"===this.tipPointerPosition?s-d-2+"px":a&&"Right"===n||!a&&"Start"===this.tipPointerPosition?"2px":s/2-d/2+"px"}else this.tipClass===vs?(i="99.9%",h.style.left="-"+(d-2)+"px"):(i=-(d-1)+"px",h.style.left=d-2-d+"px"),o=(a="Center"!==r||l>e.offsetHeight)&&"Top"===r||!a&&"End"===this.tipPointerPosition?l-u-2+"px":a&&"Bottom"===r||!a&&"Start"===this.tipPointerPosition?"2px":l/2-u/2+"px";c.style.top=o,c.style.left=i}},e.prototype.getModuleName=function(){return"BlazorTooltip"},e}(),Ps=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ps(t,e),Es([_t("")],t.prototype,"content",void 0),Es([_t("TopLeft")],t.prototype,"position",void 0),Es([_t("Mouse")],t.prototype,"relativeMode",void 0),Es([_t(!0)],t.prototype,"showTipPointer",void 0),Es([_t("auto")],t.prototype,"width",void 0),Es([_t("auto")],t.prototype,"height",void 0),Es([_t("Auto")],t.prototype,"openOn",void 0),Es([_t()],t.prototype,"animation",void 0),t}(on);function Ts(e){var t;if(v())t=new Bs(e),t=ks(e.tooltip,t);else{var n=new Ua;n=ks(e.tooltip,n),(t=new Ua(n)).beforeCollision=Ls,t.beforeOpen=Is,t.cssClass="e-diagram-tooltip",t.opensOn="custom",t.appendTo("#"+e.element.id),t.close()}return t}function Is(e){""!==this.content&&void 0!==this.content||(e.element.style.display="none")}function Ls(e){e.collidedPosition&&e.collidedPosition!==this.position&&(e.element.style.display="none")}function ks(e,t){return e.content?(t.content=e.content,t.position=e.position,t.showTipPointer=e.showTipPointer,t.width=e.width,t.height=e.height,e.animation?t.animation=e.animation:t.animation={close:{effect:"None"}}):t.close(),t}var Ns=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ms=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ns(t,e),Ms([_t()],t.prototype,"width",void 0),Ms([_t()],t.prototype,"height",void 0),t}(on),Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ns(t,e),Ms([_t()],t.prototype,"width",void 0),Ms([_t()],t.prototype,"height",void 0),Ms([_t()],t.prototype,"fit",void 0),Ms([_t()],t.prototype,"description",void 0),Ms([_t()],t.prototype,"template",void 0),Ms([_t()],t.prototype,"tooltip",void 0),t}(on),js=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),_s([_t("")],t.prototype,"id",void 0),_s([_t(-1)],t.prototype,"zIndex",void 0),_s([Ft({},ei)],t.prototype,"margin",void 0),_s([_t(!0)],t.prototype,"visible",void 0),_s([Ft({},Os)],t.prototype,"tooltip",void 0),_s([_t(!1)],t.prototype,"excludeFromLayout",void 0),_s([_t()],t.prototype,"addInfo",void 0),_s([_t("None")],t.prototype,"flip",void 0),_s([Ft({},Rs)],t.prototype,"symbolInfo",void 0),t}(on),Hs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Us=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.data="",o.nodeId="",o.annotationId="",o.diagramId="",o.diagramId=n,o.nodeId=t,o.annotationId=r,o.templateFn=Qu(i),o}return Hs(t,e),t.prototype.getNodeTemplate=function(){return this.templateFn},Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.canReset||(this.canReset=!0,this.isTemplate||(this.template=Mu(this,!0)),this.canReset=!1,this.isDirt=!0)},enumerable:!0,configurable:!0}),t}(di),zs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qs=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Qs([_t("")],t.prototype,"id",void 0),Qs([_t("transparent")],t.prototype,"fill",void 0),Qs([_t("black")],t.prototype,"iconStrokeColor",void 0),Qs([_t(0)],t.prototype,"iconStrokeWidth",void 0),Qs([_t(!0)],t.prototype,"visibility",void 0),Qs([_t(10)],t.prototype,"width",void 0),Qs([_t(10)],t.prototype,"height",void 0),Qs([_t("transparent")],t.prototype,"handleStrokeColor",void 0),Qs([_t(1)],t.prototype,"handleStrokeWidth",void 0),Qs([_t("")],t.prototype,"pathData",void 0),Qs([_t(0)],t.prototype,"cornerRadius",void 0),Qs([Ft({left:0,right:0,top:0,bottom:0},ei)],t.prototype,"padding",void 0),t}(on),Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Qs([Ft({x:0,y:0},or)],t.prototype,"offset",void 0),Qs([Ft({},ei)],t.prototype,"margin",void 0),t}(Ws),Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Qs([_t(.5)],t.prototype,"offset",void 0),Qs([_t("Center")],t.prototype,"alignment",void 0),Qs([Ft({x:0,y:0},or)],t.prototype,"displacement",void 0),t}(Ws),Ys=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ks=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gs=function(e){if(v())return gl;if(e)switch(e.type){case"Bpmn":return tl;case"UmlActivity":return el;case"UmlClassifier":return fl;default:return $s}return $s},qs=function(e){if(e){if(v())return al;switch(e.type){case"Straight":return rl;case"Bezier":return il;case"Orthogonal":return ol;default:return rl}}},Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t(10)],t.prototype,"width",void 0),Ks([_t(10)],t.prototype,"height",void 0),Ks([_t("Arrow")],t.prototype,"shape",void 0),Ks([Ft({fill:"black",strokeColor:"black",strokeWidth:1},si)],t.prototype,"style",void 0),Ks([Ft({x:0,y:.5},or)],t.prototype,"pivot",void 0),Ks([_t("")],t.prototype,"pathData",void 0),t}(on),Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t(0)],t.prototype,"angle",void 0),Ks([_t(0)],t.prototype,"distance",void 0),t}(on),$s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("None")],t.prototype,"type",void 0),t}(on),el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("Object")],t.prototype,"flow",void 0),Ks([_t(30)],t.prototype,"exceptionFlowHeight",void 0),t}($s),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("Sequence")],t.prototype,"flow",void 0),Ks([_t("Normal")],t.prototype,"sequence",void 0),Ks([_t("Default")],t.prototype,"message",void 0),Ks([_t("Default")],t.prototype,"association",void 0),t}($s),nl=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.points=[],o}return Ys(t,e),Ks([_t("Straight")],t.prototype,"type",void 0),Ks([_t(!0)],t.prototype,"allowDrag",void 0),t}(on),rl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.getClassName=function(){return"StraightSegment"},Ks([Ft({x:0,y:0},or)],t.prototype,"point",void 0),t}(nl),il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.getClassName=function(){return"BezierSegment"},Ks([Ft({x:0,y:0},or)],t.prototype,"point1",void 0),Ks([Ft({x:0,y:0},or)],t.prototype,"point2",void 0),Ks([Ft({angle:0,distance:0},Zs)],t.prototype,"vector1",void 0),Ks([Ft({angle:0,distance:0},Zs)],t.prototype,"vector2",void 0),t}(rl),ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.getClassName=function(){return"OrthogonalSegment"},Ks([_t(null)],t.prototype,"length",void 0),Ks([_t(null)],t.prototype,"direction",void 0),t}(nl),al=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.getClassName=function(){return"DiagramConnectorSegment"},Ks([_t("Straight")],t.prototype,"type",void 0),Ks([_t(!0)],t.prototype,"allowDrag",void 0),Ks([Ft({x:0,y:0},or)],t.prototype,"point",void 0),Ks([Ft({x:0,y:0},or)],t.prototype,"point1",void 0),Ks([Ft({x:0,y:0},or)],t.prototype,"point2",void 0),Ks([Ft({angle:0,distance:0},Zs)],t.prototype,"vector1",void 0),Ks([Ft({angle:0,distance:0},Zs)],t.prototype,"vector2",void 0),Ks([_t(null)],t.prototype,"length",void 0),Ks([_t(null)],t.prototype,"direction",void 0),t}(on);function sl(e,t,n){var r=e.center,i=n?45:180/(2+2/(e.height/e.width)),o=i,a=180-i,s=a+2*i,l=360-i,c=uo(t,r);return c>o&&c<a?"top":c>a&&c<s?"right":c>s&&c<l?"bottom":"left"}function ll(e){return!e.distance&&!e.angle}function cl(e,t,n){var r=60,i={x:0,y:0};switch(n||(n=Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"right":"left":e.y<t.y?"bottom":"top"),n){case"bottom":case"top":r=Math.min(.45*Math.abs(e.y-t.y),r),i={x:e.x,y:e.y+("bottom"===n?r:-r)};break;case"right":case"left":r=Math.min(.45*Math.abs(e.x-t.x),r),i={x:e.x+("right"===n?r:-r),y:e.y}}return i}function hl(e,t,n,r,i){var o=0,a=0,s=0,l=0,c=Number((i.distance(t,e)+i.distance(n,t)+i.distance(r,n))/3);if(0!==c)for(var h=0;h<=c;h++){var d=h/c,u=(1-d)*(1-d)*(1-d)*e.x+3*d*(1-d)*(1-d)*t.x+3*d*d*(1-d)*n.x+d*d*d*r.x,p=(1-d)*(1-d)*(1-d)*e.y+3*d*(1-d)*(1-d)*t.y+3*d*d*(1-d)*n.y+d*d*d*r.y;0===h?(o=s=u,a=l=p):(o=Math.min(u,o),a=Math.min(p,a),s=Math.max(u,s),l=Math.max(p,l))}return{x:o,y:a,width:s-o,height:l-a,left:o,top:a,right:o+(s-o),bottom:a+(l-a),center:{x:(o+(s-o))/2,y:(a+(l-a))/2}}}function dl(e,t,n,r,i,o,a){var s={x:0,y:0},l=o/a,c=(1-l)*(1-l)*(1-l)*t.x+3*l*(1-l)*(1-l)*n.x+3*l*l*(1-l)*r.x+l*l*l*i.x;s.x=c;var h=(1-l)*(1-l)*(1-l)*t.y+3*l*(1-l)*(1-l)*n.y+3*l*l*(1-l)*r.y+l*l*l*i.y;return s.y=h,s}var ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t(!0)],t.prototype,"optional",void 0),Ks([_t(void 0)],t.prototype,"lowerBounds",void 0),Ks([_t(void 0)],t.prototype,"upperBounds",void 0),t}(on),pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("OneToOne")],t.prototype,"type",void 0),Ks([Ft({},ul)],t.prototype,"target",void 0),Ks([Ft({},ul)],t.prototype,"source",void 0),t}(on),fl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("UmlClassifier")],t.prototype,"type",void 0),Ks([_t("Aggregation")],t.prototype,"relationship",void 0),Ks([_t("Directional")],t.prototype,"associationType",void 0),Ks([Ft({},pl)],t.prototype,"multiplicity",void 0),t}($s),gl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Ks([_t("None")],t.prototype,"type",void 0),Ks([_t("Directional")],t.prototype,"associationType",void 0),Ks([_t("Aggregation")],t.prototype,"relationship",void 0),Ks([Ft({},pl)],t.prototype,"multiplicity",void 0),Ks([_t("Sequence")],t.prototype,"bpmnFlow",void 0),Ks([_t("Default")],t.prototype,"message",void 0),Ks([_t("Normal")],t.prototype,"sequence",void 0),Ks([_t("Default")],t.prototype,"association",void 0),Ks([_t("Object")],t.prototype,"umlActivityFlow",void 0),Ks([_t(30)],t.prototype,"exceptionFlowHeight",void 0),t}(on),Al=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.parentId="",o.bridges=[],o.status="None",o.shape&&"UmlActivity"===o.shape.type&&uh(r,o),r&&r.shape&&"None"!==r.shape.type&&ph(r,o),o}return Ys(t,e),t.prototype.setPortID=function(e,t){if(this.targetID&&this.sourceID)for(var n=e.nameTable[this.targetID],r=e.nameTable[this.sourceID],i=t?n&&n.ports:r&&r.ports,o=void 0,a=0;i&&a<i.length;a++)o=i[a],this.targetPortID===o.id&&t?!(o.constraints&Gr.None)&&o.constraints&Gr.InConnect||(this.targetPortID=""):this.sourcePortID!==o.id||t||!(o.constraints&Gr.None)&&o.constraints&Gr.OutConnect||(this.sourcePortID="")},t.prototype.init=function(e){var t;this.id||(this.id=Uu()),this.sourcePortID&&this.setPortID(e),this.targetPortID&&this.setPortID(e,!0);var n=new mi,r=new wi;r.id=this.id+"_path";var i=new wi,o=new wi;r=this.getSegmentElement(this,r);var a=[];a=this.getConnectorPoints(this.type),a=this.clipDecorators(this,a);var s=Ar.toBounds(a);switch(n.width=s.width,n.height=s.height,n.offsetX=s.x+n.pivot.x*s.width,n.offsetY=s.y+n.pivot.y*s.height,this.shape.type){case"Bpmn":switch(v()?this.shape.bpmnFlow:this.shape.flow){case"Sequence":t=this.getBpmnSequenceFlow();break;case"Association":(t=new wi).visible=!1,this.getBpmnAssociationFlow();break;case"Message":t=this.getBpmnMessageFlow(),r=this.getSegmentElement(this,r),this.updateShapePosition(this,t)}break;case"UmlActivity":switch(v()?this.shape.umlActivityFlow:this.shape.flow){case"Object":this.getUMLObjectFlow();break;case"Exception":this.getUMLExceptionFlow(r)}break;case"UmlClassifier":this.getConnectorRelation()}var l=this.intermediatePoints;if("Bezier"===this.type){var c=this.segments[0],h=this.segments[this.segments.length-1];l=[or.isEmptyPoint(h.point2)?h.bezierPoint2:h.point2,or.isEmptyPoint(c.point1)?c.bezierPoint1:c.point1]}var d=e.getDescription;if(i=this.getDecoratorElement(a[0],l[1],this.sourceDecorator,!0,d),o=this.getDecoratorElement(a[a.length-1],l[l.length-2],this.targetDecorator,!1,d),i.id=this.id+"_srcDec",o.id=this.id+"_tarDec",r.style=this.style,r.style.fill="transparent",void 0!==d){var u=d(this,e);r.description=u||this.id}n.style.strokeColor="transparent",n.style.fill="transparent",n.style.strokeWidth=0,n.children=[r,i,o],n.id=this.id,void 0!==t&&n.children.push(t),n.offsetX=r.offsetX,n.offsetY=r.offsetY,n.width=r.width,n.height=r.height;for(var p=0;this.annotations,p<this.annotations.length;p++)n.children.push(this.getAnnotationElement(this.annotations[p],this.intermediatePoints,s,d,e.element.id,e.annotationTemplate));for(p=0;this.fixedUserHandles,p<this.fixedUserHandles.length;p++)n.children.push(this.getfixedUserHandle(this.fixedUserHandles[p],this.intermediatePoints,s));return this.wrapper=n,n},t.prototype.getConnectorRelation=function(){var e=this.shape;"Association"===e.relationship?(this.segments[0].type="Straight",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Inheritance"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Composition"===e.relationship||"Aggregation"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="Diamond",this.targetDecorator.shape="None"):"Dependency"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="OpenArrow"):"Realization"===e.relationship&&(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"),"BiDirectional"===e.associationType&&(this.sourceDecorator.shape="None",this.targetDecorator.shape="None");var t,n,r="",i="";e.multiplicity.source&&(e.multiplicity.source.lowerBounds=e.multiplicity.source.lowerBounds,e.multiplicity.source.upperBounds=e.multiplicity.source.upperBounds),e.multiplicity.target&&(e.multiplicity.target.lowerBounds=e.multiplicity.target.lowerBounds,e.multiplicity.target.upperBounds=e.multiplicity.target.upperBounds);var o=e.multiplicity.source,a=e.multiplicity.target;n=o.upperBounds?o.lowerBounds+"..."+o.upperBounds:o.lowerBounds,t=a.upperBounds?a.lowerBounds+"..."+a.upperBounds:a.lowerBounds,"ManyToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,r=n||"*",i="1"),"OneToMany"===e.multiplicity.type&&(e.multiplicity.source.optional=!1,i=t||"*",r="1"),"ManyToOne"===e.multiplicity.type&&(r=n||"*",i=t||"*"),"OneToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,e.multiplicity.source.optional=!1,r="1",i="1"),this.annotations=[{id:this.id+"sourcelabel",content:r,offset:0,alignment:"Before",margin:{right:5,bottom:5}},{id:this.id+"targetlabel",content:i,offset:1,alignment:"Before",margin:{right:5,bottom:5}}]},t.prototype.getBpmnSequenceFlow=function(){var e=new wi,t=new wi;if("Normal"===this.shape.sequence&&"Bezier"!==this.type&&(this.targetDecorator.shape="Arrow"),"Default"===this.shape.sequence){e=this.getSegmentElement(this,e);var n=this.intermediatePoints;t=sd(n,this),this.targetDecorator.shape="Arrow"}return"Conditional"===this.shape.sequence&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Diamond",t.id=this.id+this.shape.type),t},t.prototype.getUMLObjectFlow=function(){if(this.annotations)for(var e=0;e<this.annotations.length;e++)this.annotations[e].content="["+this.annotations[e].content+"]"},t.prototype.getUMLExceptionFlow=function(e){this.type="Straight";var t=this.shape.exceptionFlowHeight/2,n={x:(this.targetPoint.x+this.sourcePoint.x)/2,y:(this.targetPoint.y+this.sourcePoint.y)/2},r=n.x-this.sourcePoint.x,i=n.y-this.sourcePoint.y,o=t/Math.sqrt(r*r+i*i),a={x:n.x-r*o,y:n.y-i*o},s={x:n.x+r*o,y:n.y+i*o},l=yr();br(l,315,n.x,n.y),this.segments=[];var c=new rl(this,"segments",{type:"Straight",point:vr(l,s)},!0);this.segments.push(c),c=new rl(this,"segments",{type:"Straight",point:vr(l,a)},!0),this.segments.push(c),e=this.getSegmentElement(this,e)},t.prototype.getBpmnAssociationFlow=function(){"Default"===this.shape.association&&(this.targetDecorator.shape="Arrow"),"Directional"===this.shape.association&&(this.targetDecorator.shape="Arrow"),"BiDirectional"===this.shape.association&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Arrow")},t.prototype.getfixedUserHandle=function(e,t,n){var r=new mi;r.float=!0;e.id=e.id||Uu(),r.id=this.id+"_"+e.id,r.children=[],r.visible=e.visibility,r.width=e.width,r.height=e.height,r.style.strokeWidth=e.handleStrokeWidth,r.style.fill=e.fill,r.style.strokeColor=e.handleStrokeColor,r.cornerRadius=e.cornerRadius,this.updateAnnotation(e,t,n,r);var i=Sh(e,r);return r.children.push(i),r.description=r.id,r},t.prototype.getBpmnMessageFlow=function(){var e=new wi;return this.targetDecorator.shape="Arrow",this.targetDecorator.width=5,this.targetDecorator.height=10,this.sourceDecorator.shape="Circle","InitiatingMessage"!==this.shape.message&&"NonInitiatingMessage"!==this.shape.message||(e.id=this.id+"_"+this.shape.message,e.width=25,e.height=15,e.data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.horizontalAlignment="Center",e.verticalAlignment="Center",e.transform=Fr.Self,e.style.fill="NonInitiatingMessage"===this.shape.message?"lightgrey":"white"),e},t.prototype.distance=function(e,t){return dd(e,t)},t.prototype.findPath=function(e,t){return cd(e,t)},t.prototype.getAnnotationElement=function(e,t,n,r,i,o){var a,s;e.id=e.id||Uu(),v()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),i&&(e.template||"Template"===e.annotationType||o&&""===e.content)?a=Hu(a=new Us(this.id,i,e.id,o),e,o):((a=new gi).content=e.content,a.style.textOverflow="Wrap"),a.constraints=e.constraints,a.visible=e.visibility,a.rotateAngle=e.rotateAngle,a.horizontalAlignment=e.horizontalAlignment,a.verticalAlignment=e.verticalAlignment,a.width=e.width,a.height=e.height,void 0===n.width||e.template||(a.width=(e.width||n.width)-e.margin.left-e.margin.right),a.margin=e.margin,a.id=this.id+"_"+e.id,0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth),a.style=e.style;var l=ip(r);return l&&(s=l(e,this)),a.description=s||a.id,this.updateAnnotation(e,t,n,a),a},t.prototype.updateAnnotation=function(e,t,n,r,i){var o={x:0,y:0};r instanceof Us||di||i||r.refreshTextElement(),r.width=e.width||n.width;var a=Bh(t,e,n),s=a.point;e instanceof Di&&e.segmentAngle&&(r.rotateAngle=e.rotateAngle+a.angle,r.rotateAngle=(r.rotateAngle+360)%360),0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth);var l=(s.x-n.x)/n.width,c=(s.y-n.y)/n.height;o.x=n.width*l,o.y=n.height*c;var h,d,u=function(e,t,n){t%=360;var r,i,o=45,a=135,s=225,l=315;switch(e.alignment){case"Before":t>=o&&t<=a?(i="right",r=.5===e.offset?"center":"top"):t>=s&&t<=l?(i="left",r=.5===e.offset?"center":"bottom"):t>o&&t<s?(r="top",i=.5===e.offset?"center":"right"):(r="bottom",i=.5===e.offset?"center":"left");break;case"After":t>=o&&t<=a?(i="left",r=.5===e.offset?"center":"top"):t>=s&&t<=l?(i="right",r=.5===e.offset?"center":"bottom"):t>o&&t<s?(r="bottom",i=.5===e.offset?"center":"right"):(r="top",i=.5===e.offset?"center":"left");break;case"Center":i="center",r=p(e.verticalAlignment)?"center":e.verticalAlignment.toLowerCase()}if(0===e.offset||1===e.offset){switch(c=n[0],h=n[1],Math.abs(h.x-c.x)>Math.abs(h.y-c.y)?c.x<h.x?"right":"left":c.y<h.y?"bottom":"top"){case"left":i=0===e.offset?"right":"left";break;case"right":i=0===e.offset?"left":"right";break;case"bottom":r=0===e.offset?"top":"bottom";break;case"top":r=0===e.offset?"bottom":"top"}}var c,h;return{hAlign:i,vAlign:r}}(e,a.angle,t),f=u.hAlign,g=u.vAlign;"left"===f?(h="Left",o.x+=e.displacement.x):"right"===f?(h="Right",o.x-=e.displacement.x):"center"===f&&(h="Center"),"top"===g?(d="Top",o.y+=e.displacement.y):"bottom"===g?(d="Bottom",o.y-=e.displacement.y):"center"===g&&(d="Center"),r.horizontalAlignment=h,r.verticalAlignment=d,r.setOffsetWithRespectToBounds(o.x,o.y,"Absolute"),r.relativeMode="Point"},t.prototype.getConnectorPoints=function(e,t,n,r){var i=Vi(this,n,r).slice(0);return i&&i.length>0&&(this.sourcePoint=i[0],this.targetPoint=i[i.length-1]),i},t.prototype.clipDecorator=function(e,t,n,r){var i,o,a={x:0,y:0},s=t.length;i=n?t[0]:t[s-1],o=n?t[1]:t[s-2];var l=or.distancePoints(i,o);l=0===l?1:l;var c=1,h=n?e.sourceWrapper:e.targetWrapper;h&&(c=h.style.strokeWidth,r&&r&Qr.DecoratorPropertyChange&&(c=1));var d=c-1;return a.x=Math.round(i.x+d*(o.x-i.x)/l),a.y=Math.round(i.y+d*(o.y-i.y)/l),(n&&"None"!==e.sourceDecorator.shape||!n&&"None"!==e.targetDecorator.shape)&&(a=or.adjustPoint(a,o,!0,r&Qr.DecoratorPropertyChange?0:c/2)),a},t.prototype.clipDecorators=function(e,t,n){return"None"!==e.sourceDecorator.shape&&(t[0]=this.clipDecorator(e,t,!0,n)),"None"!==e.targetDecorator.shape&&(t[t.length-1]=this.clipDecorator(e,t,!1,n)),t},t.prototype.updateSegmentElement=function(e,t,n,r){var i=new Ar,o=this.getSegmentPath(e,t,r);if("Bezier"===e.type){if(this.segments.length>0)for(var a=0;a<this.segments.length;a++){var s=this.segments[a],l=e.segments[a],c=or.isEmptyPoint(s.point1)?l.bezierPoint1:l.point1,h=or.isEmptyPoint(s.point2)?l.bezierPoint2:l.point2;i.uniteRect(hl(s.points[0],c,h,s.points[1],e))}}else i=Ar.toBounds(t);return n.width=i.width,n.height=i.height,n.offsetX=i.x+n.width/2,n.offsetY=i.y+n.height/2,n.data=o,e.wrapper&&(e.wrapper.offsetX=n.offsetX,e.wrapper.offsetY=n.offsetY,e.wrapper.width=i.width,e.wrapper.height=i.height),n},t.prototype.getSegmentElement=function(e,t,n,r){var i;return rd(e),i=this.getConnectorPoints(e.type,void 0,n),this.intermediatePoints=i,t.staticSize=!0,t=this.updateSegmentElement(e,i,t,r)},t.prototype.getDecoratorElement=function(e,t,n,r,i){var o=new wi;if(o.transform=Fr.Self,this.updateDecoratorElement(o,e,t,n),void 0!==i){var a=i(n,this);o.description=a||"source"}return o},t.prototype.bridgePath=function(e,t,n){var r=t;if(e.bridges.length>0)if("Straight"===e.type&&e.segments.length<2)for(var i=0;i<e.bridges.length;i++){(o=e.bridges[i]).rendered||(r+=" L"+o.startPoint.x+" "+o.startPoint.y,r+=o.path,o.rendered=!0)}else if("Orthogonal"===e.type||"Straight"===e.type&&e.segments.length>1)for(i=0;i<e.bridges.length;i++){var o;(o=e.bridges[i]).segmentPointIndex===n&&(o.rendered||o.segmentPointIndex===n&&(r+=" L"+o.startPoint.x+" "+o.startPoint.y,r+=o.path,o.rendered=!0))}return r},t.prototype.updateDecoratorElement=function(e,t,n,r){e.offsetX=t.x,e.offsetY=t.y;var i=or.findAngle(t,n),o=function(e,t){return"Custom"===e?t.pathData:_i[e]}(r.shape,r),a=new nr(r.width,r.height);e.pivot.x=r.pivot.x,e.pivot.y=r.pivot.y,e.style=r.style,e.rotateAngle=i,e.data=o,e.canMeasurePath=!0,e.width=a.width,e.height=a.height},t.prototype.getSegmentPath=function(e,t,n){for(var r,i,o,a="",s=[],l=0;l<t.length;)s.push({x:t[l].x,y:t[l].y}),l++;for(var c=0;c<e.bridges.length;c++){e.bridges[c].rendered=!1}if(s=this.clipDecorators(e,s,n),this.cornerRadius>0&&"Bezier"!==this.type)for(var h=0;h<s.length-1;h++){r=s[h],0===h&&(a="M"+r.x+" "+r.y);var d=or.distancePoints(s[h],s[h+1]);d>0&&(i=h<s.length-2?d<2*this.cornerRadius?or.adjustPoint(s[h],s[h+1],!1,d/2):or.adjustPoint(s[h],s[h+1],!1,this.cornerRadius):s[h+1],h>0&&(d<2*this.cornerRadius?(o=or.adjustPoint(s[h],s[h+1],!0,d/2),h<s.length-2&&(i=null)):o=or.adjustPoint(s[h],s[h+1],!0,this.cornerRadius)),o&&(a+="Q"+r.x+" "+r.y+" "+o.x+" "+o.y),i&&(e.bridges.length>0&&(a=this.bridgePath(e,a,h),"Orthogonal"===e.type&&(a=this.bridgePath(e,a,h+1))),a+=" L"+i.x+" "+i.y))}else if("Bezier"===this.type){for(var u=void 0,p=this.segments,f=0;f<p.length;f++)s.length>2&&(p[f].bezierPoint1={x:0,y:0},p[f].bezierPoint2={x:0,y:0}),!or.isEmptyPoint(p[f].point1)||p[f].vector1.angle||p[f].vector1.distance?p[f].vector1.angle||p[f].vector1.distance?p[f].bezierPoint1=or.transform(s[f],p[f].vector1.angle,p[f].vector1.distance):p[f].bezierPoint1={x:p[f].point1.x||p[f].bezierPoint1.x,y:p[f].point1.y||p[f].bezierPoint1.y}:((e.sourceID||this.sourcePortID)&&this.sourceWrapper&&(u=sl(this.sourceWrapper.bounds,s[f],!0)),p[f].bezierPoint1=cl(s[f],s[f+1],u)),!or.isEmptyPoint(p[f].point2)||p[f].vector2.angle||p[f].vector2.distance?p[f].vector2.angle||p[f].vector2.distance?p[f].bezierPoint2=or.transform(s[f+1],p[f].vector2.angle,p[f].vector2.distance):p[f].bezierPoint2={x:p[f].point2.x||p[f].bezierPoint2.x,y:p[f].point2.y||p[f].bezierPoint2.y}:((e.targetID||this.targetPortID)&&this.targetWrapper&&(u=sl(this.targetWrapper.bounds,s[f+1],!0)),p[f].bezierPoint2=cl(s[f+1],s[f],u));s.splice(1,0,{x:p[0].bezierPoint1.x,y:p[0].bezierPoint1.y}),s.splice(s.length-1,0,{x:p[p.length-1].bezierPoint2.x,y:p[p.length-1].bezierPoint2.y}),s=this.clipDecorators(e,s,n);for(var g=0;g<p.length;g++){0===g&&(a="M"+s[0].x+" "+s[0].y);var A=g===p.length-1?s[s.length-1].x+" "+s[s.length-1].y:p[g].points[p[g].points.length-1].x+" "+p[g].points[p[g].points.length-1].y;a+="C"+p[g].bezierPoint1.x+" "+p[g].bezierPoint1.y+" "+p[g].bezierPoint2.x+" "+p[g].bezierPoint2.y+" "+A}}else for(var m=0;m<s.length;m++)r=s[m],0===m&&(a="M"+r.x+" "+r.y),m>0&&(a=this.bridgePath(e,a,m),a+=" L"+r.x+" "+r.y);return a},t.prototype.updateShapeElement=function(e){var t;switch(e.shape.type){case"Bpmn":e.wrapper.children[3]instanceof wi&&(t=e.wrapper.children[3]),("Message"===e.shape.flow||v()&&"Message"===e.shape.bpmnFlow)&&this.updateShapePosition(e,t);break;case"UmlActivity":("Exception"===e.shape.flow||v()&&"Exception"===e.shape.umlActivityFlow)&&this.getUMLExceptionFlow(e.wrapper.children[0])}},t.prototype.updateShapePosition=function(e,t){for(var n,r,i=0,o=this.intermediatePoints,a=0;a<o.length-1;a++){var s=.5*(i+=this.distance(o[a],o[a+1]));i>=s&&(n=uo(o[a],o[a+1]),r=or.transform(o[a],n,s))}t.offsetX=r.x,t.offsetY=r.y},t.prototype.scale=function(e,t,n,r,i){var o=0,a=0;if(this.wrapper&&this.wrapper.outerBounds){var s=Eo(this),l=(this.wrapper.bounds.width||this.style.strokeWidth||1)-2,c=(this.wrapper.bounds.height||this.style.strokeWidth||1)-2;o=s.width-l,a=s.height-c,e=(n-Math.max(o,a))/l,t=(r-Math.max(o,a))/c,o=a=Math.min(o,a)}e=t=Math.min(e,t);var h=yr();br(h,-(i=i||this.wrapper).rotateAngle,i.offsetX,i.offsetY),wr(h,e,t,i.offsetX,i.offsetY),br(h,i.rotateAngle,i.offsetX,i.offsetY);var d=function(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];n.push(vr(e,o))}return n}(h,this.intermediatePoints);return this.sourcePoint=d[0],this.targetPoint=d[d.length-1],Hh(this,d=this.intermediatePoints=Vi(this)),{x:o,y:a}},t.prototype.getClassName=function(){return"Connector"},Ks([Ht(Gs)],t.prototype,"shape",void 0),Ks([_t(kr.Default)],t.prototype,"constraints",void 0),Ks([_t(10)],t.prototype,"bridgeSpace",void 0),Ks([Ut([],Di)],t.prototype,"annotations",void 0),Ks([Ft({},or)],t.prototype,"sourcePoint",void 0),Ks([Ft({},or)],t.prototype,"targetPoint",void 0),Ks([Ut([],Xs)],t.prototype,"fixedUserHandles",void 0),Ks([zt(qs)],t.prototype,"segments",void 0),Ks([_t("")],t.prototype,"sourceID",void 0),Ks([_t("")],t.prototype,"targetID",void 0),Ks([_t(10)],t.prototype,"hitPadding",void 0),Ks([_t(0)],t.prototype,"connectionPadding",void 0),Ks([_t("Straight")],t.prototype,"type",void 0),Ks([_t(0)],t.prototype,"cornerRadius",void 0),Ks([Ft({shape:"None"},Js)],t.prototype,"sourceDecorator",void 0),Ks([Ft({shape:"Arrow"},Js)],t.prototype,"targetDecorator",void 0),Ks([Ft({},Os)],t.prototype,"tooltip",void 0),Ks([_t("")],t.prototype,"sourcePortID",void 0),Ks([_t("")],t.prototype,"targetPortID",void 0),Ks([_t(0)],t.prototype,"sourcePadding",void 0),Ks([Ft({},Ds)],t.prototype,"previewSize",void 0),Ks([Ft({},Ds)],t.prototype,"dragSize",void 0),Ks([_t(0)],t.prototype,"targetPadding",void 0),Ks([Ft({strokeWidth:1,strokeColor:"black"},li)],t.prototype,"style",void 0),Ks([_t(null)],t.prototype,"wrapper",void 0),t}(Fs),ml=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vl=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.offset=0,r.scale=1,r}return ml(t,e),t.prototype.preRender=function(){this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.updateRulerGeometry(),this.renderComplete()},t.prototype.getModuleName=function(){return"Ruler"},t.prototype.destroy=function(){this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),this.element.classList.remove("e-ruler")},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"length":case"interval":case"segmentWidth":case"tickAlignment":case"markerColor":case"thickness":this.updateRuler()}}},t.prototype.updateRulerGeometry=function(){this.element.style.textAlign="left",this.renderRulerSpace(),this.updateRuler()},t.prototype.renderRulerSpace=function(){var e=this.getRulerGeometry(),t=document.getElementById(this.element.id+"_ruler_space");return t||(t=Ou("div",{id:this.element.id+"_ruler_space",style:"height:"+e.height+"px;width:"+e.width+"px;cssFloat:left;"}),this.element.appendChild(t)),t},t.prototype.updateRuler=function(){var e=this.getRulerSize(),t=this.getRulerGeometry(),n=0,r=0,i=new nr,o=this.getRulerSVG(t);if(o&&(n=this.length,i.height=e,r=this.offset,n&&n!==1/0)){var a=n+this.segmentWidth,s=r;this.updateSegments(s,a+Math.abs(s),o,e)}},t.prototype.updateSegments=function(e,t,n,r){for(var i=e,o={trans:0};i<t;){var a=this.getNewSegment(i,n);a&&(n.appendChild(a.segment),i=this.updateSegment(e,t,a,i,o,r))}},t.prototype.updateSegment=function(e,t,n,r,i,o){var a=this.updateSegmentWidth(this.scale);r===e?(this.startValue=Math.floor(e/a)*a/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString(),this.defStartValue=r=this.startValue*this.scale,"Horizontal"===this.orientation?this.hRulerOffset=e-r:this.vRulerOffset=e-r):(this.startValue=r/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString()),this.updateTickLabel(n,o);var s="Horizontal"===this.orientation?i.trans+.5+",0.5":"0.5,"+(i.trans+.5);return n.segment.setAttribute("transform","translate("+s+")"),i.trans+=a,r+=a},t.prototype.updateTickLabel=function(e,t){var n=e.segment.lastChild.getBBox(),r="Horizontal"===this.orientation,i="RightOrBottom"===this.tickAlignment,o=r?2:0,a=r?i?t/2+5.5-5.5:t/2+5.5:n.height,s=i?-(n.width+2)+","+(t/2-n.height):-(n.width+2)+","+(t/2-n.height/2),l=r?{x:o,y:a}:{x:o,y:a,transform:"rotate(270)translate("+s+")"};Du(e.segment.lastChild,l)},t.prototype.getNewSegment=function(e,t){var n=this.createNewTicks(e,t);return{segment:n,label:this.createTickLabel(t,n)}},t.prototype.createNewTicks=function(e,t){for(var n,r,i=this.updateSegmentWidth(this.scale),o=Tu("g",{class:"e-ruler-segment"}),a=0;a<this.interval;a++)r=i/this.interval,n=this.createTick(t,r,a+1,e),o.appendChild(n);return o},t.prototype.getLinePoint=function(e,t,n){var r=this.updateSegmentWidth(this.scale),i=this.getRulerSize();return n=(t*=n-1)%r===0?i:.3*i},t.prototype.createTick=function(e,t,n,r){var i=this.getLinePoint(e,t,n),o=this.getRulerSize(),a="Horizontal"===this.orientation,s="RightOrBottom"===this.tickAlignment,l=ip(this.arrangeTick),c={ruler:undefined,tickLength:i,tickInterval:this.segmentWidth/this.interval*(n-1)};l&&l(c),i=c.tickLength;var h=t*(n-1),d=Tu("line",{x1:a?h:s?o:0,y1:a?s?o:o-(o-i):h,x2:a?h:s?o-i:o-(o-i),y2:a?s?o-i:0:h,"stroke-width":"1",stroke:"black"});return d.setAttribute("class","e-ruler-tick"),d},t.prototype.createTickLabel=function(e,t){var n;if(t){n=Tu("text",{class:"e-ruler-tick-label"}),t.appendChild(n)}return n},t.prototype.updateSegmentWidth=function(e){if(100!==this.segmentWidth)return this.segmentWidth;var t,n=1;for(t=100,t=100/Math.pow(2,Math.round(Math.log(e)/Math.log(2)));t>100;)n/=10,t/=10;for(;t<25;)n*=10,t*=10;return t>=25&&t%25!==0&&(t=25*Math.round(t/25)),t*e/n},t.prototype.createMarkerLine=function(e,t,n){var r;return t&&((r=e.getElementById(t.id+"_marker"))&&r.parentNode.removeChild(r),r=Tu("line",n)),r},t.prototype.drawRulerMarker=function(e,t,n){var r,i,o,a,s,l,c,h="Horizontal"===this.orientation,d=e.getElementsByTagName("svg");for(s=0;s<d.length;s++){d[s]&&(r=d[s]);break}if(r){i=this.getRulerSize(),l={id:e.id+"_marker",x1:0,y1:0,x2:h?0:i,y2:h?i:0,stroke:this.markerColor,"stroke-width":1.5,class:"e-d-ruler-marker"},c=this.createMarkerLine(r,e,l),o=this.scale,a=this.offset-this.defStartValue;var u=(h?t.x:t.y)*o+n+a;c.setAttribute("transform","translate("+(h?u+.5+" 0.5":"0.5 "+(u+.5))+")"),r.appendChild(c)}},t.prototype.getRulerGeometry=function(){return new nr(this.element?this.element.getBoundingClientRect().width:0,this.element?this.element.getBoundingClientRect().height:0)},t.prototype.getRulerSize=function(){return this.thickness},t.prototype.getRulerSVG=function(e){var t,n,r=this.getRulerSize();if(this.element&&(t=document.getElementById(this.element.id+"_ruler_space"))){if(n=Tu("svg",{id:this.element.id+"_Ruler_svg",width:"Horizontal"===this.orientation?e.width+200:r+"px",height:"Horizontal"===this.orientation?r:e.height+200+"px",style:"position:inherit;"}),t.childNodes.length>0)for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].parentNode.removeChild(t.childNodes[i]);t.appendChild(n)}return n},t.prototype.wireEvents=function(){},t.prototype.unWireEvents=function(){},yl([_t(5)],t.prototype,"interval",void 0),yl([_t(100)],t.prototype,"segmentWidth",void 0),yl([_t("Horizontal")],t.prototype,"orientation",void 0),yl([_t("RightOrBottom")],t.prototype,"tickAlignment",void 0),yl([_t("red")],t.prototype,"markerColor",void 0),yl([_t(25)],t.prototype,"thickness",void 0),yl([_t(null)],t.prototype,"arrangeTick",void 0),yl([_t(400)],t.prototype,"length",void 0),t}(dn);function bl(e,t){var n=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler")),r=Cl(e),i=Sl(e),o=t?"margin-left:"+r.width+"px;":"margin-top:"+r.height+"px;";if(!n){var a="height:"+(t?r.height:i.height+100)+"px;overflow:hidden;width:"+(t?i.width+100:r.width)+"px;position:absolute;font-size:11px;"+o;n=Ou("div",{id:e.element.id+(t?"_hRuler":"_vRuler"),style:a})}e.element.insertBefore(n,e.element.firstChild);var s=t?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler,l=new vl(s);l.orientation=t?"Horizontal":"Vertical",l.length=(t?i.width:i.height)+s.segmentWidth,l.appendTo("#"+e.element.id+(t?"_hRuler":"_vRuler")),t?e.hRuler=l:e.vRuler=l;var c=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler"));t?e.hRuler.element=c:e.vRuler.element=c}function wl(e){var t=-e.scroller.horizontalOffset,n=-e.scroller.verticalOffset;e&&e.rulerSettings.showRulers?(e.hRuler.length=0,e.vRuler.length=0,void 0!==t&&e.hRuler.element&&Bl(e,e.hRuler,t,!0),void 0!==n&&e.vRuler.element&&Bl(e,e.vRuler,n,!1)):xl(e)}function xl(e){Nu(e.element.id+"_hRuler"),Nu(e.element.id+"_vRuler"),Nu(e.element.id+"_overlapRuler")}function Cl(e){var t=0,n=0;return e.rulerSettings.showRulers&&(t=e.rulerSettings.horizontalRuler.thickness,n=e.rulerSettings.verticalRuler.thickness),new nr(n,t)}function Sl(e){var t=Cl(e),n=e.scroller.viewPortHeight,r=e.scroller.viewPortWidth;return r<e.element.clientWidth-t.width&&(r=e.element.clientWidth-t.width),n<e.element.clientHeight-t.height&&(n=e.element.clientHeight-t.height),e.hRuler&&e.hRuler.length&&(r=e.hRuler.length),e.vRuler&&e.vRuler.length&&(n=e.vRuler.length),new nr(r,n)}function Bl(e,t,n,r){var i=Cl(e),o=Sl(e),a=r?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler;!function(e,t,n){var r=document.getElementById(e.element.id+(n?"_hRuler":"_vRuler")),i=n?e.hRuler:e.vRuler;r&&e&&t&&(r.style.width=(n?t.width+i.segmentWidth:i.thickness)+"px",r.style.height=(n?i.thickness:t.height+i.segmentWidth)+"px",(r=document.getElementById(e.element.id+"_overlapRuler"))&&(n?r.style.height=i.thickness+"px":r.style.width=i.thickness+"px"))}(e,o,r),function(e,t,n){var r=document.getElementById(e.element.id+(n?"_hRuler_ruler_space":"_vRuler_ruler_space")),i=n?e.hRuler:e.vRuler;r&&e&&t&&(r.style.width=(n?t.width+2*i.segmentWidth:i.thickness)+"px",r.style.height=(n?i.thickness:t.height+2*i.segmentWidth)+"px")}(e,o,r),t.offset=n,t.scale=e.scroller.currentZoom,t.length=(r?o.width:o.height)+100,t.arrangeTick=ip(a.arrangeTick),t.dataBind();var s=r?e.hRuler.element:e.vRuler.element;r?s.style.marginLeft=i.width-t.hRulerOffset+"px":s.style.marginTop=i.height-t.vRulerOffset+"px"}function Pl(e){if(e){return e instanceof Mi||e instanceof Di?e.constraints&Nr.Select:e instanceof Al?e.constraints&kr.Select:e.constraints&Mr.Select}return 1}function El(e){if(e){return e instanceof Mi||e instanceof Di?e.constraints&Nr.Drag:e instanceof Al?e.constraints&kr.Drag:e instanceof hu?1:e.constraints&Mr.Drag}return 1}function Ol(e){return e instanceof Al?e.constraints&kr.Delete:e.constraints&Mr.Delete}function Tl(e){return e.constraints&kr.DragSourceEnd}function Il(e){return e.constraints&kr.DragTargetEnd}function Ll(e){return e.constraints&kr.DragSegmentThumb}function kl(e){return e instanceof Mi||e instanceof Di?e.constraints&Nr.Rotate:e.constraints&Mr.Rotate}function Nl(e){return e.constraints&Mr.Shadow}function Ml(e){return e instanceof iu&&e.constraints&Mr.InConnect?e.constraints&Mr.InConnect:0}function Dl(e){return e&&e.constraints&&!(e.constraints&Gr.None)&&e.constraints&Gr.InConnect?e.constraints&Gr.InConnect:0}function Rl(e){return e instanceof iu&&e.constraints&Mr.OutConnect?e.constraints&Mr.OutConnect:0}function jl(e){return e&&e.constraints&&!(e.constraints&Gr.None)&&e.constraints&Gr.OutConnect?e.constraints&Gr.OutConnect:0}function _l(e,t){var n=0;return e instanceof Mi||e instanceof Di?n=e.constraints&Nr.Resize:e&&("SouthEast"===t?n=e.constraints&Mr.ResizeSouthEast:"East"===t?n=e.constraints&Mr.ResizeEast:"NorthEast"===t?n=e.constraints&Mr.ResizeNorthEast:"South"===t?n=e.constraints&Mr.ResizeSouth:"North"===t?n=e.constraints&Mr.ResizeNorth:"SouthWest"===t?n=e.constraints&Mr.ResizeSouthWest:"West"===t?n=e.constraints&Mr.ResizeWest:"NorthWest"===t&&(n=e.constraints&Mr.ResizeNorthWest)),n}function Fl(e){return e instanceof Al?e.constraints&kr.AllowDrop:e.constraints&Mr.AllowDrop}function Hl(e){return e.constraints&jr.Virtualization}function Ul(e){return e.tool&_r.SingleSelect}function zl(e){return e.tool&_r.MultipleSelect}function Ql(e){return e.tool&_r.ZoomPan}function Wl(e){return e.tool&_r.ContinuousDraw}function Vl(e){return e.tool&_r.DrawOnce}function Xl(e){return e.tool&_r.SingleSelect||e.tool&_r.MultipleSelect}function Yl(e){return e.constraints&jr.UserInteraction}function Kl(e){return e.constraints&jr.ZoomTextEdit}function Gl(e){return function(e){return e.constraints&jr.ApiUpdate}(e)||e.diagramActions&Qr.ToolAction}function ql(e,t){return e.constraints&Gr.Draw}function Jl(e,t){return e.constraints&Gr.Drag}function Zl(e){return!(e&Wr.DrawSelectorBorder)}function $l(e){return!!(e&Wr.PreventRenderSelector)}var ec=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ec(t,e),t.prototype.getClassName=function(){return"UserHandle"},tc([_t("")],t.prototype,"name",void 0),tc([_t("")],t.prototype,"pathData",void 0),tc([_t("")],t.prototype,"content",void 0),tc([_t("")],t.prototype,"source",void 0),tc([_t("#000000")],t.prototype,"backgroundColor",void 0),tc([_t("Top")],t.prototype,"side",void 0),tc([_t("")],t.prototype,"borderColor",void 0),tc([_t(.5)],t.prototype,"borderWidth",void 0),tc([_t(25)],t.prototype,"size",void 0),tc([_t("white")],t.prototype,"pathColor",void 0),tc([_t(10)],t.prototype,"displacement",void 0),tc([_t(!0)],t.prototype,"visible",void 0),tc([_t(0)],t.prototype,"offset",void 0),tc([Ft({},ei)],t.prototype,"margin",void 0),tc([_t("Center")],t.prototype,"horizontalAlignment",void 0),tc([_t("Center")],t.prototype,"verticalAlignment",void 0),tc([_t(!1)],t.prototype,"disableNodes",void 0),tc([_t(!1)],t.prototype,"disableConnectors",void 0),tc([_t("")],t.prototype,"template",void 0),t}(on);function rc(e){return ic[e.toString()]}var ic={Action:"M 90 82.895 C 90 86.819 86.776 90 82.8 90 H 7.2 C 3.224 90 0 86.819 0 82.895 V 7.105 C 0 3.181 3.224 0 7.2 0 h 75.6 C 86.776 0 90 3.181 90 7.105 V 82.895 Z",Decision:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",MergeNode:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",InitialNode:"M10,19.5c-5.238,0-9.5-4.262-9.5-9.5S4.762,0.5,10,0.5s9.5,4.262,9.5,9.5S15.238,19.5,10,19.5z",ForkNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",JoinNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",TimeEvent:"M50.001,0.00286865 L25.001,25.0029 L0.000976562,0.00286865 L50.001,0.00286865 z M0.000976562,50.0029 L25.001,25.0029 L50.001,50.0029 L0.000976562,50.0029 z",AcceptingEvent:"M17.8336 32.164 L29.64 24 L17.32 16 L48.1664 16 L48.5 32 Z",SendSignal:"M48.164 31.8336 L56 23.832 L47.836 16 L16.168 16 L16.1668 31.8336 Z",ReceiveSignal:"M48.1664 31.8336 L39.836 24 L47.836 16 L16.168 16 L16.168 31.836 Z",StructuredNode:"M0,0 L50,0 L50,50 L0,50 z",Note:"M20 12 L4 12 L4 22 L22 22 L22 14 L20 14 L20 12 L22 14 Z"},oc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ac=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oc(t,e),ac([_t()],t.prototype,"key",void 0),ac([_t()],t.prototype,"keyModifiers",void 0),t}(on),lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oc(t,e),t.prototype.getClassName=function(){return"Command"},ac([_t("")],t.prototype,"name",void 0),ac([_t()],t.prototype,"canExecute",void 0),ac([_t()],t.prototype,"execute",void 0),ac([Ft({},sc)],t.prototype,"gesture",void 0),ac([_t("")],t.prototype,"parameter",void 0),t}(on),cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oc(t,e),ac([Ut([],lc)],t.prototype,"commands",void 0),t}(on),hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oc(t,e),ac([_t()],t.prototype,"show",void 0),ac([_t()],t.prototype,"showCustomMenuOnly",void 0),ac([_t()],t.prototype,"items",void 0),t}(on),dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childTable=[],t.cellStyle={},t.desiredRowHeight=[],t.desiredCellWidth=[],t}return dc(t,e),t.prototype.rowDefinitions=function(){return this.rowDefns},t.prototype.columnDefinitions=function(){return this.colDefns},t.prototype.addObject=function(e,t,n,r,i){if(this.rows.length>=t){var o=this.rows[t];if(o.cells.length>n){i=i||1,r=r||1;var a=o.cells[n];a.columnSpan=Math.max(i,a.columnSpan),a.rowSpan=Math.max(r,a.rowSpan);var s=new mc;(s=e).rowId=t,s.columnId=n,s.columnSpan=i,this.childTable[s.id]=s,this.addObjectToCell(s,a)}}},t.prototype.addObjectToCell=function(e,t){t.children||(t.children=[]),e.style.strokeColor="black",e.style.strokeWidth=1,e.style.fill="white",t.children.push(e)},t.prototype.updateProperties=function(e,t,n,r){this.offsetX=e,this.offsetY=t,this.width=n,this.height=r},t.prototype.setDefinitions=function(e,t){this.rowDefns=e,this.colDefns=t,this.children=[],this.rows=this.rows||[];for(var n=0;n<e.length;n++){var r=e[n],i=new gc;i.cells=[];var o=new fc;o.width=this.width;var a=this.colDefns;(void 0===a||a.length<1)&&(a=[o]),this.addCellInRow(a,r,i),this.rows.push(i)}},t.prototype.addCellInRow=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=new Ac;o.children=[],this.cellStyle.fill="none",this.cellStyle.strokeColor="none",o.id=Uu(),o.style=this.cellStyle,o.desiredCellWidth=o.minWidth=i.width,o.desiredCellHeight=o.minHeight=t.height,n.cells.push(o),this.children.push(o)}},t.prototype.calculateSize=function(){for(var e=this.rows||[],t=0,n=0,r=0;r<e.length;r++){var i=this.rows[r];n=0;for(var o=0;o<i.cells.length;o++)if(n+=i.cells[o].desiredCellWidth,o===i.cells.length-1&&(this.width&&this.width!==n&&(i.cells[o].desiredCellWidth+=this.width-n,i.cells[o].minWidth=i.cells[o].desiredCellWidth,i.cells[o].children&&i.cells[o].children.length&&(i.cells[o].children[0].width=i.cells[o].desiredCellWidth),this.colDefns[o].width=i.cells[o].desiredCellWidth),t+=i.cells[o].desiredCellHeight,r===e.length-1&&this.height&&this.height!==t)){var a=this.height-t;if(a>0){for(var s=0;s<i.cells.length;s++)i.cells[s].desiredCellHeight+=a,i.cells[s].minHeight=i.cells[s].desiredCellHeight=i.cells[s].desiredCellHeight,i.cells[s].children&&i.cells[s].children.length&&(i.cells[s].children[0].height=i.cells[s].desiredCellHeight);this.rowDefns[r].height+=a}}}},t.prototype.updateRowHeight=function(e,t,n,r){var i=this.rows[e];this.rowDefns[e].height=t,void 0!==this.height&&(this.height+=t-i.cells[0].desiredCellHeight);for(var o=0;o<i.cells.length;o++)i.cells[o].desiredCellHeight=i.cells[o].minHeight=t,i.cells[o].children&&i.cells[o].children.length&&(i.cells[o].children[0].height=t,this.setTextRefresh(i.cells[o].children[0]));if(this.desiredRowHeight[e]=t,this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize),n){var a=void 0!==r?this.calculateCellHeightBasedOnChildren(e,r):this.calculateCellHeight(e);a>t&&this.updateRowHeight(e,a,!1)}},t.prototype.setTextRefresh=function(e){if(e.children&&e.children.length)for(var t=e.children,n=0;n<t.length;n++)t[n]instanceof gi&&t[n].refreshTextElement(),t[n]instanceof mi&&this.setTextRefresh(t[n])},t.prototype.updateColumnWidth=function(e,t,n,r){this.colDefns[e].width=t,void 0!==this.width&&(this.width+=t-this.rows[this.rows.length-1].cells[e].desiredCellWidth);for(var i=0;i<this.rows.length;i++)this.setTextRefresh(this.rows[i].cells[0]),this.rows[i].cells[e].desiredCellWidth=this.rows[i].cells[e].minWidth=t,this.rows[i].cells[e].children&&this.rows[i].cells[e].children.length&&(this.rows[i].cells[e].children[0].width=t);if(this.desiredCellWidth[e]=t,this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize),n){var o=void 0!==r?this.calculateCellWidthBasedOnChildren(e,r):this.calculateCellWidth(e);o>t&&this.updateColumnWidth(e,o,!1)}},t.prototype.calculateCellWidth=function(e){for(var t,n,r,i=0;i<this.rows.length;i++)1===(r=this.rows[i].cells[e]).columnSpan&&(n=r.outerBounds.width>r.bounds.width&&(0===r.children.length||void 0===r.children[0].maxWidth)?r.outerBounds.width:r.bounds.width,t=t?t<n?n:t:n);return t},t.prototype.calculateCellHeight=function(e){for(var t,n,r,i=this.rows[e],o=0;o<i.cells.length;o++)n=(r=i.cells[o]).outerBounds.height>r.bounds.height?r.outerBounds.height:r.bounds.height,t=t?t<n?n:t:n;return t},t.prototype.calculateCellSizeBasedOnChildren=function(e,t,n,r){var i,o=e&&e.children.length>0?e.children[0]:void 0;if(o&&1===e.columnSpan){i="Width"===t?o.bounds.right:o.bounds.bottom,r||(r="Width"===t?o.bounds.width:o.bounds.height);for(var a=0;a<o.children.length;a++){var s=o.children[a];if(s instanceof mi&&-1===s.id.indexOf("header")){var l=("Width"===t?s.bounds.right:s.bounds.bottom)+n;if(l>i){var c=l-i+("Width"===t?o.bounds.width:o.bounds.height);r&&(r=r<c?c:r)}}}}return r},t.prototype.calculateCellWidthBasedOnChildren=function(e,t){for(var n,r,i=0;i<this.rows.length;i++)r=this.rows[i].cells[e],n=this.calculateCellSizeBasedOnChildren(r,"Width",t,n);return n},t.prototype.calculateCellHeightBasedOnChildren=function(e,t){for(var n,r,i=this.rows[e],o=0;o<i.cells.length;o++)r=i.cells[o],n=this.calculateCellSizeBasedOnChildren(r,"Height",t,n);return n},t.prototype.addRow=function(e,t,n){this.rowDefns.length>0?this.rowDefns.splice(e,0,t):this.rowDefns.push(t);var r=new gc;r.cells=[],(new fc).width=this.width;var i=this.colDefns;this.addCellInRow(i,t,r),e>this.rows.length-1?this.rows.push(r):this.rows.splice(e,0,r),n&&(this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.addColumn=function(e,t,n){var r,i,o,a,s=this.rows;this.colDefns.length>0?this.colDefns.splice(e,0,t):this.colDefns.push(t),void 0!==this.width&&(this.width+=t.width);for(var l=0;l<s.length;l++)r=s[l],i=this.rowDefns[l],o=t,(a=new Ac).style=this.cellStyle,a.desiredCellWidth=a.minWidth=o.width,a.desiredCellHeight=a.minHeight=i.height,a.children=[],e>r.cells.length-1?r.cells.push(a):r.cells.splice(e,0,a),this.children.push(a);n&&(this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.removeRow=function(e){var t,n,r=this.rows[e];this.height-=this.rowDefns[e].height;for(var i=0;i<r.cells.length;i++)t=r.cells[i],this.children.splice(this.children.indexOf(t),1),(n=document.getElementById(t.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n);this.rows.splice(e,1),this.rowDefns.splice(e,1),this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.removeColumn=function(e){var t,n,r=this.rows;this.width-=this.colDefns[e].width;for(var i=0;i<r.length;i++)t=r[i].cells[e],this.children.splice(this.children.indexOf(t),1),(n=document.getElementById(t.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n),r[i].cells.splice(e,1);this.colDefns.splice(e,1),this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateRowIndex=function(e,t){var n=this.rows[e];this.rows.splice(e,1),this.rows.splice(t,0,n);var r=this.rowDefns[e];this.rowDefns.splice(e,1),this.rowDefns.splice(t,0,r),this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateColumnIndex=function(e,t,n){for(var r,i,o=e;o<this.rows.length;o++)r=this.rows[o],i=this.rows[o].cells[t],r.cells.splice(t,1),r.cells.splice(n,0,i);var a=this.colDefns[t];this.colDefns.splice(t,1),this.colDefns.splice(n,0,a);var s=this.desiredCellWidth[t];this.desiredCellWidth.splice(t,1),this.desiredCellWidth.splice(n,0,s),this.measure(new nr(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.measure=function(t){var n=void 0;if(void 0!==this.rows&&this.rows.length>0){var r=0,i=0;n=new nr(0,0),this.calculateSize();for(var o=0,a=this.rows;o<a.length;o++){i=0;for(var s=0,l=(p=a[o]).cells;s<l.length;s++){var c=(m=l[s]).measure(new nr(m.desiredCellWidth,m.desiredCellHeight));1===m.rowSpan&&(0===i||void 0===this.desiredRowHeight[r]?this.desiredRowHeight[r]=c.height:this.desiredRowHeight[r]=Math.max(c.height,this.desiredRowHeight[r])),1===m.columnSpan&&(0===r||void 0===this.desiredCellWidth[i]?this.desiredCellWidth[i]=c.width:this.desiredCellWidth[i]=Math.max(c.width,this.desiredCellWidth[i]),r===this.rows.length-1&&(n.width+=this.desiredCellWidth[i])),i++}n.height+=this.desiredRowHeight[r],r++}r=i=0;for(var h=0,d=0,u=this.rows;d<u.length;d++){var p;i=0;for(var f=0,g=0,A=(p=u[d]).cells;g<A.length;g++){var m;if(1!==(m=A[g]).columnSpan){m.desiredSize.width=0;for(var y=0;y<m.columnSpan;y++)y+i<p.cells.length&&(m.desiredSize.width+=this.desiredCellWidth[y+i],m.minWidth=m.desiredSize.width,m.measure(m.desiredSize));i++}else m.desiredSize.width=this.desiredCellWidth[f],m.measure(m.desiredSize);if(1!==m.rowSpan){m.desiredSize.height=0;for(y=0;y<m.rowSpan;y++)y+h<this.rows.length&&(m.desiredSize.height+=this.desiredRowHeight[y+h],m.minHeight=m.desiredSize.height,m.measure(m.desiredSize))}else m.desiredSize.height=this.desiredRowHeight[h],m.measure(m.desiredSize);r++,f++}h++}}return void 0===n&&(n=e.prototype.validateDesiredSize.call(this,n,t)),e.prototype.stretchChildren.call(this,n),this.desiredSize=n,n},t.prototype.arrange=function(e,t){var n=0,r=0;if(void 0!==this.rows&&this.rows.length>0){for(var i=this.offsetX-e.width*this.pivot.x,o=this.offsetY-e.height*this.pivot.y,a=i,s=0,l=this.rows;s<l.length;s++){a=i,n=0;for(var c=0,h=(f=l[s]).cells;c<h.length;c++){var d=h[c],u=Math.max(this.desiredCellWidth[n],d.desiredSize.width),p=Math.max(this.desiredRowHeight[r],d.desiredSize.height);d.offsetX=a+u*d.pivot.x,d.offsetY=o+p*d.pivot.y,a+=this.desiredCellWidth[n],d.arrange(new nr(u,p)),n++}o+=this.desiredRowHeight[r],r++}if(t){d=void 0;var f=void 0,g=void 0,A=void 0,m=void 0;for(r=0;r<this.rows.length;r++)for(f=this.rows[r],n=0;n<f.cells.length;n++)if((d=f.cells[n]).columnSpan>1&&this.children.splice(this.children.indexOf(d)+1,d.columnSpan-1),d.rowSpan>1)for(g=r,A=0;g+d.rowSpan-1<this.rows.length&&A<d.rowSpan-1;g++,A++)m=this.rows[g+1].cells[n],this.children.splice(this.children.indexOf(m),1)}}return this.actualSize=e,this.updateBounds(),e},t}(pi),pc=function(){this.height=void 0},fc=function(){this.width=void 0},gc=function(){this.cells=null},Ac=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columnSpan=1,t.rowSpan=1,t}return dc(t,e),t}(mi),mc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowId=0,t.columnId=0,t.rowSpan=1,t.columnSpan=1,t}return dc(t,e),t}(di);function yc(e,t,n,r){var i;if(bc(e,t,!0)){var o=e.isProtectedOnChange;e.protectPropertyChange(!0);var a=(i=e.nameTable[t.parentId]).wrapper;if(i&&"Canvas"===i.container.type&&!r&&!(a.bounds.x<=n.x&&a.bounds.right>=n.x&&a.bounds.y<=n.y&&a.bounds.bottom>=n.y)&&!(t.constraints&Mr.AllowMovingOutsideLane)){var s=Xu(t);e.clearSelection(),xc(e,t),t.parentId="";var l={type:"ChildCollectionChanged",category:"Internal",undoObject:s,redoObject:Xu(t)};e.addHistoryEntry(l),e.commandHandler.isContainer&&(e.commandHandler.isContainer=!1,e.endGroupAction()),Sc(t,e)}e.protectPropertyChange(o)}}function vc(e,t){var n,r,i;if(e.enableServerDataBinding(!1),!v()||v()&&e.diagramActions&Qr.ToolAction)if(e.selectedObject.helperObject)i=e.selectedObject.helperObject;else if(e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0){if(t instanceof hu&&t.nodes.length+t.connectors.length===1?(n=t.nodes.length>0?t.nodes[0]:t.connectors[0],r=e.selectedItems.wrapper.children[0]):(n=t,r=v()?t===e.selectedItems.nodes[0]?e.selectedItems.wrapper:t.wrapper:e.selectedItems.wrapper),e.selectedObject.actualObject=n,!e.currentSymbol&&(n.isLane&&sh(n,e)&&bc(e,n)||!n.isLane&&bc(e,n)||e.constraints&jr.LineRouting&&e.selectedItems.nodes.length>0))i=function(e,t){for(var n,r={},i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=t[a]}return nd(t)===iu&&((n=new iu(e,"nodes",r,!0)).id=t.id,e.initObject(n)),e.updateDiagramObject(n),n}(e,{id:"helper",rotateAngle:r.rotateAngle,offsetX:r.offsetX,offsetY:r.offsetY,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.actualSize.width,height:r.actualSize.height,style:{strokeDashArray:"2 2",fill:"transparent",strokeColor:"#7D7D7D",strokeWidth:2}}),e.selectedObject.helperObject=i}return e.enableServerDataBinding(!0),i}function bc(e,t,n){var r=n?e.nameTable[t.parentId]:e.nameTable[t.parentId]||t;return!(!r||!r.container)}function wc(e,t){var n=e.nameTable[t.parentId];"Canvas"===n.container.type&&(t.margin.left=t.offsetX-n.wrapper.bounds.x-t.width/2,t.margin.top=t.offsetY-n.wrapper.bounds.y-t.height/2),e.nodePropertyChange(t,{},{width:t.width,height:t.height,offsetX:t.offsetX,offsetY:t.offsetY,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},rotateAngle:t.rotateAngle}),n.isLane||(n.wrapper.measure(new nr),n.wrapper.arrange(n.wrapper.desiredSize))}function xc(e,t){if(t.parentId&&""!==t.parentId){var n=e.nameTable[t.parentId];if(n.isLane&&n.parentId)for(var r=e.nameTable[n.parentId],i=n.id.slice(r.id.length),o=i.substring(0,i.length-1),a=r.shape.lanes,s=void 0,l=0;l<a.length;l++)if(o===(s=a[l]).id)for(var c=0;c<s.children.length;c++)s.children[c].id===t.id&&(s.children.splice(c,1),c--);e.deleteChild(t)}}function Cc(e,t,n,r,i){if(!e.currentSymbol){e.protectPropertyChange(!0);var o=e.nameTable[t.parentId];n=e.getObject(n.id)||n;var a=-1!==e.nodes.indexOf(n)?n.id:n;if("Canvas"!==t.container.type||i){if(o){var s=o.wrapper.bounds,l=t.wrapper.bounds;if("Horizontal"===o.shape.orientation)n.margin.left-=l.x-s.x;else{var c=t.parentId+o.shape.lanes[0].id+"_0_header";n.margin.top-=l.y-s.y-e.nameTable[c].wrapper.bounds.height}}}else{var h=n.wrapper.offsetX-n.wrapper.actualSize.width/2-(t.wrapper.offsetX-t.wrapper.actualSize.width/2),d=n.wrapper.offsetY-n.wrapper.actualSize.height/2-(t.wrapper.offsetY-t.wrapper.actualSize.height/2);n.margin.left=h,n.margin.top=d}var u=e.nameTable[t.id];if(u.children||(u.children=[]),-1===u.children.indexOf(n.id)){xc(e,n),e.getObject(n.id)&&e.removeElements(n);var p=Xu(n);if(e.addChild(u,a),n=e.getObject(n.id),u.isLane&&u.parentId)for(var f=(o=e.nameTable[u.parentId]).shape.lanes,g=u.id.slice(o.id.length),A=g.substring(0,g.length-1),m=0;m<f.length;m++)u.isLane&&A===f[m].id&&(n.parentObj instanceof Rf||(n.parentObj=f[m]),f[m].children.push(n));if(e.updateDiagramObject(n),Sc(n,e),u.parentId?r||Bc(u,o,n,e):e.updateDiagramObject(u),!(e.diagramActions&Qr.UndoRedo)){var y={type:"ChildCollectionChanged",category:"Internal",undoObject:p,redoObject:Xu(n),historyAction:i?"AddNodeToLane":void 0};e.addHistoryEntry(y)}}e.protectPropertyChange(!1)}}function Sc(e,t){var n=Au(e.id+"_groupElement",t.element.id),r=Au(e.parentId?e.parentId+"_groupElement":t.element.id+"_diagramLayer",t.element.id);n&&r&&r.appendChild(n)}function Bc(e,t,n,r,i){var o,a=Xu(e),s=!1,l=t.shape.padding,c=e.wrapper.bounds,h=e.wrapper.outerBounds,d=n.wrapper.bounds;if(t&&"SwimLane"===t.shape.type&&(c.right<d.right+l||c.bottom<d.bottom+l)){var u=t.wrapper.children[0],p=u.bounds.x,f=u.bounds.y,g=void 0;if(c.right<d.right+l&&h.x<=c.x&&(g=d.right-c.right,o=!1,u.updateColumnWidth(e.columnIndex,c.width+g,!0,l)),c.bottom<d.bottom+l&&h.y<=c.y&&(g=d.bottom-c.bottom,o=!0,u.updateRowHeight(e.rowIndex,c.height+g,!0,l)),!(r.diagramActions&Qr.UndoRedo)&&(i&&(r.startGroupAction(),s=!0),void 0!==o)){var A={category:"Internal",type:o?"RowHeightChanged":"ColumnWidthChanged",undoObject:a,redoObject:Xu(e)};r.addHistoryEntry(A)}t.width=t.wrapper.width=u.width,t.height=t.wrapper.height=u.height,Mc(t),"Horizontal"===t.shape.orientation&&Vc(t,r,e.wrapper,e.columnIndex),Xc(r,t),r.drag(t,p-u.bounds.x,f-u.bounds.y),Fc(t,r),_c(t)}return function(e,t,n){var r=e.nameTable[t.parentId];if(r&&r.isLane){var i=e.nameTable[r.parentId],o=i.wrapper.children[0];o.updateColumnWidth(r.columnIndex,o.columnDefinitions()[r.columnIndex].width,!0,n),o.updateRowHeight(r.rowIndex,o.rowDefinitions()[r.rowIndex].height,!0,n);var a=r.wrapper,s=void 0;t.margin.left<n&&(t.margin.left=n),t.margin.top<n&&(t.margin.top=n);for(var l=0;l<a.children.length;l++){var c=a.children[l];if(c instanceof mi){var h=e.nameTable[c.id];if(h.isLane){s=h.wrapper,!0;break}}}s&&("Horizontal"===i.shape.orientation?t.margin.left<n+s.actualSize.width&&(t.margin.left=n+s.actualSize.width):t.margin.top<n+s.actualSize.height&&(t.margin.top=n+s.actualSize.height)),i.wrapper.measure(new nr(i.width,i.height)),i.wrapper.arrange(i.wrapper.desiredSize),t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY,e.nodePropertyChange(t,{},{margin:{left:t.margin.left,top:t.margin.top}}),o.measure(new nr(o.width,o.height)),o.arrange(o.desiredSize),i.width=i.wrapper.width=i.wrapper.children[0].actualSize.width,i.height=i.wrapper.height=i.wrapper.children[0].actualSize.height}}(r,n,l),r.updateDiagramElementQuad(),s}function Pc(e,t,n,r,i,o){var a=yu(r.element.id);r.diagramRenderer.renderStackHighlighter(e,a,r.scroller.transform,t,n,i,o)}function Ec(e,t,n){n.width||0!==n.shape.phases.length||(n.width=100);var r=[],i=[],o=0,a=n.shape,s="Horizontal"===a.orientation;if(a.header&&a.hasHeader&&Lc(r,a.header.height),function(e,t,n){var r,i=0,o=n.shape;if(e.length>0)for(var a=0;a<e.length;a++)i+=e[a].height;if(t){if(o.phases.length>0&&o.phaseSize&&(i+=o.phaseSize,Lc(e,o.phaseSize)),o.lanes.length>0)for(a=0;a<o.lanes.length;a++)i+=r=o.lanes[a].height,a===o.lanes.length-1&&i<n.height&&(r+=n.height-i),Lc(e,r)}else if(o.phases.length>0){var s=0;for(a=0;a<o.phases.length;a++){var l=o.phases[a].offset;s+=0===a?l:l-=s,i+=r=l,a===o.phases.length-1&&i<n.height&&(r+=n.height-i),Lc(e,r)}}else Lc(e,n.height)}(r,s,n),function(e,t,n){var r,i,o,a,s=0,l=n.shape;if(l.phases.length>0&&"Horizontal"===l.orientation)for(a=0;a<l.phases.length;a++)r=l.phases[a].offset,s+=0===a?r:r-=s,i=kc(r),a===l.phases.length-1&&s<n.width&&(i.width+=n.width-s),e.push(i);else if(t)i=kc(n.width),e.push(i);else{for(l.phaseSize&&l.phases.length>0?l.lanes.length+1:l.lanes.length,l.phaseSize&&l.phases.length>0&&(s+=l.phaseSize,i=kc(l.phaseSize),e.push(i)),o=0;o<l.lanes.length;o++)s+=l.lanes[o].width,i=kc(l.lanes[o].width),o===l.lanes.length-1&&s<n.width&&(i.width+=n.width-s),e.push(i);0===l.phases.length&&0===l.lanes.length&&(i=kc(n.width),e.push(i))}}(i,s,n),e.setDefinitions(r,i),a.header&&a.hasHeader&&(!function(e,t,n){for(var r=0,i=e.columnDefinitions(),o=n.shape,a=0;a<i.length;a++)r+=i[a].width;o.header.id=o.header.id||Uu();var s={id:n.id+o.header.id,annotations:[Xu(o.header.annotation)],style:o.header.style?o.header.style:void 0,offsetX:n.offsetX,offsetY:n.offsetY,rowIndex:0,columnIndex:0,maxWidth:r,container:{type:"Canvas",orientation:"Horizontal"}};Pl(n)||(s.constraints&=~Mr.Select);var l=Oc(t,e,n,s,!0);e.addObject(l,0,0,1,e.columnDefinitions().length)}(e,t,n),o++),a.phases.length>0&&a.phaseSize){for(var l=0;l<a.phases.length;l++)""===a.phases[l].id&&(a.phases[l].id=Uu()),Tc(e,t,n,o,s,l);o++}if(a.lanes.length>0)for(l=0;l<a.lanes.length;l++)""===a.lanes[l].id&&(a.lanes[l].id=Uu()),Ic(e,t,n,o,l,s),o++}function Oc(e,t,n,r,i,o,a,s){var l=new iu(e,"nodes",r,!0);if(l.parentId=n.id,l.isHeader=!!i,l.isPhase=!!o,l.isLane=!!a,s&&(l[o?"PhaseHeaderParent":"LaneHeaderParent"]=s),l.constraints&=~(Mr.InConnect|Mr.OutConnect),l.constraints|=Mr.HideThumbs,e.initObject(l),e.nodes.push(l),l.wrapper.children.length>0){for(var c=0;c<l.wrapper.children.length;c++){var h=l.wrapper.children[c];h instanceof di&&(h.isCalculateDesiredSize=!1),h instanceof gi&&(h.canConsiderBounds=!1,(!i&&"Vertical"===n.shape.orientation&&o||"Vertical"!==n.shape.orientation&&a)&&(h.isLaneOrientation=!0,h.refreshTextElement()))}l.wrapper.measure(new nr(void 0,void 0)),l.wrapper.arrange(l.wrapper.desiredSize)}return l.wrapper}function Tc(e,t,n,r,i,o){var a,s=0,l=0,c=n.shape;i?(l=o,s=r,a=e.columnDefinitions()[o].width):s=c.header&&c.hasHeader?o+1:o;var h={annotations:[Xu(c.phases[o].header.annotation)],maxWidth:a,id:n.id+c.phases[o].id+"_header",offsetX:n.offsetX,offsetY:n.offsetY,style:c.phases[o].style,rowIndex:s,columnIndex:l,container:{type:"Canvas",orientation:i?"Horizontal":"Vertical"}};h.annotations[0].rotateAngle=i?0:270,Pl(n)||(h.constraints&=~Mr.Select),c.phases[o].header.id=h.id;var d=Oc(t,0,n,h,!1,!0,!1,c.phases[o].id);e.addObject(d,s,l)}function Ic(e,t,n,r,i,o){for(var a,s,l,c,h,d=n.shape,u=d.phases.length||1,p=d.header&&d.hasHeader?1:0,f=o?r:p,g=d.phaseSize&&d.phases.length>0?1:0,A=0;A<u;A++){var m=o?A:i+g;l=e.rows[f].cells[m],c={id:n.id+d.lanes[i].id+A,rowIndex:f,columnIndex:m,width:l.minWidth,height:l.minHeight,offsetX:n.offsetX,offsetY:n.offsetY,style:d.lanes[i].style,constraints:Mr.Default|Mr.ReadOnly|Mr.AllowDrop,container:{type:"Canvas",orientation:o?"Horizontal":"Vertical"}},Pl(n)||(c.constraints&=~Mr.Select),(s=Oc(t,0,n,c,!1,!1,!0)).children[0].isCalculateDesiredSize=!1,0===A&&((a={id:n.id+d.lanes[i].id+"_"+A+"_header",style:d.lanes[i].header.style,annotations:[Xu(d.lanes[i].header.annotation)],offsetX:n.offsetX,offsetY:n.offsetY,rowIndex:f,columnIndex:m,container:{type:"Canvas",orientation:o?"Horizontal":"Vertical"}}).annotations[0].rotateAngle=o?270:0,d.lanes[i].header.id=a.id,o?a.width=d.lanes[i].header.width:a.height=d.lanes[i].header.height,Pl(n)||(a.constraints&=~Mr.Select),h=Oc(t,0,n,a,!1,!1,!0,d.lanes[i].id),o&&(h.children[0].elementActions=h.children[0].elementActions|Dr.HorizontalLaneHeader),s.children.push(h)),e.addObject(s,f,m),o||f++,m=o?A:i+1}}function Lc(e,t){var n=new pc;n.height=t,e.push(n)}function kc(e){var t=new fc;return t.width=e,t}function Nc(e,t,n,r){for(var i,o,a,s,l,c,h,d=[],u=0,p=t.rowDefinitions().length,f=0;f<p;f++)for(c=t.rows[f],s=0;s<c.cells.length;s++)if((l=c.cells[s].children[0])&&l.children&&l.children.length)for(a=1;a<l.children.length;a++)if(i=l.children[a],(o=e.getObject(i.id))&&(o.inEdges.length>0||o.outEdges.length>0))for(h=o.inEdges.concat(o.outEdges),u=0;u<h.length;u++)-1===d.indexOf(h[u])&&d.push(h[u]);return d}function Mc(e){var t=e.wrapper;if(t.measure(new nr(e.width,e.height)),t.children[0]instanceof uc){var n=t.children[0],r=!1;n.width&&n.width<n.desiredSize.width&&(r=!0,n.width=n.desiredSize.width),n.height&&n.height<n.desiredSize.height&&(r=!0,n.height=n.desiredSize.height),r&&n.measure(new nr(n.width,n.height))}t.arrange(t.desiredSize)}function Dc(e,t,n){var r,i,o,a,s,l,c,h,d=t.wrapper.children[0];for(r=n;r<d.rows.length;r++)for(l=d.rows[r],i=0;i<l.cells.length;i++)if((c=l.cells[i]).children&&c.children.length>0)for(o=0;o<c.children.length;o++)h=c.children[o],(a=e.nameTable[h.id]).isLane&&h.children.length>1&&(s=e.nameTable[h.children[1].id])&&s.isLane&&(s.rowIndex=r,s.columnIndex=i),a.rowIndex=r,a.columnIndex=i}function Rc(e,t){var n,r,i,o,a,s,l,c,h=t.wrapper.children[0],d=t.shape,u=d.padding,p=d.lanes,f=h.bounds.y,g=d.phaseSize>0?d.phases.length:0,A="Horizontal"===d.orientation,m=A?d.phases.length||1:p.length+1,y=A?(d.header&&d.hasHeader?1:0)+(d.phases.length>0?1:0)+d.lanes.length:(d.header&&d.hasHeader?1:0)+d.phases.length;if(0===g&&!A&&d.lanes.length&&(y+=1),A?(n=(d.header&&d.hasHeader?1:0)+(g>0?1:0),r=0):(n=d.header&&d.hasHeader?1:0,r=g>0?1:0),p.length>0)for(f+=d.header&&d.hasHeader?d.header.height:0,s=0;s<p.length;s++){for(l=0;l<p[s].children.length;l++)if((i=p[s].children[l]).offsetX=p[s].width,i.offsetY=p[s].height,e.initObject(i),e.nodes.push(i),o=i.wrapper,A){for(c=r;c<m;c++)if(a=h.rows[n].cells[c],o.margin.left<a.bounds.right-h.bounds.x){i.parentId=a.children[0].id,c>r?o.margin.left=o.margin.left-(a.bounds.left-h.bounds.left):a.children[0].children[1].actualSize.width+u>=o.margin.left&&(o.margin.left=a.children[0].children[1].actualSize.width+u),o.margin.left<u&&(o.margin.left=u),o.margin.top<u&&(o.margin.top=u),jc(o,i,e);break}}else for(var v=n;v<y;v++)if(a=h.rows[v].cells[r],o.margin.top<a.bounds.bottom-f){i.parentId=a.children[0].id,v>n?o.margin.top=o.margin.top-(a.bounds.top-f):a.children[0].children[1].actualSize.height+u>=o.margin.top&&(o.margin.top=a.children[0].children[1].actualSize.height+u),o.margin.left<u&&(o.margin.left=u),o.margin.top<u&&(o.margin.top=u),jc(o,i,e);break}A?n++:r++}h.measure(new nr(t.width,t.height)),h.arrange(h.desiredSize),function(e,t){var n,r,i,o,a,s,l=e.columnDefinitions(),c=e.rowDefinitions(),h=Wc(t);"Vertical"===t.shape.orientation&&0===h&&(h=t.shape.header&&t.shape.hasHeader?1:0);var d=t.shape.padding;for(n=0;n<l.length;n++)e.updateColumnWidth(n,l[n].width,!0,d);for(n=h;n<c.length;n++)e.updateRowHeight(n,c[n].height,!0,d);for(r=0;r<c.length;r++)for(s=e.rows[r],n=0;n<l.length;n++)if((o=s.cells[n]).children&&o.children.length>0)for(i=0;i<o.children.length;i++)(a=o.children[i]).maxWidth&&(a.maxWidth=o.actualSize.width),a.maxHeight&&(a.maxHeight=o.actualSize.height)}(h,t),t.width=t.wrapper.width=h.width,t.height=t.wrapper.height=h.height,Xc(e,t),t.wrapper.measure(new nr(t.width,t.height)),t.wrapper.arrange(h.desiredSize),function(e){if("SwimLane"===e.shape.type)for(var t=e.shape.lanes,n=void 0,r=void 0,i=0;i<t.length;i++){n=t[i];for(var o=0;o<n.children.length;o++)(r=n.children[o]).offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY}}(t),Fc(t,e),_c(t)}function jc(e,t,n){e.measure(new nr(t.width,t.height)),e.arrange(e.desiredSize);var r=n.getObject(t.parentId);n.addChild(r,t.id)}function _c(e){if("SwimLane"===e.shape.type&&!e.shape.isLane&&!e.shape.isPhase){var t=void 0,n=void 0,r=void 0,i=e.shape.lanes,o=Wc(e),a=e.wrapper.children[0].rowDefinitions();for(n=0;n<i.length;n++,o++)t=i[n],"Horizontal"===e.shape.orientation?(r=a[o].height,t.height!==r&&(t.height=r)):(r=e.wrapper.children[0].columnDefinitions()[o].width,t.width!==r&&(t.width=r))}}function Fc(e,t){var n,r,i,o,a=e.shape,s=a.phases,l=a.header&&a.hasHeader?1:0,c=e.wrapper.children[0],h=c.bounds.y+(a.header&&a.hasHeader?a.header.height:0);if("SwimLane"===e.shape.type&&(e=t.getObject(e.id)||e,s.length>0))if(c=e.wrapper.children[0],"Horizontal"===a.orientation)for(i=a.header&&a.hasHeader?c.rows[1]:c.rows[0],n=0;n<s.length;n++)r=(o=i.cells[n].children[0]).bounds.right-c.bounds.x,s[n].offset!==r&&(s[n].offset=r),t.nameTable[o.id].maxWidth=o.maxWidth;else for(n=0;n<s.length;n++)r=(o=c.rows[l+n].cells[0].children[0]).bounds.bottom-h,s[n].offset!==r&&(s[n].offset=r),t.nameTable[o.id].maxWidth=o.maxWidth}function Hc(e,t){if(e&&e.length>0){var n=void 0;t.lineRoutingModule&&t.constraints&jr.LineRouting&&t.lineRoutingModule.renderVirtualRegion(t,!0);for(var r=0;r<e.length;r++)n=t.getObject(e[r]),t.lineRoutingModule&&t.constraints&jr.LineRouting&&"Orthogonal"===n.type?t.lineRoutingModule.refreshConnectorSegments(t,n,!0):t.connectorPropertyChange(n,{},{sourceID:n.sourceID,targetID:n.targetID})}}function Uc(e,t,n,r){var i,o,a,s,l,c,h,d,u=e.getObject(t.parentId),p=u.shape,f=u.wrapper.children[0],g=p.lanes,A=Nc(e,f,t.rowIndex);if("Horizontal"===p.orientation&&t.rowIndex!==n.rowIndex||"Vertical"===p.orientation&&t.columnIndex!==n.columnIndex){if("Horizontal"===p.orientation)s=t.rowIndex,l=n.rowIndex,i=(p.header&&p.hasHeader?1:0)+(p.phases.length&&p.phaseSize?1:0),h=t.rowIndex-i,d=n.rowIndex-i,g[h].canMove&&(h<d?r&&n.wrapper.offsetY>r.y&&(l+=d>0?-1:1,d+=d>0?-1:1):r&&n.wrapper.offsetY<r.y&&(l+=1,d+=1),s!==l&&f.updateRowIndex(s,l));else if(s=t.columnIndex,l=n.columnIndex,i=p.phases.length&&p.phaseSize?1:0,h=t.columnIndex-i,d=n.columnIndex-i,p.header&&p.hasHeader?1:0,g[h].canMove&&(h<d?r&&n.wrapper.offsetX>r.x&&(l+=d>0?-1:1,d+=d>0?-1:1):r&&n.wrapper.offsetX<r.x&&(l+=1,d+=1),s!==l)){if((0===p.phaseSize||0===p.phases.length)&&(0===l||0===s)&&p.header&&p.hasHeader){var m=0===l?s:l;f.rows[0].cells[m].children=f.rows[0].cells[0].children,f.rows[0].cells[m].columnSpan=f.rows[0].cells[0].columnSpan,f.rows[0].cells[0].children=[]}f.updateColumnIndex(0,s,l)}s!==l&&(c=g[h]).canMove&&(o={target:Xu(n),source:Xu(t)},c=g[h],g.splice(h,1),g.splice(d,0,c),a={type:"LanePositionChanged",redoObject:{target:Xu(o.source),source:Xu(o.target)},undoObject:o,category:"Internal"},e.diagramActions&Qr.UndoRedo||e.commandHandler.addHistoryEntry(a),Dc(e,u,0),Hc(A,e),function(e,t){for(var n,r,i=0;i<e.length;i++){n=e[i];for(var o=0;o<n.children.length;o++)(r=t.nameTable[n.children[o].id]).offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY}}(g,e),u.wrapper.measure(new nr(u.width,u.height)),u.wrapper.arrange(u.wrapper.desiredSize),e.updateDiagramObject(u))}e.updateDiagramElementQuad()}function zc(e,t,n,r){var i=e.getObject(n.id),o=i.shape,a=o.header&&o.hasHeader?1:0,s=o.lanes,l=o.phases,c=r.wrapper.actualSize.width,h=r.wrapper.actualSize.height,d=t.wrapper.actualSize.width,u=t.wrapper.actualSize.height;"SwimLane"===i.shape.type&&("Horizontal"===o.orientation?t.isPhase?l[t.columnIndex].offset+=c-d:(a=o.phaseSize&&o.phases.length>0?a+1:a,s[t.rowIndex-a].height+=h-u):t.isPhase?l[t.rowIndex-a].offset+=h-u:(a=o.phaseSize&&o.phases.length>0?1:0,s[t.columnIndex-a].width+=c-d))}function Qc(e,t){var n,r=e.shape,i=r.header&&r.hasHeader?1:0;return"Horizontal"===r.orientation?(i+=r.phases.length>0?1:0,n=t.rowIndex-i):n=t.columnIndex-(r.phaseSize&&r.phases.length>0?1:0),n}function Wc(e){var t=0,n=e.shape;return"Horizontal"===n.orientation&&(t=n.header&&n.hasHeader?1:0),n.phases.length>0&&n.phaseSize&&(t+=1),t}function Vc(e,t,n,r){var i=e.shape;if(i.phases.length>0){var o=t.nameTable[i.phases[r].header.id];o&&o.maxWidth<n.outerBounds.width&&(o.maxWidth=n.outerBounds.width,o.wrapper.maxWidth=n.outerBounds.width)}}function Xc(e,t){if(t.shape.header&&t.shape.hasHeader){var n=t.wrapper.children[0].rows[0].cells[0].children[0].id,r=e.nameTable[n];r&&r.isHeader&&r.maxWidth<t.width&&(r.maxWidth=t.width,r.wrapper.maxWidth=t.width)}}function Yc(e,t,n,r){var i,o=e.nameTable[t.id];if("SwimLane"===o.shape.type){e.protectPropertyChange(!0);var a=o.wrapper.children[0],s=a.bounds,l=o.shape,c=void 0,h=!1,d=void 0,u=void 0,p=void 0,f=void 0,g=void 0,A=void 0,m=void 0,y=void 0,v=new au(l,"lanes",n,!0);u=l.header&&l.hasHeader?1:0,"Horizontal"===l.orientation&&(h=!0,u=l.phases.length>0?u+1:u);var b=Nc(e,a),w=void 0!==r?r:l.lanes.length;if(u+=w,i={element:v,cause:e.diagramActions,state:"Changing",type:"Addition",cancel:!1,laneIndex:w},e.triggerEvent(Kr.collectionChange,i),!i.cancel){if(h){var x=new pc;x.height=n.height,a.addRow(u,x,!1),o.height=void 0!==o.height?o.height+n.height:o.height,o.wrapper.height=a.height=o.height}else{var C=new fc;C.width=n.width,a.addColumn(w+1,C,!1),o.width&&(o.width+=n.width,o.wrapper.width=a.width=o.width),e.diagramActions&Qr.UndoRedo||(a.rows[0].cells[0].columnSpan+=1)}if(e.diagramActions&Qr.UndoRedo||(v.id=""===v.id?Uu():v.id),void 0!==r?l.lanes.splice(r,0,v):l.lanes.push(v),i={element:v,cause:e.diagramActions,state:"Changed",type:"Addition",cancel:!1,laneIndex:w},e.triggerEvent(Kr.collectionChange,i),Ic(a,e,o,u,w,h),c="Horizontal"===l.orientation?e.nameTable[a.rows[u].cells[0].children[0].id]:l.header&&l.hasHeader?e.nameTable[a.rows[1].cells[u].children[0].id]:e.nameTable[a.rows[0].cells[u].children[0].id],e.diagramActions&Qr.UndoRedo||(d={type:"LaneCollectionChanged",changeType:"Insert",undoObject:Xu(v),redoObject:Xu(c),category:"Internal"},e.addHistoryEntry(d)),Dc(e,o,"Horizontal"===l.orientation?u:l.header&&l.hasHeader?1:0),Mc(o),Xc(e,o),(p=n.children)&&p.length>0)for(f=0;f<p.length;f++)if(y={x:(m=p[f]).wrapper.offsetX,y:m.wrapper.offsetY},"Horizontal"===l.orientation)for(a.rows[u].cells[g],g=0;g<a.rows[u].cells.length;g++)Kc(e,a.rows[u].cells[g],y,m);else for(A=0;A<a.rows.length;A++)Kc(e,a.rows[A].cells[u],y,m);Hc(b,e),e.drag(o,s.x-a.bounds.x,s.y-a.bounds.y)}e.protectPropertyChange(!1)}}function Kc(e,t,n,r){if(t.children&&t.children.length>0){var i=t.children[0],o=e.nameTable[i.id];i.bounds.containsPoint(n)&&e.addChild(o,r)}}function Gc(e,t,n){if("SwimLane"===t.shape.type){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,h=t.wrapper.bounds.x,d=t.wrapper.bounds.y,u=t.shape,p=u.padding,f=u.phases,g=void 0,A=t.wrapper.children[0],m="Horizontal"===u.orientation;r=u.header&&u.hasHeader?0:-1,u.phases.length>0&&(r+=1,0);var y=m?u.lanes[0].header.width:u.lanes[0].header.height;if(n.offset>y){for(c=0;c<f.length;c++)if(o=f[c],a=c>0?f[c-1]:o,o.offset>n.offset){if(g=c>0?n.offset-a.offset:n.offset,m){var v=A.columnDefinitions()[c];v.width-=g,(s=e.nameTable[u.phases[c].header.id]).maxWidth=s.wrapper.maxWidth=v.width,A.updateColumnWidth(c,v.width,!1);var b=new fc;b.width=g,l=c,A.addColumn(c,b,!1);break}var w=A.rowDefinitions()[c+r];w.height-=g,s=e.nameTable[u.phases[c].header.id],A.updateRowHeight(c+r,w.height,!1);var x=new pc;x.height=g,l=c,A.addRow(c+r,x,!1);break}if(e.diagramActions&Qr.UndoRedo&&void 0===l)(I=e.historyManager.currentEntry.next).isLastPhase&&function(e,t,n,r,i,o){var a=t.shape.phases[e-2],s=n.previousPhase.offset;if(i){var l=r.columnDefinitions()[e-1],c=new fc;e>1?(c.width=l.width-(s-a.offset),l.width=s-a.offset):(c.width=l.width-s,l.width=s),r.updateColumnWidth(e-1,l.width,!1),r.addColumn(e,c,!1)}else{l=r.rowDefinitions()[e];var h=new pc;e>1?(h.height=n.undoObject.offset-s,l.height=s-a.offset):(h.height=l.height-s,l.height=s),r.updateRowHeight(e,l.height,!1),r.addRow(1+e,h,!1)}}(l=f.length,t,I,A,m);var C=new su(t.shape,"phases",n,!0);if(e.diagramActions&Qr.UndoRedo||(C.id+=Uu()),u.phases.splice(l,0,C),Tc(A,e,t,r,m,l),m){if(i=e.nameTable[A.rows[r].cells[l].children[0].id],0===l&&u.header&&u.hasHeader){A.rows[0].cells[0].children=A.rows[0].cells[1].children,A.rows[0].cells[1].children=[];for(var S=A.rows[0],B=0;B<S.cells.length;B++)S.cells[B].minWidth=void 0,S.cells[B].columnSpan=0===B?A.rows[0].cells.length:1}!function(e,t,n,r,i){var o,a,s=t.shape,l=Wc(t);s.header&&s.hasHeader&&(n.rows[0].cells[0].columnSpan=n.rows[0].cells.length);for(o=l;o<n.rows.length;o++)qc(e,t,(a=n.rows[o]).cells[r-1],a.cells[r],a.cells[r+1],o,r);Dc(e,t,1)}(e,t,A,l);var P=A.columnDefinitions();if(A.updateColumnWidth(l,P[l].width,!0,p),i.maxWidth=i.wrapper.maxWidth=P[l].width,P.length>l+1){var E=e.nameTable[A.rows[r].cells[l+1].children[0].id];A.updateColumnWidth(l+1,P[l+1].width,!0,p),E.maxWidth=E.wrapper.maxWidth=P[l+1].width}t.width=t.wrapper.width=t.wrapper.children[0].width=A.width}else{i=e.nameTable[A.rows[r+l].cells[0].children[0].id];var O=A.rowDefinitions(),T=O[r+l].height;!function(e,t,n,r,i){for(var o,a,s=n.rows[r],l=n.rows[r+1],c=n.rows[r-1],h=1;h<s.cells.length;h++)o=s.cells[h],a=l?l.cells[h]:void 0,qc(e,t,c.cells[h],o,a,r,h);Dc(e,t,1)}(e,t,A,r+l),A.updateRowHeight(r+l,T,!0,p),O.length>r+l+1&&(T=O[r+l+1].height,A.updateRowHeight(r+l+1,T,!0,p)),t.height=t.wrapper.height=t.wrapper.children[0].height=A.actualSize.height}if(Mc(t),t.width=t.wrapper.actualSize.width,Xc(e,t),e.drag(t,h-t.wrapper.bounds.x,d-t.wrapper.bounds.y),Fc(t,e),!(e.diagramActions&Qr.UndoRedo)){var I={type:"PhaseCollectionChanged",changeType:"Insert",undoObject:Xu(C),redoObject:Xu(i),category:"Internal"};e.addHistoryEntry(I)}e.updateDiagramObject(t)}}}function qc(e,t,n,r,i,o,a){var s,l,c,h=t.shape,d="Horizontal"===h.orientation,u=t.wrapper.children[0],p=r.desiredCellWidth,f=r.desiredCellHeight,g=d?o:a;n?(s=d?n.bounds.x+n.bounds.width:n.bounds.x,l=d?n.bounds.y:n.bounds.y+n.bounds.height):(s=u.bounds.x,l=i.bounds.y);var A=new Ar(s,l,p,f),m=Oc(e,0,t,{id:t.id+(d?h.lanes[g-2]:h.lanes[g-1]).id+Uu()[0],rowIndex:o,columnIndex:a,width:r.minWidth,height:r.minHeight,style:(d?h.lanes[g-2]:h.lanes[g-1]).style,constraints:Mr.Default|Mr.AllowDrop,container:{type:"Canvas",orientation:d?"Horizontal":"Vertical"}},!1,!1,!0);if(m.children[0].isCalculateDesiredSize=!1,u.addObject(m,o,a),i&&i.children&&i.children.length)for(c=0;c<i.children.length;c++)d?e.nameTable[i.children[c].id].columnIndex+=1:e.nameTable[i.children[c].id].rowIndex+=1;!function(e,t,n,r,i,o,a){var s,l,c,h=e.nameTable[i.id],d=t||a,u=e.nameTable[h.parentId].shape.padding;if(d.children&&d.children[0].children.length>1)for(var p=1;p<d.children[0].children.length;p++)s=d.children[0].children[p],c=e.nameTable[s.id],l=o?{x:s.bounds.x,y:s.bounds.center.y}:{x:s.bounds.center.x,y:s.bounds.top},r.containsPoint(l)?(n.children[0].children.push(s),d.children[0].children.splice(p,1),p--,e.deleteChild(c),c.isLane||(c.parentId=i.id),h.children||(h.children=[]),t||(o?c.margin.left=c.wrapper.bounds.x-d.children[0].bounds.right:c.margin.top=c.wrapper.bounds.y-d.children[0].bounds.bottom),h.children.push(s.id),c.zIndex=h.zIndex+1,e.removeElements(c)):t&&(o?(c.margin.left-=n.desiredCellWidth,u>c.margin.left&&(c.margin.left=u)):(c.margin.top-=n.desiredCellHeight,u>c.margin.top&&(c.margin.top=u)))}(e,i,r,A,m,d,n)}function Jc(e,t,n){if("SwimLane"===t.shape.type&&("ResizeSouth"===n||"ResizeEast"===n)){var r=t.shape,i=t.wrapper.children[0],o=void 0,a=void 0;"ResizeSouth"===n?"Vertical"===r.orientation?o=i.rows[i.rows.length-1].cells[0]:(a=i.rows.length-1,o=i.rows[a].cells[i.rows[a].cells.length-1]):(a=r.header&&r.hasHeader?1:0,o=i.rows[a].cells[i.rows[a].cells.length-1]),e.commandHandler.select(e.nameTable[o.children[0].id])}}function Zc(e,t,n,r,i,o){var a,s,l,c,h,d,u,p=Uu(),f=e.shape,g=f.phases,A=e.offsetX-e.wrapper.actualSize.width/2,m=e.offsetY-e.wrapper.actualSize.height/2;if("Vertical"===f.orientation&&(m+=f.header&&f.hasHeader?f.header.height:0),!o)for(i||(e.id+=p,f&&f.header&&f.hasHeader?f.header.id+=p:f.header=void 0),a=0;g&&a<g.length;a++)g[a].id+=p;var y=i?[n.childTable[r.id]]:f.lanes;for(a=0;y&&a<y.length;a++)for(l=y[a],o||(l.id+=p),s=0;l.children&&s<l.children.length;s++)d=(c=l.children[s]).wrapper.offsetX-c.width/2,u=c.wrapper.offsetY-c.height/2,c.zIndex=-1,c.inEdges=c.outEdges=[],(o||n&&(1===n.pasteIndex||0===n.pasteIndex))&&("Vertical"===f.orientation?c.margin.top=u-m:c.margin.left=d-A),o||(c.id+=p);if(!o){if(i)h={shape:{lanes:y,phases:g,phaseSize:f.phaseSize,type:"SwimLane",orientation:f.orientation,header:{annotation:{content:"Title"},height:50}}},"Horizontal"===f.orientation?(h.width=e.wrapper.actualSize.width,h.height=r.wrapper.actualSize.height+f.header.height+f.phaseSize,h.offsetX=e.wrapper.offsetX+10*n.pasteIndex,h.offsetY=r.wrapper.offsetY+10*n.pasteIndex):(h.width=r.wrapper.actualSize.width,h.height=e.wrapper.actualSize.height,h.offsetX=r.wrapper.offsetX+10*n.pasteIndex,h.offsetY=e.wrapper.offsetY+10*n.pasteIndex),e=h;if(0!==n.pasteIndex&&(e.offsetX+=10,e.offsetY+=10),e.zIndex=-1,e=t.add(e),!i)for(var v=0,b=Object.keys(n.childTable);v<b.length;v++){var w=b[v],x=n.childTable[w];x.id+=p,x.sourceID+=p,x.targetID+=p,x.zIndex=-1,t.add(x)}"SVG"!==t.mode&&t.refreshDiagramLayer(),t.select([e])}return e}function $c(e,t,n,r){var i,o=t.nodes[0];if(r||bc(e,o,!0)){var a=void 0,s=void 0,l=void 0,c=new di;n&&(l=e.nameTable[n].parentId,a=o=e.nameTable[n]);var h=n?a.wrapper:o.wrapper,d=e.nameTable[l||o.parentId];d&&"Grid"===d.container.type&&((i=new mi).children=[],!r&&o.isHeader||("Horizontal"===d.container.orientation&&o.isPhase||"Vertical"===d.container.orientation&&(o.rowIndex>0&&o.columnIndex>0||o.isLane)?(s=function(e,t,n){for(var r=new Ar,i="SwimLane"===e.shape.type?e.wrapper.children[0].rows:e.wrapper.rows,o=n?1:0;o<i.length;o++)r.uniteRect(i[o].cells[t].bounds);return r}(d,a?a.columnIndex:o.columnIndex,!(!d.shape.header||!d.shape.hasHeader)),i.offsetX=s.center.x,i.offsetY=s.center.y,c.width=s.width,c.height=s.height):(i.offsetX=d.offsetX,i.offsetY=h.offsetY,c.width=d.wrapper.actualSize.width,c.height=h.actualSize.height)),i.children.push(c),i.measure(new nr),i.arrange(i.desiredSize))}return i}function eh(e,t,n,r,i){i=void 0!==i?i:Qc(t,n);for(var o=!1,a=t.shape.lanes[i],s=a.children.length-1;s>=0;s--)r?r.id===a.children[s].id&&a.children.splice(s,1):(e.removeDependentConnector(a.children[s]),e.diagramActions&Qr.UndoRedo||(e.diagramActions=e.diagramActions|Qr.UndoRedo,o=!0),e.remove(a.children[s]),a.children.splice(s,1),o&&(e.diagramActions=e.diagramActions&~Qr.UndoRedo))}function th(e){return e.children[0]}function nh(e,t){e.nodes.splice(e.nodes.indexOf(t),1),e.removeFromAQuad(t),e.removeObjectsFromLayer(t),delete e.nameTable[t.id],e.removeElements(t)}function rh(e,t,n,r){var i;if("SwimLane"===n.shape.type){var o=n.shape,a=void 0;if(1===o.lanes.length)e.remove(n);else{var s=n.wrapper.bounds.x,l=n.wrapper.bounds.y,c=void 0,h=void 0,d=void 0,u=void 0,p=n.wrapper.children[0];if(a=r?o.lanes.indexOf(r):Qc(n,t),i={element:t,cause:e.diagramActions,state:"Changing",type:"Removal",cancel:!1,laneIndex:a},e.triggerEvent(Kr.collectionChange,i),!i.cancel){var f=Xu(o.lanes[a]);if(eh(e,n,t,void 0,a),!(e.diagramActions&Qr.UndoRedo)){var g={type:"LaneCollectionChanged",changeType:"Remove",undoObject:f,redoObject:Xu(t),category:"Internal"};e.addHistoryEntry(g)}o.lanes.splice(a,1);var A=t?"Horizontal"===o.orientation?t.rowIndex:t.columnIndex:Wc(n)+a;if("Horizontal"===o.orientation){for(c=p.rows[A],h=0;h<c.cells.length;h++)if((d=c.cells[h])&&d.children.length>0)for(u=0;u<d.children.length;u++)ih(e,d.children[u]);p.removeRow(A)}else{for(n.width=void 0!==n.width?n.width-p.rows[0].cells[A].actualSize.width:n.width,h=0;h<p.rows.length;h++)if((d=p.rows[h].cells[A])&&d.children.length>0)for(u=0;u<d.children.length;u++)ih(e,d.children[u]);p.removeColumn(A)}i={element:t,cause:e.diagramActions,state:"Changed",type:"Removal",cancel:!1,laneIndex:a},e.triggerEvent(Kr.collectionChange,i),n.width=n.wrapper.width=p.width,n.height=n.wrapper.height=p.height,Mc(n),"Vertical"===n.shape.orientation&&(A=0),Dc(e,n,A),e.drag(n,s-n.wrapper.bounds.x,l-n.wrapper.bounds.y),e.updateDiagramObject(n)}}}}function ih(e,t){var n,r;if(t instanceof mi){if(t.children.length>0)for(n=0;n<t.children.length;n++)t.children[n]instanceof mi&&ih(e,t.children[n]);r=e.getObject(t.id),nh(e,r)}}function oh(e,t,n,r){e.protectPropertyChange(!0);n.wrapper.bounds.x,n.wrapper.bounds.y;var i,o=!1,a=n.shape,s=n.wrapper.children[0],l=r?a.phases.indexOf(r):function(e,t){var n=t.shape,r=n.header&&n.hasHeader?1:0;return"Horizontal"===n.orientation?e.columnIndex:e.rowIndex-r}(t,n),c=a.phases.length;if(a.phases.length>1){l===c-1&&(o=!0,i=Xu(a.phases[l-1]));var h=Xu(a.phases[l]);if(a.phases.splice(l,1),!(e.diagramActions&Qr.UndoRedo)){var d={type:"PhaseCollectionChanged",changeType:"Remove",undoObject:h,previousPhase:i,redoObject:Xu(t),category:"Internal",isLastPhase:o};e.addHistoryEntry(d)}"Horizontal"===a.orientation?function(e,t,n,r){var i,o,a,s,l,c,h,d,u,p,f,g;for(r=void 0!==r?r:n.columnIndex,h=0;h<t.rows.length;h++)if((i=t.rows[h]).cells.length>1&&(o=i.cells[r],l=(a=i.cells.length-1===r?i.cells[r-1]:i.cells[r+1]).children[0],o.children.length>0))if(s=o.children[0],f=e.nameTable[s.id],0===a.children.length&&o.children.length>0)a.children=o.children,a.columnSpan=o.columnSpan-1;else{for(d=0;d<s.children.length;d++){if((p=s.children[d])instanceof mi){if((g=e.nameTable[p.id]).isLane||(g.parentId=l.id),i.cells.length-1===r&&(g.margin.left=g.wrapper.bounds.x-l.bounds.x,p.margin.left=g.wrapper.bounds.x-l.bounds.x),l.children.push(p),e.nameTable[l.id]){var A=e.nameTable[l.id];A.children||(A.children=[]),A.children.push(p.id)}s.children.splice(d,1),d--,f&&f.children&&-1!==f.children.indexOf(g.id)&&f.children.splice(f.children.indexOf(g.id),1)}if(i.cells.length-1!==r)for(u=0;u<l.children.length;u++){var m=l.children[u];if(m instanceof mi){var y=e.nameTable[m.id];y.margin.left=y.wrapper.bounds.x-s.bounds.x,m.margin.left=y.wrapper.bounds.x-s.bounds.x}}}if(f&&f.isPhase){var v=e.nameTable[l.id];v&&(l.maxWidth=v.wrapper.maxWidth=v.wrapper.maxWidth+=f.wrapper.maxWidth)}nh(e,f)}var b=t.columnDefinitions()[r].width;t.removeColumn(r),r<t.columnDefinitions().length?(c=t.columnDefinitions()[r].width,c+=b,t.updateColumnWidth(r,c,!0)):(c=t.columnDefinitions()[r-1].width,c+=b,t.updateColumnWidth(r-1,c,!0))}(e,s,t,l):function(e,t,n,r,i){var o,a,s,l,c,h,d,u,p=i.shape,f=void 0!==r?p.header?r+1:r:n.rowIndex,g=t.rows[f],A=i.wrapper.bounds.y,m=p.phases.length;void 0!==p.header&&p.hasHeader&&(A+=t.rowDefinitions()[0].height);var y=r===m?t.rows[f-1]:t.rows[f+1];for(s=0;s<g.cells.length;s++)if(o=g.cells[s],h=y.cells[s].children[0],o.children.length>0){var v=o.children[0],b=e.nameTable[v.id];if(r<m)for(c=0;c<h.children.length;c++)(d=h.children[c])instanceof mi&&((u=e.nameTable[d.id]).margin.top=u.wrapper.bounds.y-(0===r?A:v.bounds.y),d.margin.top=u.wrapper.bounds.y-(0===r?A:v.bounds.y));for(l=0;l<v.children.length;l++)(d=v.children[l])instanceof mi&&((u=e.nameTable[d.id]).parentId=h.id,r===m&&(u.margin.top=u.wrapper.bounds.y-(0===r?A:h.bounds.y),d.margin.top=u.wrapper.bounds.y-(0===r?A:h.bounds.y)),h.children.push(d),v.children.splice(l,1),l--,b.children&&-1!==b.children.indexOf(u.id)&&b.children.splice(b.children.indexOf(u.id),1));nh(e,b)}var w=t.rowDefinitions()[f].height;t.removeRow(f),f<t.rowDefinitions().length?(a=t.rowDefinitions()[f].height,a+=w,t.updateRowHeight(f,a,!0)):(a=t.rowDefinitions()[f-1].height,a+=w,t.updateRowHeight(f-1,a,!0))}(e,s,t,l,n),Xc(e,n),Dc(e,n,1),Fc(n,e),e.protectPropertyChange(!1),e.updateDiagramObject(n)}}function ah(e,t){var n;if(e.isLane){var r=t.getObject(e.parentId);if(r&&"SwimLane"===r.shape.type&&e.isLane){var i=Qc(r,e);n=r.shape.lanes[i]}}return n}function sh(e,t){if(e.isLane){var n=ah(e,t);if(t.eventHandler.action.includes("Resize")||n.canMove)return!0}return!1}function lh(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return!0;return!1}function ch(e,t){t instanceof iu&&(e.shape.header||(t.shape.hasHeader=!1))}function hh(e,t,n,r){return r=t?r:void 0!==e[n-1]?e[n-1]+r:0}function dh(e,t){var n=[];if(t)n=e;else{for(var r=0;r<e.length;r++)n.push(e[r]);n.push(e[n.length-2]),n.push(e[n.length-2])}return n}function uh(e,t){if(t instanceof iu)switch(v()?e.shape.umlActivityShape:e.shape.shape){case"JoinNode":e.width||(t.width=20),e.height||(t.height=90),e.style&&e.style.fill||(t.style.fill="black");break;case"ForkNode":e.width||(t.width=90),e.height||(t.height=20),e.style&&e.style.fill||(t.style.fill="black");break;case"InitialNode":case"FinalNode":e.style&&e.style.fill||(t.style.fill="black")}else switch(v()?e.shape.umlActivityFlow:e.shape.flow){case"Object":e.style&&e.style.strokeDashArray||(t.style.strokeDashArray="8 4"),e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow");break;case"Control":e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow"),e.sourceDecorator&&e.sourceDecorator.shape||(t.sourceDecorator.shape="None")}}function ph(e,t){switch(e.shape.type){case"Bpmn":switch(v()?e.shape.bpmnFlow:e.shape.flow){case"Sequence":("Normal"===e.shape.sequence&&"Bezier"!==e.type||"Default"===e.shape.sequence||"Conditional"===e.shape.sequence)&&(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"black"),"Conditional"===e.shape.sequence&&t.sourceDecorator&&(t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),t.sourceDecorator.width=e.sourceDecorator&&e.sourceDecorator.width||20,t.sourceDecorator.height=e.sourceDecorator&&e.sourceDecorator.width||10));break;case"Association":"Default"!==e.shape.association&&"Directional"!==e.shape.association&&"BiDirectional"!==e.shape.association||(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"black"),"BiDirectional"===e.shape.association&&t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white",t.sourceDecorator.width=e.sourceDecorator&&e.sourceDecorator.width||5,t.sourceDecorator.height=e.sourceDecorator&&e.sourceDecorator.height||10));break;case"Message":t.style&&!t.style.strokeDashArray&&(t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"4 4")}break;case"UmlActivity":switch(v()?e.shape.umlActivityFlow:e.shape.flow){case"Exception":"Directional"!==e.shape.association&&"BiDirectional"!==e.shape.association||(t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"2 2")}break;case"UmlClassifier":var n=!1;"Association"===e.shape.relationship?n=!0:"Inheritance"===e.shape.relationship?(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"white"),t.style&&(n=!0,t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"4 4")):"Composition"===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"black"),n=!0):"Aggregation"===e.shape.relationship||void 0===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0):"Dependency"===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0,t.style.strokeDashArray="4 4"):"Realization"===e.shape.relationship&&(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0),n&&(t.style.strokeWidth=e.style&&e.style.strokeWidth||2)}}function fh(e,t,n){var r;r=or.findLength(t,e)>or.findLength(n,e)?n:t;var i=or.findAngle(t,n),o=or.findAngle(r,e),a=or.findLength(r,e),s=o+2*(i-o);return{x:r.x+a*Math.cos(s*Math.PI/180),y:r.y+a*Math.sin(s*Math.PI/180)}}function gh(e,t,n){if(e&&e.children&&e.children.length>0)for(var r=void 0,i=0;i<e.children.length;i++)return(r=n[e.children[i]]).shape.type===t||gh(r,t,n);return!1}function Ah(e,t,n,r,i){if(n&&(e instanceof Al||e&&(e.shape&&"SwimLane"!==e.shape.type||void 0===e.shape)))for(var o=void 0,a=0,s=Object.keys(n);a<s.length;a++){var l=s[a];if(o=n[l],"shape"===l&&o.type&&(e.shape={type:o.type}),o)if(Array.isArray(o)&&o.length&&o.length>0&&"annotations"!==i&&"ports"!==i)if(e[l].length>0)for(var c=0;c<=e[l].length;c++)Ah(e[l],t?t[l]:void 0,n[l],"annotations"===l||"ports"===l?e:void 0,l);else Ah(e[l],t?t[l]:void 0,n[l],"annotations"===l||"ports"===l?e:void 0,l);else if(o instanceof Object&&t&&"annotations"!==i&&"ports"!==i)Ah(e[l],t[l],n[l]);else if("annotations"!==i&&"ports"!==i&&t&&!t[l]||!t&&e&&(e[l]||void 0!==e[l]))e[l]=n[l];else{var h=void 0;"annotations"!==i&&"ports"!==i||("annotations"===i?(e[l]&&Ah(e[l],t[l],n[l]),e[l]||(nd(r)===Al?(h=new Di(r,"annotations",n[l]),r.annotations.push(h)):(h=new Mi(r,"annotations",n[l]),r.annotations.push(h)))):e[l]?Ah(e[l],t[l],n[l]):(h=new Ti(r,"ports",n[l]),r.ports.push(h)))}}}function mh(e,t){for(var n="Bezier"===e.type?function(e){var t=[];if("Bezier"===e.type)for(var n=0,r=0;r<e.segments.length;r++)for(var i=e.segments[r],o=or.isEmptyPoint(i.point1)?i.bezierPoint1:i.point1,a=or.isEmptyPoint(i.point2)?i.bezierPoint2:i.point2,s=Number((e.distance(o,i.points[0])+e.distance(a,o)+e.distance(i.points[1],a))/1.5),l=0;l<s-1;l+=10)t[n]=dl(0,i.points[0],or.isEmptyPoint(i.point1)?i.bezierPoint1:i.point1,or.isEmptyPoint(i.point2)?i.bezierPoint2:i.point2,i.points[1],l,s),n++;return t}(e):e.intermediatePoints,r=0;r<n.length-1;r++){var i=n[r],o=n[r+1],a=Ar.toBounds([i,o]);if(a.Inflate(e.hitPadding),a.containsPoint(t)){var s=fh(t,i,o),l=yh({x1:i.x,x2:o.x,y1:i.y,y2:o.y},{x1:t.x,x2:s.x,y1:t.y,y2:s.y});if(l.enabled){var c=or.findLength(t,l.intersectPt);if(Math.abs(c)<e.hitPadding)return!0}else{var h=Ar.toBounds([t,t]);if(h.Inflate(3),h.containsPoint(i)||h.containsPoint(o))return!0}if(or.equals(t,s))return!0}}if(e.annotations.length>0){var d=e.wrapper.children;for(r=3;r<d.length;r++){if(d[r].bounds.containsPoint(t))return!0}}return!1}function yh(e,t){var n={x:0,y:0},r=e,i=t,o=(i.y2-i.y1)*(r.x2-r.x1)-(i.x2-i.x1)*(r.y2-r.y1),a=(i.x2-i.x1)*(r.y1-i.y1)-(i.y2-i.y1)*(r.x1-i.x1),s=(r.x2-r.x1)*(r.y1-i.y1)-(r.y2-r.y1)*(r.x1-i.x1);if(0===o||(e.x1===t.x1||e.y1===t.y1)&&(e.x2===t.x2||e.y2===t.y2)&&(0===a||0===s)&&o>0)return{enabled:!1,intersectPt:n};var l=a/o,c=s/o;return l>=0&&l<=1&&c>=0&&c<=1?(n.x=r.x1+l*(r.x2-r.x1),n.y=r.y1+l*(r.y2-r.y1),{enabled:!0,intersectPt:n}):{enabled:!1,intersectPt:n}}function vh(e,t,n,r){var i=yh(bh(e.x,e.y,t.x,t.y),bh(n.x,n.y,r.x,r.y));return i.enabled?i.intersectPt:{x:0,y:0}}function bh(e,t,n,r){return{x1:Number(e)||0,y1:Number(t)||0,x2:Number(n)||0,y2:Number(r)||0}}function wh(e,t,n){var r=[];n=n||0;var i={x:t.topLeft.x-n,y:t.topLeft.y},o={x:t.topRight.x+n,y:t.topRight.y},a={x:t.bottomRight.x,y:t.bottomRight.y-n},s={x:t.bottomLeft.x,y:t.bottomLeft.y+n};return r.push(i),r.push(o),r.push(a),r.push(s),r}function xh(e,t,n,r){var i=n instanceof iu?n.constraints&Mr.InheritTooltip:n.constraints&kr.InheritTooltip,o=n instanceof iu?n.constraints&Mr.Tooltip:n.constraints&kr.Tooltip,a="Mouse"===(!i&&o?n.tooltip.relativeMode:e.tooltip.relativeMode);"Mouse"===r?a=!0:"Object"===r&&(a=!1);var s=function(e,t,n,r){var i={},o=document.getElementById(n.element.id),a=e.wrapper.bounds,s=o.getBoundingClientRect();switch(n.tooltipObject.position){case"BottomCenter":i=Ch(t,a.bottomCenter,n,r,s.width/2,s.height);break;case"BottomLeft":case"LeftBottom":i=Ch(t,a.bottomLeft,n,r,0,s.height);break;case"BottomRight":case"RightBottom":i=Ch(t,a.bottomRight,n,r,s.width,s.height);break;case"LeftCenter":i=Ch(t,a.middleLeft,n,r,0,s.height/2);break;case"LeftTop":case"TopLeft":i=Ch(t,a.topLeft,n,r,0,0);break;case"RightCenter":i=Ch(t,a.middleRight,n,r,s.width,s.height/2);break;case"RightTop":case"TopRight":i=Ch(t,a.topRight,n,r,s.width,0);break;case"TopCenter":i=Ch(t,a.topCenter,n,r,s.width/2,0)}return i}(n,t,e,a),l=Cl(e);return{x:s.x+l.width,y:s.y+l.height}}function Ch(e,t,n,r,i,o){var a={},s=n.scroller.transform.scale,l=n.scroller.horizontalOffset,c=n.scroller.verticalOffset;return a.x=(r?e.x:t.x)*s+l-i,a.y=(r?e.y:t.y)*s+c-o,a}function Sh(e,t){var n=new wi;return n.data=e.pathData,n.height=e.height>10?e.height-(e.padding.bottom+e.padding.top):e.height,n.width=e.width>10?e.width-(e.padding.left+e.padding.right):e.width,n.visible=t.visible,n.id=t.id+"_shape",n.inversedAlignment=!1,n.horizontalAlignment="Center",n.verticalAlignment="Center",n.style={fill:e.iconStrokeColor,strokeColor:e.iconStrokeColor,strokeWidth:e.iconStrokeWidth},n.setOffsetWithRespectToBounds(.5,.5,"Fraction"),n.relativeMode="Object",n.description=t.description||"",n}function Bh(e,t,n){var r=Ph(e,t),i=or.findAngle(e[r.index],e[r.index+1]),o=function(e){var t;t=e instanceof Xs?0:void 0===e.content?10:0;var n=0;switch(e.alignment){case"Center":n=0;break;case"Before":n=-(0+t);break;case"After":n=0+t}return n}(t),a=or.transform(r.point,i+45,o);return r.point=a,r.angle=i,r}function Ph(e,t){for(var n,r,i,o,a=0,s=t.offset,l=[],c=0;c<e.length-1;c++)a+=or.distancePoints(e[c],e[c+1]),l.push(a);for(var h=s*a,d=0;d<l.length;d++){if(l[d]>=h)return r=or.findAngle(e[d],e[d+1]),{point:n=or.transform(e[d],r,h-(i||0)),index:o=d};i=l[d]}return{point:n,index:o}}function Eh(e,t){if(e instanceof iu&&e.children)for(var n=0;n<e.children.length;n++)t.nameTable[e.children[n]].children&&Eh(e,t),t.removeFromAQuad(t.nameTable[e.children[n]]),t.removeObjectsFromLayer(t.nameTable[e.children[n]]),delete t.nameTable[e.children[n]]}function Oh(e,t){if(e&&e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children[n];r instanceof mi&&Oh(r,t)}return-1===t.indexOf(e.id)&&t.push(e.id),t}function Th(e){var t=function(e){for(var t,n,r=[],i=0;i<e.length;i++)if("SwimLane"===(t=e[i]).shape.type){n=t.wrapper.children[0].childTable;for(var o=0,a=Object.keys(n);o<a.length;o++)r=Oh(n[a[o]],r)}return r}(e.nodes),n=Xu(e,e.getCustomProperty);return n.selectedItems.nodes=[],n.selectedItems.connectors=[],n.selectedItems.wrapper=null,e.serializationSettings.preventDefaults&&(n=Ih(n,e)),function(e,t){var n=t.nodes;if(n)for(var r=0;r<n.length;r++)-1!==e.indexOf(n[r].id)&&(n.splice(r,1),r--)}(t,n),JSON.stringify(n)}function Ih(e,t,n,r){n=function(e,t){var n,r=[],i=new Rf,o="getClassName";if(e[o])switch(e[o]()){case"Diagram":n=new Rf;break;case"Node":n=new iu(i,"",r);break;case"Path":n=new Ld(i,"",r);break;case"Native":n=new kd(i,"",r);break;case"Html":n=new Nd(i,"",r);break;case"Image":n=new Md(i,"",r);break;case"Text":n=new Dd(i,"",r);break;case"BasicShape":n=new Rd(i,"",r);break;case"FlowShape":n=new jd(i,"",r);break;case"BpmnShape":n=new Yd(i,"",r);break;case"UmlActivityShape":n=new Kd(i,"",r);break;case"UmlClassifierShape":n=new nu(i,"",r);break;case"SwimLane":n=new lu(i,"",r),e.header&&(n.header=new ou(i,"",r),n.header.style.fill="");break;case"ShapeAnnotation":n=new Mi(i,"",r);break;case"PointPort":n=new Ti(i,"",r);break;case"BpmnGateway":n=new _d(i,"",r);break;case"BpmnDataObject":n=new Fd(i,"",r);break;case"BpmnEvent":n=new Ud(i,"",r);break;case"BpmnSubEvent":n=new zd(i,"",r);break;case"BpmnActivity":n=new Vd(i,"",r);break;case"BpmnAnnotation":n=new Xd(i,"",r);break;case"MethodArguments":n=new Gd(i,"",r);break;case"UmlClassAttribute":n=new qd(i,"",r);break;case"UmlClassMethod":n=new Jd(i,"",r);break;case"UmlClass":n=new Zd(i,"",r);break;case"UmlInterface":n=new $d(i,"",r);break;case"UmlEnumerationMember":n=new eu(i,"",r);break;case"UmlEnumeration":n=new tu(i,"",r);break;case"Lane":n=new au(i,"",r);break;case"Phase":n=new su(i,"",r);break;case"ChildContainer":n=new cu;break;case"Connector":n=new Al(i,"",r);break;case"StraightSegment":n=new rl(i,"",r);break;case"BezierSegment":n=new il(i,"",r);break;case"OrthogonalSegment":n=new ol(i,"",r);break;case"PathAnnotation":n=new Di(i,"",r);break;case"Stop":n=new ni(i,"",r);break;case"Point":n=t||new or(i,"",r);break;case"UserHandle":n=new nc(i,"",r);break;case"Command":n=new lc(i,"",r)}else n=t;return n}(t,n);for(var i=[],o=0,a=i=i.concat(Object.keys(e));o<a.length;o++){var s=a[o];t instanceof iu&&(r="shape"===s),e[s]instanceof Array?Lh(e,n,t,s):e[s]instanceof Object&&n&&n[s]?"wrapper"!==s&&(e[s]=Ih(e[s],t[s],n[s],r)):(n&&e[s]===n[s]||void 0===e[s])&&(r&&"type"===s||t instanceof lu&&"orientation"===s||delete e[s]),"[]"!==JSON.stringify(e[s])&&"{}"!==JSON.stringify(e[s])&&void 0!==e[s]||delete e[s]}return e}function Lh(e,t,n,r){if(0===e[r].length)delete e[r];else if(e[r].every((function(e){return"number"===typeof e}))){var i=void 0,o=!0;for(i=0;i<e[r].length;i++)o=!(!o||e[r][i]!==t[r][i]);o&&delete e[r]}else{i=void 0;if("layers"===r&&(e[r].splice(0,1),0===e[r].length&&delete e[r]),e[r])for(i=e[r].length-1;i>=0;i--)"nodes"!==r&&"connectors"!==r||(e[r][i].wrapper=null),"dataManager"!==r&&(e[r][i]=Ih(e[r][i],n[r][i],void 0!==t[r]?t[r][i]:[]),"[]"!==JSON.stringify(e[r][i])&&"{}"!==JSON.stringify(e[r][i])&&void 0!==e[r][i]||e[r].splice(i,1))}}function kh(e,t){t.enableServerDataBinding(!1);var n=t.blazorActions;t.blazorActions=t.addConstraints(n,Pr.ClearObject),t.clear(),t.blazorActions=t.removeConstraints(n,Pr.ClearObject),t.protectPropertyChange(!0);for(var r=t.dataSourceSettings.doBinding,i=t.setNodeTemplate,o=t.getDescription,a=t.getCustomProperty,s={},l=0,c=t.commandManager.commands;l<c.length;l++){var h=c[l];s[h.name]={execute:h.execute,canExecute:h.canExecute}}var d=t.rulerSettings.horizontalRuler.arrangeTick,u=t.rulerSettings.verticalRuler.arrangeTick,p=t.layout.getLayoutInfo,f=t.layout.getBranch,g=t.getNodeDefaults,A=t.getConnectorDefaults,m=JSON.parse(e);m=function(e){if(e&&(void 0===e.version||e.version<17.1)&&e.nodes)for(var t=0,n=e.nodes;t<n.length;t++){var r=n[t];if(r&&r.ports&&r.ports.length>0)for(var i=0,o=r.ports;i<o.length;i++){var a=o[i];a&&a.constraints&&a.constraints===Gr.None&&(a.constraints=Gr.Default)}}return e}(m),t.contextMenuSettings=m.contextMenuSettings||{},t.constraints=m.constraints||jr.Default,t.tool=m.tool||_r.Default,t.bridgeDirection=m.bridgeDirection||"Top",t.pageSettings=m.pageSettings||{},t.drawingObject=m.drawingObject||void 0,t.tooltip=m.tooltip||{},t.addInfo=m.addInfo||void 0,t.getDescription=o,t.scrollSettings=m.scrollSettings||{},t.commandManager=m.commandManager||{},t.layers=m.layers||[],t.rulerSettings.horizontalRuler.arrangeTick=d,t.rulerSettings.verticalRuler.arrangeTick=u;for(var y=0,v=t.commandManager.commands;y<v.length;y++){var b=v[y];s[b.name]&&(b.execute=s[b.name].execute,b.canExecute=s[b.name].canExecute)}if(t.backgroundColor=m.backgroundColor||"transparent",t.basicElements=m.basicElements||[],t.connectors=m.connectors||[],t.dataSourceSettings=m.dataSourceSettings||{},t.dataSourceSettings.doBinding=r,t.height=m.height||"100%",t.setNodeTemplate=i,t.getConnectorDefaults=A,t.getNodeDefaults=g,t.getCustomProperty=a,t.mode=m.mode||"SVG",m.nodes)for(var w=0;w<m.nodes.length;w++)m.nodes[w].shape&&"SwimLane"===m.nodes[w].shape.type&&(null==m.nodes[w].wrapper&&(m.nodes[w].wrapper={actualSize:{width:m.nodes[w].width,height:m.nodes[w].height},offsetX:m.nodes[w].offsetX,offsetY:m.nodes[w].offsetY}),Zc(m.nodes[w],void 0,void 0,void 0,void 0,!0));t.nodes=m.nodes||[],t.rulerSettings=m.rulerSettings||{},t.snapSettings=m.snapSettings||{},t.width=m.width||"100%",t.layout=m.layout||{},"None"!==m.layout.type&&(t.canLayout=!1),t.layout.getLayoutInfo=ip(p),t.layout.getBranch=ip(f),t.diagramActions=0,t.isLoading=!0,t.protectPropertyChange(!1);var x;for(w=0;w<t.views.length;w++)x=t.views[t.views[w]],t.blazorActions=t.addConstraints(n,Pr.ClearObject),x.refresh(),t.blazorActions=t.removeConstraints(n,Pr.ClearObject),x instanceof Rf&&t.element.classList.add("e-diagram");return m.selectedItems&&(m.selectedItems.nodes=[],m.selectedItems.connectors=[]),t.selectedItems=m.selectedItems,t.enableServerDataBinding(!0),t.canLayout=!0,m}function Nh(e,t){var n=t.style,r=t;t.canApplyStyle=!0;for(var i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"fill":n.fill=e.fill,n instanceof li&&(n.fill="transparent");break;case"textOverflow":n.textOverflow=e.textOverflow;break;case"opacity":n.opacity=e.opacity;break;case"strokeColor":n.strokeColor=e.strokeColor;break;case"strokeDashArray":n.strokeDashArray=e.strokeDashArray;break;case"strokeWidth":n.strokeWidth=e.strokeWidth;break;case"bold":n.bold=e.bold;break;case"color":n.color=e.color;break;case"textWrapping":n.textWrapping=e.textWrapping;break;case"fontFamily":n.fontFamily=e.fontFamily;break;case"fontSize":n.fontSize=e.fontSize;break;case"italic":n.italic=e.italic;break;case"textAlign":n.textAlign=e.textAlign;break;case"whiteSpace":n.whiteSpace=e.whiteSpace;break;case"textDecoration":n.textDecoration=e.textDecoration;break;case"gradient":if(n.gradient){Mh(e.gradient,n.gradient);break}}}t instanceof gi&&r.refreshTextElement()}function Mh(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"type":t.type=e.type;break;case"x1":t.x1=e.x1;break;case"x2":t.x2=e.x2;break;case"y1":t.y1=e.y1;break;case"y2":t.y2=e.y2;break;case"cx":t.cx=e.cx;break;case"cy":t.cy=e.cy;break;case"fx":t.fx=e.fx;break;case"fy":t.fy=e.fy;break;case"r":t.r=e.r;break;case"stops":t.stops=e.stops}}}function Dh(e,t,n){e.width=t.width,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.horizontalAlignment=t.wrapper.children[0].horizontalAlignment,e.verticalAlignment=t.wrapper.children[0].verticalAlignment,e.relativeMode=t.wrapper.children[0].relativeMode,e.visible=t.wrapper.children[0].visible,t.shape instanceof Dd&&(e.margin=t.shape.margin),e.id=t.wrapper.children[0].id,e.style=t.style;for(var r=0,i=n.views;r<i.length;r++){var o=i[r];Nu(t.id+"_groupElement",o),Nu(t.id+"_content_groupElement",o),Nu(t.id+"_html_element",o)}t.wrapper.children.splice(0,1),t.wrapper.children.splice(0,0,e)}function Rh(e,t,n,r){var i=new di;switch(e.shape.type){case"Path":var o=new wi;o.data=t.shape.data,Dh(i=o,t,r);break;case"Image":var a=new Ci;a.source=t.shape.source,a.imageAlign=t.shape.align,a.imageScale=t.shape.scale,Dh(i=a,t,r);break;case"Text":Dh(i=new gi,t,r);break;case"Basic":var s=(v()?"Rectangle"===t.shape.basicShape:"Rectangle"===t.shape.shape)?new di:new wi;!v()&&"Polygon"===t.shape.shape||v()&&"Polygon"===t.shape.basicShape?s.data=sr(t.shape.points):s.data=yi(v()?t.shape.basicShape:t.shape.shape),Dh(i,t,r),(!v()&&"Rectangle"===t.shape.shape||v()&&"Rectangle"===t.shape.basicShape)&&(s.cornerRadius=t.shape.cornerRadius),i=s;break;case"Flow":var l=new wi,c=v()?t.shape.flowShape:t.shape.shape;l.data=Fi(c),Dh(i=l,t,r);break;case"Native":var h=new Bi(e.id,r.element.id);h.content=t.shape.content,h.scale=t.shape.scale,Dh(i=h,t,r);break;case"HTML":var d=new Us(t.id,r.element.id);d.content=t.shape.content,Dh(i=d,t,r)}void 0===e.shape.type||e.shape.type===n.shape.type||v()&&"UmlActivity"===e.shape.type?function(e,t,n,r){if(Object.keys(e.shape).length>0)if("Path"===t.shape.type&&void 0!==e.shape.data)t.wrapper.children[0].data=e.shape.data;else if("Text"===t.shape.type&&void 0!==e.shape.content)t.wrapper.children[0].content=e.shape.content;else if("Image"===t.shape.type&&void 0!==e.shape.source)t.wrapper.children[0].source=e.shape.source;else if("Native"===t.shape.type){for(var i=void 0,o=0;o<n.views.length;o++)i=Au(t.wrapper.children[0].id+"_native_element",n.views[o]),void 0!==e.shape.content&&i&&(i.removeChild(i.children[0]),t.wrapper.children[0].content=e.shape.content,i.appendChild(Mu(t.wrapper.children[0],!1)));t.wrapper.children[0].scale=e.shape.scale?e.shape.scale:t.wrapper.children[0].scale}else if("HTML"===t.shape.type){var a=void 0;for(o=0;o<n.views.length;o++)(a=Au(t.wrapper.children[0].id+"_html_element",n.views[o]))&&(a.removeChild(a.children[0]),t.wrapper.children[0].content=e.shape.content,a.appendChild(Mu(t.wrapper.children[0],!0)))}else if("Flow"===t.shape.type&&(v()&&void 0!==e.shape.flowShape||void 0!==e.shape.shape)){t.shape.shape=v()?e.shape.flowShape:e.shape.shape;var s=Fi(t.shape.shape.toString());t.wrapper.children[0].data=s}else if("UmlActivity"===t.shape.type&&(v()&&void 0!==e.shape.umlActivityShape||!v()&&void 0!==e.shape.shape))!function(e,t){v()?e.shape.umlActivityShape=t.shape.umlActivityShape:e.shape.shape=t.shape.shape;var n=rc((v()?e.shape.umlActivityShape:e.shape.shape).toString());v()&&"InitialNode"===e.shape.umlActivityShape||!v()&&"InitialNode"===e.shape.shape||!v()&&("ForkNode"===e.shape.shape||"JoinNode"===e.shape.shape)||v()&&("ForkNode"===e.shape.umlActivityShape||"JoinNode"===e.shape.umlActivityShape)?e.wrapper.children[0].style.fill="black":(!v()&&"FinalNode"===e.shape.shape||v()&&"FinalNode"===e.shape.umlActivityShape)&&e instanceof iu&&(e.wrapper=jh(e));n&&(e.wrapper.children[0].data=n)}(t,e);else if(void 0!==e.shape.cornerRadius)t.wrapper.children[0].cornerRadius=e.shape.cornerRadius;else if("Basic"===t.shape.type&&r&&"Rectangle"===r.shape.shape){var l=new wi,c=yi(v()?t.shape.basicShape:t.shape.shape);l.data=c,Dh(l,t,n)}else if(v()&&void 0!==e.shape.basicShape||void 0!==e.shape.shape){t.shape.shape=v()?e.shape.basicShape:e.shape.shape;var h=yi(t.shape.shape.toString());t.wrapper.children[0].data=h}t.wrapper.children[0].canMeasurePath=!0}(e,t,r,n):(i.width=t.wrapper.children[0].width,i.height=t.wrapper.children[0].height,t.shape instanceof Dd&&(i.margin=t.shape.margin),i.style=t.style,t.wrapper.children[0]=i)}function jh(e){var t=new mi;t.style.fill="transparent";var n="M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",r=new wi;r.data=n,r.id=e.id+"_0_finalNode",r.horizontalAlignment="Center",r.verticalAlignment="Center",r.relativeMode="Object",r.style.strokeColor=e.style.strokeColor,r.style.strokeWidth=e.style.strokeWidth;var i=new wi;return i.data=n,i.id=e.id+"_1_finalNode",i.horizontalAlignment="Center",i.verticalAlignment="Center",i.relativeMode="Object",i.style.fill=e.style.fill,i.style.strokeColor=e.style.strokeColor,i.style.strokeWidth=e.style.strokeWidth,t.children=[r,i],t.children[0].width=e.width,t.children[0].height=e.height,t.children[1].height=e.height/1.5,t.children[1].width=e.width/1.5,t.style.strokeWidth=0,t.style.strokeColor="transparent",t}function _h(e){Nu(e+"_linear"),Nu(e+"_radial")}function Fh(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Hh(e,t,n){var r;e.intermediatePoints=t,e.updateSegmentElement(e,t,e.wrapper.children[0],n);var i=e.sourceDecorator;if("Bezier"===e.type){var o=e.segments[0],a=e.segments[e.segments.length-1];r=[or.isEmptyPoint(a.point2)?a.bezierPoint2:a.point2,or.isEmptyPoint(o.point1)?o.bezierPoint1:o.point1]}else r=e.intermediatePoints;t=e.clipDecorators(e,t,n);var s=e.wrapper.children[0];s.canMeasurePath=!0,s=e.wrapper.children[1],e.updateDecoratorElement(s,t[0],r[1],i);var l=e.targetDecorator;s=e.wrapper.children[2],e.updateDecoratorElement(s,t[t.length-1],r[r.length-2],l),e.updateShapeElement(e)}function Uh(e,t,n){var r,i=e.wrapper,o=i.bounds,a=t.offset,s=t.size/n.scale,l=t.margin,c=i.offsetX-i.actualSize.width*i.pivot.x,h=i.offsetY-i.actualSize.height*i.pivot.y;if(r={x:0,y:0},e.nodes.length>0){switch(t.side){case"Top":r.x+=c+o.width*a,r.y+=h-(s/2+12.5);break;case"Bottom":r.x+=c+a*o.width,r.y+=h+i.actualSize.height+(s/2+12.5);break;case"Left":r.x+=c-(s/2+12.5),r.y+=h+a*o.height;break;case"Right":r.x+=c+i.actualSize.width+(s/2+12.5),r.y+=h+a*o.height}r.x+=(l.left-l.right)/n.scale+s/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),r.y+=(l.top-l.bottom)/n.scale+s/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1)}else if(e.connectors.length>0){var d=e.connectors[0],u={offset:a},p=Ph(d.intermediatePoints,u),f=p.index;r=p.point;var g,A=Bh(d.intermediatePoints,u).angle;br(g=yr(),-A,d.intermediatePoints[f].x,d.intermediatePoints[f].y),(r=vr(g,r)).x+=l.left-l.right+s/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),r.y+=l.top-l.bottom+s/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1),br(g=yr(),A,d.intermediatePoints[f].x,d.intermediatePoints[f].y),r=vr(g,r)}0===i.rotateAngle&&0===i.parentTransform||(br(g=yr(),i.rotateAngle+i.parentTransform,i.offsetX,i.offsetY),r=vr(g,r));return r}function zh(e,t,n,r){if(r.annotation){if(_l(r.annotation))return!0}else if(Tr[t]&e&&Rr[t]&n)return!0;return!1}function Qh(e,t){return!!(Tr[t]&e)}function Wh(e,t){return e.visibility&t}function Vh(e,t){var n;if("Text"===e.shape.type)n=e.shape;else{var r=t.split("_");t=r[r.length-1];for(var i=0;i<e.annotations.length;i++)t===e.annotations[i].id&&(n=e.annotations[i])}return n}function Xh(e,t){var n=t.split("_");if(t=n[n.length-1],e){e=e;for(var r=0;r<e.ports.length;r++)if(t===e.ports[r].id)return e.ports[r]}}function Yh(e,t){var n={},r=0;if(e.ports){var i=e.ports;for(r=0;r<i.length;r++)t?i[r].constraints&Gr.InConnect&&(n=i[r]):i[r].constraints&Gr.OutConnect&&(n=i[r])}return n}function Kh(e,t,n){for(var r=n?e.annotations:e.ports,i=0;i<r.length;i++)if(r[i].id===t)return i.toString();return"-1"}function Gh(e,t){var n;for(n=0;n<e.length;n++)if(t===e[n].id)return!0;return!1}function qh(e,t,n,r){if(void 0!==e.width&&void 0!==e.height&&(e.width*=t,e.height*=n),e instanceof pi){var i=yr(),o=r.width||r.actualSize.width,a=r.height||r.actualSize.height;if(void 0!==o&&void 0!==a){var s=r.offsetX-o*r.pivot.x,l=r.offsetY-a*r.pivot.y,c={x:s+o*r.pivot.x,y:l+a*r.pivot.y};c=rp(r.rotateAngle,r.offsetX,r.offsetY,c),br(i,-r.rotateAngle,c.x,c.y),wr(i,t,n,c.x,c.y),br(i,r.rotateAngle,c.x,c.y);for(var h=0,d=e.children;h<d.length;h++){var u=d[h];if(void 0!==u.width&&void 0!==u.height){var p=vr(i,{x:u.offsetX,y:u.offsetY});u.offsetX=p.x,u.offsetY=p.y,qh(u,t,n,r)}}}}}function Jh(e,t,n,r,i,o){for(var a,s=e.children,l=0;l<s.length;l++)if(a=r[s[l]])if(a.children)Jh(a,t,n,r,i,o);else if(a.offsetX-=t,a.offsetY-=n,!i){r[a.id]=a;var c=a.initContainer();c.children||(c.children=[]);var h=a.init(o);c.children.push(h),c.measure(new nr(a.width,a.height)),c.arrange(c.desiredSize)}}function Zh(e,t,n){if(0===n.length)n.push(e);else if(1===n.length)n[0][t]>e[t]?n.splice(0,0,e):n.push(e);else if(n.length>1){for(var r=0,i=n.length-1,o=Math.floor((r+i)/2);o!==r;)if(n[o][t]<e[t])r=o,o=Math.floor((r+i)/2);else{if(!(n[o][t]>e[t]))break;i=o,o=Math.floor((r+i)/2)}n[i][t]<e[t]?n.push(e):n[r][t]>e[t]?n.splice(r,0,e):n[r][t]<e[t]&&n[i][t]>e[t]&&n.splice(i,0,e)}}function $h(e){var t=document.getElementById(e.diagramId),n="ej2_instances",r=t[n][0].nodes;void 0===r&&(r=function(e){for(var t=[],n=0;n<e.palettes.length;n++)for(var r=e.palettes[n].symbols,i=0;i<r.length;i++)r[i]instanceof iu&&t.push(r[i]);return t}(t[n][0]));for(var i=0;r&&i<r.length;i++)if(r[i].id===e.nodeId)return ed(r[i],e);var o=t[n][0].connectors;for(i=0;o&&i<o.length;i++)if(o[i].id===e.nodeId)return ed(o[i],e);var a=t[n][0].enterObject;return a&&(a.id===e.nodeId||a.children)?a.children&&gh(a,"HTML",t[n][0].enterTable)?t[n][0].enterTable[e.nodeId]:a:null}function ed(e,t){var n,r=e.annotations;for(n=0;r&&n<r.length;n++)if(t.annotationId&&r[n].id===t.annotationId)return r[n];return e}function td(e,t,n,r){return v()&&(e={cause:e.cause,state:n,type:r,cancel:!1,element:nd(t)===Al?{connector:ud(t)}:{node:ud(t)}}),e}var nd=function(e){return e&&(e=void 0!==e.sourceID||void 0!==e.sourcePoint||void 0!==e.targetID||void 0!==e.targetPoint||void 0!==e.type?Al:iu),e},rd=function(e){if(!e.sourceID&&!e.targetID){var t={x:e.sourcePoint.x,y:e.sourcePoint.y},n={x:e.targetPoint.x,y:e.targetPoint.y};"Horizontal"===e.flip?(e.sourcePoint.x=n.x,e.targetPoint.x=t.x):"Vertical"===e.flip?(e.sourcePoint.y=n.y,e.targetPoint.y=t.y):"Both"===e.flip&&(e.sourcePoint=n,e.targetPoint=t)}},id=function(e,t,n){var r=n.offset.x,i=n.offset.y;return"Horizontal"===t?(r=1-n.offset.x,i=n.offset.y):"Vertical"===t?(r=n.offset.x,i=1-n.offset.y):"Both"===t&&(r=1-n.offset.x,i=1-n.offset.y),e.setOffsetWithRespectToBounds(r,i,"Fraction"),e},od=function e(t,n,r,i,o){if(t.hasChildren())for(var a=0,s=t.children;a<s.length;a++){var l=s[a],c=n-l.offsetX+n,h=r-l.offsetY+r;"Horizontal"!==o&&"Both"!==o||(l.offsetX=c,l.flipOffset.x=c-l.desiredSize.width/2),"Vertical"!==o&&"Both"!==o||(l.offsetY=h,l.flipOffset.y=h-l.desiredSize.height/2),(l instanceof mi||l instanceof pi)&&e(l,n,r,i,o),l.measure(new nr(l.bounds.width,l.bounds.height)),l.arrange(l.desiredSize);var d=i.nameTable[l.id];d&&i.updateConnectorEdges(d)}},ad=function(e){var t=e.selectedItems.nodes,n=e.selectedItems.connectors,r=e.allowServerDataBinding,i=e.isProtectedOnChange;e.protectPropertyChange(!0),e.allowServerDataBinding=!1,e.selectedItems.nodes=[],e.selectedItems.connectors=[],e.allowServerDataBinding=r,e.protectPropertyChange(i);for(var o=Xu(e.selectedItems),a=0;a<t.length;a++)e.selectedItems.nodes.push(e.nameTable[t[a].id]);for(a=0;a<n.length;a++)e.selectedItems.connectors.push(e.nameTable[n[a].id]);return o},sd=function(e,t){for(var n,r=new wi,i=0;i<e.length-1;i++)n=cd(e[i],e[i+1]),r.data=n[0],r.id=t.id+"_"+t.shape.sequence,r.offsetX=n[1].x,r.offsetY=n[1].y,r.rotateAngle=45,r.transform=Fr.Self;return r},ld=function(e,t){if(e instanceof iu)for(var n=0;n<e.ports.length;n++)if(e.ports[n].id===t.id.split("_")[1])return!0;return!1},cd=function(e,t){var n={x:e.x,y:e.y},r=dd(e,t);r=Math.min(30,r/2);var i=uo(e,t),o=or.transform({x:n.x,y:n.y},i,r),a=or.transform({x:o.x,y:o.y},i,-12),s=or.transform({x:a.x,y:a.y},i,24);return["M"+a.x+" "+a.y+" L"+s.x+" "+s.y,o]},hd=function(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"Right":"Left":e.y<t.y?"Bottom":"Top"},dd=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function ud(e){return v()&&(e=Xu(e)),e}function pd(){return(navigator.platform.indexOf("Mac")>=0||navigator.platform.indexOf("iPad")>=0||navigator.platform.indexOf("iPhone")>=0||navigator.platform.indexOf("MacIntel")>=0)&&("safari"===le.info.name||"webkit"===le.info.name)}function fd(e,t,n,r){return void 0!==t.previewSize[r]?t.previewSize[r]:void 0!==e.symbolPreview[r]?e.symbolPreview[r]:t[r]||n.actualSize[r]}function gd(e,t,n){return e&&e.parentId&&(n=(e=t.nameTable[e.parentId]).parentId?gd(e,t,n):e.id),n}var Ad=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),md=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ad(t,e),md([_t("None")],t.prototype,"shape",void 0),md([_t("white")],t.prototype,"fill",void 0),md([_t("Auto")],t.prototype,"horizontalAlignment",void 0),md([_t("Auto")],t.prototype,"verticalAlignment",void 0),md([_t(10)],t.prototype,"width",void 0),md([_t(10)],t.prototype,"height",void 0),md([Ft({x:.5,y:1},or)],t.prototype,"offset",void 0),md([_t("#1a1a1a")],t.prototype,"borderColor",void 0),md([_t(1)],t.prototype,"borderWidth",void 0),md([Ft({},ei)],t.prototype,"margin",void 0),md([_t("")],t.prototype,"pathData",void 0),md([_t("")],t.prototype,"content",void 0),md([_t(0)],t.prototype,"cornerRadius",void 0),md([Ft({left:2,right:2,top:2,bottom:2},ei)],t.prototype,"padding",void 0),t}(on),vd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.orientation="Vertical",t.measureChildren=void 0,t.considerPadding=!0,t}return vd(t,e),t.prototype.measure=function(e){var t="Horizontal"===this.orientation?this.updateHorizontalStack:this.updateVerticalStack;return this.desiredSize=this.measureStackPanel(e,t),this.desiredSize},t.prototype.arrange=function(e){var t="Horizontal"===this.orientation?this.arrangeHorizontalStack:this.arrangeVerticalStack;return this.actualSize=this.arrangeStackPanel(e,t),this.updateBounds(),this.actualSize},t.prototype.measureStackPanel=function(t,n){var r=void 0;if(void 0!==this.children&&this.children.length>0)for(var i=0,o=this.children;i<o.length;i++){var a=o[i];a.parentTransform=this.rotateAngle+this.parentTransform,this.measureChildren?a.measure(a.desiredSize):a.measure(t);var s=a.desiredSize.clone();this.applyChildMargin(a,s),0!==a.rotateAngle&&(s=np(s,a.rotateAngle)),void 0===r?r=s:a.preventContainer||n(s,r)}return r=e.prototype.validateDesiredSize.call(this,r,t),this.stretchChildren(r),this.considerPadding&&this.applyPadding(r),r},t.prototype.arrangeStackPanel=function(t,n){if(void 0!==this.children&&this.children.length>0){var r=void 0,i=void 0;r=this.offsetX-t.width*this.pivot.x+this.padding.left,i=this.offsetY-t.height*this.pivot.y+this.padding.top;for(var o=0,a=this.children;o<a.length;o++){var s=a[o],l=s.desiredSize.clone(),c=l;"Vertical"===this.orientation?i+=s.margin.top:r+=s.margin.left,0!==s.rotateAngle&&(c=np(l,s.rotateAngle));var h=n(r,i,s,this,t,c);e.prototype.findChildOffsetFromCenter.call(this,s,h),s.arrange(l,!0),"Vertical"===this.orientation?i+=c.height+s.margin.bottom:r+=c.width+s.margin.right}}return t},t.prototype.updateHorizontalStack=function(e,t){t.height=Math.max(e.height,t.height),t.width+=e.width},t.prototype.updateVerticalStack=function(e,t){t.width=Math.max(e.width,t.width),t.height+=e.height},t.prototype.arrangeHorizontalStack=function(e,t,n,r,i,o){var a=0;if("Top"===n.verticalAlignment)a=t+n.margin.top+o.height/2;else if("Bottom"===n.verticalAlignment){a=r.offsetY+i.height*(1-r.pivot.y)-r.padding.bottom-n.margin.bottom-o.height/2}else a=r.offsetY-i.height*r.pivot.y+i.height/2,n.margin.top&&(a=t+n.margin.top+o.height/2);return{x:e+o.width/2,y:a}},t.prototype.arrangeVerticalStack=function(e,t,n,r,i,o){var a=0;if("Left"===n.horizontalAlignment)a=e+n.margin.left+o.width/2;else if("Right"===n.horizontalAlignment){a=r.offsetX+i.width*(1-r.pivot.x)-r.padding.right-n.margin.right-o.width/2}else a=r.offsetX-i.width*r.pivot.x+i.width/2,n.margin.left&&(a=e+n.margin.left+o.width/2);return{x:a,y:t+o.height/2}},t.prototype.stretchChildren=function(e){if(void 0!==this.children&&this.children.length>0)for(var t=0,n=this.children;t<n.length;t++){var r=n[t];"Vertical"===this.orientation?"Stretch"===r.horizontalAlignment&&(r.desiredSize.width=e.width-(r.margin.left+r.margin.right)):"Stretch"===r.verticalAlignment&&(r.desiredSize.height=e.height-(r.margin.top+r.margin.bottom))}},t.prototype.applyChildMargin=function(e,t){t.height+=e.margin.top+e.margin.bottom,t.width+=e.margin.left+e.margin.right},t}(pi);function wd(e,t,n){var r,i="NoWrap";"Class"===t.shape.classifier?r=t.shape.classShape:"Enumeration"===t.shape.classifier?r=t.shape.enumerationShape:"Interface"===t.shape.classifier&&(r=t.shape.interfaceShape),t.container={type:"Stack",orientation:"Vertical"},t.constraints=(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Resize),t.style={fill:t.style.fill,strokeColor:t.style.strokeColor,strokeWidth:1.5},t.children=[],t.maxWidth&&(i="Wrap");var o=new iu(n,"nodes",{id:t.id+"_umlClass_header",annotations:[{id:"name",content:r.name,offset:{x:.5,y:.65},margin:{left:10,right:10},style:{bold:!0,fontSize:14,color:r.style.color,fill:r.style.fill,textWrapping:i}},{content:"<<"+t.shape.classifier+">>",margin:{left:10,right:10},id:"class",style:{fontSize:r.style.fontSize,color:r.style.color,fill:r.style.fill,textWrapping:i},offset:{x:.5,y:.3},constraints:Nr.ReadOnly}],constraints:(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Drag|Mr.Resize),verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:t.style.fill,strokeColor:"black"===t.style.strokeColor?"#ffffff00":t.style.strokeColor}},!0);return n.initObject(o),n.nodes.push(o),n.UpdateBlazorDiagramModel(o,"Node"),t.children.push(o.id),function(e,t,n,r){if("Enumeration"===e.shape.classifier){var i=n.members;if(i&&i.length){xd(e,t);for(var o="",a=0;a<i.length;a++){var s=i[a];if(""!==s.name&&(o+=s.name),a!==i.length){var l=Cd(e,s),c=new iu(t,"nodes",{id:Uu()+"_umlMember",annotations:[{id:"name",content:o,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:r},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor,textWrapping:r},constraints:(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Drag|Mr.Resize),minHeight:25},!0);t.initObject(c),t.nodes.push(c),t.UpdateBlazorDiagramModel(c,"Node"),e.children.push(c.id),o="",s.isSeparator&&a!==i.length-1&&xd(e,t)}}}}else{var h=n.attributes;if(h.length){var d="";xd(e,t);for(a=0;a<h.length;a++){var u=void 0,p=h[a];if(u=p.scope&&"Public"===p.scope?" +":p.scope&&"Private"===p.scope?"-":p.scope&&"Protected"===p.scope?"#":"~",""!==p.name&&u&&(d+=u+" "+p.name+" : "+p.type),a!==h.length){l=Cd(e,p),c=new iu(t,"nodes",{id:Uu()+"_umlProperty",style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},annotations:[{id:"name",content:d,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:r},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Drag|Mr.Resize),minHeight:25},!0);t.initObject(c),t.nodes.push(c),t.UpdateBlazorDiagramModel(c,"Node"),e.children.push(c.id),d="",p.isSeparator&&a!==h.length-1&&xd(e,t)}}}}}(t,n,r,i),function(e,t,n,r){if(n.methods&&n.methods.length){var i=n.methods;xd(e,t);for(var o="",a="",s=void 0,l=0;l<i.length;l++){var c=i[l];if(s=c.scope&&"Public"===c.scope?" +":c.scope&&"Private"===c.scope?"-":c.scope&&"Protected"===c.scope?"#":"~",c.parameters)for(var h=0;h<c.parameters.length;h++)c.parameters[h].type?o+=c.parameters[h].name+":"+c.parameters[h].type:o+=c.parameters[h].name,h!==c.parameters.length-1&&(o+=",");if(""!==c.name&&s&&(a+=s+" "+c.name+"("+o+") : "+c.type),l!==i.length){var d=Cd(e,c),u=new iu(t,"nodes",{id:Uu()+"_umlMethods",verticalAlignment:"Stretch",horizontalAlignment:"Stretch",annotations:[{id:"name",content:a,offset:{x:0,y:.5},style:{bold:!0,fontSize:d.fontSize,color:d.color,fill:d.fill,textWrapping:r},margin:{left:14,right:5},horizontalAlignment:"Left"}],style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},minHeight:25,constraints:(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Drag|Mr.Resize)},!0);t.initObject(u),t.nodes.push(u),t.UpdateBlazorDiagramModel(u,"Node"),e.children.push(u.id),a="",c.isSeparator&&l!==i.length-1&&xd(e,t)}}}}(t,n,r,i),t.offsetX=t.offsetX,t.offsetY=t.offsetY,t.style.fill=t.style.fill,t.borderColor=t.borderColor,n.initObject(t),e}function xd(e,t){var n=new iu(t,"nodes",{id:Uu()+"_path",height:1,constraints:Mr.Default&~Mr.Select,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor}},!0);t.initObject(n),t.nodes.push(n),e.children.push(n.id)}function Cd(e,t){var n={},r=t.style;return n.fill="transparent"!==r.fill?r.fill:e.style.fill,n.color=r.color,n.fontSize=12!==r.fontSize?r.fontSize:e.style.fontSize,n.strokeColor="black"!==r.strokeColor?r.strokeColor:e.style.strokeColor,n.strokeWidth=1!==r.strokeWidth?r.strokeWidth:e.style.strokeWidth,n}var Sd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sd(t,e),Bd([_t("Horizontal")],t.prototype,"orientation",void 0),Bd([_t("Center")],t.prototype,"type",void 0),Bd([_t(void 0)],t.prototype,"offset",void 0),Bd([_t(!1)],t.prototype,"enableRouting",void 0),Bd([_t([])],t.prototype,"children",void 0),Bd([_t("")],t.prototype,"assistants",void 0),Bd([_t("")],t.prototype,"level",void 0),Bd([_t("")],t.prototype,"hasSubTree",void 0),Bd([_t("")],t.prototype,"rows",void 0),t}(on),Ed=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Od=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Td=function(e){if(e){if(v())return ru;switch(e.type){case"Basic":return Rd;case"Flow":return jd;case"Path":return Ld;case"Image":return Md;case"Text":return Dd;case"Bpmn":return Yd;case"Native":return kd;case"HTML":return Nd;case"UmlActivity":return Kd;case"UmlClassifier":return nu;case"SwimLane":return lu;default:return Rd}}return v()?ru:Rd},Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),Od([_t("Basic")],t.prototype,"type",void 0),t}(on),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Path"},Od([_t("Path")],t.prototype,"type",void 0),Od([_t("")],t.prototype,"data",void 0),t}(Id),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Native"},Od([_t("Native")],t.prototype,"type",void 0),Od([_t("")],t.prototype,"content",void 0),Od([_t("Stretch")],t.prototype,"scale",void 0),t}(Id),Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Html"},Od([_t("HTML")],t.prototype,"type",void 0),Od([_t("")],t.prototype,"content",void 0),t}(Id),Md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Image"},Od([_t("Image")],t.prototype,"type",void 0),Od([_t("")],t.prototype,"source",void 0),Od([_t("None")],t.prototype,"scale",void 0),Od([_t("None")],t.prototype,"align",void 0),t}(Id),Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Text"},Od([_t("Text")],t.prototype,"type",void 0),Od([_t("")],t.prototype,"content",void 0),Od([Ft({},ei)],t.prototype,"margin",void 0),t}(Id),Rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BasicShape"},Od([_t("Basic")],t.prototype,"type",void 0),Od([_t("Rectangle")],t.prototype,"shape",void 0),Od([_t(0)],t.prototype,"cornerRadius",void 0),Od([Ut([],or)],t.prototype,"points",void 0),t}(Id),jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"FlowShape"},Od([_t("Flow")],t.prototype,"type",void 0),Od([_t("Terminator")],t.prototype,"shape",void 0),t}(Id),_d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnGateway"},Od([_t("None")],t.prototype,"type",void 0),t}(on),Fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnDataObject"},Od([_t("None")],t.prototype,"type",void 0),Od([_t(!1)],t.prototype,"collection",void 0),t}(on),Hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),Od([_t("None")],t.prototype,"type",void 0),Od([_t("None")],t.prototype,"loop",void 0),Od([_t(!1)],t.prototype,"call",void 0),Od([_t(!1)],t.prototype,"compensation",void 0),t}(on),Ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnEvent"},Od([_t("Start")],t.prototype,"event",void 0),Od([_t("None")],t.prototype,"trigger",void 0),t}(on),zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnSubEvent"},Od([_t("None")],t.prototype,"trigger",void 0),Od([_t("Start")],t.prototype,"event",void 0),Od([_t("")],t.prototype,"id",void 0),Od([Ft({},or)],t.prototype,"offset",void 0),Od([Ut([],Mi)],t.prototype,"annotations",void 0),Od([Ut([],Ti)],t.prototype,"ports",void 0),Od([_t()],t.prototype,"width",void 0),Od([_t()],t.prototype,"height",void 0),Od([Ft({},ei)],t.prototype,"margin",void 0),Od([_t("Center")],t.prototype,"horizontalAlignment",void 0),Od([_t("Center")],t.prototype,"verticalAlignment",void 0),Od([_t(!0)],t.prototype,"visible",void 0),t}(on),Qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),Od([Ft({id:"success",event:"End",offset:{x:1,y:.5}},zd)],t.prototype,"success",void 0),Od([Ft({id:"failure",event:"Intermediate",trigger:"Error",offset:{x:.25,y:1}},zd)],t.prototype,"failure",void 0),Od([Ft({id:"cancel",event:"Intermediate",trigger:"Cancel",offset:{x:.75,y:1}},zd)],t.prototype,"cancel",void 0),t}(on),Wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),Od([_t("None")],t.prototype,"type",void 0),Od([_t(!1)],t.prototype,"adhoc",void 0),Od([_t("Default")],t.prototype,"boundary",void 0),Od([_t(!1)],t.prototype,"compensation",void 0),Od([_t("None")],t.prototype,"loop",void 0),Od([_t(!0)],t.prototype,"collapsed",void 0),Od([Ut([],zd)],t.prototype,"events",void 0),Od([Ft({},Qd)],t.prototype,"transaction",void 0),Od([_t(void 0)],t.prototype,"processes",void 0),t}(on),Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnActivity"},Od([_t("Task")],t.prototype,"activity",void 0),Od([Ft({},Hd)],t.prototype,"task",void 0),Od([Ft({},Wd)],t.prototype,"subProcess",void 0),t}(on),Xd=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnAnnotation"},Od([_t("")],t.prototype,"text",void 0),Od([_t("")],t.prototype,"id",void 0),Od([_t(0)],t.prototype,"angle",void 0),Od([_t()],t.prototype,"height",void 0),Od([_t()],t.prototype,"width",void 0),Od([_t(0)],t.prototype,"length",void 0),t}(on),Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"BpmnShape"},Od([_t("Bpmn")],t.prototype,"type",void 0),Od([_t("Event")],t.prototype,"shape",void 0),Od([Ft({},Ud)],t.prototype,"event",void 0),Od([Ft({},_d)],t.prototype,"gateway",void 0),Od([Ft({},Fd)],t.prototype,"dataObject",void 0),Od([Ft({},Vd)],t.prototype,"activity",void 0),Od([Ft({},Xd)],t.prototype,"annotation",void 0),Od([Ut([],Xd)],t.prototype,"annotations",void 0),t}(Id),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlActivityShape"},Od([_t("UmlActivity")],t.prototype,"type",void 0),Od([_t("Action")],t.prototype,"shape",void 0),t}(Id),Gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"MethodArguments"},Od([_t("")],t.prototype,"name",void 0),Od([_t("")],t.prototype,"type",void 0),Od([Ft({},ci)],t.prototype,"style",void 0),t}(on),qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlClassAttribute"},Od([_t("Public")],t.prototype,"scope",void 0),Od([_t(!1)],t.prototype,"isSeparator",void 0),t}(Gd),Jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlClassMethod"},Od([Ut([],Gd)],t.prototype,"parameters",void 0),t}(qd),Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlClass"},Od([_t("")],t.prototype,"name",void 0),Od([Ut([],qd)],t.prototype,"attributes",void 0),Od([Ut([],Jd)],t.prototype,"methods",void 0),Od([Ft({},ci)],t.prototype,"style",void 0),t}(on),$d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlInterface"},Od([_t(!1)],t.prototype,"isSeparator",void 0),t}(Zd),eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlEnumerationMember"},Od([_t("")],t.prototype,"name",void 0),Od([_t("")],t.prototype,"value",void 0),Od([_t(!1)],t.prototype,"isSeparator",void 0),Od([Ft({},ci)],t.prototype,"style",void 0),t}(on),tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlEnumeration"},Od([_t("")],t.prototype,"name",void 0),Od([Ut([],eu)],t.prototype,"members",void 0),Od([Ft({},ci)],t.prototype,"style",void 0),t}(on),nu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"UmlClassifierShape"},Od([_t("UmlClassifier")],t.prototype,"type",void 0),Od([Ft({},Zd)],t.prototype,"classShape",void 0),Od([Ft({},$d)],t.prototype,"interfaceShape",void 0),Od([Ft({},tu)],t.prototype,"enumerationShape",void 0),Od([_t("Class")],t.prototype,"classifier",void 0),t}(Id),ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"DiagramShape"},Od([_t("Basic")],t.prototype,"type",void 0),Od([_t("Rectangle")],t.prototype,"basicShape",void 0),Od([_t("Terminator")],t.prototype,"flowShape",void 0),Od([_t("Event")],t.prototype,"bpmnShape",void 0),Od([_t("Action")],t.prototype,"umlActivityShape",void 0),Od([_t("")],t.prototype,"data",void 0),Od([_t("")],t.prototype,"content",void 0),Od([_t("")],t.prototype,"textContent",void 0),Od([_t("Stretch")],t.prototype,"scale",void 0),Od([_t("")],t.prototype,"source",void 0),Od([_t("None")],t.prototype,"align",void 0),Od([Ft({},ei)],t.prototype,"margin",void 0),Od([_t(0)],t.prototype,"cornerRadius",void 0),Od([Ut([],or)],t.prototype,"points",void 0),Od([Ft({},Fd)],t.prototype,"dataObject",void 0),Od([Ft({},Ud)],t.prototype,"event",void 0),Od([Ft({},_d)],t.prototype,"gateway",void 0),Od([Ut([],Xd)],t.prototype,"annotations",void 0),Od([Ft({},Vd)],t.prototype,"activity",void 0),Od([Ft({},Xd)],t.prototype,"annotation",void 0),Od([Ft({},tu)],t.prototype,"enumerationShape",void 0),Od([_t("Class")],t.prototype,"classifier",void 0),Od([Ft({},Zd)],t.prototype,"classShape",void 0),Od([Ft({},$d)],t.prototype,"interfaceShape",void 0),t}(on),iu=function(e){function t(t,n,r,i){var o,a=e.call(this,t,n,r,i)||this;return a.isCanvasUpdate=!1,a.status="None",a.parentId="",a.processId="",a.umlIndex=-1,a.outEdges=[],a.inEdges=[],a.isHeader=!1,a.isLane=!1,a.isPhase=!1,a.children&&a.children.length>0&&((o=r).style&&o.style.fill||(a.style.fill="transparent"),o.style&&o.style.strokeColor||(a.style.strokeColor="transparent")),a.shape&&"UmlActivity"===a.shape.type&&uh(r,a),a.shape&&"SwimLane"===a.shape.type&&ch(r,a),a.ports&&a.ports.length&&function(e){for(var t=0;t<e.ports.length;t++)e.ports[t].inEdges=[],e.ports[t].outEdges=[]}(a),a}return Ed(t,e),Object.defineProperty(t.prototype,"actualSize",{get:function(){return null!==this.wrapper?this.wrapper.actualSize:new nr(this.width||0,this.height||0)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t,n;t="SwimLane"!==this.shape.type?new di:new uc;switch(this.shape.changedProperties={},this.shape.oldProperties={},this.shape.type){case"Path":var r=new wi;r.data=this.shape.data,t=r;break;case"Image":var i=new Ci;i.source=this.shape.source,i.imageAlign=this.shape.align,i.imageScale=this.shape.scale,t=i;break;case"Text":var o=new gi;o.content=v()?this.shape.textContent:this.shape.content,t=o,n=this.style,t.style=n;break;case"Basic":if(!v()&&"Rectangle"===this.shape.shape||v()&&"Rectangle"===this.shape.basicShape)(t=s=new di).cornerRadius=this.shape.cornerRadius;else if(!v()&&"Polygon"===this.shape.shape||v()&&"Polygon"===this.shape.basicShape){var a=new wi;a.data=sr(this.shape.points),t=a}else{var s=new wi,l=yi(v()?this.shape.basicShape:this.shape.shape);s.data=l,t=s}break;case"Flow":var c=new wi,h=Fi(v()?this.shape.flowShape:this.shape.shape);c.data=h,t=c;break;case"UmlActivity":t=function(e,t,n){var r=v()?n.shape.umlActivityShape:n.shape.shape,i=rc(r);switch(e.data=i,t=e,r){case"StructuredNode":if(n.annotations)for(var o=0;o<n.annotations.length;o++)n.annotations[o].content="<<"+n.annotations[o].content+">>";t=e;break;case"FinalNode":t=jh(n)}return t}(new wi,t,this);break;case"Bpmn":if(e.bpmnModule){t=e.bpmnModule.initBPMNContent(t,this,e),this.wrapper.elementActions=this.wrapper.elementActions|Dr.ElementIsGroup;var d=this.shape.activity.subProcess;if(d.processes&&d.processes.length)for(var u=0,p=this.shape.activity.subProcess.processes;u<p.length;u++){var f=p[u];!e.nameTable[f]||e.nameTable[f].processId&&e.nameTable[f].processId!==this.id||(e.nameTable[f].processId=this.id,d.collapsed&&e.updateElementVisibility(e.nameTable[f].wrapper,e.nameTable[f],!d.collapsed),t.children.push(e.nameTable[f].wrapper))}}break;case"Native":var g=new Bi(this.id,e.element.id);g.content=this.shape.content,g.scale=this.shape.scale,t=g;break;case"HTML":var A=new Us(this.id,e.element.id,void 0,e.nodeTemplate);this.shape.content?A.content=this.shape.content:e.nodeTemplate&&(A.isTemplate=!0,A.template=A.content=Mu(A,!0,this)),t=A;break;case"UmlClassifier":t=wd(t,this,e);break;case"SwimLane":this.annotations=[],this.ports=[],t.cellStyle.fill="none",t.cellStyle.strokeColor="none",this.container={type:"Grid",orientation:this.shape.orientation},t.id=this.id,this.container.orientation=this.shape.orientation,this.constraints|=Mr.HideThumbs,Ec(t,e,this)}return t.id=this.id+"_content",t.relativeMode="Object",void 0!==this.width&&(t.width=this.width),t.horizontalAlignment="Stretch",void 0!==this.height&&(t.height=this.height),void 0!==this.minHeight&&(t.minHeight=this.minHeight),void 0!==this.maxHeight&&(t.maxHeight=this.maxHeight),void 0!==this.minWidth&&(t.minWidth=this.minWidth),void 0!==this.maxWidth&&(t.maxWidth=this.maxWidth),(!v()&&"Rectangle"===this.shape.shape&&!this.shape.cornerRadius||v()&&"Rectangle"===this.shape.basicShape&&"Basic"===this.shape.type&&!this.shape.cornerRadius)&&(t.isRectElement=!0),t.verticalAlignment="Stretch",(this.shape instanceof Dd||v()&&"Text"===this.shape.type)&&(t.margin=this.shape.margin),Nl(this)&&0!==(this.constraints&Mr.Shadow)&&(t.shadow=this.shadow),("Bpmn"!==this.shape.type||!v()&&"Message"===this.shape.shape||v()&&"Message"===this.shape.bpmnShape||!v()&&"DataSource"===this.shape.shape||v()&&"DataSource"===this.shape.bpmnShape)&&("UmlActivity"!==this.shape.type||!v()&&"FinalNode"!==this.shape.shape||v()&&"FinalNode"!==this.shape.umlActivityShape)&&"Text"!==this.shape.type&&(t.style=this.style),(this.wrapper.elementActions&Dr.ElementIsGroup||"Horizontal"!==this.flip)&&"Vertical"!==this.flip||(t.flip=this.flip),t},t.prototype.initContainer=function(){var e;if(this.id||(this.id=Uu()),!this.container||this.shape instanceof lu)e=this.children?new pi:new mi;else switch(this.container.type){case"Canvas":e=new mi;break;case"Stack":e=new bd;break;case"Grid":(e=new uc).setDefinitions(this.rows,this.columns)}return e.id=this.id,e.offsetX=this.offsetX,e.offsetY=this.offsetY,e.visible=this.visible,e.horizontalAlignment=this.horizontalAlignment,e.verticalAlignment=this.verticalAlignment,this.container&&(e.width=this.width,e.height=this.height,"Stack"===this.container.type&&(e.orientation=this.container.orientation)),e.style.fill=this.backgroundColor,e.style.strokeColor=this.borderColor,e.style.strokeWidth=this.borderWidth,e.rotateAngle=this.rotateAngle,e.minHeight=this.minHeight,e.minWidth=this.minWidth,e.maxHeight=this.maxHeight,e.maxWidth=this.maxWidth,e.pivot=this.pivot,e.margin=this.margin,e.flip=this.flip,this.wrapper=e,e},t.prototype.initPorts=function(e,t){for(var n=0;this.ports,n<this.ports.length;n++)this.initPort(e,t,this.ports[n])},t.prototype.initPort=function(e,t,n){var r,i,o=this.wrapper;r=this.initPortWrapper(n);var a=ip(e);a&&(i=a(r,this)),r.description=i||r.id,r.inversedAlignment=o.inversedAlignment,r.elementActions=r.elementActions|Dr.ElementIsPort,t.children.push(r)},t.prototype.getIconOffet=function(e,t){var n,r;return"BottomToTop"===e.orientation?(n=t.offset.x,r=1-t.offset.y):"LeftToRight"===e.orientation?(n=t.offset.y,r=t.offset.x):"RightToLeft"===e.orientation?(n=1-t.offset.y,r=t.offset.x):(n=t.offset.x,r=t.offset.y),{x:n,y:r}},t.prototype.initIcons=function(e,t,n,r){var i,o=this.wrapper,a=this.isExpanded?this.expandIcon:this.collapseIcon;if("None"!==a.shape){var s=new mi;s.float=!0;s.id=this.id+"_icon_content",s.children=[],s.height=a.height,s.width=a.width,s.style.strokeColor="transparent",s.margin=a.margin,s.horizontalAlignment="Center",s.verticalAlignment="Center",s.visible=this.visible,i=this.getIconOffet(t,a),s.setOffsetWithRespectToBounds(i.x,i.y,"Fraction"),s.relativeMode="Point",this.initIconSymbol(a,s,e,r);var l=void 0,c=ip(e);c&&(l=c(a,this)),s.description=l||s.id,s.inversedAlignment=o.inversedAlignment,n.children.push(s)}},t.prototype.initfixedUserHandles=function(e){var t=this.wrapper,n=new mi;n.float=!0;e.id=e.id||Uu(),n.id=this.id+"_"+e.id,n.children=[],n.height=e.height,n.width=e.width,n.style.strokeColor=e.handleStrokeColor,n.style.fill=e.fill,n.style.strokeWidth=e.handleStrokeWidth,n.margin=e.margin,n.visible=e.visibility,n.cornerRadius=e.cornerRadius,n.horizontalAlignment="Center",n.verticalAlignment="Center";var r=this.getfixedUserHandleOffet(e);n.setOffsetWithRespectToBounds(r.x,r.y,"Fraction"),n.relativeMode="Point";var i=Sh(e,n);return n.children.push(i),n.description=n.id,n.inversedAlignment=t.inversedAlignment,n},t.prototype.getfixedUserHandleOffet=function(e){return{x:e.offset.x,y:e.offset.y}},t.prototype.initAnnotations=function(e,t,n,r,i){for(var o,a=0;this.annotations,a<this.annotations.length;a++){o=this.initAnnotationWrapper(this.annotations[a],n,r,a,i);var s=void 0,l=ip(e);l&&(s=l(o,this)),o.description=s||o.id,o.inversedAlignment=t.inversedAlignment,t.children.push(o)}},t.prototype.initPortWrapper=function(e){e.id=e.id||Uu();var t=new wi;t.height=e.height,t.width=e.width;var n="Custom"===e.shape?e.pathData:Ri(e.shape);t.id=this.id+"_"+e.id,t.margin=e.margin,t.data=n;var r=e.style;return t.style={fill:r.fill,strokeColor:r.strokeColor,gradient:null,opacity:r.opacity,strokeDashArray:r.strokeDashArray,strokeWidth:r.strokeWidth},t.horizontalAlignment=e.horizontalAlignment,t.verticalAlignment=e.verticalAlignment,t=id(t,this.flip,e),void 0===this.width&&void 0===this.height||(t.float=!0),t.relativeMode="Point",t.visible=!(!Wh(e,Er.Visible)||Wh(e,Er.Hover)||Wh(e,Er.Connect)),t.elementActions=t.elementActions|Dr.ElementIsPort,t},t.prototype.initAnnotationWrapper=function(e,t,n,r,i){e.id=e.id||r+"annotation"||Uu();var o,a=e;if(v()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),t&&(e.template||"Template"===e.annotationType||i&&""===e.content))o=Hu(o=new Us(this.id,t,e.id,i),e,i);else{(o=new gi).canMeasure=!n;var s=e.style,l=e.hyperlink.link?e.hyperlink:void 0;o.style={fill:s.fill,strokeColor:s.strokeColor,strokeWidth:s.strokeWidth,bold:s.bold,textWrapping:s.textWrapping,color:l?l.color||o.hyperlink.color:s.color,whiteSpace:s.whiteSpace,fontFamily:s.fontFamily,fontSize:s.fontSize,italic:s.italic,gradient:null,opacity:s.opacity,strokeDashArray:s.strokeDashArray,textAlign:s.textAlign,textOverflow:e.style.textOverflow,textDecoration:l?l.textDecoration||o.hyperlink.textDecoration:s.textDecoration},o.hyperlink.link=e.hyperlink.link||void 0,o.hyperlink.content=e.hyperlink.content||void 0,o.hyperlink.textDecoration=e.hyperlink.textDecoration||void 0,o.content=l?l.content||o.hyperlink.link:e.content}return o.constraints=e.constraints,o.height=e.height,o.width=e.width,o.visible=e.visibility,o.rotateAngle=e.rotateAngle,o.id=this.id+"_"+e.id,void 0===this.width||e.template||(void 0===e.width||e.width>this.width&&("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping))&&(o.width=this.width),o.margin=e.margin,o.horizontalAlignment=e.horizontalAlignment,o.verticalAlignment=e.verticalAlignment,o.setOffsetWithRespectToBounds(a.offset.x,a.offset.y,"Fraction"),void 0===this.width&&void 0===this.height||(o.float=!0),o.relativeMode="Point",o},t.prototype.initIconContainer=function(e,t){var n=new di;return n.id=t.id+"_rect",n.height=e.height,n.width=e.width,n.visible=t.visible,n.margin=e.margin,n.cornerRadius=e.cornerRadius,n.style={fill:e.fill,strokeColor:e.borderColor,strokeWidth:e.borderWidth},n.setOffsetWithRespectToBounds(.5,.5,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object",n.description=n.description||"Click here to expand or collapse",n},t.prototype.initIconSymbol=function(e,t,n,r){var i;if(t.children.push(this.initIconContainer(e,t)),"Template"===e.shape)(i=new Bi(this.id,r)).content=e.content,i.height=10,i.width=10;else{(i=new wi).data=function(e){var t;switch(e.shape){case"Minus":t="M0,50 L100,50";break;case"Plus":t="M0,-50 L0,50 M-50,0 L50,0";break;case"ArrowUp":t="M0,100 L50,0 L100,100 Z";break;case"ArrowDown":t="M0,0 L50,100 L100,0 Z";break;case"Path":t=e.pathData}return t}(e);var o=uu(i.data);i.height=o.height<10?o.height:10-(e.padding.bottom+e.padding.top),i.width=o.width<10?o.width:10-(e.padding.left+e.padding.right)}i.id=t.id+"_shape",i.horizontalAlignment="Center",i.verticalAlignment="Center",i.visible=t.visible,i.visible=t.visible,i.style={fill:"black",strokeColor:e.borderColor,strokeWidth:e.borderWidth},i.setOffsetWithRespectToBounds(.5,.5,"Fraction"),i.relativeMode="Object",i.description=t.description||"Click here to expand or collapse",t.children.push(i)},t.prototype.getClassName=function(){return"Node"},Od([Ut([],Mi)],t.prototype,"annotations",void 0),Od([_t(0)],t.prototype,"offsetX",void 0),Od([Ft({},Pd)],t.prototype,"layoutInfo",void 0),Od([_t(0)],t.prototype,"offsetY",void 0),Od([Ut([],Ti)],t.prototype,"ports",void 0),Od([_t(!0)],t.prototype,"isExpanded",void 0),Od([Ut([],Vs)],t.prototype,"fixedUserHandles",void 0),Od([Ft({},yd)],t.prototype,"expandIcon",void 0),Od([Ft({},yd)],t.prototype,"collapseIcon",void 0),Od([Ft({x:.5,y:.5},or)],t.prototype,"pivot",void 0),Od([_t()],t.prototype,"width",void 0),Od([_t()],t.prototype,"height",void 0),Od([_t()],t.prototype,"minWidth",void 0),Od([_t()],t.prototype,"minHeight",void 0),Od([_t()],t.prototype,"maxWidth",void 0),Od([_t()],t.prototype,"maxHeight",void 0),Od([_t(0)],t.prototype,"rotateAngle",void 0),Od([Ft({fill:"white"},ci)],t.prototype,"style",void 0),Od([_t("transparent")],t.prototype,"backgroundColor",void 0),Od([_t("none")],t.prototype,"borderColor",void 0),Od([_t(0)],t.prototype,"borderWidth",void 0),Od([_t()],t.prototype,"data",void 0),Od([Ht(Td)],t.prototype,"shape",void 0),Od([Ft({},Ds)],t.prototype,"previewSize",void 0),Od([Ft({},Ds)],t.prototype,"dragSize",void 0),Od([_t(null)],t.prototype,"wrapper",void 0),Od([_t(Mr.Default)],t.prototype,"constraints",void 0),Od([Ft({},ti)],t.prototype,"shadow",void 0),Od([_t()],t.prototype,"children",void 0),Od([_t(null)],t.prototype,"container",void 0),Od([_t("Left")],t.prototype,"horizontalAlignment",void 0),Od([_t("Top")],t.prototype,"verticalAlignment",void 0),Od([_t()],t.prototype,"rows",void 0),Od([_t()],t.prototype,"columns",void 0),Od([_t()],t.prototype,"rowIndex",void 0),Od([_t()],t.prototype,"columnIndex",void 0),Od([_t()],t.prototype,"rowSpan",void 0),Od([_t()],t.prototype,"columnSpan",void 0),Od([_t("")],t.prototype,"branch",void 0),t}(Fs),ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),Od([_t("")],t.prototype,"id",void 0),Od([Ft({},Ni)],t.prototype,"annotation",void 0),Od([Ft({fill:"#E7F4FF",strokeColor:"#CCCCCC"},si)],t.prototype,"style",void 0),Od([_t(50)],t.prototype,"height",void 0),Od([_t(50)],t.prototype,"width",void 0),t}(on),au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Lane"},Od([_t("")],t.prototype,"id",void 0),Od([Ft({fill:"#F9F9F9",strokeColor:"#CCCCCC"},si)],t.prototype,"style",void 0),Od([Ut([],iu)],t.prototype,"children",void 0),Od([_t(100)],t.prototype,"height",void 0),Od([_t(100)],t.prototype,"width",void 0),Od([Ft({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},ou)],t.prototype,"header",void 0),Od([_t(!0)],t.prototype,"canMove",void 0),t}(on),su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.getClassName=function(){return"Phase"},Od([_t("")],t.prototype,"id",void 0),Od([Ft({strokeColor:"#CCCCCC"},si)],t.prototype,"style",void 0),Od([Ft({annotation:{content:"Phase"}},ou)],t.prototype,"header",void 0),Od([_t(100)],t.prototype,"offset",void 0),t}(on),lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=20,t.hasHeader=!0,t}return Ed(t,e),t.prototype.getClassName=function(){return"SwimLane"},Od([_t("SwimLane")],t.prototype,"type",void 0),Od([_t(20)],t.prototype,"phaseSize",void 0),Od([Ut([],su)],t.prototype,"phases",void 0),Od([_t("Horizontal")],t.prototype,"orientation",void 0),Od([Ut([],au)],t.prototype,"lanes",void 0),Od([Ft({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},ou)],t.prototype,"header",void 0),Od([_t(!1)],t.prototype,"isLane",void 0),Od([_t(!1)],t.prototype,"isPhase",void 0),t}(Id),cu=function(){function e(){}return e.prototype.getClassName=function(){return"ChildContainer"},Od([_t("Canvas")],e.prototype,"type",void 0),Od([_t("Vertical")],e.prototype,"orientation",void 0),e}(),hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.init=function(e){var t=new pi;if(t.measureChildren=!1,t.children=[],this.annotation){var n=this.nodes.length>0?e.nameTable[this.nodes[0].id].wrapper:e.nameTable[this.connectors[0].id].wrapper,r=e.getWrapper(n,this.annotation.id);t.children.push(r)}else if(this.nodes||this.connectors){for(var i=0;i<this.nodes.length;i++){r=e.nameTable[this.nodes[i].id].wrapper;t.children.push(r)}for(var o=0;o<this.connectors.length;o++){r=e.nameTable[this.connectors[o].id].wrapper;t.children.push(r)}}var a=e.isProtectedOnChange;return e.protectPropertyChange(!1),this.wrapper=t,e.protectPropertyChange(a),t},Od([_t(null)],t.prototype,"wrapper",void 0),Od([Ut([],iu)],t.prototype,"nodes",void 0),Od([Ut([],Al)],t.prototype,"connectors",void 0),Od([_t()],t.prototype,"width",void 0),Od([_t()],t.prototype,"height",void 0),Od([_t(0)],t.prototype,"rotateAngle",void 0),Od([_t(0)],t.prototype,"offsetX",void 0),Od([_t(0)],t.prototype,"offsetY",void 0),Od([Ft({x:.5,y:.5},or)],t.prototype,"pivot",void 0),Od([_t("CompleteIntersect")],t.prototype,"rubberBandSelectionMode",void 0),Od([Ut([],nc)],t.prototype,"userHandles",void 0),Od([_t(Tr.All)],t.prototype,"constraints",void 0),Od([_t()],t.prototype,"setTooltipTemplate",void 0),t}(on);function du(e){var t,n=[];if("msie"===le.info.name||"edge"===le.info.name)for(var r=0;r<e.childNodes.length;r++)1===(t=e.childNodes[r]).nodeType&&n.push(t);else n=e.children;return n}function uu(e){if(e){window.measureElement.style.visibility="visible";var t=du(window.measureElement.children[2])[0];t.setAttribute("d",e);var n=t.getBBox(),r=new Ar(n.x,n.y,n.width,n.height);return window.measureElement.style.visibility="hidden",r}return new Ar(0,0,0,0)}function pu(e,t,n,r,i){var o=new nr,a=Ou("span",{style:"display:inline-block; line-height: normal"});return e.bold&&(a.style.fontWeight="bold"),e.italic&&(a.style.fontStyle="italic"),void 0!==n&&(a.style.width=n.toString()+"px"),void 0!==r&&(a.style.height=r.toString()+"px"),void 0!==i&&(a.style.maxWidth=i.toString()+"px"),a.style.fontFamily=e.fontFamily,a.style.fontSize=e.fontSize+"px",a.style.color=e.color,a.textContent=t,a.style.whiteSpace=tp(e.whiteSpace,e.textWrapping),a.style.wordBreak=void 0!==i?"break-word":Ju(e.textWrapping),document.body.appendChild(a),o.width=a.offsetWidth,o.height=a.offsetHeight,document.body.removeChild(a),o}function fu(e,t,n,r){var i,o=0,a=0,s=!1,l=t;return 0===l.x&&0===l.y||(o=0-Number(l.x),a=0-Number(l.y)),(e.actualSize.width!==l.width||e.actualSize.height!==l.height||r)&&(o=(r&&r.width||e.actualSize.width)/Number(l.width?l.width:1),a=(r&&r.height||e.actualSize.height)/Number(l.height?l.height:1),s=!0),i=cr(ur(ar(e.data)),o,a,s,l.x,l.y,0,0),s=!1,i}function gu(e){return Au(e).getElementsByClassName("e-diagram-layer")[0]}function Au(e,t){var n;return t&&(n=document.getElementById(t)),"msie"===le.info.name||"edge"===le.info.name?n?n.querySelector("#"+e):document.getElementById(e):n?n.querySelector("#"+CSS.escape(e)):document.getElementById(e)}function mu(e,t,n){var r,i,o,a=void 0,s="";"native"===n?(r=Pu(e),s="_content_groupElement"):"html"===n?(r=Eu(e).childNodes[0],s="_html_element"):(r=gu(i=e).getElementById(i+"_diagramLayer"),s="_groupElement");for(var l=0;r.childNodes&&l<r.childNodes.length;l++)if((o=r.childNodes[l])&&o.id===t+s){a=l;break}return a}function yu(e){return Au(e).getElementsByClassName("e-adorner-layer")[0]}function vu(e){return yu(e).getElementById(e+"_SelectorElement")}function bu(e){return yu(e).getElementById(e+"_diagramAdorner")}function wu(e){return Au(e).getElementsByClassName("e-userHandle-layer")[0]}function xu(e){return Au(e).getElementsByClassName("e-native-layer")[0]}function Cu(e){return Au(e).getElementsByClassName("e-grid-layer")[0]}function Su(e){return Au(e).getElementsByClassName("e-background-layer")[0].parentNode}function Bu(e){return Au(e).getElementsByClassName("e-background-layer")[0]}function Pu(e){return xu(e).getElementById(e+"_nativeLayer")}function Eu(e){var t=null;window.domTable[e+"html_layer"]?t=window.domTable[e+"html_layer"]:(t=Au(e).getElementsByClassName("e-html-layer")[0],window.domTable[e+"html_layer"]=t);return t}function Ou(e,t){var n=it(e);return ju(n,t),n}function Tu(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return Du(n,t),n}function Iu(e,t,n){for(var r=e;r&&!(n?r.id===t:Lu(r,t));)r=r.parentNode;return r}function Lu(e,t){return(" "+("object"===typeof e.className?e.className.animVal:e.className)+" ").indexOf(" "+t+" ")>-1}function ku(e,t,n){e=[];for(var r=0,i=n.length;r<i;r++)e.push({pageX:n[r].clientX,pageY:n[r].clientY,pointerId:null});return e}function Nu(e,t){var n=Au(e,t);n&&n.parentNode.removeChild(n)}function Mu(e,t,n){var r;if(t){r=Ou("div",{style:"height: 100%; width: 100%"})}else r=document.createElementNS("http://www.w3.org/2000/svg","g");var i,o,a=$h(e),s="",l={};if(a instanceof iu){if(l=a,"Native"===a.shape.type){!0;var c,h=document.createElementNS("http://www.w3.org/2000/svg","svg");document.body.appendChild(h),h.innerHTML=a.shape.content,c=h.getElementsByTagName("svg").length>0?h.getElementsByTagName("svg")[0].outerHTML:h.getElementsByTagName("g")[0].outerHTML,a.shape.content=c,e.content=c,h.parentElement.removeChild(h)}v()&&(s="diagramsf_node_template",l=ud(a)),i="nodeTemplate"}else l=a,v()&&(l=ud(a),s="diagramsf_annotation_template"),i="annotationTemplate";var d=document.getElementById(e.diagramId).ej2_instances[0];if("string"!==typeof e.content||e.isTemplate&&!v())if(e.isTemplate){f=void 0;f=e.getNodeTemplate()(Xu(n),d,i+"_"+("nodeTemplate"===i?n.id:e.nodeId+n.id),void 0,void 0,!1);for(var u=0;u<f.length;u++)r.appendChild(f[u])}else r.appendChild(e.content);else{var p=document.getElementById(e.content);if(p)r.appendChild(p);else for(var f=void 0,g=0,A=(f=je(e.content))(l,d,i,s);g<A.length;g++)o=A[g],r.appendChild(o)}return e.isTemplate?r:r.cloneNode(!0)}function Du(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)"style"!==n[r]?e.setAttribute(n[r],t[n[r]]):Ru(e,t[n[r]])}function Ru(e,t){for(var n=t.split(";"),r=0;r<n.length;r++){var i=n[r].split(":");2===i.length&&(e.style[i[0].trim()]=i[1].trim())}}function ju(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)"style"!==n[r]?e.setAttribute(n[r],t[n[r]]):Ru(e,t[n[r]])}function _u(){if(window.measureElement)window.measureElement.usageCount+=1;else{var e=Ou("div",{id:"measureElement",style:"visibility:hidden ; height: 0px ; width: 0px; overflow: hidden;"}),t=Ou("span",{style:"display:inline-block ; line-height: normal"});e.appendChild(t);var n=Ou("img",{});e.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");r.appendChild(i);document.createTextNode("");var o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.appendChild(o),window.measureElement=e,window.measureElement.usageCount=1,document.body.appendChild(e);window.measureElementCount?window.measureElementCount++:window.measureElementCount=1}}function Fu(e,t,n,r){return!(t.length>=1&&0===e.x)||"Clip"!==r.textOverflow&&"Ellipsis"!==r.textOverflow||"Wrap"!==r.textWrapping&&"WrapWithOverflow"!==r.textWrapping||(e.x=t[n-1]?t[n-1].x:-e.width/2),e.x}function Hu(e,t,n){return n&&!t.template?(e.isTemplate=!0,e.template=e.content=Mu(e,!0,t)):e.content=t.template,e}function Uu(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<5;r++){if("crypto"in window&&"getRandomValues"in crypto){var i=new Uint16Array(1);e=(window.msCrypto||window.crypto).getRandomValues(i)[0]%(t.length-1)}else e=Math.floor(Math.random()*t.length);0===r&&e<10?r--:n+=t.substring(e,e+1)}return n}function zu(e,t){if(e.nodes&&e.nodes.length>0)for(var n=0;n<e.nodes.length;n++)if(e.nodes[n].id===t)return n;if(e.connectors&&e.connectors.length>0)for(n=0;n<e.connectors.length;n++)if(e.connectors[n].id===t)return n;return null}function Qu(e){if(e){try{if(document.querySelectorAll(e).length)return je(document.querySelector(e).innerHTML.trim())}catch(t){return je(e)}}}function Wu(e){new Ar;var t=e.offsetY-e.actualSize.height*e.pivot.y,n=e.offsetY+e.actualSize.height*(1-e.pivot.y),r=e.offsetX-e.actualSize.width*e.pivot.x,i=e.offsetX+e.actualSize.width*(1-e.pivot.x),o={x:r,y:t},a={x:i,y:t},s={x:r,y:n},l={x:i,y:n};return Ar.toBounds([o,a,s,l])}function Vu(e){var t=new Ar,n=Wu(e),r=n.middleLeft,i=n.topCenter,o=n.bottomCenter,a=n.middleRight,s=n.topLeft,l=n.topRight,c=n.bottomLeft,h=n.bottomRight;if(e.corners={topLeft:s,topCenter:i,topRight:l,middleLeft:r,middleRight:a,bottomLeft:c,bottomCenter:o,bottomRight:h},0!==e.rotateAngle||0!==e.parentTransform){var d=yr();br(d,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=s=vr(d,s),e.corners.topCenter=i=vr(d,i),e.corners.topRight=l=vr(d,l),e.corners.middleLeft=r=vr(d,r),e.corners.middleRight=a=vr(d,a),e.corners.bottomLeft=c=vr(d,c),e.corners.bottomCenter=o=vr(d,o),e.corners.bottomRight=h=vr(d,h)}return t=Ar.toBounds([s,l,c,h]),e.corners.left=t.left,e.corners.right=t.right,e.corners.top=t.top,e.corners.bottom=t.bottom,e.corners.center=t.center,e.corners.width=t.width,e.corners.height=t.height,t}function Xu(e,t,n,r){var i={},o="properties";if(e){n=e.propName;var a=e[o]||e,s=[],l=[];if((s=s.concat(Object.keys(a))).push("version"),n){var c=ip(t);l=c?c(n):[],s=s.concat(l)}var h=function(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"];case"layers":return["objectZIndex"]}return[]}(n);s=s.concat(h),r&&(s=function(e,t){var n=[];return t instanceof iu?n=["width","height","offsetX","offsetY","container","visible","horizontalAlignment","verticalAlignment","backgroundColor","borderColor","borderWidth","rotateAngle","minHeight","minWidth","maxHeight","maxWidth","pivot","margin","flip","wrapper","constraints","style","annotations","ports","isExpanded","expandIcon"]:t instanceof Al?n=["constraints","sourcePadding","targetPadding","cornerRadius","flip","type","targetDecorator","sourceDecorator","sourceID","shape","bridgeSpace","annotations","segments","hitPadding","tooltip","previewSize","dragSize","style","sourcePortID","targetID","targetPortID","visible"]:t instanceof Js?n=["height","width","shape","style","pivot","pathData"]:t instanceof Id||t instanceof yd?(n.push("shape"),t instanceof Rd?n.push("cornerRadius"):t instanceof Text?n.push("margin"):t instanceof Image?(n.push("align"),n.push("scale")):t instanceof kd?n.push("scale"):t instanceof Yd?(n.push("activity"),n.push("annotations")):t instanceof yd&&(n.push("borderColor"),n.push("borderWidth"),n.push("cornerRadius"),n.push("fill"))):t instanceof Vd?n.push("subProcess"):t instanceof Hd?(n.push("call"),n.push("compensation"),n.push("loop")):t instanceof Wd?(n.push("adhoc"),n.push("boundary"),n.push("compensation"),n.push("loop"),n.push("processes")):t instanceof Oi?(n.push("height"),n.push("width"),n.push("visibility"),n.push("horizontalAlignment"),n.push("verticalAlignment"),n.push("shape")):t instanceof Ni?(n.push("constraints"),n.push("height"),n.push("horizontalAlignment"),n.push("rotateAngle"),n.push("template"),n.push("verticalAlignment"),n.push("visibility"),n.push("width"),n.push("margin")):t instanceof ei?(n.push("left"),n.push("right"),n.push("top"),n.push("bottom")):t instanceof ci&&(n=["strokeWidth","strokeDashArray","opacity","gradient","fontSize","fontFamily","textOverflow","textDecoration","whiteSpace","textWrapping","textAlign","italic","bold"]),t instanceof si&&(n.push("strokeColor"),n.push("color")),e.concat(n)}(s,e));for(var d=0,u=s;d<u.length;d++){var p=u[d];if("historyManager"!==p)if("wrapper"!==p)!(!e[p]||!e.hasOwnProperty("observers"))||(e[p]instanceof Array?i[p]=Yu(-1===h.indexOf(p)&&e[o]?e[o][p]:e[p],t,p,r):e[p]instanceof Array===!1&&e[p]instanceof HTMLElement?i[p]=e[p].cloneNode(!0).innerHtml:e[p]instanceof Array===!1&&e[p]instanceof Object?i[p]=Xu(-1===h.indexOf(p)&&e[o]?e[o][p]:e[p],void 0,void 0,r):i[p]=e[p]);else e[p]&&(i[p]={actualSize:{width:e[p].actualSize.width,height:e[p].actualSize.height},offsetX:e[p].offsetX,offsetY:e[p].offsetY})}}return i}function Yu(e,t,n,r){var i;if(e){i=[];for(var o=0;o<e.length;o++)e[o]instanceof Array?i.push(e[o]):e[o]instanceof Object?i.push(Xu(e[o],t,n,r)):i.push(e[o])}return i}function Ku(e,t){if(e){t||(t={properties:{}});for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(e[i]instanceof Array){var o=Gu(e[i],t.properties[i]);t.properties[i]&&t.properties[i].length||(t[i]=o)}else if(e[i]instanceof Array===!1&&e[i]instanceof HTMLElement)t[i]=e[i].cloneNode(!0).innerHtml;else if(e[i]instanceof Array===!1&&e[i]instanceof Object){var a=Ku(e[i],t.properties[i]);a.properties&&!Object.keys(a.properties).length&&delete a.properties,t[i]=a}else t[i]=void 0!==t.properties[i]?t[i]:e[i]}}return t}function Gu(e,t){var n=[],r=!1;t||(t=[]),t.length||(r=!0);for(var i=0;i<e.length;i++)if(e[i]instanceof Array){Gu(e[i],t[i]);r&&n.push(Gu)}else if(e[i]instanceof Object){var o=Ku(e[i],t[i]);r&&n.push(o)}else n.push(e[i]);return n}function qu(e){var t="";switch(e){case"Center":t="center";break;case"Left":t="left";break;case"Right":t="right"}return t}function Ju(e){var t="";switch(e){case"Wrap":t="breakall";break;case"NoWrap":t="keepall";break;case"WrapWithOverflow":t="normal";break;case"LineThrough":t="line-through"}return t}function Zu(e,t){window.measureElement.style.visibility="visible";var n=du(window.measureElement.children[2])[1];n.textContent=e,Ru(n,"font-size:"+t.fontSize+"px; font-family:"+t.fontFamily+";font-weight:"+(t.bold?"bold":"normal"));var r=n.getBBox().width;return window.measureElement.style.visibility="hidden",r}function $u(e,t){return(e+t)/2}function ep(e,t){var n,r=0,i=0,o=0,a="";n=e.length;var s=0;do{o>0&&(r=i),i=Math.floor($u(r,n)),o=Zu(a+=e.substr(r,i),t)}while(o<=t.width);for(a=a.substr(0,r),s=r;s<n;s++)if((o=Zu(a+=e[s],t))>=t.width){e=e.substr(0,a.length-1);break}return"Ellipsis"===t.textOverflow?(e=e.substr(0,e.length-3),e+="..."):e=e.substr(0,e.length),e}function tp(e,t){if("NoWrap"===t&&"PreserveAll"===e)return"pre";var n="";switch(e){case"CollapseAll":n="nowrap";break;case"CollapseSpace":n="pre-line";break;case"PreserveAll":n="pre-wrap"}return n}function np(e,t){var n=yr();br(n,t,0,0);var r=vr(n,{x:0,y:0}),i=vr(n,{x:e.width,y:0}),o=vr(n,{x:0,y:e.height}),a=vr(n,{x:e.width,y:e.height}),s=Math.min(r.x,i.x,o.x,a.x),l=Math.min(r.y,i.y,o.y,a.y),c=Math.max(r.x,i.x,o.x,a.x),h=Math.max(r.y,i.y,o.y,a.y);return new nr(c-s,h-l)}function rp(e,t,n,r){if(0!==e){var i=yr();return br(i,e,t,n),vr(i,r)}return r}function ip(e){return void 0!==e&&"string"===typeof e&&(e=l(e,window)),e}var op=function(){function e(){}return e.getContext=function(e){return e.getContext("2d")},e.setCanvasSize=function(e,t,n){e&&(e.setAttribute("width",t.toString()),e.setAttribute("height",n.toString()))},e.prototype.renderGradient=function(e,t,n,r){var i,o,a;if("None"!==e.gradient.type){for(var s=0;s<e.gradient.stops.length;s++)i=void 0!==i?e.gradient.stops[s].offset:Math.max(i,e.gradient.stops[s].offset),o=void 0!==o?e.gradient.stops[s].offset:Math.min(o,e.gradient.stops[s].offset);if("Linear"===e.gradient.type){var l=e.gradient;a=t.createLinearGradient(n+l.x1,r+l.y1,n+l.x2,r+l.y2)}else{var c=e.gradient;a=t.createRadialGradient(n+c.fx,r+c.fy,0,n+c.cx,r+c.cy,c.r)}for(s=0;s<e.gradient.stops.length;s++){var h=e.gradient.stops[s],d=o<0?(i+h.offset)/(2*i):h.offset/i;a.addColorStop(d,h.color)}t.fillStyle=a}return t},e.prototype.renderShadow=function(t,n,r){void 0===r&&(r=null);var i=e.getContext(n);i.save(),i.beginPath(),i.strokeStyle=i.fillStyle=t.shadow.color,i.globalAlpha=t.shadow.opacity;var o=or.transform({x:0,y:0},t.shadow.angle,t.shadow.distance),a=t.x+o.x,s=t.y+o.y,l=a+t.width*t.pivotX,c=s+t.height*t.pivotY;this.rotateContext(n,t.angle,l,c),r?(i.translate(a,s),this.renderPath(n,t,r),i.translate(-a,-s)):(i.rect(a,s,t.width,t.height),i.fillRect(a,s,t.width,t.height)),i.fill(),i.stroke(),i.closePath(),i.restore()},e.createCanvas=function(e,t,n){var r=Ou("canvas",{id:e});return this.setCanvasSize(r,t,n),r},e.prototype.setStyle=function(t,n){var r=e.getContext(t);"none"===n.fill&&(n.fill="transparent"),"none"===n.stroke&&(n.stroke="transparent"),r.strokeStyle=n.stroke,r.lineWidth=n.strokeWidth,0===n.strokeWidth&&(r.strokeStyle="transparent"),r.globalAlpha=n.opacity;var i=[];n.dashArray&&(i=this.parseDashArray(n.dashArray)),r.setLineDash(i),n.gradient&&"None"!==n.gradient.type?this.renderGradient(n,r,0,0):r.fillStyle=n.fill},e.prototype.rotateContext=function(t,n,r,i){var o=e.getContext(t);o.translate(r,i),o.rotate(n*Math.PI/180),o.translate(-r,-i)},e.prototype.setFontStyle=function(t,n){var r=e.getContext(t),i="";n.italic&&(i+="italic "),n.bold&&(i+="bold "),i+=n.fontSize+"px ",i+=n.fontFamily,r.font=i},e.prototype.parseDashArray=function(e){for(var t=[],n=-1!==e.indexOf(" ")?" ":",",r=0,i=e.split(n);r<i.length;r++){var o=i[r];t.push(Number(o))}return t},e.prototype.drawRoundedRect=function(t,n){var r=e.getContext(t);r.beginPath();var i=n.x,o=n.y,a=n.width,s=n.height,l=i+a/2,c=o+s/2;r.beginPath(),this.setStyle(t,n),r.moveTo(i,c),r.quadraticCurveTo(i,o,l,o),r.quadraticCurveTo(i+a,o,i+a,c),r.quadraticCurveTo(i+a,o+s,l,o+s),r.quadraticCurveTo(i,o+s,i,c),r.stroke()},e.prototype.drawRectangle=function(t,n){if(!0===n.visible)if(n.cornerRadius)n.width<30||n.height<30?this.drawRoundedRect(t,n):(n.data=function(e,t,n){var r,i,o,a="",s=[{x:0+e,y:0},{x:0+n-e,y:0},{x:0+n,y:0+e},{x:0+n,y:0+t-e},{x:0+n-e,y:0+t},{x:0+e,y:0+t},{x:0,y:0+t-e},{x:0,y:0+e}],l=[{x:0+n,y:0},{x:0+n,y:0+t},{x:0,y:0+t},{x:0,y:0}],c=0;for(a="M"+s[0].x+" "+s[0].y,o=0;o<s.length;o+=2)a+="L"+(r=s[o+1]).x+" "+r.y,i=s[o+2]||s[0],a+="Q"+l[c].x+" "+l[c].y+" "+i.x+" "+i.y,c++;return a}(n.cornerRadius,n.height,n.width),this.drawPath(t,n));else{var r=e.getContext(t);n.shadow&&this.renderShadow(n,t),r.save(),r.beginPath();n.cornerRadius;var i=n.x+n.width*n.pivotX,o=n.y+n.height*n.pivotY;this.rotateContext(t,n.angle,i,o),this.setStyle(t,n),r.rect(n.x,n.y,n.width,n.height),r.fillRect(n.x,n.y,n.width,n.height),r.fill(),r.stroke(),r.closePath(),r.restore()}},e.prototype.drawPath=function(t,n){var r=[];r=lr(r=ar(n.data)),n.shadow&&this.renderShadow(n,t,r);var i=e.getContext(t);i.save(),i.beginPath();var o=n.y+n.height*n.pivotY,a=n.x+n.width*n.pivotX;"Horizontal"===n.flip||"Vertical"===n.flip?(i.translate(n.x+n.width/2,n.y+n.height/2),i.rotate(-n.angle*Math.PI/180),i.translate(-n.x-n.width/2,-n.y-n.height/2)):this.rotateContext(t,n.angle,a,o),this.setStyle(t,n),i.translate(n.x,n.y),"Horizontal"===n.flip?(i.scale(-1,1),i.translate(-1*n.width,0)):"Vertical"===n.flip?(i.scale(1,-1),i.translate(0,-1*n.height)):"Both"===n.flip&&(i.scale(-1,-1),i.translate(-1*n.width,-1*n.height)),this.renderPath(t,n,r),i.fill(),i.translate(-n.x,-n.y),i.stroke(),i.restore()},e.prototype.renderPath=function(t,n,r){if(!0===n.visible){var i,o=e.getContext(t),a=void 0,s=void 0,l=void 0,c=void 0,h=void 0,d=void 0,u=void 0,p=void 0,f=void 0,g=r;for(u=0,p=0,f=0,i=g.length;f<i;++f){var A=g[f],m=A.command;switch("x1"in A&&(l=A.x1),"x2"in A&&(h=A.x2),"y1"in A&&(c=A.y1),"y2"in A&&(d=A.y2),"x"in A&&(u=A.x),"y"in A&&(p=A.y),m){case"M":o.moveTo(u,p),A.x=u,A.y=p;break;case"L":o.lineTo(u,p),A.x=u,A.y=p;break;case"C":o.bezierCurveTo(l,c,h,d,u,p),A.x=u,A.y=p,A.x1=l,A.y1=c,A.x2=h,A.y2=d;break;case"Q":o.quadraticCurveTo(l,c,u,p),A.x=u,A.y=p,A.x1=l,A.y1=c;break;case"A":var y={x:a,y:s},v=A.r1,b=A.r2,w=A.angle*(Math.PI/180),x=A.largeArc,C=A.sweep,S={x:u,y:p},B={x:Math.cos(w)*(y.x-S.x)/2+Math.sin(w)*(y.y-S.y)/2,y:-Math.sin(w)*(y.x-S.x)/2+Math.cos(w)*(y.y-S.y)/2},P=Math.pow(B.x,2)/Math.pow(v,2)+Math.pow(B.y,2)/Math.pow(b,2);P>1&&(v*=Math.sqrt(P),b*=Math.sqrt(P));var E=Math.pow(b,2)*Math.pow(B.x,2),O=(x===C?-1:1)*Math.sqrt((Math.pow(v,2)*Math.pow(b,2)-Math.pow(v,2)*Math.pow(B.y,2)-E)/(Math.pow(v,2)*Math.pow(B.y,2)+Math.pow(b,2)*Math.pow(B.x,2)));isNaN(O)&&(O=0);var T={x:O*v*B.y/b,y:O*-b*B.x/v},I={x:(y.x+S.x)/2+Math.cos(w)*T.x-Math.sin(w)*T.y,y:(y.y+S.y)/2+Math.sin(w)*T.x+Math.cos(w)*T.y},L=this.a([1,0],[(B.x-T.x)/v,(B.y-T.y)/b]),k=[(B.x-T.x)/v,(B.y-T.y)/b],N=[(-B.x-T.x)/v,(-B.y-T.y)/b],M=this.a(k,N);this.r(k,N)<=-1&&(M=Math.PI),this.r(k,N)>=1&&(M=0);var D=L+(C?1:-1)*(M/2);Math.cos(D),Math.sin(D);if(A.centp=I,A.xAxisRotation=w,A.rx=v,A.ry=b,A.a1=L,A.ad=M,A.sweep=C,null!=o){var R=v>b?v:b,j=v>b?1:v/b,_=v>b?b/v:1;o.save(),o.translate(I.x,I.y),o.rotate(w),o.scale(j,_),o.arc(0,0,R,L,L+M,!C),o.scale(1/j,1/_),o.rotate(-w),o.translate(-I.x,-I.y),o.restore()}break;case"Z":case"z":o.closePath(),u=a,p=s}a=u,s=p}}},e.prototype.drawText=function(t,n,r,i,o,a,s){if(n.content&&!0===n.visible){var l=e.getContext(t);l.save(),this.setStyle(t,n),a&&(n.fontSize*=a);var c=n.x+n.width*n.pivotX,h=n.y+n.height*n.pivotY;this.rotateContext(t,n.angle,c,h),this.setFontStyle(t,n);var d,u=0;d=n.childNodes;var p=n.wrapBounds;if(l.fillStyle=n.color,p){var f=this.labelAlign(n,p,d);for(u=0;u<d.length;u++){var g=d[u];g.x=Fu(g,d,u,n);var A=f.x+(a?g.x*a:g.x)-p.x,m=f.y+(a?g.dy*a:g.dy)*u+.8*n.fontSize;if(p.width>n.width&&"Wrap"!==n.textOverflow&&"NoWrap"===n.textWrapping&&(g.text=ep(g.text,n)),"Clip"!==n.textOverflow&&"Ellipsis"!==n.textOverflow||"Wrap"!==n.textWrapping)l.fillText(g.text,A,m);else if(m<s.actualSize.height+s.bounds.y){if("Ellipsis"===n.textOverflow&&d[u+1]){var y=d[u+1];f.y+y.dy*(u+1)+.8*n.fontSize>s.actualSize.height+s.bounds.y&&(g.text=g.text.slice(0,g.text.length-3),g.text=g.text.concat("..."))}l.fillText(g.text,A,m)}if("Underline"===n.textDecoration||"Overline"===n.textDecoration||"LineThrough"===n.textDecoration){var v=A,b=void 0,w=A+l.measureText(g.text).width,x=void 0;switch(n.textDecoration){case"Underline":b=m+2,x=m+2;break;case"Overline":b=f.y+g.dy*u,x=f.y+g.dy*u;break;case"LineThrough":b=(m+f.y+g.dy*u)/2+2,x=(m+f.y+g.dy*u)/2+2}l.beginPath(),l.moveTo(v,b),l.lineTo(w,x),l.strokeStyle=n.color,l.lineWidth=.08*n.fontSize,l.globalAlpha=n.opacity,l.stroke()}}}l.restore()}},e.prototype.loadImage=function(e,t,n,r,i){this.rotateContext(n,t.angle,r,i);var o=new Image;o.src=t.source,this.image(e,o,t.x,t.y,t.width,t.height,t)},e.prototype.drawImage=function(t,n,r,i){var o=this;if(n.visible){var a=e.getContext(t);a.save();var s=n.x+n.width*n.pivotX,l=n.y+n.height*n.pivotY,c=new Image;c.src=n.source;var h=a.canvas.id.split("_");h[h.length-1];i?c.onload=function(){o.loadImage(a,n,t,s,l)}:this.loadImage(a,n,t,s,l),a.restore()}},e.prototype.image=function(e,t,n,r,i,o,a){e.beginPath();var s=t.width,l=t.height,c=i,h=o,d=0,u=0;if(a&&"None"!==a.alignment){var p=a.alignment.toLowerCase().substr(1,3),f=a.alignment.toLowerCase().substr(5,3);if("Slice"===a.scale){var g=function(){d=c,u=l*c/s},A=function(){d=s*h/l,u=h};c>h?(g(),h>u&&A()):c===h?s>l?A():g():(A(),c>d&&g());var m=this.getSliceOffset(p,d,c,s),y=this.getSliceOffset(f,u,h,l),v=s-m,b=l-y,w=d-m*(d/s),x=u-y*(u/l),C=Ou("canvas",{width:i.toString(),height:o.toString()});C.getContext("2d").drawImage(t,m,y,v,b,0,0,w,x),e.drawImage(C,n,r,i,o)}else if("Meet"===a.scale){var S=l/s,B=h/c;d=B>S?c:h/S,u=B>S?c*S:h,n+=this.getMeetOffset(p,d,c),r+=this.getMeetOffset(f,u,h),e.drawImage(t,0,0,s,l,n,r,d,u)}else e.drawImage(t,n,r,i,o)}else if("None"!==a.flip){var P=1,E=1;"Horizontal"!==a.flip&&"Both"!==a.flip||(n=-n,i=-i,P=-1),"Vertical"!==a.flip&&"Both"!==a.flip||(r=-r,o=-o,E=-1),e.scale(P,E),e.drawImage(t,n,r,i,o)}else e.drawImage(t,n,r,i,o);e.closePath()},e.prototype.getSliceOffset=function(e,t,n,r){switch(e){case"min":return 0;case"mid":return(t-n)/2*r/t;case"max":return(t-n)*r/t;default:return 0}},e.prototype.getMeetOffset=function(e,t,n){var r=Math.max(t,n),i=Math.min(t,n);switch(e){case"min":return 0;case"mid":return(r-i)/2;case"max":return r-i;default:return 0}},e.prototype.m=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},e.prototype.r=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(this.m(e)*this.m(t))},e.prototype.a=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(this.r(e,t))},e.prototype.labelAlign=function(e,t,n){var r=new nr(t.width,n.length*(1.2*e.fontSize)),i={x:0,y:0},o=e.x,a=e.y,s=.5*e.width,l=.5*e.height;return"left"===e.textAlign?s=0:"center"===e.textAlign?s=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)&&"NoWrap"===e.textWrapping?0:.5*e.width:"right"===e.textAlign&&(s=1*e.width),i.x=o+s+(t?t.x:0),i.y=a+l-r.height/2,i},e}(),ap=function(){function e(){}return e.prototype.renderShadow=function(e,t,n,r){void 0===n&&(n=null);var i,o,a=or.transform({x:0,y:0},e.shadow.angle,e.shadow.distance);r&&(o=r.getElementById(t.id+"_shadow")),o||(i=n?"path":"rect",o=document.createElementNS("http://www.w3.org/2000/svg",i),t.appendChild(o));var s={id:t.id+"_shadow",fill:e.shadow.color,stroke:e.shadow.color,opacity:e.shadow.opacity.toString(),transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")translate("+(e.x+a.x)+","+(e.y+a.y)+")"};if(r){var l=r.getElementById(t.id);l&&l.insertBefore(o,l.firstChild)}Du(o,s),n?n&&this.renderPath(o,e,n):Du(o,{width:e.width,height:e.height})},e.prototype.parseDashArray=function(e){return[]},e.prototype.drawRectangle=function(e,t,n,r,i,o,a){var s,l,c;t.shadow&&!r&&this.renderShadow(t,e,void 0,o),s=t.id===e.id?t.id+"_container":t.id,o&&(l=o.getElementById(s)),l&&!i||(l=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(l)),o&&!t.shadow&&(c=o.getElementById(t.id+"_groupElement_shadow"))&&c.parentNode.removeChild(c);var h={id:s,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),visibility:t.visible?"visible":"hidden",transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",rx:t.cornerRadius||0,ry:t.cornerRadius||0,opacity:t.opacity,"aria-label":a||""};t.class&&(h.class=t.class);a||(h["pointer-events"]="none"),Du(l,h),this.setSvgStyle(l,t,n)},e.prototype.updateSelectionRegion=function(e,t){var n;n=e.parentNode.getElementById(t.id);var r={id:t.id,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",class:"e-diagram-selected-region"};n||(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(n)),this.setSvgStyle(n,t),Du(n,r)},e.prototype.createGElement=function(e,t){return Tu(e,t)},e.prototype.drawLine=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","line");this.setSvgStyle(n,t);var r=t.x+t.width*t.pivotX,i=t.y+t.height*t.pivotY,o={id:t.id,x1:t.startPoint.x+t.x,y1:t.startPoint.y+t.y,x2:t.endPoint.x+t.x,y2:t.endPoint.y+t.y,stroke:t.stroke,"stroke-width":t.strokeWidth.toString(),opacity:t.opacity.toString(),transform:"rotate("+t.angle+" "+r+" "+i+")",visibility:t.visible?"visible":"hidden"};t.class&&(o.class=t.class),Du(n,o),e.appendChild(n)},e.prototype.drawCircle=function(e,t,n,r){var i=document.createElementNS("http://www.w3.org/2000/svg","circle");this.setSvgStyle(i,t);var o=t.class||"";n||(o+=" e-disabled");var a={id:t.id,cx:t.centerX,cy:t.centerY,r:t.radius,visibility:t.visible?"visible":"hidden",class:o,"aria-label":r?r["aria-label"]:""};i.style.display=t.visible?"block":"none",Du(i,a),e.appendChild(i)},e.prototype.drawPath=function(e,t,n,r,i,o){Math.floor(10*Math.random()+1);var a,s,l=[];l=lr(l=ar(t.data)),t.shadow&&this.renderShadow(t,e,l,i),i&&!t.shadow&&(a=i.getElementById(t.id+"_groupElement_shadow"))&&a.parentNode.removeChild(a),i&&(s=i.getElementById(t.id)),s&&!r||(s=document.createElementNS("http://www.w3.org/2000/svg","path"),e.appendChild(s)),this.renderPath(s,t,l);var c={id:t.id,transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")translate("+t.x+","+t.y+")",visibility:t.visible?"visible":"hidden",opacity:t.opacity,"aria-label":o||""};t.class&&(c.class=t.class),Du(s,c),this.setSvgStyle(s,t,n)},e.prototype.renderPath=function(e,t,n){var r,i,o,a,s,l,c,h,d=n,u="";for(s=0,l=0,h=0,c=d.length;h<c;++h){var p=d[h],f=p.command;switch("x1"in p&&(r=p.x1),"x2"in p&&(o=p.x2),"y1"in p&&(i=p.y1),"y2"in p&&(a=p.y2),"x"in p&&(s=p.x),"y"in p&&(l=p.y),f){case"M":u=u+"M"+s.toString()+","+l.toString()+" ";break;case"L":u=u+"L"+s.toString()+","+l.toString()+" ";break;case"C":u=u+"C"+r.toString()+","+i.toString()+","+o.toString()+","+a.toString()+",",u+=s.toString()+","+l.toString()+" ";break;case"Q":u=u+"Q"+r.toString()+","+i.toString()+","+s.toString()+","+l.toString()+" ";break;case"A":u=u+"A"+p.r1.toString()+","+p.r2.toString()+","+p.angle.toString()+",",u+=p.largeArc.toString()+","+p.sweep+","+s.toString()+","+l.toString()+" ";break;case"Z":case"z":u+="Z "}}e.setAttribute("d",u)},e.prototype.setSvgFontStyle=function(e,t){e.style.fontStyle=t.italic?"italic":"normal",e.style.fontWeight=t.bold?"bold":"normal",e.style.fontSize=t.fontSize.toString()+"px",e.style.fontFamily=t.fontFamily},e.prototype.drawText=function(e,t,n,r,i,o,a){if(void 0!==t.content){var s=void 0,l=void 0,c=void 0,h=void 0,d=void 0,u=void 0,p=0,f=0,g=0,A=void 0;if(n&&(A=n.getElementById(t.id+"_text")),A){if(t.doWrap)for(;A.firstChild;)A.removeChild(A.firstChild)}else t.doWrap=!0,A=document.createElementNS("http://www.w3.org/2000/svg","text"),"pre-wrap"===t.whiteSpace&&A.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.appendChild(A);var m=t.x+t.width*t.pivotX,y=t.y+t.height*t.pivotY,v=0;if(t.doWrap||"Wrap"!==t.textOverflow){var b=document.getElementById(t.id+"_text");for(b&&(b.innerHTML=""),this.setSvgStyle(A,t,i),this.setSvgFontStyle(A,t),s=document.createTextNode(t.content),l=t.childNodes,c=t.wrapBounds,h=this.svgLabelAlign(t,c,l),c.width>t.width&&"Wrap"!==t.textOverflow&&"NoWrap"===t.textWrapping&&(l[0].text=ep(t.content,t)),g=0;g<l.length;g++)if(u=document.createElementNS("http://www.w3.org/2000/svg","tspan"),s=document.createTextNode(l[g].text),(d=l[g]).x=Fu(d,l,g,t),p=h.x+d.x-c.x,f=h.y+d.dy*g+.8*t.fontSize,"Clip"!==t.textOverflow&&"Ellipsis"!==t.textOverflow||"WrapWithOverflow"!==t.textWrapping&&"Wrap"!==t.textWrapping||!a)this.setText(A,u,d,s,p,f);else{var w=t.isHorizontalLane?a.actualSize.width:a.actualSize.height;if(!(f<w))break;if("Ellipsis"===t.textOverflow&&l[g+1]){var x=l[g+1];h.y+x.dy*(g+1)+.8*t.fontSize>w&&(d.text=d.text.slice(0,d.text.length-3),d.text=d.text.concat("..."),s.data=d.text)}this.setText(A,u,d,s,p,f),v+=d.dy}}v&&t.isHorizontalLane&&(m=t.parentOffsetX+t.pivotX,y=t.parentOffsetY+t.pivotY,t.y=t.parentOffsetY-v*t.pivotY+.5),t.textDecoration&&"LineThrough"===t.textDecoration&&(t.textDecoration=Ju(t.textDecoration)),Du(A,{id:t.id+"_text",fill:t.color,visibility:t.visible?"visible":"hidden","text-decoration":t.textDecoration,transform:"rotate("+t.angle+","+m+","+y+")translate("+t.x+","+t.y+")",opacity:t.opacity,"aria-label":r||""})}},e.prototype.setText=function(e,t,n,r,i,o){Du(t,{x:i.toString(),y:o.toString()}),e.setAttribute("fill",n.text),t.appendChild(r),e.appendChild(t)},e.prototype.drawImage=function(e,t,n,r){var i;n&&(i=n.getElementById(t.id+"image")),i||(i=document.createElementNS("http://www.w3.org/2000/svg","image"),e.appendChild(i));var o=new Image;o.src=t.source;var a="None"!==t.scale?t.scale:"";v()&&"None"===t.alignment&&"Stretch"===a&&(a="");var s=t.alignment,l=s.charAt(0).toLowerCase()+s.slice(1);a&&(l+=" "+a.charAt(0).toLowerCase()+a.slice(1)),Du(i,{id:t.id+"image",x:t.x.toString(),y:t.y.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",width:t.width.toString(),visibility:t.visible?"visible":"hidden",height:t.height.toString(),preserveAspectRatio:l,opacity:(t.opacity||1).toString()}),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.src.toString())},e.prototype.drawHTMLContent=function(e,t,n,r,i){var o,a;if(t){var s=void 0,l=void 0,c=void 0;for(s=0;s<t.childNodes.length;s++)for(c=t.childNodes[s],l=0;l<c.childNodes.length;l++)if(c.childNodes[l].id===e.id+"_html_element"){o=c.childNodes[l];break}}if(!o){if(!(a=t.querySelector("#"+e.id+"_html_element")||t.querySelector("#"+e.nodeId+"_html_element")))a=Ou("div",{id:e.nodeId+"_html_element",class:"foreign-object"});o=Ou("div",{id:e.id+"_html_element",class:"foreign-object"}),e.isTemplate?o.appendChild(e.template):o.appendChild(e.template.cloneNode(!0)),void 0!==i&&t.childNodes.length>i&&t.insertBefore(o,t.childNodes[i]),a.appendChild(o),t.appendChild(a)}var h=Wu(e).topLeft;o.setAttribute("style","height:"+e.actualSize.height+"px; width:"+e.actualSize.width+"px;left:"+h.x+"px; top:"+h.y+"px;position:absolute;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(r?"all":"none")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";")},e.prototype.drawNativeContent=function(e,t,n,r,i){var o,a;i&&(o=i.getElementById(e.id+"_native_element"),a=i.getElementById(e.id+"_clip")),o||((o=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id",e.id+"_native_element"),o.appendChild(e.template.cloneNode(!0)),t.appendChild(o)),a&&o.removeChild(a),o.setAttribute("style","visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";"),this.setNativTransform(e,o,n,r),"Slice"===e.scale&&this.drawClipPath(e,o,n,r,i),Du(o,e.description?{"aria-label":e.description}:{})},e.prototype.setNativTransform=function(e,t,n,r){var i=0!==e.contentSize.width?e.contentSize.width:1,o=0!==e.contentSize.height?e.contentSize.height:1,a=e.templatePosition.x*r/i,s=e.templatePosition.y*n/o;t.setAttribute("transform","rotate("+e.parentTransform+","+e.offsetX+","+e.offsetY+") translate("+(e.offsetX-a-r*e.pivot.x)+","+(e.offsetY-s-n*e.pivot.y)+") scale("+r/i+","+n/o+")")},e.prototype.drawClipPath=function(e,t,n,r,i){var o=e.contentSize.width,a=e.contentSize.height,s=e.width/(r/o),l=e.height/(n/a),c=e.templatePosition.x+(e.width>=e.height?0:(o-s)/2),h=e.templatePosition.y+(e.height>=e.width?0:(a-l)/2),d=i.getElementById(e.id+"_clip");(d=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id",e.id+"_clip"),t.appendChild(d);var u=i.getElementById(e.id+"_clip_rect");return u=document.createElementNS("http://www.w3.org/2000/svg","rect"),d.appendChild(u),Du(u,{id:e.id+"_clip_rect",width:s.toString(),height:l.toString(),x:c.toString(),y:h.toString()}),pd()?t.setAttribute("clip-path","url("+location.protocol+"//"+location.host+location.pathname+"#"+e.id+"_clip)"):t.setAttribute("clip-path","url(#"+e.id+"_clip)"),t},e.prototype.renderGradient=function(e,t,n){var r,i,o,a,s,l=Su(n),c=l.getElementById(n+"gradient_pattern");if(c||(c=Tu("defs",{id:n+"gradient_pattern"}),l.insertBefore(c,l.firstChild)),_h(t.id),"None"!==e.gradient.type){for(var h=0;h<e.gradient.stops.length;h++)r=r?Math.max(r,e.gradient.stops[h].offset):e.gradient.stops[h].offset,i=i?Math.min(i,e.gradient.stops[h].offset):e.gradient.stops[h].offset;"Linear"===e.gradient.type?((s=e.gradient).id=t.id+"_linear",o=this.createLinearGradient(s),c.appendChild(o)):((a=e.gradient).id=t.id+"_radial",o=this.createRadialGradient(a),c.appendChild(o));for(h=0;h<e.gradient.stops.length;h++){var d=e.gradient.stops[h],u=i<0?(r+d.offset)/(2*r):d.offset/r,p=document.createElementNS("http://www.w3.org/2000/svg","stop");Du(p,{offset:u.toString(),style:"stop-color:"+d.color}),o.appendChild(p)}}return o},e.prototype.createLinearGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return Du(t,{id:e.id,x1:e.x1+"%",y1:e.y1+"%",x2:e.x2+"%",y2:e.y2+"%"}),t},e.prototype.createRadialGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return Du(t,{id:e.id,cx:e.cx+"%",cy:e.cy+"%",r:e.r+"%",fx:e.fx+"%",fy:e.fy+"%"}),t},e.prototype.setSvgStyle=function(e,t,n){if(t.canApplyStyle||void 0===t.canApplyStyle){"none"===t.fill&&(t.fill="transparent"),"none"===t.stroke&&(t.stroke="transparent");var r=[],i=void 0;if(t.dashArray)r=(new op).parseDashArray(t.dashArray);if(t.gradient&&"None"!==t.gradient.type&&n){var o=this.renderGradient(t,e,n);i=pd()?"url("+location.protocol+"//"+location.host+location.pathname+"#"+o.id+")":"url(#"+o.id+")"}else i=t.fill;t.stroke&&e.setAttribute("stroke",t.stroke),void 0!==t.strokeWidth&&null!==t.strokeWidth&&e.setAttribute("stroke-width",t.strokeWidth.toString()),r&&e.setAttribute("stroke-dasharray",r.toString()||"none"),i&&e.setAttribute("fill",i)}},e.prototype.svgLabelAlign=function(e,t,n){var r=new nr(t.width,n.length*(1.2*e.fontSize)),i={x:0,y:0},o=.5*e.width,a=.5*e.height;return"left"===e.textAlign?o=0:"center"===e.textAlign?o=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)&&"NoWrap"===e.textWrapping?0:.5*e.width:"right"===e.textAlign&&(o=1*e.width),i.x=0+o+(t?t.x:0),i.y=1.2+a-r.height/2,i},e}(),sp=function(){function e(e,t,n){this.renderer=null,this.isSvgMode=!0,this.transform={x:0,y:0},this.diagramId=e,this.element=Au(this.diagramId),this.svgRenderer=t,this.isSvgMode=n,this.renderer=n?new ap:new op}return e.prototype.setCursor=function(e,t){e.style.cursor=t},e.prototype.setLayers=function(){this.iconSvgLayer=this.element.getElementsByClassName("e-ports-expand-layer")[0],this.adornerSvgLayer=this.element.getElementsByClassName("e-adorner-layer")[0],this.nativeSvgLayer=this.element.getElementsByClassName("e-native-layer")[0],this.diagramSvgLayer=this.element.getElementsByClassName("e-diagram-layer")[0]},e.prototype.getAdornerLayer=function(){return bu(this.diagramId)},e.prototype.getParentSvg=function(e,t,n){return this.diagramId&&e&&e.id?e.id.split("_icon_content").length>1||e.id.split("_nodeport").length>1||e.elementActions&Dr.ElementIsPort?this.iconSvgLayer:t&&"selector"===t?this.adornerSvgLayer:e instanceof Bi?this.nativeSvgLayer:this.diagramSvgLayer:n},e.prototype.getParentElement=function(e,t,n,r){var i=t;if(n&&this.diagramId&&e&&e.id){e.id.split("_icon_content").length>1?(i=n.getElementById(this.diagramId+"_diagramExpander"),t=null):e.id.split("_nodeport").length>1?i=n.getElementById(this.diagramId+"_diagramPorts"):e instanceof Bi?(i=n.getElementById(this.diagramId+"_nativeLayer"),t=null):e.elementActions&Dr.ElementIsPort?(i=n.getElementById(this.diagramId+"_diagramPorts"),t=null):i=n.getElementById(this.diagramId+"_diagramLayer");var o=this.getGroupElement(e,t||i,r);i=o.g,o.svg&&(n=o.svg)}return{g:i,svg:n}},e.prototype.getGroupElement=function(e,t,n){var r,i,o=this.getParentSvg(e);if(t&&o){if(o&&!(r=o.getElementById(e.id+"_groupElement"))&&o!==this.nativeSvgLayer){var a=this.nativeSvgLayer;r=a.getElementById(e.id+"_groupElement"),i=a}r||(r=this.svgRenderer.createGElement("g",{id:e.id+"_groupElement"}),void 0!==n&&t.childNodes.length>n?t.insertBefore(r,t.childNodes[n]):t.appendChild(r))}return{g:r,svg:i}},e.prototype.renderElement=function(e,t,n,r,i,o,a,s,l){e instanceof pi?(!1,e.id=e.id?e.id:Uu(),this.renderContainer(e,t,n,r,i,o,a,s,l)):e instanceof Ci?this.renderImageElement(e,t,r,i,a):e instanceof wi?this.renderPathElement(e,t,r,i,a,l):e instanceof gi?this.renderTextElement(e,t,r,i,a):e instanceof Bi?this.renderNativeElement(e,t,r,i,a):e instanceof Us?this.renderHTMLElement(e,t,n,r,i,a,s):this.renderRect(e,t,r,i,l)},e.prototype.drawSelectionRectangle=function(e,t,n,r,i,o){e=(e+o.tx)*o.scale,t=(t+o.ty)*o.scale;var a={width:n*o.scale,height:r*o.scale,x:e+.5,y:t+.5,fill:"transparent",stroke:"gray",angle:0,pivotX:.5,pivotY:.5,strokeWidth:1,dashArray:"6 3",opacity:1,visible:!0,id:i.id+"_selected_region"},s=this.getAdornerLayer();this.svgRenderer.updateSelectionRegion(s,a)},e.prototype.renderHighlighter=function(e,t,n){var r=e.actualSize.width||2,i=e.actualSize.height||2,o=e.offsetX-r*e.pivot.x,a=e.offsetY-i*e.pivot.y;o=(o+n.tx)*n.scale,a=(a+n.ty)*n.scale;var s={width:r*n.scale,height:i*n.scale,x:o,y:a,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:4,dashArray:"",opacity:1,cornerRadius:0,visible:!0,id:t.id+"_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawRectangle(t,s,this.diagramId,void 0,void 0,t)},e.prototype.renderStackHighlighter=function(e,t,n,r,i,o,a){var s,l=e.actualSize.width||2,c=e.offsetX-l*e.pivot.x,h=e.actualSize.height||2,d=e.offsetY-h*e.pivot.y;c=(c+n.tx)*n.scale;var u=e.bounds,p="";if(d=(d+n.ty)*n.scale,r)if(o){s="M 0 0 L "+((A=l*n.scale)+2)+" 0 Z";var f=u.x,g=u.y;f=e.actualSize.width/Number(u.width?u.width:1)*n.scale,g=e.actualSize.height/Number(u.height?u.height:1)*n.scale;p=cr(ur(ar("M7,4 L8,4 8,7 11,7 11,8 8,8 8,11 7,11 7,8 4,8 4,7 7,7 z M7.5,0.99999994C3.9160004,1 1,3.9160004 0.99999994,7.5 1,11.084 3.9160004,14 7.5,14 11.084,14 14,11.084 14,7.5 14,3.9160004 11.084,1 7.5,0.99999994 z M7.5,0 C11.636002,0 15,3.3639984 15,7.5 15,11.636002 11.636002,15 7.5,15 3.3640003,15 0,11.636002 0,7.5 0,3.3639984 3.3640003,0 7.5,0 z")),f+A+2,g-8,!1,u.x,u.y,0,0),i.y>=e.offsetY&&(d+=h)}else{var A;a&&i.y>=e.offsetY&&(d+=h),s="M -10 -10 L 0 0 Z M -10 10 L 0 0 Z M 0 0 L "+(A=l*n.scale)+" 0 Z M "+A+" 0 L "+(A+10)+" 10 Z L "+(A+10)+" -10 Z"}else s="M 10 -10 L 0 0 Z M -10 -10 L 0 0 Z M 0 0 L 0 "+(A=h*n.scale)+" Z M 0  "+A+" L -10  "+(A+10)+" Z L 10  "+(A+10)+" Z",i.x>=e.offsetX&&(c+=l);var m={data:s+p,width:l*n.scale,height:h*n.scale,x:c,y:d,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,dashArray:"",opacity:1,visible:!0,id:t.id+"_stack_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawPath(t,m,this.diagramId)},e.prototype.drawLine=function(e,t){this.svgRenderer.drawLine(e,t)},e.prototype.drawPath=function(e,t){this.svgRenderer.drawPath(e,t,this.diagramId)},e.prototype.renderResizeHandle=function(e,t,n,r,i,o,a,s,l,c){var h=e.offsetX-e.actualSize.width*e.pivot.x,d=e.offsetY-e.actualSize.height*e.pivot.y,u=e.actualSize.height,p=e.actualSize.width;!c&&n&Rr.Rotate&&Zl(this.rendererActions)&&!$l(this.rendererActions)&&(this.renderPivotLine(e,t,o,i,a),this.renderRotateThumb(e,t,o,i,a)),this.renderBorder(e,t,o,s,l,c);var f=e.actualSize.width*r,g=e.actualSize.height*r;l||!Zl(this.rendererActions)||$l(this.rendererActions)||(f>=40&&g>=40&&(i&Tr.ResizeNorthWest&&this.renderCircularHandle("resizeNorthWest",e,h,d,t,Qh(i,"ResizeNorthWest"),n&Rr.ResizeNorthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-diagram-resize-handle e-northwest"),i&Tr.ResizeNorthEast&&this.renderCircularHandle("resizeNorthEast",e,h+p,d,t,Qh(i,"ResizeNorthEast"),n&Rr.ResizeNorthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-diagram-resize-handle e-northeast"),i&Tr.ResizeSouthWest&&this.renderCircularHandle("resizeSouthWest",e,h,d+u,t,Qh(i,"ResizeSouthWest"),n&Rr.ResizeSouthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-diagram-resize-handle e-southwest"),i&Tr.ResizeSouthEast&&this.renderCircularHandle("resizeSouthEast",e,h+p,d+u,t,Qh(i,"ResizeSouthEast"),n&Rr.ResizeSouthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-diagram-resize-handle e-southeast")),i&Tr.ResizeNorth&&this.renderCircularHandle("resizeNorth",e,h+p/2,d,t,Qh(i,"ResizeNorth"),n&Rr.ResizeNorth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-diagram-resize-handle e-north"),i&Tr.ResizeSouth&&this.renderCircularHandle("resizeSouth",e,h+p/2,d+u,t,Qh(i,"ResizeSouth"),n&Rr.ResizeSouth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-diagram-resize-handle e-south"),i&Tr.ResizeWest&&this.renderCircularHandle("resizeWest",e,h,d+u/2,t,Qh(i,"ResizeWest"),n&Rr.ResizeWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-diagram-resize-handle e-west"),i&Tr.ResizeEast&&this.renderCircularHandle("resizeEast",e,h+p,d+u/2,t,Qh(i,"ResizeEast"),n&Rr.ResizeEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-diagram-resize-handle e-east"))},e.prototype.renderEndPointHandle=function(e,t,n,r,i,o,a,s){var l,c,h=e.sourcePoint,d=e.targetPoint,u=e.wrapper;if(this.renderCircularHandle("connectorSourceThumb",u,h.x,h.y,t,Qh(r,"ConnectorSourceThumb"),n&Rr.ConnectorSource,i,o,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),this.renderCircularHandle("connectorTargetThumb",u,d.x,d.y,t,Qh(r,"ConnectorTargetThumb"),n&Rr.ConnectorTarget,i,a,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),s)if(("Straight"===e.type||"Bezier"===e.type)&&e.segments.length>0)for(l=0;l<e.segments.length-1;l++)c=e.segments[l],this.renderCircularHandle("segementThumb_"+(l+1),u,c.point.x,c.point.y,t,!0,n&Rr.ConnectorSource,i,o,null,null,l);else for(l=0;l<e.segments.length;l++){var p=e.segments[l];this.renderOrthogonalThumbs("orthoThumb_"+(l+1),u,p,t,Qh(r,"ConnectorSourceThumb"),i)}if("Bezier"===e.type)for(l=0;l<e.segments.length;l++){var f=e.segments[l],g=or.isEmptyPoint(f.point1)?f.bezierPoint1:f.point1;this.renderCircularHandle("bezierPoint_"+(l+1)+"_1",u,g.x,g.y,t,Qh(r,"ConnectorSourceThumb"),n&Rr.ConnectorSource,i,void 0,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-bezier-handle e-source"),Qh(r,"ConnectorSourceThumb")&&this.renderBezierLine("bezierLine_"+(l+1)+"_1",u,t,f.points[0],or.isEmptyPoint(f.point1)?f.bezierPoint1:f.point1,i),g=or.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,this.renderCircularHandle("bezierPoint_"+(l+1)+"_2",u,g.x,g.y,t,Qh(r,"ConnectorTargetThumb"),n&Rr.ConnectorTarget,i,void 0,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-bezier-handle e-target"),Qh(r,"ConnectorTargetThumb")&&this.renderBezierLine("bezierLine_"+(l+1)+"_2",u,t,f.points[1],or.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,i)}},e.prototype.renderOrthogonalThumbs=function(e,t,n,r,i,o){var a,s,l,c=0;for(c=0;c<n.points.length-1;c++)l=or.distancePoints(n.points[c],n.points[c+1]),a=n.points[c].y.toFixed(2)===n.points[c+1].y.toFixed(2)?"horizontal":"vertical",s=!!(l>=50&&n.allowDrag),this.renderOrthogonalThumb(e+"_"+(c+1),t,(n.points[c].x+n.points[c+1].x)/2,(n.points[c].y+n.points[c+1].y)/2,r,s,a,o)},e.prototype.renderOrthogonalThumb=function(e,t,n,r,i,o,a,s){var l,c,h;"horizontal"===a?(l="M0,7 L15,0 L30,7 L15,14 z",c=-15,h=-7):(l="M7,0 L0,15 L7,30 L14,15 z",c=-7,h=-15);var d={x:(n+s.tx)*s.scale+c,y:(r+s.ty)*s.scale+h,angle:0,fill:"#e2e2e2",stroke:"black",strokeWidth:1,dashArray:"",data:l,width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:o,id:e};this.svgRenderer.drawPath(i,d,this.diagramId)},e.prototype.renderPivotLine=function(e,t,n,r,i){var o=e,a=!!(r&Tr.Rotate);i&&(a=!1);var s=this.getBaseAttributes(o,n);s.fill="None",s.stroke="black",s.strokeWidth=1,s.dashArray="2,3",s.visible=a;var l=n.scale;s.x*=l,s.y*=l,s.width*=l,s.height*=l,s.id="pivotLine",s.class="e-diagram-pivot-line";var c={x:o.actualSize.width*o.pivot.x*l,y:-20},h={x:o.actualSize.width*o.pivot.x*l,y:0};s.startPoint=c,s.endPoint=h,this.svgRenderer.drawLine(t,s)},e.prototype.renderBezierLine=function(e,t,n,r,i,o){var a=this.getBaseAttributes(t,o);a.id=e,a.stroke="black",a.strokeWidth=1,a.dashArray="3,3",a.fill="None",a.class="e-diagram-bezier-line",a.x=0,a.y=0;var s=o.scale,l={x:(r.x+o.tx)*s,y:(r.y+o.ty)*s},c={x:(i.x+o.tx)*s,y:(i.y+o.ty)*s};a.startPoint=l,a.endPoint=c,this.svgRenderer.drawLine(n,a)},e.prototype.renderCircularHandle=function(e,t,n,r,i,o,a,s,l,c,h,d,u){var p=t,f=7,g={x:n,y:r};if(0!==p.rotateAngle||0!==p.parentTransform){var A=yr();br(A,p.rotateAngle+p.parentTransform,p.offsetX,p.offsetY),g=vr(A,g)}var m=this.getBaseAttributes(p);m.stroke="black",m.strokeWidth=1,void 0!==d?(f=5,m.id="segmentEnd_"+d,m.fill="#e2e2e2"):(f=7,m.fill=l?"#8CC63F":"white"),m.centerX=(g.x+s.tx)*s.scale,m.centerY=(g.y+s.ty)*s.scale,m.radius=f,m.angle=0,m.id=e,m.visible=o,m.class=u,l&&(m.class+=" e-connected"),c&&(m.visible=!1),this.svgRenderer.drawCircle(i,m,a,h)},e.prototype.renderBorder=function(e,t,n,r,i,o){var a=e,s=this.getBaseAttributes(a,n);s.x*=n.scale,s.y*=n.scale,s.width*=n.scale,s.height*=n.scale,s.fill="transparent",s.stroke="#097F7F",s.strokeWidth=1.2,s.gradient=null,s.dashArray="6,3",s.class="e-diagram-border",o&&(s.class+=" e-diagram-lane"),s.id="borderRect",s.id=this.rendererActions&Wr.DrawSelectorBorder?"borderRect_symbol":"borderRect",r||(s.class+=" e-disabled"),i&&(s.class+=" e-thick-border"),s.cornerRadius=0;var l=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(t,s,this.diagramId,void 0,!0,l)},e.prototype.renderUserHandler=function(e,t,n,r){for(var i,o=e.wrapper,a=0,s=e.userHandles;a<s.length;a++){var l=s[a];i=!0,(l.disableConnectors&&e.connectors.length>0||l.disableNodes&&e.nodes.length>0)&&(i=!1);var c=document.getElementById(l.name+"_template_hiddenUserHandle");c&&(l.template=c.childNodes[0].cloneNode(!0));var h=Uh(e,l,n);if(h.x=(h.x+n.tx)*n.scale,h.y=(h.y+n.ty)*n.scale,l.visible&&(l.visible=!!(e.constraints&Tr.UserHandle)),i)if(l.pathData){var d=l.pathData?l.pathData:l.content,u=this.getBaseAttributes(o);u.id=l.name+"_userhandle",u.fill=l.backgroundColor,u.stroke=l.borderColor,u.strokeWidth=l.borderWidth,u.centerX=h.x,u.centerY=h.y,u.radius=.5*l.size,u.class="e-diagram-userhandle-circle",u.angle=0,u.visible=l.visible,u.opacity=1,this.svgRenderer.drawCircle(t,u,1,{"aria-label":l.name+"user handle"});var p=[];p=ur(p=ar(d));var f=uu(d),g=cr(p,(l.size-.45*l.size)/f.width,(l.size-.45*l.size)/f.height,!0,f.x,f.y,0,0);f=uu(g);var A={x:h.x-f.width/2,y:h.y-f.height/2,angle:0,id:"",class:"e-diagram-userhandle-path",fill:l.pathColor,stroke:l.backgroundColor,strokeWidth:.5,dashArray:"",data:g,width:l.size-5,height:l.size-5,pivotX:0,pivotY:0,opacity:1,visible:l.visible};this.svgRenderer.drawPath(t,A,this.diagramId,void 0,void 0,{"aria-label":l.name+"user handle"})}else if(l.content){var m=new Bi(l.name,this.diagramId);m.content=l.content,m.offsetX=h.x,m.offsetY=h.y,m.id=l.name+"_shape",m.horizontalAlignment="Center",m.verticalAlignment="Center",m.visible=l.visible,m.setOffsetWithRespectToBounds(h.x,h.y,"Fraction"),m.relativeMode="Object",m.description=l.name||"User handle",m.measure(new nr(l.size,l.size)),m.arrange(m.desiredSize),this.svgRenderer.drawNativeContent(m,t,l.size,l.size,this.adornerSvgLayer)}else if(l.source){var y=new Ci;(A=this.getBaseAttributes(y,n)).width=l.size,A.height=l.size,A.x=h.x-l.size/2,A.y=h.y-l.size/2,A.sourceWidth=l.size,A.sourceHeight=l.size,A.alignment=y.imageAlign,A.source=l.source,A.scale=y.imageScale,A.visible=l.visible,A.description=l.name||"User handle",A.id=l.name+"_",this.renderer.drawImage(t,A,this.adornerSvgLayer,!1)}else{var v=new Us(l.name,this.diagramId);v.offsetX=h.x,v.offsetY=h.y,v.id=l.name+"_shape",v.visible=l.visible,v.relativeMode="Object",v.template=l.template,v.measure(new nr(l.size,l.size)),v.arrange(v.desiredSize),this.svgRenderer.drawHTMLContent(v,r,void 0,!0,void 0)}}},e.prototype.renderRotateThumb=function(e,t,n,r,i){new wi;var o,a=new nr;a.width=18,a.height=16;var s=e.offsetY-e.actualSize.height*e.pivot.y,l=e.offsetX-e.actualSize.width*e.pivot.x,c=!!(r&Tr.Rotate);i&&(c=!1);var h=l+e.pivot.x*e.actualSize.width,d=s;if(h=(h+n.tx)*n.scale,d=(d+n.ty)*n.scale,o={x:h-.5*a.width,y:d-30-.5*a.height},0!==e.rotateAngle||0!==e.parentTransform){var u=yr();br(u,e.rotateAngle+e.parentTransform,(n.tx+e.offsetX)*n.scale,(n.ty+e.offsetY)*n.scale),o=vr(u,o)}var p={x:o.x,y:o.y,angle:e.rotateAngle+e.parentTransform,fill:"#231f20",stroke:"black",strokeWidth:.5,dashArray:"",data:"M 16.856144362449648 10.238890446662904 L 18.000144362449646 3.437890446662903L 15.811144362449646 4.254890446662903 C 14.837144362449646 2.5608904466629028 13.329144362449647  1.2598904466629026 11.485144362449645 0.5588904466629026 C 9.375144362449646 - 0.24510955333709716 7.071144362449646  - 0.18010955333709716 5.010144362449646 0.7438904466629028 C 2.942144362449646 1.6678904466629028 1.365144362449646 3.341890446662903 0.558144362449646 5.452890446662903 C - 0.244855637550354 7.567890446662903 - 0.17985563755035394 9.866890446662904 0.7431443624496461 11.930890446662904 C 1.6681443624496461 13.994890446662904 3.343144362449646 15.575890446662903 5.457144362449647 16.380890446662903 C 6.426144362449647 16.7518904466629 7.450144362449647 16.9348904466629 8.470144362449647 16.9348904466629 C 9.815144362449647 16.9348904466629 11.155144362449647 16.6178904466629 12.367144362449647 15.986890446662901 L 11.351144362449647 14.024890446662901 C 9.767144362449647 14.8468904466629 7.906144362449647 14.953890446662902 6.237144362449647 14.3178904466629 C 4.677144362449647 13.7218904466629 3.444144362449647 12.5558904466629 2.758144362449647 11.028890446662901 C 2.078144362449646 9.501890446662903 2.031144362449646 7.802890446662903 2.622144362449646 6.243890446662903 C 3.216144362449646 4.6798904466629025 4.387144362449646 3.442890446662903 5.914144362449646 2.760890446662903 C 7.437144362449646 2.078890446662903 9.137144362449646 2.0298904466629026 10.700144362449645 2.6258904466629027 C 11.946144362449646 3.100890446662903 12.971144362449646 3.9538904466629026 13.686144362449646 5.049890446662903 L 11.540144362449645 5.850890446662903 L 16.856144362449648 10.238890446662904 Z",width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:c,id:e.id,class:"e-diagram-rotate-handle"};p.id="rotateThumb",this.svgRenderer.drawPath(t,p,this.diagramId,!0,void 0,{"aria-label":"Thumb to rotate the selected object"})},e.prototype.renderPathElement=function(e,t,n,r,i,o){var a=this.getBaseAttributes(e,n,o);a.data=e.absolutePath,a.data=e.absolutePath;var s=e.description?e.description:e.id;if(this.isSvgMode||(a.x=e.flipOffset.x?e.flipOffset.x:a.x,a.y=e.flipOffset.y?e.flipOffset.y:a.y),e.isExport){var l=e.absoluteBounds;a.data=fu(e,l,0,a)}this.renderer.drawPath(t,a,this.diagramId,void 0,r,s)},e.prototype.renderSvgGridlines=function(e,t,n,r,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=document.createElementNS("http://www.w3.org/2000/svg","defs");s.setAttribute("id",this.diagramId+"_grid_pattern_defn"),(e.constraints&Or.ShowHorizontalLines||e.constraints&Or.ShowVerticalLines)&&a.setAttribute("id",this.diagramId+"_pattern");var l=0,c=0,h=0,d=0,u=1,p=!1,f="Lines"===e.gridType,g=f?e.verticalGridlines.lineIntervals:e.verticalGridlines.dotIntervals,A=f?e.horizontalGridlines.lineIntervals:e.horizontalGridlines.dotIntervals;if(r.showRulers&&r.dynamicGrid&&i&&o)h=o.updateSegmentWidth(n.scale),d=i.updateSegmentWidth(n.scale),e.horizontalGridlines.scaledIntervals=[h/i.interval],e.verticalGridlines.scaledIntervals=[d/o.interval],p=!0;else{for(var m=0;m<g.length;m+=1)l+=g[m];for(m=0;m<A.length;m+=1)c+=A[m];u=this.scaleSnapInterval(e,n.scale)}l=p?d:l*u,c=p?h:c*u,Du(a,{id:this.diagramId+"_pattern",x:0,y:0,width:l,height:c,patternUnits:"userSpaceOnUse"}),this.horizontalSvgGridlines(a,l,c,u,e,r,o,p,f,A),this.verticalSvgGridlines(a,l,c,u,e,r,i,p,f,g),s.appendChild(a),t.appendChild(s)},e.prototype.horizontalSvgGridlines=function(e,t,n,r,i,o,a,s,l,c){var h,d=0,u=[];if(i.constraints&Or.ShowHorizontalLines){i.horizontalGridlines.lineDashArray&&(u=this.renderer.parseDashArray(i.horizontalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,n,l)),c=dh(c,l);for(var p=0;p<c.length;p+=2){d=hh(c,l,p,d);h=document.createElementNS("http://www.w3.org/2000/svg",l?"path":"circle");var f=l?d+c[p]/2:d;f=s?f:f*r;l?(Du(h,{"stroke-width":c[p],stroke:i.horizontalGridlines.lineColor,d:"M0,"+f+" L"+t+","+f+" Z",dashArray:u.toString(),class:1.25===c[p]?"e-diagram-thick-grid":"e-diagram-thin-grid"}),e.appendChild(h),d+=c[p+1]+c[p]):(this.renderDotGrid(p,e,i,0,f,r,!0),d+=c[p])}}},e.prototype.renderDotGrid=function(e,t,n,r,i,o,a){var s,l,c,h=a?n.verticalGridlines.dotIntervals:n.horizontalGridlines.dotIntervals;h=dh(h,!1);for(var d=1;d<h.length;d+=2)s=d===h.length-1?h[0]:h[d-1],c=r,c*=o,Du(l=document.createElementNS("http://www.w3.org/2000/svg","circle"),{cx:a?c:i,cy:a?i:c,fill:n.horizontalGridlines.lineColor,r:s}),t.appendChild(l),r+=h[d]+h[d-1]},e.prototype.verticalSvgGridlines=function(e,t,n,r,i,o,a,s,l,c){var h,d=0,u=[];if(i.constraints&Or.ShowVerticalLines){i.verticalGridlines.lineDashArray&&(u=this.renderer.parseDashArray(i.verticalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,t,l));c=dh(c,l);for(var p=0;p<c.length;p+=2){d=hh(c,l,p,d),h=document.createElementNS("http://www.w3.org/2000/svg",l?"path":"circle");var f=l?d+c[p]/2:d;f=s?f:f*r;l?(Du(h,{"stroke-width":c[p],stroke:i.verticalGridlines.lineColor,d:"M"+f+",0 L"+f+","+n+" Z",dashArray:u.toString(),class:1.25===c[p]?"e-diagram-thick-grid":"e-diagram-thin-grid"}),e.appendChild(h),d+=c[p+1]+c[p]):(this.renderDotGrid(p,e,i,0,f,r,!1),d+=c[p])}}},e.prototype.updateGrid=function(e,t,n,r,i,o){var a=t.getElementById(this.diagramId+"_grid_rect"),s=!1;if(a){var l=t.getElementById(this.diagramId+"_pattern");l&&l.parentNode.removeChild(l);var c=0,h=0,d=1,u="Lines"===e.gridType,p=u?e.verticalGridlines.lineIntervals:e.verticalGridlines.dotIntervals,f=u?e.horizontalGridlines.lineIntervals:e.horizontalGridlines.dotIntervals;r.showRulers&&r.dynamicGrid&&o&&i?(c=o.updateSegmentWidth(n.scale),h=i.updateSegmentWidth(n.scale),s=!0,e.horizontalGridlines.scaledIntervals=[c/i.interval],e.verticalGridlines.scaledIntervals=[h/o.interval]):d=this.scaleSnapInterval(e,n.scale);for(var g=0,A=0;A<f.length;A+=1)g+=f[A];var m=0;for(A=0;A<p.length;A+=1)m+=p[A];var y={x:-n.tx*n.scale,y:-n.ty*n.scale};Du(a,y),m=s?h:m*d,g=s?c:g*d,y={id:this.diagramId+"_pattern",x:0,y:0,width:m,height:g,patternUnits:"userSpaceOnUse"},Du(l=document.createElementNS("http://www.w3.org/2000/svg","pattern"),y),this.horizontalSvgGridlines(l,m,g,d,e,r,o,s,u,f),this.verticalSvgGridlines(l,m,g,d,e,r,i,s,u,p);var v=t.getElementById(this.diagramId+"_grid_pattern_defn");v&&v.appendChild(l)}},e.prototype.updateLineIntervals=function(e,t,n,r,i){for(var o=[],a=r/n.interval,s=i?n.interval:n.interval+1,l=0;l<2*s;l++)o[l]=l%2===0?i?0===l?1.25:.25:0:i?a-o[l-1]:a;return o},e.prototype.scaleSnapInterval=function(e,t){if(t>=2)for(;t>=2;)t/=2;else if(t<=.5)for(;t<=.5;)t*=2;var n;if(e.horizontalGridlines.scaledIntervals=e.horizontalGridlines.snapIntervals,e.verticalGridlines.scaledIntervals=e.verticalGridlines.snapIntervals,1!==t){var r=e.horizontalGridlines;for(r.scaledIntervals=[],n=0;n<r.snapIntervals.length;n++)r.scaledIntervals[n]=r.snapIntervals[n]*t;for((r=e.verticalGridlines).scaledIntervals=[],n=0;n<r.snapIntervals.length;n++)r.scaledIntervals[n]=r.snapIntervals[n]*t}return t},e.prototype.renderTextElement=function(e,t,n,r,i){var o=this.getBaseAttributes(e,n);o.cornerRadius=0,o.whiteSpace=tp(e.style.whiteSpace,e.style.textWrapping),o.content=e.content,o.breakWord=Ju(e.style.textWrapping),o.textAlign=qu(e.style.textAlign),o.color=e.style.color,o.italic=e.style.italic,o.bold=e.style.bold,o.fontSize=e.style.fontSize,o.fontFamily=e.style.fontFamily,o.textOverflow=e.style.textOverflow,o.textWrapping=e.style.textWrapping,o.textDecoration=e.style.textDecoration,o.doWrap=e.doWrap,o.wrapBounds=e.wrapBounds,o.childNodes=e.childNodes,o.isHorizontalLane=e.isLaneOrientation,o.id=e.id?e.id:Uu(),e.isLaneOrientation&&(o.parentOffsetX=this.groupElement.offsetX,o.parentOffsetY=this.groupElement.offsetY,o.parentWidth=this.groupElement.actualSize.width,o.parentHeight=this.groupElement.actualSize.height),o.dashArray="",o.strokeWidth=0,o.fill=e.style.fill;var a=e.description?e.description:e.content?e.content:e.id;("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping)&&this.groupElement&&o.height>this.groupElement.actualSize.height&&("Clip"===e.style.textOverflow||"Ellipsis"===e.style.textOverflow)&&(o.y=o.y+(o.height-this.groupElement.actualSize.height)/2),this.renderer.drawRectangle(t,o,this.diagramId,void 0,void 0,r),this.renderer.drawText(t,o,r,a,this.diagramId,e.isExport&&Math.min(e.exportScaleValue.x||e.exportScaleValue.y),this.groupElement),this.isSvgMode&&(e.doWrap=!1)},e.prototype.renderNativeElement=function(e,t,n,r,i){var o,a,s=this.getParentSvg(e,void 0,t)||r,l=this.getParentElement(e,t,s).g||t,c=this.getBaseAttributes(e,n);switch(c.fill="transparent",c.cornerRadius=e.cornerRadius,c.stroke="transparent",this.renderer.drawRectangle(t,c,this.diagramId,void 0,void 0,r),e.scale){case"None":o=e.contentSize.width,a=e.contentSize.height;break;case"Stretch":o=e.actualSize.width,a=e.actualSize.height;break;case"Meet":o=a=e.actualSize.width<=e.actualSize.height?e.actualSize.width:e.actualSize.height;break;case"Slice":o=a=e.actualSize.width>=e.actualSize.height?e.actualSize.width:e.actualSize.height}this.svgRenderer&&this.svgRenderer.drawNativeContent(e,l,a,o,s)},e.prototype.renderHTMLElement=function(e,t,n,r,i,o,a){var s=this.getBaseAttributes(e,r);s.fill="transparent",s.cornerRadius=e.cornerRadius,s.stroke="transparent",this.renderer.drawRectangle(t,s,this.diagramId,void 0,void 0,i),this.svgRenderer&&this.svgRenderer.drawHTMLContent(e,n.children[0],r,function(e){var t=e.parentElement;do{if(Lu(t,"e-diagram"))return!0;t=t.parentElement}while(t);return!1}(n),a)},e.prototype.renderImageElement=function(e,t,n,r,i){var o,a,s,l,c=this.getBaseAttributes(e,n);if(c.cornerRadius=0,this.renderer.drawRectangle(t,c,this.diagramId,void 0,void 0,r),"Stretch"===e.stretch)o=e.actualSize.width,a=e.actualSize.height;else{var h=e.contentSize.width,d=e.contentSize.height,u=c.width/h,p=c.height/d,f=void 0;switch(e.stretch){case"Meet":o=h*(f=Math.min(u,p)),a=d*f,c.x+=Math.abs(c.width-o)/2,c.y+=Math.abs(c.height-a)/2;break;case"Slice":u=c.width/h,p=c.height/d,o=h*(f=Math.max(u,p)),a=d*f,s=c.width/o*h,l=c.height/a*d;break;case"None":o=h,a=d}}c.width=o,c.height=a,c.sourceWidth=s,c.sourceHeight=l,c.source=e.source,c.alignment=e.imageAlign,c.scale=e.imageScale,c.description=e.description?e.description:e.id,this.renderer.drawImage(t,c,r,i)},e.prototype.renderContainer=function(e,t,n,r,i,o,a,s,l){var c={svg:i,g:t};if(this.diagramId&&(i=this.getParentSvg(e)||i,this.isSvgMode)){var h=this.getParentElement(e,t,i,s).g||t;i=this.getParentSvg(this.hasNativeParent(e.children))||i;var d=this.getParentElement(this.hasNativeParent(e.children),h,i,s);c.svg=d.svg||i,c.g=d.g||h,o?(i&&(i.getElementById(c.g.id)||t.appendChild(c.g)),t=c.g):t=c.g}if(this.renderRect(e,t,r,i),this.groupElement=e,e.hasChildren()){for(var u,p=void 0,f=void 0,g=0,A=e.children;g<A.length;g++){var m=A[g];i=this.getParentSvg(this.hasNativeParent(e.children)||m)||i,this.isSvgMode&&(p=(u=this.getParentElement(this.hasNativeParent(e.children)||m,t,i)).g||t,u.svg&&(i=u.svg)),this.isSvgMode||(m.flip=e.flip),this.renderElement(m,p||t,n,r,i,!0,a,s,l),m instanceof gi&&p&&!(e.elementActions&Dr.ElementIsGroup)&&(f=m.flip&&"None"!==m.flip?m.flip:e.flip,this.renderFlipElement(m,p,f)),m.elementActions&Dr.ElementIsPort&&p&&(f=m.flip&&"None"!==m.flip?m.flip:e.flip,this.renderFlipElement(e,p,f)),!(m instanceof gi)&&"None"!==e.flip&&e.elementActions&Dr.ElementIsGroup&&this.renderFlipElement(m,p||t,e.flip)}e.elementActions&Dr.ElementIsGroup||this.renderFlipElement(e,t,e.flip)}},e.prototype.renderFlipElement=function(e,t,n){var r={},i=1,o=1,a=0,s=0,l=0,c=0;if("None"!==n?("Horizontal"!==n&&"Both"!==n||(a=e.bounds.center.x,l=-e.bounds.center.x,i=-1),"Vertical"!==n&&"Both"!==n||(s=e.bounds.center.y,c=-e.bounds.center.y,o=-1),r={transform:"translate("+a+","+s+") scale("+i+","+o+") translate("+l+","+c+")"}):r={transform:"translate(0,0)"},r)if(e&&e.children&&e.children.length&&e.children[0]instanceof Us){var h=t.id.split("_preview");(t=(document.getElementById(h[0]+"_html_div")||Eu(this.diagramId).children[0]).querySelector("#"+e.id+"_content_html_element"))&&(t.style.transform="scale("+i+","+o+")rotate("+(e.rotateAngle+e.parentTransform)+"deg)")}else Du(t,r)},e.prototype.hasNativeParent=function(e,t){if(e&&e.length>0){var n=e[0];if(n instanceof Bi)return n;n.children&&n.children.length&&this.hasNativeParent(n.children,t++||0)}},e.prototype.renderRect=function(e,t,n,r,i){var o=this.getBaseAttributes(e,n,i);o.cornerRadius=e.cornerRadius||0;var a=e.description?e.description:e.id;this.renderer.drawRectangle(t,o,this.diagramId,void 0,void 0,r,a)},e.prototype.drawRect=function(e,t){t.cornerRadius=0,this.svgRenderer.drawRectangle(e,t,this.diagramId)},e.prototype.getBaseAttributes=function(e,t,n){var r={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray||"",opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,canApplyStyle:e.canApplyStyle};return n&&(r.x=r.x-.5,r.y=r.y-.5),e.isExport&&(r.width*=e.exportScaleValue.x,r.height*=e.exportScaleValue.y,r.x*=e.exportScaleValue.x,r.y*=e.exportScaleValue.y,r.strokeWidth*=e.exportScaleValue.x),e.flip&&(r.flip=e.flip),t&&(r.x+=t.tx,r.y+=t.ty),r},e.renderSvgBackGroundImage=function(e,t,n,r,i,o){if(e.source){var a=Su(t.id).getElementById(t.id+"_image");if(!a){var s=Au(t.id).getElementsByClassName("e-background-image-layer")[0];(a=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("id",t.id+"_image"),s.appendChild(a)}var l=new Image;l.src=e.source,a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l.src.toString());var c="None"!==e.scale?e.scale:"",h=e.align,d=h.charAt(0).toLowerCase()+h.slice(1);c&&(d+=" "+c.charAt(0).toLowerCase()+c.slice(1)),Du(a,{id:t.id+"_image",x:n,y:r,width:i,height:o,preserveAspectRatio:d})}},e.prototype.transformLayers=function(e,t){var n=e.tx*e.scale,r=e.ty*e.scale;if(n!==this.transform.x||r!==this.transform.y||0===n||0===r){if(t)window.domTable[this.diagramId+"_diagramLayer"]||(window.domTable[this.diagramId+"_diagramLayer"]=this.diagramSvgLayer.getElementById(this.diagramId+"_diagramLayer")),window.domTable[this.diagramId+"_diagramLayer"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")");return function(e){var t=null;return window.domTable[e+"_gridline"]?t=window.domTable[e+"_gridline"]:(t=Cu(e).getElementById(e+"_gridline"),window.domTable[e+"_gridline"]=t),t}(this.diagramId).setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+")"),window.domTable[this.diagramId+"_diagramPorts"]||(window.domTable[this.diagramId+"_diagramPorts"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramPorts")),window.domTable[this.diagramId+"_diagramPorts"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),window.domTable[this.diagramId+"_diagramExpander"]||(window.domTable[this.diagramId+"_diagramExpander"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramExpander")),window.domTable[this.diagramId+"_diagramExpander"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),window.domTable[this.diagramId+"_nativeLayer"]||(window.domTable[this.diagramId+"_nativeLayer"]=this.nativeSvgLayer.getElementById(this.diagramId+"_nativeLayer")),window.domTable[this.diagramId+"_nativeLayer"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),Eu(this.diagramId).children[0].style.transform="translate("+e.tx*e.scale+"px,"+e.ty*e.scale+"px)scale("+e.scale+")",this.transform={x:e.tx*e.scale,y:e.ty*e.scale},!0}return!1},e.prototype.updateNode=function(e,t,n,r,i){this.renderElement(e,t,n,r,this.getParentSvg(e),void 0,void 0,i)},e}(),lp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),cp([_t("")],t.prototype,"source",void 0),cp([_t("transparent")],t.prototype,"color",void 0),cp([_t("None")],t.prototype,"scale",void 0),cp([_t("None")],t.prototype,"align",void 0),t}(on),dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),cp([_t("Page")],t.prototype,"mode",void 0),cp([_t("PageSettings")],t.prototype,"region",void 0),cp([Ft({top:25,bottom:25,left:25,right:25},ei)],t.prototype,"margin",void 0),cp([_t(!1)],t.prototype,"canZoomIn",void 0),cp([_t(void 0)],t.prototype,"customBounds",void 0),cp([_t(!1)],t.prototype,"canFit",void 0),t}(on),up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),cp([_t(null)],t.prototype,"width",void 0),cp([_t(null)],t.prototype,"height",void 0),cp([Ft({},ei)],t.prototype,"margin",void 0),cp([_t("Landscape")],t.prototype,"orientation",void 0),cp([_t("Infinity")],t.prototype,"boundaryConstraints",void 0),cp([Ft({},hp)],t.prototype,"background",void 0),cp([_t(!1)],t.prototype,"multiplePage",void 0),cp([_t(!1)],t.prototype,"showPageBreaks",void 0),cp([Ft({},dp)],t.prototype,"fitOptions",void 0),t}(on),pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),cp([_t(0)],t.prototype,"horizontalOffset",void 0),cp([_t(0)],t.prototype,"verticalOffset",void 0),cp([_t(1)],t.prototype,"currentZoom",void 0),cp([_t(0)],t.prototype,"viewPortWidth",void 0),cp([_t(0)],t.prototype,"viewPortHeight",void 0),cp([_t(.2)],t.prototype,"minZoom",void 0),cp([_t(30)],t.prototype,"maxZoom",void 0),cp([_t("Diagram")],t.prototype,"scrollLimit",void 0),cp([_t()],t.prototype,"scrollableArea",void 0),cp([_t(!1)],t.prototype,"canAutoScroll",void 0),cp([Ft({left:15,right:15,top:15,bottom:15},ei)],t.prototype,"autoScrollBorder",void 0),cp([Ft({left:0,right:0,top:0,bottom:0},ei)],t.prototype,"padding",void 0),t}(on),fp=function(){function e(){this.services={}}return e.prototype.register=function(e,t){this.services[e]=t},e.prototype.getService=function(e){return this.services[e]},e}(),gp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ap=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gp(t,e),Ap([_t("lightgray")],t.prototype,"lineColor",void 0),Ap([_t("")],t.prototype,"lineDashArray",void 0),Ap([_t([1.25,18.75,.25,19.75,.25,19.75,.25,19.75,.25,19.75])],t.prototype,"lineIntervals",void 0),Ap([_t([1,19,.5,19.5,.5,19.5,.5,19.5,.5,19.5])],t.prototype,"dotIntervals",void 0),Ap([_t([20])],t.prototype,"snapIntervals",void 0),t}(on),yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gp(t,e),Ap([Ft({},mp)],t.prototype,"horizontalGridlines",void 0),Ap([Ft({},mp)],t.prototype,"verticalGridlines",void 0),Ap([_t(Or.All)],t.prototype,"constraints",void 0),Ap([_t(5)],t.prototype,"snapAngle",void 0),Ap([_t("Lines")],t.prototype,"gridType",void 0),Ap([_t(5)],t.prototype,"snapObjectDistance",void 0),t}(on),vp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vp(t,e),bp([_t(5)],t.prototype,"interval",void 0),bp([_t(100)],t.prototype,"segmentWidth",void 0),bp([_t("Horizontal")],t.prototype,"orientation",void 0),bp([_t("RightOrBottom")],t.prototype,"tickAlignment",void 0),bp([_t("red")],t.prototype,"markerColor",void 0),bp([_t(25)],t.prototype,"thickness",void 0),bp([_t(null)],t.prototype,"arrangeTick",void 0),t}(on),xp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vp(t,e),bp([_t(!1)],t.prototype,"showRulers",void 0),bp([_t(!0)],t.prototype,"dynamicGrid",void 0),bp([Ft({orientation:"Horizontal"},wp)],t.prototype,"horizontalRuler",void 0),bp([Ft({orientation:"Vertical"},wp)],t.prototype,"verticalRuler",void 0),t}(on),Cp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cp(t,e),Sp([_t("")],t.prototype,"property",void 0),Sp([_t("")],t.prototype,"field",void 0),t}(on),Pp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ep=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Op=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pp(t,e),Ep([_t("")],t.prototype,"read",void 0),Ep([_t("")],t.prototype,"create",void 0),Ep([_t("")],t.prototype,"update",void 0),Ep([_t("")],t.prototype,"destroy",void 0),Ep([_t()],t.prototype,"customFields",void 0),t}(on),Tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pp(t,e),Ep([_t("")],t.prototype,"id",void 0),Ep([_t("")],t.prototype,"sourceID",void 0),Ep([_t("")],t.prototype,"targetID",void 0),Ep([_t(null)],t.prototype,"sourcePointX",void 0),Ep([_t(null)],t.prototype,"sourcePointY",void 0),Ep([_t(null)],t.prototype,"targetPointX",void 0),Ep([_t(null)],t.prototype,"targetPointY",void 0),Ep([_t(null)],t.prototype,"dataManager",void 0),Ep([Ft({},Op)],t.prototype,"crudAction",void 0),t}(on),Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pp(t,e),Ep([_t("")],t.prototype,"id",void 0),Ep([_t(null)],t.prototype,"dataManager",void 0),Ep([_t(null)],t.prototype,"dataSource",void 0),Ep([_t("")],t.prototype,"root",void 0),Ep([_t("")],t.prototype,"parentId",void 0),Ep([_t()],t.prototype,"doBinding",void 0),Ep([Ut([],Bp)],t.prototype,"dataMapSettings",void 0),Ep([Ft({},Op)],t.prototype,"crudAction",void 0),Ep([Ft({},Tp)],t.prototype,"connectionDataSource",void 0),t}(on),Lp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lp(t,e),kp([_t("")],t.prototype,"fixedNode",void 0),kp([_t(30)],t.prototype,"horizontalSpacing",void 0),kp([_t("SamePoint")],t.prototype,"connectionPointOrigin",void 0),kp([_t("Nonlinear")],t.prototype,"arrangement",void 0),kp([_t(30)],t.prototype,"verticalSpacing",void 0),kp([_t(30)],t.prototype,"maxIteration",void 0),kp([_t(40)],t.prototype,"springFactor",void 0),kp([_t(50)],t.prototype,"springLength",void 0),kp([Ft({left:50,top:50,right:0,bottom:0},ei)],t.prototype,"margin",void 0),kp([_t("Auto")],t.prototype,"horizontalAlignment",void 0),kp([_t("Auto")],t.prototype,"verticalAlignment",void 0),kp([_t("TopToBottom")],t.prototype,"orientation",void 0),kp([_t("Auto")],t.prototype,"connectionDirection",void 0),kp([_t("Default")],t.prototype,"connectorSegments",void 0),kp([_t("None")],t.prototype,"type",void 0),kp([_t()],t.prototype,"getLayoutInfo",void 0),kp([_t()],t.prototype,"layoutInfo",void 0),kp([_t()],t.prototype,"getBranch",void 0),kp([_t()],t.prototype,"bounds",void 0),kp([_t(!0)],t.prototype,"enableAnimation",void 0),kp([_t(!1)],t.prototype,"enableRouting",void 0),kp([_t("")],t.prototype,"root",void 0),t}(on);function Mp(e,t,n,r,i,o,a){if(o&&o.length>1&&i&&i.length>1)return"PinchZoom";if(r.currentSymbol)return"Drag";if("PortDraw"===r.eventHandler.action&&(r.tool&=~_r.DrawOnce),(Vl(r)||Wl(r))&&r.drawingObject)return"Draw";if(Rp(r)&&((u=r.selectedItems).wrapper&&Qh(u.constraints,"UserHandle")))for(var s=0,l=u.userHandles;s<l.length;s++){var c=l[s];if(c.visible)if(Dp(n,p=Uh(u,c,r.scroller.transform),c.size/(2*r.scroller.transform.scale)))return c.name}if(Rp(r)){var h=r.selectedItems.annotation?r.selectedItems.wrapper.children[0]:r.selectedItems.wrapper,d=h.bounds,u=r.selectedItems,p=new Ar(d.x,d.y,d.width,d.height);if(jp(r)&&!r.selectedItems.annotation){var f=r.selectedItems.connectors[0],g=10/r.scrollSettings.currentZoom,A=10/r.scrollSettings.currentZoom;if(Qh(u.constraints,"ResizeAll")){if(Qh(u.constraints,"ConnectorSourceThumb")&&Tl(f)&&Dp(n,f.sourcePoint,g))return"ConnectorSourceEnd";if(Qh(u.constraints,"ConnectorTargetThumb")&&Il(f)&&Dp(n,f.targetPoint,A))return"ConnectorTargetEnd";if("OrthoThumb"===(x=function(e,t,n,r){var i=10/r.scrollSettings.currentZoom,o=10/r.scrollSettings.currentZoom;if("Bezier"===e.type)for(var a=0;a<e.segments.length;a++){var s=e.segments[a];if(Dp(n,or.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,o))return"BezierSourceThumb";if(Dp(n,or.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,i))return"BezierTargetThumb"}if(r.connectorEditingToolModule&&Ll(e))if("Straight"===e.type||"Bezier"===e.type)for(a=0;a<e.segments.length;a++){if(Dp(n,(s=e.segments[a]).point,10))return"SegmentEnd"}else for(a=0;a<e.segments.length;a++){var l={x:0,y:0};if((s=e.segments[a]).allowDrag)for(var c=0;c<s.points.length-1;c++){if(or.distancePoints(s.points[c],s.points[c+1])>=50&&(l.x=(s.points[c].x+s.points[c+1].x)/2,l.y=(s.points[c].y+s.points[c+1].y)/2,Dp(n,l,30)))return"OrthoThumb"}}return null}(f,0,n,r)))return x;if(Qh(u.constraints,"ConnectorSourceThumb")&&Tl(f)&&x)return x;if(Qh(u.constraints,"ConnectorTargetThumb")&&Il(f)&&x)return x}}else{var m=10/r.scroller.currentZoom,y=yr();br(y,h.rotateAngle+h.parentTransform,h.offsetX,h.offsetY);var v=h.offsetX-h.pivot.x*h.actualSize.width,b=h.offsetY-h.pivot.y*h.actualSize.height,w={x:v+(.5===h.pivot.x?2*h.pivot.x:h.pivot.x)*h.actualSize.width/2,y:b-30/r.scroller.currentZoom};w=vr(y,w);var x,C=!!r.selectedItems.annotation,S=!(!C||!kl(r.selectedItems.annotation));if(Qh(u.constraints,"Rotate")&&Dp(n,w,m)&&r.selectedItems.thumbsConstraints&Rr.Rotate){if(C&&S)return"LabelRotate";if(!C)return"Rotate"}if(p.Inflate(m),p.containsPoint(n))if(x=function(e,t,n,r,i,o){var a;1===e.selectedItems.nodes.length&&0===e.selectedItems.connectors.length&&e.selectedItems.nodes[0].container&&(a=function(e,t,n,r,i){var o=10/e.scroller.currentZoom,a=40/e.scroller.currentZoom,s=e.selectedItems,l=t.actualSize.width,c=t.actualSize.height,h=new Ar(r,i+20,t.style.strokeWidth,c-40),d=new Ar(r+l,i+20,t.style.strokeWidth,c-40),u=new Ar(r+20,i,l-40,t.style.strokeWidth),p=new Ar(r+20,i+c,l-40,t.style.strokeWidth),f=bc(e,e.selectedItems.nodes[0],!0)?e.nameTable[e.selectedItems.nodes[0].parentId]:e.selectedItems.nodes[0];if(l>=a&&c>=a){if(zh(s.constraints,"ResizeEast",s.thumbsConstraints,s)&&d.containsPoint(n,o))return"ResizeEast";if(zh(s.constraints,"ResizeSouth",s.thumbsConstraints,s)&&p.containsPoint(n,o))return"ResizeSouth";if("Grid"!==f.container.type){if(zh(s.constraints,"ResizeWest",s.thumbsConstraints,s)&&h.containsPoint(n,o))return"ResizeWest";if(zh(s.constraints,"ResizeNorth",s.thumbsConstraints,s)&&u.containsPoint(n,o))return"ResizeNorth"}}return null}(e,t,n,i,o));a||e.selectedItems.nodes[0]&&(e.selectedItems.nodes[0].isPhase||e.selectedItems.nodes[0].isLane||"SwimLane"===e.selectedItems.nodes[0].shape.type)||(a=function(e,t,n,r,i,o){var a=40/e.scroller.currentZoom,s=10/e.scroller.currentZoom,l=e.selectedItems,c=!!l.annotation;if(t.actualSize.width>=a&&t.actualSize.height>=a){if(zh(l.constraints,"ResizeSouthEast",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i+t.actualSize.width,y:o+t.actualSize.height}),s))return c?"LabelResizeSouthEast":"ResizeSouthEast";if(zh(l.constraints,"ResizeSouthWest",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i,y:o+t.actualSize.height}),s))return c?"LabelResizeSouthWest":"ResizeSouthWest";if(zh(l.constraints,"ResizeNorthEast",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i+t.actualSize.width,y:o}),s))return c?"LabelResizeNorthEast":"ResizeNorthEast";if(zh(l.constraints,"ResizeNorthWest",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i,y:o}),s))return c?"LabelResizeNorthWest":"ResizeNorthWest"}if(zh(l.constraints,"ResizeEast",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i+t.actualSize.width,y:o+t.actualSize.height/2}),s))return c?"LabelResizeEast":"ResizeEast";if(zh(l.constraints,"ResizeWest",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i,y:o+t.actualSize.height/2}),s))return c?"LabelResizeWest":"ResizeWest";if(zh(l.constraints,"ResizeSouth",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i+t.actualSize.width/2,y:o+t.actualSize.height}),s))return c?"LabelResizeSouth":"ResizeSouth";if(zh(l.constraints,"ResizeNorth",l.thumbsConstraints,l)&&Dp(n,vr(r,{x:i+t.actualSize.width/2,y:o}),s))return c?"LabelResizeNorth":"ResizeNorth";return null}(e,t,n,r,i,o));if(a)return a;return null}(r,h,n,y,v,b))return x}}if(Ql(r)&&!e)return"Pan";if(a instanceof Ti&&!Ql(r)&&"None"!==(x=function(e,t,n,r){if(Jl(t)&&(Wh(t,Er.Hover)||Wh(t,Er.Visible))){if(t.constraints&Gr.Drag)return"PortDrag"}else if(ql(t)&&(Wh(t,Er.Hover)||Wh(t,Er.Visible))&&t.constraints&Gr.Draw){e.drawingObject={};var i={type:"Orthogonal",sourcePortID:t.id};return e.drawingObject=i,e.tool|=_r.DrawOnce,e.currentDrawingObject=i,"PortDraw"}return"None"}(r,a)))return x;if((a instanceof Mi||a instanceof Di)&&!Ql(r)&&Pl(a))return _p(r,a,void 0,t)&&El(a)?"LabelDrag":"LabelSelect";if(null!==e){if(!(e instanceof iu||e instanceof Al))return"Select";if(t&&t.id){var B=t.id.split(e.id)[1];if(B&&B.match("^_icon"))return"LayoutAnimation"}if(t&&t.id)for(var P=void 0,E=0;E<e.fixedUserHandles.length;E++)if(P=e.fixedUserHandles[E].id,t.id&&t.id.indexOf(P)>-1)return"FixedUserHandle";if(t instanceof gi&&t.hyperlink.link)return"Hyperlink";if(!El(e)||!_p(r,e,!1)||void 0!==r.selectedItems.annotation)return e&&Ql(r)&&!Xl(r)?"Pan":r.selectedItems.nodes.length&&r.selectedItems.nodes[0].isLane&&r.selectedItems.wrapper&&r.selectedItems.wrapper.bounds.containsPoint(n)?"Drag":"Select";if(e instanceof Al&&!Dp(n,e.sourcePoint,e.hitPadding)&&!Dp(n,e.targetPoint,e.hitPadding)||!(e instanceof Al))return"Drag"}return"Select"}function Dp(e,t,n){return e.x>=t.x-n&&e.x<=t.x+n&&e.y>=t.y-n&&e.y<=t.y+n}function Rp(e){return e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0}function jp(e){return 1===e.selectedItems.connectors.length&&!e.selectedItems.nodes.length}function _p(e,t,n,r){if(void 0===n&&(n=!0),t instanceof hu)return!0;if(t instanceof iu)for(;t;){if(-1!==e.selectedItems.nodes.indexOf(t)&&void 0===e.selectedItems.annotation)return!0;if(n)break;t=e.nameTable[t.parentId]}else if(t instanceof Al){if(-1!==e.selectedItems.connectors.indexOf(t)&&void 0===e.selectedItems.annotation)return!0}else if((t instanceof Mi||t instanceof Di)&&e.selectedItems.annotation&&e.selectedItems.wrapper.children[0].id===r.id)return!0;return!1}var Fp,Hp={None:"default",Rotate:"crosshair",Select:"default",Drag:"move",ResizeWest:"w-resize",ResizeEast:"e-resize",ResizeSouth:"s-resize",ResizeNorth:"n-resize",Draw:"crosshair",PortDraw:"crosshair",ResizeNorthEast:"ne-resize",ResizeNorthWest:"nw-resize",ResizeSouthEast:"se-resize",ResizeSouthWest:"sw-resize",ConnectorSourceEnd:"move",ConnectorTargetEnd:"move",BezierSourceThumb:"move",BezierTargetThumb:"move",OrthoThumb:"move",SegmentEnd:"move",Pan:"grab",Hyperlink:"pointer",PortDrag:"pointer",LabelSelect:"pointer",LabelDrag:"move",LabelRotate:"crosshair",LabelResizeWest:"w-resize",LabelResizeEast:"e-resize",LabelResizeSouth:"s-resize",LabelResizeNorth:"n-resize",LabelResizeNorthEast:"ne-resize",LabelResizeNorthWest:"nw-resize",LabelResizeSouthEast:"se-resize",LabelResizeSouthWest:"sw-resize"},Up=function(){function e(){this.valueCreated="created",this.valueUpdated="updated",this.valueDeleted="deleted",this.valueUnchanged="unchanged",this.newNodeObject=[],this.newConnectorObject=[],this.diagramObject={}}return e.prototype.updateObjectCollection=function(e,t){for(var n=0;n<e.length;n++)e[n].objects||(e[n].objects=[]),e[n].objects=t.layers[n].objects},e.prototype.getOldObject=function(e,t,n){for(var r=t?n.oldNodeObjects:n.oldConnectorObjects,i=0;i<r.length;i++)if(r[i].id===e)return r[i]},e.prototype.changeSegments=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if("segments"===i){var o=this.removeNullValues(t[i]);e[i]=o}}return e},e.prototype.removeNullValues=function(e){for(var t=[],n={},r=0;r<e.length;r++)n=this.removeNullObjectValues(e[r]),t.push(n);return t},e.prototype.removeNullObjectValues=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i]instanceof Object?this.removeNullObjectValues(e[i]):e[i])}return t},e.prototype.getDifferenceValues=function(e,t,n,r){var i,o,a,s,l=e instanceof iu;if(e&&(s=l?this.getOldObject(e.id,!0,r):this.getOldObject(e.id,!1,r))){var c=Xu(e);if(a=this.map(c,s),i=this.frameObject({},a),o=this.removeEmptyValues(i),(o=this.changeSegments(o,c)).children&&(o.children=Xu(e).children),o.ports&&o.ports.length)for(var h=0;h<o.ports.length;h++)c.ports[h].outEdges&&(o.ports[h].outEdges=c.ports[h].outEdges),c.ports[h].inEdges&&(o.ports[h].inEdges=c.ports[h].inEdges);return this.getDiagramObjects(o,e.id,l,t,n,r)}},e.prototype.getLayerObject=function(e,t,n){if(v()){for(var r={layers:[]},i={layers:[]},o=0;o<n.layers.length;o++)i.layers.push(Xu(n.layers[o]));var a=void 0;for(o=0;o<i.layers.length;o++){a=t?this.map(e.layers[o],Xu(i.layers[o])):this.map(Xu(i.layers[o]),e.layers[o]);var s=this.frameObject({},a),l=this.removeEmptyValues(s);r.layers[o]=l}return this.updateObjectCollection(r.layers,n),r}},e.prototype.getDiagramObjects=function(e,t,n,r,i,o){var a;if(a=zu(o,t),e.sfIndex=a,n?this.newNodeObject.push(e):this.newConnectorObject.push(e),r&&(r.sourceWrapper instanceof gi&&i||r.portId)){var s=void 0,l=void 0;l=n?r.portId?this.newNodeObject[0].ports:this.newNodeObject[0].annotations:this.newConnectorObject[0].annotations||[];for(var c=0;c<l.length;c++)if(Object.keys(l[c]).length>0){var h=o.nameTable[t];if(s=l[c],r.portId)this.newNodeObject[0].ports=[s];else{for(var d=0;d<h.annotations.length;d++)r.sourceWrapper.id===h.id+"_"+h.annotations[d].id&&(s.sfIndex=d);n?this.newNodeObject[0].annotations=[s]:this.newConnectorObject[0].annotations=[s]}}}this.diagramObject={nodes:this.newNodeObject,connectors:this.newConnectorObject}},e.prototype.removeArrayValues=function(e){var t=[];if(JSON.stringify(e)!==JSON.stringify({data:[]}))for(var n=0;n<e.length;n++)if(e[n]instanceof Object){var r=this.removeEmptyValues(e[n]);t.push(r)}else t.push(e[n]);return t},e.prototype.removeEmptyValues=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if("wrapper"!==i&&("data"!==i||"data"===i&&!(e[i]instanceof Array))){var o=e[i],a=JSON.stringify(o);if(o instanceof Array){var s=this.removeArrayValues(o);"[]"!==JSON.stringify(s)&&(t[i]=s)}else if(o instanceof Object){if(a!==JSON.stringify({data:[]})){s=this.removeEmptyValues(o);"{}"!==JSON.stringify(s)&&(t[i]=s)}}else a!==JSON.stringify(["data"])&&a!==JSON.stringify("data")&&a!==JSON.stringify({data:[]})&&"version"!==i&&"ejsAction"!==i&&(t[i]=e[i])}}return t},e.prototype.map=function(e,t,n){if(this.isFunction(e)||this.isFunction(t))throw"Invalid argument. Function given, object expected.";if(this.isValue(e)||this.isValue(t))return{type:this.compareValues(e,t),data:void 0===e?t:e};var r={};if(this.isArray(e))for(var i=0;i<e.length;i++){r[n]||(r[n]=[]);var o=this.map(e[i],t[i]);r[n].push(o)}else for(var a in e)if(!this.isFunction(e[a])){var s=void 0;void 0!==t[a]&&(s=t[a]);var l=this.map(e[a],s,this.isArray(s)?a:void 0);this.isArray(s)?r[a]=l[a]:r[a]=l}if(this.isArray(t))for(var c=t.length-1;c>=0;c--)if(r[n]||(r[n]=[]),this.isFunction(t[c])||void 0!==r[n][c])r[n][c].type&&r[n][c].type!==this.valueUpdated&&delete r[n];else{o=this.map(void 0,t[c]);r[n][c]=o}else for(var a in t)if(this.isFunction(t[a])||void 0!==r[a])r[a].type&&r[a].type!==this.valueUpdated&&r[a].type!==this.valueDeleted&&delete r[a];else{l=this.map(void 0,t[a]);r[a]=l}return r},e.prototype.compareValues=function(e,t){return e===t||this.isDate(e)&&this.isDate(t)&&e.getTime()===t.getTime()?this.valueUnchanged:void 0===e?this.valueCreated:void 0===t?this.valueDeleted:this.valueUpdated},e.prototype.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.prototype.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.prototype.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.prototype.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.prototype.isValue=function(e){return!this.isObject(e)&&!this.isArray(e)},e.prototype.frameObject=function(e,t){for(var n in t)if(this.isArray(t[n])){e[n]||(e[n]=[]);for(var r=0;r<t[n].length;r++){var i=this.frameObject({},t[n][r]);e[n].push(i)}}else if("type"!=n||"type"==n&&t[n]!==this.valueUpdated&&t[n]!==this.valueUnchanged&&t[n]!==this.valueDeleted&&t[n]!==this.valueCreated){if(this.isFunction(t[n]))continue;if(this.isValue(t[n]))return t.data;i=this.frameObject({},t[n]);(this.isValue(i)||Object.keys(i).length>0)&&(e[n]=i)}return e},e}(),zp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Wp=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vp=function(){function e(e,t){void 0===t&&(t=!1),this.commandHandler=null,this.deepDiffer=new Up,this.inAction=!1,this.isProtectChange=!1,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.undoElement={nodes:[],connectors:[]},this.checkProperty=!0,this.undoParentElement={nodes:[],connectors:[]},this.commandHandler=e,this.isProtectChange=t}return e.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},e.prototype.mouseDown=function(e){v()&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0)),this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source),this.checkProperty=!0,this.mouseDownElement=e.source},e.prototype.checkPropertyValue=function(){this.checkProperty&&this.commandHandler.startTransaction(this.isProtectChange)},e.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.inAction&&(this.commandHandler.startTransaction(this.isProtectChange),this.checkProperty=!1),!this.blocked},e.prototype.mouseUp=function(e){this.checkPropertyValue(),this.currentPosition=e.position,this.isTooltipVisible=!1,this.commandHandler.endTransaction(this.isProtectChange),v()&&(this.commandHandler.enableCloneObject(!1),this.commandHandler.ismouseEvents(!1),this.commandHandler.getBlazorOldValues(e,this instanceof sf)),this.endAction(),this.mouseDownElement=null},e.prototype.endAction=function(){this.isTooltipVisible||this.commandHandler.closeTooltip(),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},e.prototype.mouseWheel=function(e){this.currentPosition=e.position},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.updateSize=function(e,t,n,r,i,o){e=this.commandHandler.renderContainerHelper(e)||e;var a,s={snapped:!1,offset:0,left:!1,right:!1},l={snapped:!1,offset:0,top:!1,bottom:!1},c=this.currentPosition.x-this.startPosition.x,h=this.currentPosition.y-this.startPosition.y,d=!(e instanceof gi)&&this.commandHandler.snappingModule&&this.commandHandler.snappingModule.canSnap(),u=d?this.commandHandler.snappingModule.getLayer():null,p=e instanceof gi?o:e.rotateAngle;br(a=yr(),-p,0,0);e.offsetX,e.offsetY;var f=e.width,g=e.height;e.pivot.x,e.pivot.y;var A,m=0,y=0,v=e instanceof gi?e.actualSize.width:e.width,b=e instanceof gi?e.actualSize.height:e.height;switch(r){case"ResizeWest":c=(A=vr(a,{x:c,y:h})).x,h=A.y,y=1,c=d?this.commandHandler.snappingModule.snapLeft(s,l,u,c,h,e,n===t,i):c,h=0,m=(i.width-c)/v;break;case"ResizeEast":c=(A=vr(a,{x:c,y:h})).x,h=A.y,c=d?this.commandHandler.snappingModule.snapRight(s,l,u,c,h,e,n===t,i):c,h=0,m=(i.width+c)/v,y=1;break;case"ResizeNorth":m=1,c=(A=vr(a,{x:c,y:h})).x,h=A.y,h=d?this.commandHandler.snappingModule.snapTop(s,l,u,c,h,e,n===t,i):h,y=(i.height-h)/b;break;case"ResizeSouth":m=1,c=(A=vr(a,{x:c,y:h})).x,h=A.y,h=d?this.commandHandler.snappingModule.snapBottom(s,l,u,c,h,e,n===t,i):h,y=(i.height+h)/b;break;case"ResizeNorthEast":c=(A=vr(a,{x:c,y:h})).x,h=A.y,c=d?this.commandHandler.snappingModule.snapRight(s,l,u,c,h,e,n===t,i):c,h=d?this.commandHandler.snappingModule.snapTop(s,l,u,c,h,e,n===t,i):h,m=(i.width+c)/v,y=(i.height-h)/b;break;case"ResizeNorthWest":c=(A=vr(a,{x:c,y:h})).x,h=A.y,h=d?this.commandHandler.snappingModule.snapTop(s,l,u,c,h,e,n===t,i):h,c=d?this.commandHandler.snappingModule.snapLeft(s,l,u,c,h,e,n===t,i):c,m=(i.width-c)/v,y=(i.height-h)/b;break;case"ResizeSouthEast":c=(A=vr(a,{x:c,y:h})).x,h=A.y,h=d?this.commandHandler.snappingModule.snapBottom(s,l,u,c,h,e,n===t,i):h,c=d?this.commandHandler.snappingModule.snapRight(s,l,u,c,h,e,n===t,i):c,y=(i.height+h)/b,m=(i.width+c)/v;break;case"ResizeSouthWest":c=(A=vr(a,{x:c,y:h})).x,h=A.y,h=d?this.commandHandler.snappingModule.snapBottom(s,l,u,c,h,e,n===t,i):h,c=d?this.commandHandler.snappingModule.snapLeft(s,l,u,c,h,e,n===t,i):c,m=(i.width-c)/v,y=(i.height+h)/b}return{width:m,height:y}},e.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},e}(),Xp=function(e){function t(t,n,r){var i=e.call(this,t,!0)||this;return i.action=r,i}return zp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===or.equals(this.currentPosition,this.prevPosition)){var n=Ar.toBounds([this.prevPosition,this.currentPosition]);this.mouseDownElement&&!El(this.mouseDownElement)?this.commandHandler.clearObjectSelection(this.mouseDownElement):(this.commandHandler.clearSelectedItems(),this.commandHandler.drawSelectionRectangle(n.x,n.y,n.width,n.height))}return!this.blocked},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),!this.commandHandler.isUserHandle(this.currentPosition))if(!1===or.equals(this.currentPosition,this.prevPosition)&&this.inAction){var n=Ar.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.doRubberBandSelection(n)}else{var r=this.commandHandler.getSelectedObject();this.commandHandler.hasSelection()&&t.info&&t.info.ctrlKey?t&&t.source&&(this.commandHandler.isSelected(t.source)?1===t.clickCount&&(this.commandHandler.unSelect(t.source),this.commandHandler.updateBlazorSelector()):this.commandHandler.selectObjects([t.source],!0)):(this.commandHandler.clearSelection(null===t.source),"LabelSelect"===this.action?this.commandHandler.labelSelect(t.source,t.sourceWrapper):t.source&&this.commandHandler.selectObjects([t.source],!1,r))}this.inAction=!1,e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Vp),Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zp(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.inAction=!1;for(var n,r=t.source,i=t.sourceWrapper.id,o=0;o<r.fixedUserHandles.length;o++)i.indexOf(r.fixedUserHandles[o].id)>-1&&(n=r.fixedUserHandles[o]);if(v()){var a=nd(t.source)===Al?{connector:t.source}:{node:t.source},s={fixedUserHandle:nd(t.source)===Al?{connectorFixedUserHandle:n}:{nodeFixedUserHandle:n},element:a},l=Kr.fixedUserHandleClick;this.commandHandler.triggerEvent(l,s),e.prototype.mouseUp.call(this,t)}else{s={fixedUserHandle:n,element:t.source},l=Kr.fixedUserHandleClick;this.commandHandler.triggerEvent(l,s),e.prototype.mouseUp.call(this,t)}},t}(Vp),Kp=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.isConnected=!1,r.endPoint=n,r}return zp(t,e),t.prototype.mouseDown=function(t){return Qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c;return Wp(this,(function(h){if(v()&&t&&t.source&&(this.commandHandler.insertSelectedObjects(),this.commandHandler.insertBlazorConnector(t.source),(n=t.source).connectors&&(r=n.connectors[0],this.oldConnector=Xu(r),i={connector:ud(r),oldValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},newValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},cancel:!1,state:"Changing",connectorEnd:this.endPoint},this.tempArgs=i)),this.inAction=!0,this.undoElement=void 0,this instanceof $p||(this.undoElement=Xu(t.source)),e.prototype.mouseDown.call(this,t),t.source&&t.source.connectors&&({x:this.prevPosition.x,y:this.prevPosition.y},o=t.source.connectors[0],this.oldConnector=Xu(o)),"BezierSourceThumb"===this.endPoint||"BezierTargetThumb"===this.endPoint)for(a=0;a<o.segments.length;a++)s=o.segments[a],l=or.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,c=or.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,(Dp(this.currentPosition,l,o.hitPadding)||Dp(this.currentPosition,c,o.hitPadding))&&(this.selectedSegment=s);return this.currentPosition=t.position,[2]}))}))},t.prototype.mouseUp=function(t){return Qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,h,d,u,p,f;return Wp(this,(function(g){switch(g.label){case 0:return v()?(u=Kr.connectionChange,n=void 0,this.tempArgs&&this.oldConnector?(this.commandHandler.updatePropertiesToBlazor(t,!1),this.tempArgs.state="Changed",i="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",o="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",this.tempArgs.oldValue="ConnectorSourceEnd"===this.endPoint?{connectorSourceValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[o]}}:{connectorTargetValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[o]}},n={state:this.tempArgs.state,oldValue:this.tempArgs.oldValue,newValue:this.tempArgs.newValue,cancel:this.tempArgs.cancel,connectorEnd:this.tempArgs.connectorEnd},"diagram","sfBlazor","Blazor",window&&window.Blazor&&this.commandHandler.diagram.connectionChange?(r={EventName:"connectionChange",args:JSON.stringify(this.tempArgs)},[4,window.sfBlazor.updateBlazorDiagramEvents(r,this.commandHandler.diagram)]):[3,2]):[3,3]):[3,3];case 1:n=g.sent(),g.label=2;case 2:n&&this.commandHandler.updateConnectorValue(n),g.label=3;case 3:return!v()&&this.isConnected&&t.source.connectors&&(s=t.source.connectors[0],i="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",o="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",d={connector:ud(s),oldValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[o]},newValue:{nodeId:s[i],portId:s[o]},cancel:!1,state:"Changed",connectorEnd:this.endPoint},s[i]!==this.oldConnector[i]&&(this.commandHandler.triggerEvent(Kr.connectionChange,d),this.isConnected=!1)),this.checkPropertyValue(),this.commandHandler.updateSelector(),this.commandHandler.removeSnap(),this.commandHandler.changeAnnotationDrag(t),this instanceof $p||("ConnectorSourceEnd"!==this.endPoint||!t.source.connectors.length||or.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)&&t.source.connectors[0].sourceID===this.undoElement.connectors[0].sourceID)&&("ConnectorTargetEnd"!==this.endPoint||or.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint)&&t.source.connectors[0].targetID===this.undoElement.connectors[0].targetID)?this instanceof $p||"BezierTargetThumb"!==this.endPoint&&"BezierSourceThumb"!==this.endPoint||this.undoElement&&t.source&&(p=Xu(t.source),f={type:"SegmentChanged",redoObject:p,undoObject:this.undoElement,category:"Internal"},this.commandHandler.addHistoryEntry(f)):(a=void 0,s=void 0,t.source&&t.source.connectors&&(a={x:this.prevPosition.x,y:this.prevPosition.y},s=t.source.connectors[0]),l=void 0,c=void 0,t.target&&((h=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Ti?l=h.id:c=h.id),d={connector:s,state:"Completed",targetNode:c,oldValue:a,newValue:a,cancel:!1,targetPort:l},v()&&(d={connector:ud(s),state:"Completed",targetNode:c,oldValue:ud(a),newValue:a,cancel:d.cancel,targetPort:l}),u="ConnectorSourceEnd"===this.endPoint?Kr.sourcePointChange:Kr.targetPointChange,this.commandHandler.triggerEvent(u,d),this.commandHandler.removeTerminalSegment(s,!0),this.undoElement&&t.source&&(p=void 0,p=Xu(t.source),f={type:"ConnectionChanged",redoObject:Xu(p),undoObject:Xu(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(f))),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),!(this instanceof $p)&&("ConnectorSourceEnd"===this.endPoint&&or.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)||"ConnectorTargetEnd"===this.endPoint&&or.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint))){var r=void 0,i=void 0;t.source&&t.source.connectors&&(r={x:this.prevPosition.x,y:this.prevPosition.y},i=t.source.connectors[0]);var o=void 0,a=void 0;if(t.target)a=t.target.id,(m=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Ti||m instanceof zd?o=m.id:a=m.id;var s={connector:i,state:"Start",targetNode:a,oldValue:r,newValue:r,cancel:!1,targetPort:o};v()&&(s={connector:ud(i),state:"Start",targetNode:a,oldValue:r,newValue:r,cancel:s.cancel,targetPort:o});var l="ConnectorSourceEnd"===this.endPoint?Kr.sourcePointChange:Kr.targetPointChange;this.commandHandler.triggerEvent(l,s)}if(this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var c=this.currentPosition.x-this.prevPosition.x,h=this.currentPosition.y-this.prevPosition.y,d=void 0,u=(r=void 0,void 0),p=void 0;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var f=void 0;t.source&&t.source.connectors&&(d={x:this.currentPosition.x,y:this.currentPosition.y},r={x:this.prevPosition.x,y:this.prevPosition.y},f=t.source.connectors[0]);var g=void 0,A=void 0;if(t.target)(m=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Ti?g=m.id:A=m.id;var m;s={connector:f,state:"Progress",targetNode:A,oldValue:r,newValue:d,cancel:!1,targetPort:g};if(v()&&(s={connector:ud(f),state:"Progress",targetNode:A,oldValue:r,newValue:d,cancel:s.cancel,targetPort:g}),!(this instanceof $p)){l="ConnectorSourceEnd"===this.endPoint?Kr.sourcePointChange:Kr.targetPointChange;this.commandHandler.triggerEvent(l,s)}if(t.target&&(u=Yh(t.target,!0),p=Yh(t.target,!1)),!s.cancel&&this.inAction&&void 0!==this.endPoint&&0!==c||0!==h)if(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,t.source,this.currentPosition,this.selectedSegment,t.target,g),this.commandHandler.updateSelector(),t.target&&("ConnectorSourceEnd"===this.endPoint&&(Rl(t.target)||jl(p))||"ConnectorTargetEnd"===this.endPoint&&(Ml(t.target)||Dl(u))))if(this.commandHandler.canDisconnect(this.endPoint,t,g,A)&&(n=this.commandHandler.disConnect(t.source,this.endPoint,this.canCancel),this.isConnected=!0),(m=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof iu)(Ml(m)&&"ConnectorTargetEnd"===this.endPoint||Rl(m)&&"ConnectorSourceEnd"===this.endPoint)&&(n=this.commandHandler.connect(this.endPoint,t,this.canCancel),this.isConnected=!0);else this.checkConnect(m)&&(this.isConnected=!0,n=this.commandHandler.connect(this.endPoint,t,this.canCancel));else-1===this.endPoint.indexOf("Bezier")&&(this.isConnected=!0,n=this.commandHandler.disConnect(t.source,this.endPoint,this.canCancel),this.commandHandler.updateSelector());if(this.commandHandler.canEnableDefaultTooltip()){var y=this.getTooltipContent(t.position);this.commandHandler.showTooltip(t.source,t.position,y,"ConnectTool",this.isTooltipVisible),this.isTooltipVisible=!1}n&&(this.tempArgs=n)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.x)+" Y:"+Math.round(e.y)},t.prototype.checkConnect=function(e){return!(!Dl(e)||"ConnectorTargetEnd"!==this.endPoint)||(!(!jl(e)||"ConnectorSourceEnd"!==this.endPoint)||!(e.constraints&Gr.None||Dl(e)||jl(e)))},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(Vp),Gp=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.currentTarget=null,r.canCancel=!1,r.objectType=n,r}return zp(t,e),t.prototype.mouseDown=function(t){if(t.source instanceof iu||t.source instanceof Al){var n=this.commandHandler.getSelectedObject();this.commandHandler.selectObjects([t.source],t.info&&t.info.ctrlKey,n);var r={nodes:[],connectors:[]};t.source instanceof iu?r.nodes.push(Xu(t.source)):r.connectors.push(Xu(t.source)),this.undoElement=Xu(r)}else this.undoElement=Xu(t.source);var i;if(this.undoParentElement=this.commandHandler.getSubProcess(t.source),"Port"===this.objectType&&(this.portId=t.sourceWrapper.id),this.commandHandler.insertBlazorConnector(t.source),v()){this.commandHandler.insertSelectedObjects(),this.startPosition=this.currentPosition=this.prevPosition=t.position,this.initialOffset={x:0,y:0},t.source&&(i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY});var o={source:Xu(t.source),state:"Start",oldValue:i,newValue:{},target:Xu(t.target),targetPosition:t.position,allowDrop:!0,cancel:!1};this.tempArgs=o}e.prototype.mouseDown.call(this,t),this.initialOffset={x:0,y:0}},t.prototype.mouseUp=function(t,n){return Qp(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,h,d,u,p,f,g,A,m,y,b,w;return Wp(this,(function(x){switch(x.label){case 0:return v()&&"Port"!==this.objectType?(this.commandHandler.updatePropertiesToBlazor(t,!1),t.source&&(i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY}),g={state:"Completed",oldValue:ud(this.tempArgs.oldValue),newValue:ud(i),target:ud(this.currentTarget),targetPosition:ud(this.currentPosition),allowDrop:!0,cancel:!1},o=void 0,"diagram","sfBlazor","Blazor",window&&window.Blazor&&this.commandHandler.diagram.positionChange?(a={EventName:"positionChange",args:JSON.stringify(g)},[4,window.sfBlazor.updateBlazorDiagramEvents(a,this.commandHandler.diagram)]):[3,2]):[3,3];case 1:o=x.sent(),x.label=2;case 2:o&&o.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.canCancel=!0),this.canCancel&&(this.commandHandler.insertBlazorObject(t.source),s=this.tempArgs.oldValue.offsetX-t.source.wrapper.offsetX,l=this.tempArgs.oldValue.offsetY-t.source.wrapper.offsetY,this.commandHandler.dragSelectedObjects(s,l)),x.label=3;case 3:return this.checkPropertyValue(),h=!1,u={nodes:[],connectors:[]},"Port"===this.objectType?[3,8]:(t.source instanceof iu||t.source instanceof Al?(t.source instanceof iu?u.nodes.push(Xu(t.source)):u.connectors.push(Xu(t.source)),c=Xu(u),p=t.source.wrapper,c.offsetX=p.offsetX,c.offsetY=p.offsetY):c=Xu(t.source),("helper"!==(d=this.commandHandler.renderContainerHelper(t.source)||t.source||this.commandHandler.renderContainerHelper(t.source)).id||c.nodes[0].isLane||c.nodes[0].isPhase)&&"helper"===d.id||(!(d instanceof hu&&d.width===this.undoElement.width&&d.height===this.undoElement.height)&&d instanceof hu||d.offsetX===this.undoElement.offsetX&&d.offsetY===this.undoElement.offsetY&&d.sourcePoint===this.undoElement.sourcePoint&&d.targetPoint===this.undoElement.targetPoint)&&!this.isSelectionHasConnector(d)||(t.source&&(i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY}),g={source:t.source,state:"Completed",oldValue:r,newValue:i,target:this.currentTarget,targetPosition:this.currentPosition,allowDrop:!0,cancel:!1},g={source:ud(t.source),state:"Completed",oldValue:ud(r),newValue:ud(i),target:ud(this.currentTarget),targetPosition:ud(this.currentPosition),allowDrop:g.allowDrop,cancel:g.cancel},v()&&(g=this.getBlazorPositionChangeEventArgs(g,this.currentTarget)),v()||this.commandHandler.triggerEvent(Kr.positionChange,g),n||(this.commandHandler.startGroupAction(),h=!0,w={type:"PositionChanged",redoObject:Xu(c),undoObject:Xu(this.undoElement),category:"Internal"},c.nodes[0]&&c.nodes[0].processId&&(f={type:"SizeChanged",category:"Internal",undoObject:this.undoParentElement,redoObject:this.commandHandler.getSubProcess(t.source)},this.commandHandler.addHistoryEntry(f)),this.commandHandler.addHistoryEntry(w))),this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,0,0),this.commandHandler.removeSnap(),this.commandHandler.removeHighlighter(),t.source&&this.currentTarget&&Fl(this.currentTarget)&&this.commandHandler.isDroppable(t.source,this.currentTarget)?(this.commandHandler.drop(this.currentElement,this.currentTarget,this.currentPosition),g={element:t.source,target:this.currentTarget,position:this.currentPosition,cancel:!1},v()?(g=function(e,t){if(v()){var n=nd(e.source)===Al,r=ud(e.source),i=ud(e.target);t={element:n?{connector:r.connectors[0],connectorId:r.connectors[0].id}:{node:r.nodes[0],nodeId:r.nodes[0].id},target:n?{connector:i}:{node:i},position:t.position,cancel:t.cancel}}return t}(t,g),[4,this.commandHandler.triggerEvent(Kr.drop,g)]):[3,5]):[3,7]);case 4:return g=x.sent()||g,[3,6];case 5:this.commandHandler.triggerEvent(Kr.drop,g),x.label=6;case 6:if(!g.cancel&&t.source&&this.commandHandler.isParentAsContainer(this.currentTarget)){for(A=t.source instanceof hu?t.source.nodes:[t.source],m=!1,y=void 0,b=0;b<A.length;b++){if(A[0].parentId!==A[b].parentId){y=!1;break}y=!0}for(b=0;b<A.length;b++)!A[b].container&&y&&(m=!0,this.commandHandler.updateLaneChildrenZindex(A[b],this.currentTarget),this.commandHandler.dropChildToContainer(this.currentTarget,A[b]),this.commandHandler.renderContainerHelper(A[b]));h&&this.commandHandler.isContainer&&m&&this.commandHandler.endGroupAction()}x.label=7;case 7:return t.source&&this.currentTarget&&this.commandHandler.dropAnnotation(t.source,this.currentTarget),this.commandHandler.updateSelector(),h&&!this.commandHandler.isContainer&&this.commandHandler.endGroupAction(),[3,9];case 8:u.nodes.push(Xu(t.source)),t.portId=this.portId,c=Xu(u),w={type:"PortPositionChanged",objectId:this.portId,redoObject:Xu(c),undoObject:Xu(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(w),x.label=9;case 9:return this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.isSelectionHasConnector=function(e){return!(!(e.nodes&&e.connectors&&e.nodes.length>0&&e.connectors.length>0)||e.width===this.undoElement.width&&e.height===this.undoElement.height)},t.prototype.getBlazorPositionChangeEventArgs=function(e,t){return e={source:ud(e.source),state:e.state,oldValue:e.oldValue,newValue:e.newValue,target:nd(t)===Al?{connector:ud(t)}:{node:ud(t)},targetPosition:this.currentPosition,allowDrop:!0,cancel:!1}},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n,r,i=!1;(n=this.commandHandler.renderContainerHelper(t.source)||t.source)instanceof iu||n instanceof Al?n instanceof iu?n.offsetX===this.undoElement.nodes[0].offsetX&&n.offsetY===this.undoElement.nodes[0].offsetY&&(i=!0):or.equals(n.sourcePoint,this.undoElement.connectors[0].sourcePoint)&&or.equals(n.targetPoint,this.undoElement.connectors[0].targetPoint)&&(i=!0):n.wrapper.offsetX===this.undoElement.wrapper.offsetX&&n.wrapper.offsetY===this.undoElement.wrapper.offsetY&&(i=!0),n&&(r={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY});var o={source:n,state:"Start",oldValue:r,newValue:r,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(o={source:ud(n),state:"Start",oldValue:ud(r),newValue:ud(r),target:t.target,targetPosition:t.position,allowDrop:o.allowDrop,cancel:o.cancel},i&&!v()&&this.commandHandler.triggerEvent(Kr.positionChange,o),this.currentPosition=t.position,"Port"!==this.objectType){this.currentPosition.x,this.prevPosition.x,this.currentPosition.y,this.prevPosition.y;var a,s=this.initialOffset.x+(this.currentPosition.x-this.prevPosition.x),l=this.initialOffset.y+(this.currentPosition.y-this.prevPosition.y);this.commandHandler.dragOverElement(t,this.currentPosition),this.commandHandler.disConnect(t.source),this.commandHandler.removeSnap();var c=void 0,h=this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,s,l);this.initialOffset.x=s-h.x,this.initialOffset.y=l-h.y,n&&(a={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY},c={offsetX:n.wrapper.offsetX+h.x,offsetY:n.wrapper.offsetY+h.y}),this.currentTarget&&t.target!==this.currentTarget&&this.commandHandler.removeChildFromBPmn(t.source,t.target,this.currentTarget),this.currentTarget=t.target;var d={source:n,state:"Progress",oldValue:a,newValue:c,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(v()&&(d=this.getBlazorPositionChangeEventArgs(d,t.target)),v()||this.commandHandler.triggerEvent(Kr.positionChange,d),!d.cancel&&!this.canCancel){this.blocked=!this.commandHandler.dragSelectedObjects(h.x,h.y);var u=!this.commandHandler.mouseOver(this.currentElement,this.currentTarget,this.currentPosition);this.blocked=this.blocked||u}if(this.commandHandler.removeStackHighlighter(),this.commandHandler.renderStackHighlighter(t),this.currentTarget&&t.source!==this.currentTarget&&this.commandHandler.isDroppable(t.source,this.currentTarget)&&"helper"!==t.source.id){var p=t.source instanceof hu?t.source.nodes[0]:t.source;this.commandHandler.isParentAsContainer(p,!0)||"SwimLane"===p.shape.type||p.shape.isPhase||(this.currentTarget.isLane?this.commandHandler.renderStackHighlighter(t,this.currentTarget):this.commandHandler.drawHighlighter(this.currentTarget))}else this.commandHandler.removeHighlighter();if(this.commandHandler.canEnableDefaultTooltip()){var f=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,f,"MoveTool",this.isTooltipVisible),this.isTooltipVisible=!1}}else{var g=yr(),A=t.source;br(g,-A.rotateAngle,A.offsetX,A.offsetY);var m=vr(g,{x:this.prevPosition.x,y:this.prevPosition.y}),y=vr(g,{x:t.position.x,y:t.position.y});this.commandHandler.portDrag(t.source,t.sourceWrapper,y.x-m.x,y.y-m.y)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.wrapper.bounds.x)+" Y:"+Math.round(e.wrapper.bounds.y)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},t}(Vp),qp=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseDown=function(t){if(v()){var n={rotateAngle:(this.commandHandler.renderContainerHelper(t.source)||t.source).wrapper.rotateAngle},r={source:ud(t.source),state:"Start",oldValue:n,newValue:void 0,cancel:!1};this.tempArgs=r,this.tempArgs&&this.tempArgs.cancel&&(this.canCancel=!0)}if(this.undoElement=Xu(t.source),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var i=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),o=0;o<i.length;o++){var a=this.commandHandler.cloneChild(i[o].id);this.childTable[i[o].id]=Xu(a)}e.prototype.mouseDown.call(this,t)},t.prototype.mouseUp=function(t){return Qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,h;return Wp(this,(function(d){switch(d.label){case 0:return this.checkPropertyValue(),v()?("diagram","sfBlazor","Blazor",this.commandHandler.updatePropertiesToBlazor(t,!1),n=this.commandHandler.renderContainerHelper(t.source)||t.source,s={rotateAngle:this.tempArgs.oldValue.rotateAngle},r={rotateAngle:n.wrapper.rotateAngle},l={state:"Completed",oldValue:s,newValue:r,cancel:!1},i=void 0,window&&window.Blazor&&this.commandHandler.diagram.rotateChange?(o={EventName:"rotateChange",args:JSON.stringify(l)},[4,window.sfBlazor.updateBlazorDiagramEvents(o,this.commandHandler.diagram)]):[3,2]):[3,3];case 1:i=d.sent(),d.label=2;case 2:i&&i.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.canCancel=!0),this.canCancel&&(this.commandHandler.insertBlazorObject(t.source),this.commandHandler.rotatePropertyChnage(this.tempArgs.oldValue.rotateAngle)),d.label=3;case 3:return a=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle!==a.wrapper.rotateAngle&&(s={rotateAngle:a.wrapper.rotateAngle},l={source:t.source,state:"Completed",oldValue:s,newValue:s,cancel:!1},v()||this.commandHandler.triggerEvent(Kr.rotateChange,l),void 0,c=Xu(t.source),h={type:"RotationChanged",redoObject:Xu(c),undoObject:Xu(this.undoElement),category:"Internal",childTable:this.childTable},this.commandHandler.addHistoryEntry(h),this.commandHandler.updateSelector()),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),n=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle===n.wrapper.rotateAngle){var r={rotateAngle:n.wrapper.rotateAngle},i={source:t.source,state:"Start",oldValue:r,newValue:r,cancel:!1};v()||this.commandHandler.triggerEvent(Kr.rotateChange,i)}this.currentPosition=t.position;var o={x:n.wrapper.offsetX,y:n.wrapper.offsetY},a=or.findAngle(o,this.currentPosition)+90,s=this.commandHandler.snapAngle(a);a=((a=0!==s?s:a)+360)%360;var l={rotateAngle:n.wrapper.rotateAngle},c={rotateAngle:a},h=(t.source,!1),d={source:ud(t.source),state:"Progress",oldValue:ud(l),newValue:ud(c),cancel:h};if(v()||this.commandHandler.triggerEvent(Kr.rotateChange,d),(!v()&&!d.cancel||v()&&!this.canCancel)&&(this.blocked=!this.commandHandler.rotateSelectedItems(a-n.wrapper.rotateAngle)),this.commandHandler.canEnableDefaultTooltip()){var u=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,u,"RotateTool",this.isTooltipVisible),this.isTooltipVisible=!1}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+"\xb0"},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(Vp),Jp=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.initialBounds=new Ar,r.canCancel=!1,r.corner=n,r}return zp(t,e),t.prototype.mouseDown=function(t){var n;if(v()){this.commandHandler.insertSelectedObjects(),this.startPosition=this.currentPosition=this.prevPosition=t.position,this.currentElement=t.source,this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width,t.source&&(n={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height});var r={source:ud(t.source),state:"Start",oldValue:n,newValue:ud(this.currentElement),cancel:!1};this.tempArgs=r}if(this.undoElement=Xu(t.source),this.undoParentElement=this.commandHandler.getSubProcess(t.source),e.prototype.mouseDown.call(this,t),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var i=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),o=0;o<i.length;o++){var a=this.commandHandler.cloneChild(i[o].id);this.childTable[i[o].id]=Xu(a)}this.commandHandler.checkSelection(t.source,this.corner),e.prototype.mouseDown.call(this,t),this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width},t.prototype.mouseUp=function(t,n){return Qp(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,h,d,u,p,f;return Wp(this,(function(g){switch(g.label){case 0:return v()?("diagram","sfBlazor","Blazor",this.commandHandler.updatePropertiesToBlazor(t,!1),u=Xu(t.source),r={width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height,offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},d={oldValue:this.tempArgs.oldValue,newValue:r,cancel:!1,state:"Completed"},this.canCancel?[3,3]:(i=void 0,window&&window.Blazor&&this.commandHandler.diagram.sizeChange?(o={EventName:"sizeChange",args:JSON.stringify(d)},[4,window.sfBlazor.updateBlazorDiagramEvents(o,this.commandHandler.diagram)]):[3,2])):[3,4];case 1:i=g.sent(),g.label=2;case 2:i&&i.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.commandHandler.insertBlazorObject(t.source),a=this.tempArgs.oldValue.width/u.wrapper.actualSize.width,s=this.tempArgs.oldValue.height/u.wrapper.actualSize.height,this.commandHandler.scaleSelectedItems(a,s,this.getPivot(this.corner))),g.label=3;case 3:this.tempArgs=void 0,this.canCancel=void 0,g.label=4;case 4:return this.checkPropertyValue(),this.commandHandler.removeSnap(),this.commandHandler.updateSelector(),l=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX===l.wrapper.offsetX&&this.undoElement.offsetY===l.wrapper.offsetY&&this.undoElement.width===l.wrapper.bounds.width&&this.undoElement.height===l.wrapper.bounds.height||(v()||(c=this.updateSize(t.source,this.currentPosition,this.prevPosition,this.corner,this.initialBounds),this.blocked=this.scaleObjects(c.width,c.height,this.corner,this.currentPosition,this.prevPosition,l),h={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},d={source:ud(t.source),state:"Completed",oldValue:h,newValue:h,cancel:!1},this.commandHandler.triggerEvent(Kr.sizeChange,d)),u=Xu(t.source),p={type:"SizeChanged",redoObject:Xu(u),undoObject:Xu(this.undoElement),category:"Internal",childTable:this.childTable},n||(this.commandHandler.startGroupAction(),this.commandHandler.addHistoryEntry(p),u.nodes[0]&&u.nodes[0].processId&&(f={type:"SizeChanged",redoObject:this.commandHandler.getSubProcess(t.source),undoObject:this.undoParentElement,category:"Internal"},this.commandHandler.addHistoryEntry(f)),this.commandHandler.endGroupAction())),this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),[2,!this.blocked]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),n=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX===n.wrapper.offsetX&&this.undoElement.offsetY===n.wrapper.offsetY){var r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},i={source:t.source,state:"Start",oldValue:r,newValue:this.currentElement,cancel:!1};v()||this.commandHandler.triggerEvent(Kr.sizeChange,i)}this.currentPosition=t.position;var o={x:this.currentPosition.x-this.startPosition.x,y:this.currentPosition.y-this.startPosition.y};o=rp(-this.currentElement.wrapper.rotateAngle,void 0,void 0,o);this.currentElement.wrapper.actualSize.width,o.x,this.currentElement.wrapper.actualSize.width,this.currentElement.wrapper.actualSize.height,o.y,this.currentElement.wrapper.actualSize.height;o=this.getChanges(o),this.commandHandler.removeSnap();var a=this.updateSize(t.source,this.startPosition,this.currentPosition,this.corner,this.initialBounds);if(this.blocked=!this.scaleObjects(a.width,a.height,this.corner,this.startPosition,this.currentPosition,n),this.commandHandler.canEnableDefaultTooltip()){var s=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,s,"ResizeTool",this.isTooltipVisible),this.isTooltipVisible=!1}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.scaleObjects=function(e,t,n,r,i,o){o instanceof hu&&1===o.nodes.length&&o.nodes[0].constraints&Mr.AspectRatio&&("ResizeWest"===n||"ResizeEast"===n||"ResizeNorth"===n||"ResizeSouth"===n?1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e)):t=e=r!==i?Math.max(t,e):0);var a={offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height};this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner));var s,l,c={offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height};return s={source:o,state:"Progress",oldValue:a,newValue:c,cancel:!1},l={source:ud(o),state:"Progress",oldValue:ud(a),newValue:ud(c),cancel:s.cancel},v()||this.commandHandler.triggerEvent(Kr.sizeChange,l),(l.cancel||this.canCancel)&&this.commandHandler.scaleSelectedItems(1/e,1/t,this.getPivot(this.corner)),this.blocked},t}(Vp),Zp=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.sourceObject=n,r}return zp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setFocus()},t.prototype.mouseMove=function(t){var n;e.prototype.mouseMove.call(this,t);var r={offsetX:this.currentPosition.x,width:3,height:3,offsetY:this.currentPosition.y};if(this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(r)),this.inAction&&!1===or.equals(this.currentPosition,this.prevPosition)){var i=Ar.toBounds([this.prevPosition,this.currentPosition]);(n=this.commandHandler.checkBoundaryConstraints(void 0,void 0,i))&&this.commandHandler.updateNodeDimension(this.drawingObject,i)}return n},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=Ar.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.checkBoundaryConstraints(void 0,void 0,n),this.drawingObject&&this.drawingObject instanceof iu&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Vp),$p=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.sourceObject=r,i}return zp(t,e),t.prototype.mouseDown=function(t){return Qp(this,void 0,void 0,(function(){return Wp(this,(function(n){return e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setFocus(),[2]}))}))},t.prototype.mouseMove=function(t){if(this.commandHandler.enableServerDataBinding(!1),this.inAction){var n={sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(n)),t.source=this.drawingObject,(t.target&&t.target instanceof iu||t.actualObject&&t.sourceWrapper&&ld(t.actualObject,t.sourceWrapper))&&("ConnectorTargetEnd"!==this.endPoint||Ml(t.target))&&this.commandHandler.connect(this.endPoint,t),this.endPoint="ConnectorTargetEnd"}return this.inAction||(this.commandHandler.updateSelector(),t.source&&t.sourceWrapper&&this.commandHandler.renderHighlighter(t,!0)),e.prototype.mouseMove.call(this,t),this.commandHandler.enableServerDataBinding(!0),!this.blocked},t.prototype.mouseUp=function(t){return Qp(this,void 0,void 0,(function(){return Wp(this,(function(n){return this.commandHandler.enableServerDataBinding(!1),this.checkPropertyValue(),this.drawingObject&&this.drawingObject instanceof Al&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),this.inAction=!1,this.commandHandler.enableServerDataBinding(!0),e.prototype.mouseUp.call(this,t),[2]}))}))},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Kp),ef=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.commandHandler.clearSelection();var n={shape:{type:"Text"},offsetX:this.currentPosition.x,offsetY:this.currentPosition.y};t.source||(this.drawingNode=this.commandHandler.drawObject(n))},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.drawingNode)this.drawingNode.style.strokeColor="black",this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent";else{var n={shape:{type:"Text"},offsetX:this.currentPosition.x,width:30,height:30,offsetY:this.currentPosition.y};this.drawingNode=this.commandHandler.drawObject(n),this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent"}if(this.inAction&&!1===or.equals(this.currentPosition,this.prevPosition)){var r=Ar.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.updateNodeDimension(this.drawingNode,r)}return!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.drawingNode?(this.drawingNode.style.strokeColor="none",this.drawingNode.style.fill="none"):this.drawingNode=t.source,this.drawingNode&&(this.drawingNode instanceof iu||this.drawingNode instanceof Al)&&this.commandHandler.addText(this.drawingNode,this.currentPosition),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(Vp),tf=function(e){function t(t,n){var r=e.call(this,t)||this;return r.zooming=n,r}return zp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setBlazorDiagramProps(!0)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction)if(this.zooming||!1!==or.equals(this.currentPosition,this.prevPosition)){if(t.moveTouches&&t.moveTouches.length&&t.moveTouches.length>=2){var n=t.startTouches[0],r=t.startTouches[1],i=t.moveTouches[0],o=t.moveTouches[1],a=this.getDistance(i,o)/this.getDistance(n,r),s=t.position;this.commandHandler.zoom(a,0,0,s),this.updateTouch(n,i),this.updateTouch(r,o)}}else{var l=this.currentPosition.x-this.prevPosition.x,c=this.currentPosition.y-this.prevPosition.y;this.commandHandler.scroll(l,c,this.currentPosition)}return this.commandHandler.dataBinding(),!this.blocked},t.prototype.mouseUp=function(t){this.commandHandler.setBlazorDiagramProps(!1),this.checkPropertyValue(),this.commandHandler.updatePanState(!1),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.getDistance=function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},t.prototype.updateTouch=function(e,t){e.pageX=t.pageX,e.pageY=t.pageY},t}(Vp),nf=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.commandHandler.initExpand(t),e.prototype.mouseUp.call(this,t)},t}(Vp),rf=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),window.open(t.sourceWrapper.hyperlink.link,"_blank").focus(),e.prototype.mouseUp.call(this,t)},t}(Vp),of=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var n=void 0,r=this.drawingObject.shape;n={x:(n=r.points[r.points.length-1]).x,y:n.y},this.drawingObject.shape.points.push(n)}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var i={offsetX:this.currentPosition.x,offsetY:this.currentPosition.y,width:5,height:5,style:{strokeColor:"black",strokeWidth:1},shape:{type:"Basic",shape:"Polygon",points:[{x:this.startPoint.x,y:this.startPoint.y},{x:this.currentPosition.x,y:this.currentPosition.y}]}};v()&&"Basic"===i.shape.type&&(i.shape.basicShape="Polygon"),this.drawingObject=this.commandHandler.drawObject(i)}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var n=this.drawingObject.shape;if(this.drawingObject&&this.currentPosition&&(n.points[n.points.length-1].x=this.currentPosition.x,n.points[n.points.length-1].y=this.currentPosition.y,this.drawingObject.wrapper.children[0].data=sr(this.drawingObject.shape.points),this.inAction&&!1===or.equals(this.currentPosition,this.prevPosition))){var r=Ar.toBounds(this.drawingObject.shape.points);this.commandHandler.updateNodeDimension(this.drawingObject,r)}}return!0},t.prototype.mouseUp=function(t,n){this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&(this.inAction=!1,this.drawingObject&&this.commandHandler.addObjectToDiagram(this.drawingObject)),this.endAction()},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null},t}(Vp),af=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var n=this.drawingObject;n.targetPoint=this.currentPosition,this.commandHandler.updateConnectorPoints(n)}return!0},t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var n=this.drawingObject,r=void 0;(r=new rl(n,"segments",{type:"Straight"},!0)).point=this.currentPosition,n.segments[n.segments.length-1]=r}else{var i={id:"Connector",type:"Straight",sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject=this.commandHandler.drawObject(i)}},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&this.drawingObject){var n=this.drawingObject;n.segments[n.segments.length-1].point={x:0,y:0},this.commandHandler.addObjectToDiagram(this.drawingObject)}this.endAction()},t.prototype.endAction=function(){this.drawingObject=null,this.inAction=!1},t}(Vp),sf=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.undoElement=Xu(t.source),this.annotationId=t.sourceWrapper.id,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n=this.currentPosition.x-this.prevPosition.x,r=this.currentPosition.y-this.prevPosition.y,i=t.source;if(i instanceof iu){var o=yr();br(o,-i.rotateAngle,0,0);var a=vr(o,{x:n,y:r});n=a.x,r=a.y}return this.inAction&&(this.commandHandler.labelDrag(t.source,t.sourceWrapper,n,r),this.commandHandler.updateSelector()),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=t.source;this.inAction=!1;var r={type:"AnnotationPropertyChanged",objectId:this.annotationId,undoObject:Xu(this.undoElement),category:"Internal",redoObject:Xu(n)};this.commandHandler.addHistoryEntry(r),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(Vp),lf=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.corner=n,r}return zp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.annotationId=t.source.wrapper.children[0].id,this.undoElement=Xu(n);var r=t.source.wrapper.children[0];this.initialBounds={x:r.offsetX,y:r.offsetY,width:r.actualSize.width,height:r.actualSize.height},e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){return e.prototype.mouseMove.call(this,t),this.inAction&&this.resizeObject(t),!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.inAction=!1;var r={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:Xu(n),undoObject:Xu(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(r),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.resizeObject=function(e){var t;t=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0];var n,r,i=e.source.wrapper.children[0],o={x:i.offsetX,y:i.offsetY},a=i.rotateAngle;a=((a+=t instanceof iu?t.rotateAngle:0)+360)%360;var s=yr();br(s,a,o.x,o.y);var l=this.corner.slice(5),c=this.updateSize(i,this.startPosition,this.currentPosition,l,this.initialBounds,a),h=i.offsetX-i.actualSize.width*i.pivot.x,d=i.offsetY-i.actualSize.height*i.pivot.y,u=this.getPivot(l),p=vr(s,u={x:h+i.actualSize.width*u.x,y:d+i.actualSize.height*u.y});c.x=p.x,c.y=p.y,n=(n=c.width)<0?1:n,r=(r=c.height)<0?1:r,this.commandHandler.labelResize(t,e.source.annotation,n,r,c,e.source),this.commandHandler.updateSelector()},t}(Vp),cf=function(e){function t(t){return e.call(this,t,!0)||this}return zp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.annotationId=t.source.wrapper.children[0].id;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.undoElement=Xu(n),e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),t.source&&this.inAction){var n,r=t.source.nodes[0]?t.source.nodes[0]:t.source.connectors[0];n=t.source.annotation,this.commandHandler.labelRotate(r,n,this.currentPosition,t.source),this.commandHandler.updateSelector()}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.inAction=!1;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0],r={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:Xu(n),undoObject:Xu(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(r),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(Vp),hf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(e){function t(t,n){var r=e.call(this,t,!0)||this;return r.endPoint=n,r}return hf(t,e),t.prototype.mouseDown=function(t){var n,r=!0;if(t.source&&t.source.connectors&&(n=t.source.connectors[0]),t.info&&(r=t.info.ctrlKey&&"Orthogonal"!==t.actualObject.type),n&&r){this.inAction=!0,this.undoElement=Xu(t.source),e.prototype.mouseDown.call(this,t);for(var i=0;i<n.segments.length;i++){var o=n.segments[i];if("OrthoThumb"===this.endPoint)for(var a=0;a<o.points.length-1;a++){var s={x:0,y:0};s.x=(o.points[a].x+o.points[a+1].x)/2,s.y=(o.points[a].y+o.points[a+1].y)/2,Dp(this.currentPosition,s,30)&&(this.selectedSegment=o,this.segmentIndex=a)}else Dp(this.currentPosition,o.point,10)&&(this.selectedSegment=o)}}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var n=this.currentPosition.y-this.prevPosition.y,r=this.currentPosition.x-this.prevPosition.x;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var i=void 0;if(t.source&&t.source.connectors&&(i=t.source.connectors[0]),this.inAction&&void 0!==this.selectedSegment&&void 0!==this.endPoint&&(0!==r||0!==n)){if("OrthoThumb"===this.endPoint)this.blocked=!this.dragOrthogonalSegment(i,this.selectedSegment,this.currentPosition,this.segmentIndex);else{var o=this.currentPosition.x-this.selectedSegment.point.x,a=this.currentPosition.y-this.selectedSegment.point.y,s=i.segments.indexOf(this.selectedSegment);this.blocked=!this.commandHandler.dragControlPoint(i,o,a,!1,s)}this.commandHandler.updateSelector()}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){var n,r;if(t.source&&t.source.connectors&&(r={segments:(n=t.source.connectors[0]).segments}),t&&t.source&&t.info&&t.info.ctrlKey&&t.info.shiftKey&&"Straight"===n.type)this.addOrRemoveSegment(n,this.currentPosition);else if("OrthoThumb"===this.endPoint&&this.selectedSegment){var i=n.segments.indexOf(this.selectedSegment),o=n.segments[i-1],a=n.segments[i+1];if(i===n.segments.length-2&&this.updateLastSegment(n,this.selectedSegment))n.segments.splice(n.segments.length-2,1);else if(o&&Math.abs(o.length)<5)1!==i&&this.removePrevSegment(n,i);else if(a){var s=or.distancePoints(a.points[0],a.points[1]),l=a.length||0===a.length?a.length:s;Math.abs(l)<=5&&this.removeNextSegment(n,i)}this.commandHandler.updateEndPoint(n,r)}if(this.undoElement){var c={type:"SegmentChanged",redoObject:Xu(t.source),undoObject:this.undoElement,category:"Internal"};this.commandHandler.addHistoryEntry(c)}e.prototype.mouseUp.call(this,t)},t.prototype.removePrevSegment=function(e,t){var n=e.segments[t-2],r=e.segments[t+1];if(!((r.length||0===r.length?r.length:or.distancePoints(r.points[0],r.points[1]))<=5)){var i=e.segments.slice(t-1,t+1),o={element:e,removeSegments:i,type:"Removal",cancel:!1};if(v()&&(o={element:ud(e),removeSegments:ud(i),type:"Removal",cancel:o.cancel}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,o),!o.cancel){var a=e.segments[t+1];e.segments.splice(t-1,2);var s=this.selectedSegment;"Left"===s.direction||"Right"===s.direction?(n.points[n.points.length-1].x=a.points[0].x,a.points[0].y=n.points[n.points.length-1].y):(n.points[n.points.length-1].y=a.points[0].y,a.points[0].x=n.points[n.points.length-1].x),(s.length||0===s.length)&&this.findSegmentDirection(n),this.findSegmentDirection(a)}}},t.prototype.findSegmentDirection=function(e){e.direction&&(e.length||0===e.length)&&(e.length=or.distancePoints(e.points[0],e.points[e.points.length-1]),e.direction=or.direction(e.points[0],e.points[e.points.length-1]))},t.prototype.removeNextSegment=function(e,t){var n,r,i=this.selectedSegment,o=e.segments[t-1],a=e.segments[t+2],s=e.segments[t+1];if(s.length||0===s.length?(n=e.segments.slice(t,2),r={element:e,removeSegments:n,type:"Removal",cancel:!1},r={element:ud(e),removeSegments:ud(n),type:"Removal",cancel:!1},v()&&(r={element:ud(e),removeSegments:ud(n),type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,r),r.cancel||(e.segments.splice(t,2),"Top"===i.direction||"Bottom"===i.direction?(a.points[0].y=i.points[0].y,o.points[o.points.length-1].x=a.points[0].x):(a.points[0].x=i.points[0].x,o.points[o.points.length-1].y=a.points[0].y))):(n=e.segments.slice(t+1,1),r={element:e,removeSegments:n,type:"Removal",cancel:!1},v()&&(r={element:e,removeSegments:n,type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,r),r.cancel||(e.segments.splice(t+1,1),"Top"===i.direction||"Bottom"===i.direction?o.points[o.points.length-1].x=s.points[s.points.length-1].x:o.points[o.points.length-1].y=s.points[s.points.length-1].y,this.findSegmentDirection(o),i.length=i.direction=null)),o&&a&&!r.cancel&&(o.length=or.distancePoints(o.points[0],a.points[0]),o.direction=or.direction(o.points[0],a.points[0]),a.length||0===a.length)){a.length=or.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);var l=o.points,c=a.points;a.direction=or.direction(l[l.length-1],c[c.length-1])}},t.prototype.addOrRemoveSegment=function(e,t){for(var n,r,i={segments:e.segments},o=0;o<e.segments.length;o++){Dp(t,(a=e.segments[o]).point,e.hitPadding)&&(r=o,n=!0)}if(n&&void 0!==r){if(e.segments&&e.segments[r]&&"Straight"===e.segments[r].type){var a=e.segments[r],s=e.segments[r+1];s&&(e.segments.splice(r,1),s.points[0]=a.points[0])}}else{this.commandHandler.enableServerDataBinding(!1);var l=this.findIndex(e,t);if(e.segments&&e.segments[l]&&"Straight"===e.segments[l].type){a=e.segments[l];var c=new rl(e,"segments",{type:"Straight",point:t},!0);c.points[0]=a.points[0],c.points[1]=t,a.points[0]=t,e.segments.splice(l,0,c),n=!0}this.commandHandler.enableServerDataBinding(!0)}n&&this.commandHandler.updateEndPoint(e,i)},t.prototype.findIndex=function(e,t){for(var n=[],r=0;r<e.segments.length;r++){var i=e.segments[r],o=Ar.toBounds([i.points[0],i.points[1]]);o.Inflate(e.hitPadding),o.containsPoint(t)&&n.push(i)}if(1===n.length)return e.segments.indexOf(n[0]);var a=void 0,s=void 0,l=void 0,c=void 0,h=void 0,d=void 0;for(r=0;r<n.length;r++)c=n[r],h=(t.y-c.points[0].y)/(c.points[1].y-t.y),d=(t.x-c.points[0].x)/(c.points[1].x-t.x),a=Math.abs(h-d),0===r&&(s=a,l=0),a<s&&(s=a,l=r);return e.segments.indexOf(n[l])},t.prototype.dragOrthogonalSegment=function(e,t,n,r){var i={x:0,y:0},o={segments:e.segments};i.x=(t.points[r].x+t.points[r+1].x)/2,i.y=(t.points[r].y+t.points[r+1].y)/2;var a=n.y-i.y,s=n.x-i.x,l=e.segments.indexOf(t),c=!1;return-1!==l&&(0===l&&1===e.segments.length&&2===t.points.length?(l=this.addSegments(e,t,s,a,l),c=!0):l!==e.segments.length-1||null!==t.direction&&null!==t.length?0===l&&(l=this.insertFirstSegment(e,t,s,a,l),c=!0):(l=this.addTerminalSegment(e,t,s,a,r),c=!0),l&&(c&&(this.selectedSegment=t=e.segments[l],this.segmentIndex=0),this.updateAdjacentSegments(e,l,s,a),this.commandHandler.updateEndPoint(e,o))),!0},t.prototype.addSegments=function(e,t,n,r,i){var o,a=[],s=or.distancePoints(t.points[0],t.points[1]),l=or.direction(t.points[0],t.points[1]);a.push(new ol(e,"segments",{type:"Orthogonal",direction:l,length:s/4},!0));var c=t.points[0].y===t.points[1].y?r>0?"Bottom":"Top":n>0?"Right":"Left",h=t.points[0].x===t.points[1].x?r:n;a.push(new ol(e,"segments",{type:"Orthogonal",direction:c,length:h},!0)),a.push(new ol(e,"segments",{type:"Orthogonal",direction:l,length:s/2},!0));var d={element:e,addSegments:a,type:"Addition",cancel:!1};return v()&&(d={addSegments:ud(a),type:"Addition",cancel:d.cancel,element:ud(e)}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,d),d.cancel||(e.segments=a.concat(e.segments),o=i+2),o},t.prototype.insertFirstSegment=function(e,t,n,r,i){var o,a,s,l,c,h=[];if(e.sourcePortID&&t.length&&e.segments[0].points.length>2)for(var d=void 0,u=0;u<t.points.length-1;u++){var p=or.distancePoints(t.points[u],t.points[u+1]),f=or.direction(t.points[u],t.points[u+1]);0===(c=new ol(e,"segments",{type:"Orthogonal",direction:f,length:p},!0)).length&&(!d||"Top"!==d.direction&&"Bottom"!==d.direction?c.direction=r>0?"Bottom":"Top":c.direction=n>0?"Right":"Left"),d=c,h.push(c)}else s={type:"Orthogonal",direction:t.direction,length:t.length/3},h.push(new ol(e,"segments",s,!0)),"Bottom"===t.direction||"Top"===t.direction?(a=Math.abs(n),o=n>0?"Right":"Left"):(a=Math.abs(r),o=r>0?"Bottom":"Top"),c=new ol(e,"segments",{type:"Orthogonal",direction:o,length:a},!0),h.push(c);var g={element:e,addSegments:h,type:"Addition",cancel:!1};if(v()&&(g={element:ud(e),addSegments:ud(h),type:"Addition",cancel:g.cancel}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,g),!g.cancel){if(e.sourcePortID&&t.length&&e.segments[0].points.length>2)e.segments.splice(0,1),l=1;else{var A=e.segments[1];A&&A.length&&(A.length=o!==A.direction?A.length+a:A.length-a),l=2,t.length=2*t.length/3}e.segments=h.concat(e.segments)}return l},t.prototype.updateAdjacentSegments=function(e,t,n,r){var i=e.segments[t],o=i.points[i.points.length-1],a=i.points[0],s=!0;if("Orthogonal"===i.type&&(i.points[0]=a,i.points[i.points.length-1]=o,e.segments[t-1]&&(s=this.updatePreviousSegment(n,r,e,t)),e.segments.length-1>t&&s)){var l=e.segments[t+1];this.updateNextSegment(e,i,l,n,r)}},t.prototype.addTerminalSegment=function(e,t,n,r,i){var o,a,s,l,c=e.segments.indexOf(t),h=[],d=e.segments.pop(),u=e.segments[e.segments.length-1];o=u&&"Orthogonal"===u.type?u:null;for(var p=0;p<t.points.length-2;p++)s=or.distancePoints(t.points[p],t.points[p+1]),l=or.direction(t.points[p],t.points[p+1]),a=new ol(e,"segments",{type:"Orthogonal",length:s,direction:l},!0),h.push(a),o=a;var f=i;if((2===t.points.length||f===t.points.length-2)&&(o&&(o.length+=5),void 0!==f)){s=2*or.distancePoints(t.points[t.points.length-2],t.points[t.points.length-1])/3,l=or.direction(t.points[t.points.length-2],t.points[t.points.length-1]);var g=new ol(e,"segments",{type:"Orthogonal",length:s,direction:l});h.push(g)}var A=new ol(e,"segments",{type:"Orthogonal"},!0);h.push(A);var m,y=!1;return m={element:ud(e),addSegments:ud(h),type:"Addition",cancel:y},v()&&(m={element:ud(e),addSegments:ud(h),type:"Addition",cancel:y}),this.commandHandler.triggerEvent(Kr.segmentCollectionChange,m),m.cancel?e.segments.push(d):(e.segments=e.segments.concat(h),c+=i),this.commandHandler.updateEndPoint(e),c},t.prototype.updatePortSegment=function(e,t,n,r,i){if(1===n&&2===e.points.length&&e.length<0){var o=t.sourceWrapper.corners,a=t.segments[n],s=t.segments[n+1],l=void 0,c=[];l=new ol(t,"segments",{type:"Orthogonal",length:13,direction:e.direction}),c.push(l);var h=void 0;h="Left"===a.direction?a.points[0].x-(o.middleLeft.x-20):"Right"===a.direction?o.middleRight.x+20-a.points[0].x:"Bottom"===a.direction?o.bottomCenter.y+20-a.points[0].y:a.points[0].y-(o.topCenter.y-20),l=new ol(t,"segments",{type:"Orthogonal",length:h,direction:a.direction}),c.push(l),a.length=a.length-h,s&&s.length&&s.direction&&(s.direction===e.direction?s.length-=13:s.direction===Oo(e.direction)&&(s.length+=13)),t.segments=c.concat(t.segments),this.selectedSegment=t.segments[3]}},t.prototype.updatePreviousSegment=function(e,t,n,r){var i=n.segments[r],o=n.segments[r-1];o.points[o.points.length-1]=i.points[0];var a=!n.sourceID||""!==n.sourcePortID,s=!0;return"Orthogonal"===o.type&&("Bottom"===o.direction?o.length+=t:"Top"===o.direction?o.length-=t:"Right"===o.direction?o.length+=e:o.length-=e,""!==n.sourcePortID&&o.length<0?this.updatePortSegment(o,n,r,e,t):n.sourceID&&""===n.sourcePortID&&o.length<0&&1===r&&(s=!1,this.updateFirstSegment(n,i)),a&&this.changeSegmentDirection(o)),s},t.prototype.changeSegmentDirection=function(e){e.length<0&&(e.direction=Oo(e.direction),e.length*=-1)},t.prototype.updateNextSegment=function(e,t,n,r,i){n.points[0]=t.points[t.points.length-1],n&&"Orthogonal"===n.type&&(n.length||0===n.length)&&("Left"===n.direction||"Right"===n.direction?0!==r&&(n.length="Right"===n.direction?n.length-r:n.length+r,(n.length||0===n.length)&&this.changeSegmentDirection(n)):0!==i&&(n.length="Bottom"===n.direction?n.length-i:n.length+i,(n.length||0===n.length)&&this.changeSegmentDirection(n)))},t.prototype.updateFirstSegment=function(e,t){var n,r=e.segments.indexOf(t),i=!1,o=e.segments[r],a=e.segments[r-1],s={segments:e.segments};if(a.length<0&&e.sourceID){var l=e.sourceWrapper.corners,c=[],h=void 0,d=!1;this.changeSegmentDirection(o);var u=e.segments[r+1],p=e.segments[r+2];switch(u&&this.changeSegmentDirection(u),p&&this.changeSegmentDirection(p),a.direction){case"Top":case"Bottom":n=o.length>0&&"Left"===o.direction?l.middleLeft:l.middleRight,o.length>l.width/2?Math.abs(a.length)<l.height/2&&(a.length=or.distancePoints(l.center,a.points[a.points.length-1]),o.points[0].x=n.x,o.length=or.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,i=!0):(u&&u.direction&&u.length&&(u.points[0].y=n.y,u.points[0].x=u.points[u.points.length-1].x="Right"===o.direction?n.x+20:n.x-20),i=!0,d=!0);break;case"Left":case"Right":n=o.length>0&&"Top"===o.direction?l.topCenter:l.bottomCenter,o.length>l.height/2?Math.abs(a.length)<l.width/2&&(a.length=or.distancePoints(l.center,a.points[a.points.length-1]),o.points[0].y=n.y,o.length=or.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,i=!0):(u&&u.direction&&u.length&&(u.points[0].x=n.x,u.points[0].y=u.points[u.points.length-1].y="Bottom"===o.direction?n.y+20:n.y-20),i=!0,d=!0)}this.changeSegmentDirection(a),this.changeSegmentDirection(o),i&&(h={type:"Orthogonal",direction:o.direction,length:20},c.push(new ol(e,"segments",h,!0)),d&&(u&&u.direction&&u.length&&(u.length=or.distancePoints(u.points[0],u.points[u.points.length-1])),p&&p.direction&&p.length&&(p.length=or.distancePoints(u.points[u.points.length-1],p.points[p.points.length-1])),e.segments.splice(r-1,2)),e.segments=c.concat(e.segments)),this.selectedSegment=d?e.segments[r-1]:e.segments[r+1],this.commandHandler.updateEndPoint(e,s)}},t.prototype.updateLastSegment=function(e,t){if(e.targetID&&""===e.targetPortID){var n=void 0,r=void 0,i=void 0,o=void 0,a=e.targetWrapper.corners,s=t.points[0],l=t.points[t.points.length-1];return"Right"===t.direction||"Left"===t.direction?(n={x:s.x,y:s.y},r={x:"Left"===t.direction?l.x-a.width/2:l.x+a.width/2,y:l.y},i={x:a.center.x,y:a.center.y-a.height},o={x:a.center.x,y:a.center.y+a.height}):(n={x:s.x,y:s.y},r={x:l.x,y:"Bottom"===t.direction?l.y+a.height/2:l.y-a.height/2},i={x:a.center.x-a.width,y:a.center.y},o={x:a.center.x+a.width,y:a.center.y}),yh({x1:n.x,y1:n.y,x2:r.x,y2:r.y},{x1:i.x,y1:i.y,x2:o.x,y2:o.y}).enabled}return!1},t.prototype.destroy=function(){},t.prototype.getModuleName=function(){return"ConnectorEditingTool"},t}(Vp),uf=function(){function e(e,t){this.currentAction="None",this.previousAction="None",this.focus=!1,this.isBlocked=!1,this.isMouseDown=!1,this.inAction=!1,this.doingAutoScroll=!1,this.diagram=null,this.objectFinder=null,this.tool=null,this.eventArgs=null,this.keyArgs={},this.diagram=e,this.objectFinder=new pf,this.commandHandler=t}return Object.defineProperty(e.prototype,"action",{get:function(){return this.currentAction},set:function(e){e!==this.currentAction&&("PortDraw"===this.currentAction&&(this.diagram.tool&=~_r.DrawOnce,this.tool&&this.tool.mouseUp({position:this.currentPosition}),this.tool=null),"Rotate"===e||"LabelRotate"===e?this.diagram.diagramCanvas.classList.add("e-diagram-rotate"):"Rotate"!==this.currentAction&&"LabelRotate"!==this.currentAction||this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),this.currentAction=e,"None"!==this.currentAction&&"Select"!==this.currentAction&&!(this.diagram.diagramActions&Qr.TextEdit)||this.commandHandler.isUserHandle(this.currentPosition)?this.diagram.diagramActions=this.diagram.diagramActions|Qr.ToolAction:this.diagram.diagramActions=this.diagram.diagramActions&~Qr.ToolAction,this.diagram.setCursor(this.diagram.getCursor(e,this.inAction)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blocked",{get:function(){return this.isBlocked},set:function(e){this.isBlocked=e,this.blocked?this.diagram.setCursor("not-allowed"):this.diagram.setCursor(this.diagram.getCursor(this.action,this.inAction))},enumerable:!0,configurable:!0}),e.prototype.getMousePosition=function(e){var t,n,r;-1!==e.type.indexOf("touch")?(n=(t=e).changedTouches[0].clientX,r=t.changedTouches[0].clientY):(n=e.clientX,r=e.clientY);var i=new nr;i=Cl(this.diagram);var o=this.diagram.element.getBoundingClientRect();return n=n+this.diagram.diagramCanvas.scrollLeft-o.left-i.width,r=r+this.diagram.diagramCanvas.scrollTop-o.top-i.height,n/=this.diagram.scroller.transform.scale,r/=this.diagram.scroller.transform.scale,{x:n-=this.diagram.scroller.transform.tx,y:r-=this.diagram.scroller.transform.ty}},e.prototype.windowResize=function(e){var t=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){t.updateViewPortSize(t.diagram.element)}),300),!1},e.prototype.updateViewPortSize=function(e){var t=document.getElementById(e.id);if(t){var n=t.getBoundingClientRect();this.diagram.scroller.setViewPortSize(n.width,n.height);var r=new nr;r=Cl(this.diagram);var i=this.diagram.getSizeValue(this.diagram.width,r.width),o=this.diagram.getSizeValue(this.diagram.height,r.height);this.diagram.diagramCanvas.style.width=i,this.diagram.diagramCanvas.style.height=o,this.diagram.scroller.setSize(),this.diagram.transformLayers(),this.diagram.rulerSettings.showRulers&&wl(this.diagram)}},e.prototype.canHideResizers=function(){return(this.tool instanceof Gp||this.tool instanceof qp)&&this.isMouseDown},e.prototype.updateCursor=function(){if(1===this.diagram.selectedItems.nodes.length||1===this.diagram.selectedItems.connectors.length){var e=[];e=e.concat(this.diagram.selectedItems.nodes,this.diagram.selectedItems.connectors),this.blocked=!(this.eventArgs&&this.eventArgs.source&&!El(this.eventArgs.source))&&(this.isMouseDown&&1===e.length&&this.tool instanceof Xp&&!El(e[0]))}},e.prototype.isForeignObject=function(e,t){var n=e;if(n)for(;null!==n.parentNode;){if("string"===typeof n.className&&(!t&&-1!==n.className.indexOf("foreign-object")||t&&-1!==n.className.indexOf("e-diagram-text-edit")))return n;n=n.parentNode}return null},e.prototype.isMetaKey=function(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey},e.prototype.renderUmlHighLighter=function(e){this.diagram.commandHandler.removeStackHighlighter();var t=this.diagram.selectedItems.nodes[0];if(t&&t.container&&"Stack"===t.container.type&&"UmlClassifier"===t.shape.type&&!t.wrapper.bounds.containsPoint(this.currentPosition)){var n=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),r=this.diagram.findObjectUnderMouse(n,this.action,this.inAction);if(r&&r.parentId&&r.parentId===t.id){var i="Vertical"===this.diagram.nameTable[r.parentId].container.orientation;Pc(r.wrapper,i,e.position,this.diagram,!0)}}},e.prototype.isDeleteKey=function(e,t){return navigator.platform.match("Mac")&&"Backspace"===e&&"delete"===t},e.prototype.isMouseOnScrollBar=function(e){var t,n,r,i,o=e.offsetX,a=e.offsetY,s=this.diagram.diagramCanvas,l=s.offsetHeight,c=s.offsetWidth;return!!(l<s.scrollHeight&&(t={x:c-17,y:0},n={x:c,y:0},r={x:c-17,y:l},i={x:c,y:l},Ar.toBounds([t,n,r,i]).containsPoint({x:o,y:a})))||!!(c<s.scrollWidth&&(t={x:0,y:l-17},n={x:c,y:l-17},r={x:0,y:l},i={x:c,y:l},Ar.toBounds([t,n,r,i]).containsPoint({x:o,y:a})))},e.prototype.updateVirtualization=function(){var e=this,t=setInterval((function(n){e.diagram.removeVirtualObjects(t)}),50);setTimeout((function(){e.diagram.deleteVirtualObject=!0}),50)},e.prototype.checkPreviousAction=function(){if(this.action!==this.previousAction&&this.diagram.selectedItems.userHandles.length)for(var e=0;e<this.diagram.selectedItems.userHandles.length;e++)this.previousAction&&this.diagram.selectedItems.userHandles[e]&&(this.checkUserHandleEvent(Kr.onUserHandleMouseLeave),this.previousAction="None")},e.prototype.checkUserHandleEvent=function(e){if(this.diagram.selectedItems&&this.diagram.selectedItems.userHandles.length>0)for(var t=e===Kr.onUserHandleMouseLeave?this.previousAction:this.action,n={element:void 0},r=0;r<this.diagram.selectedItems.userHandles.length;r++)if(t===this.diagram.selectedItems.userHandles[r].name||e===Kr.onUserHandleMouseUp&&"Select"===t){n.element=this.diagram.selectedItems.userHandles[r],e===Kr.onUserHandleMouseEnter&&(this.previousAction=this.action),e===Kr.onUserHandleMouseDown&&(this.userHandleObject=this.diagram.selectedItems.userHandles[r].name);var i=document.getElementById(this.diagram.selectedItems.userHandles[r].name+"_userhandle");e===Kr.onUserHandleMouseUp?this.commandHandler.isUserHandle(this.currentPosition)&&i&&i.id===this.userHandleObject+"_userhandle"&&this.diagram.triggerEvent(e,n):this.diagram.triggerEvent(e,n)}},e.prototype.mouseDown=function(e){this.focus=!0;var t=e.touches;if(this.isMouseOnScrollBar(e))return this.isScrolling=!0,void e.preventDefault();if(this.checkUserHandleEvent(Kr.onUserHandleMouseDown),!this.checkEditBoxAsTarget(e)&&Yl(this.diagram)||Ql(this.diagram)&&!Xl(this.diagram))if("Select"!==this.action&&"Drag"!==this.action||this.diagram.updatePortVisibility(this.hoverElement,Er.Hover,!0),!(this.tool instanceof of||this.tool instanceof af)||2!==e.button&&2!==e.buttons)if(!0===this.inAction&&!0===this.isMouseDown&&(this.tool instanceof of||this.tool instanceof af))this.isMouseDown=!0,this.eventArgs={},this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs);else{this.isMouseDown=!0,this.currentPosition=this.prevPosition=this.getMousePosition(e),this.eventArgs={},this.diagram.textEditing&&!this.isMouseOnScrollBar(e)&&(this.diagram.endEdit(),this.diagram.textEditing=!1);var n=void 0,r=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action),i=this.objectFinder.findObjectUnderMouse(this.diagram,r,this.action,this.inAction,this.eventArgs,this.currentPosition),o=null;null!==i&&(o=this.diagram.findElementUnderMouse(i,this.currentPosition))&&(n=this.commandHandler.findTarget(o,i)),this.action=this.diagram.findActionToBeDone(i,o,this.currentPosition,n);var a=this.isMetaKey(e);if(a&&e.shiftKey&&this.diagram.connectorEditingToolModule?this.action="SegmentEnd":!a&&!e.shiftKey||Ql(this.diagram)||(this.action="Select"),this.tool=this.diagram.getTool(this.action),this.tool||(this.action="Select",this.tool=this.diagram.getTool(this.action)),this.getMouseEventArgs(this.currentPosition,this.eventArgs),a||e.shiftKey){var s=a&&e.shiftKey?{ctrlKey:a,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=s}this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs),this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.inAction=!1,"touchstart"===e.type&&(t&&t.length>=2&&(this.touchStartList=ku(this.touchStartList,0,t)),t||e.preventDefault())}else{ud(this.diagram),ud(this.currentPosition),e.buttons,ud(this.eventArgs.actualObject),0===e.button||e.button;this.inAction=!1,this.tool.mouseUp(this.eventArgs)}this.isForeignObject(e.target)||this.isForeignObject(e.target,!0)||t||e.preventDefault()},e.prototype.mouseMoveExtend=function(e,t){(this.tool instanceof of||this.tool instanceof af)&&this.tool.mouseMove(this.eventArgs),this.diagram.scrollSettings.canAutoScroll?this.checkAutoScroll(e):this.blocked||this.tool.mouseMove(this.eventArgs),this.eventArgs.target&&(this.hoverElement=this.eventArgs.target);var n=!(this.eventArgs.target instanceof iu&&t instanceof iu);this.tool instanceof Kp&&this.diagram.updatePortVisibility(this.hoverElement instanceof iu?this.hoverElement:this.hoverNode,Er.Connect|Er.Hover,n),this.hoverElement instanceof iu&&this.hoverNode instanceof iu&&this.hoverNode&&this.hoverNode.id!==this.hoverElement.id&&this.diagram.updatePortVisibility(this.hoverNode,Er.Connect|Er.Hover,!0),this.hoverElement=n?null:t,this.hoverNode=n?null:t},e.prototype.checkAction=function(e){if("LabelSelect"===this.action&&this.eventArgs.sourceWrapper&&(this.eventArgs.sourceWrapper instanceof gi||this.eventArgs.sourceWrapper instanceof Us)){var t=this.commandHandler.findTarget(this.eventArgs.sourceWrapper,this.eventArgs.source);!_p(this.diagram,t,!1,this.eventArgs.sourceWrapper)&&El(t)&&(this.action="LabelDrag",this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))}else El(e)&&Pl(e)&&this.initialEventArgs&&this.initialEventArgs.source&&"Select"===this.action&&(!_p(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof hu&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),e instanceof Al&&(!(e instanceof Al)||Dp(this.currentPosition,e.sourcePoint,e.hitPadding)||Dp(this.currentPosition,e.targetPoint,e.hitPadding))||(this.action="Drag"),this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))},e.prototype.isSwimlaneElements=function(e){return!e||!(e.isLane||e.isPhase||e.isHeader)},e.prototype.mouseMove=function(e,t){var n,r;if(this.focus=!0,this.isScrolling)e.preventDefault();else if(Yl(this.diagram)||Ql(this.diagram)&&!Xl(this.diagram)){this.currentPosition=this.getMousePosition(e);var i=this.diagram.findObjectsUnderMouse(this.currentPosition),o=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);n=this.diagram,r=this.currentPosition,n.rulerSettings.showRulers&&(n.hRuler.drawRulerMarker(n.hRuler.element,r,n.scroller.horizontalOffset),n.vRuler.drawRulerMarker(n.vRuler.element,r,n.scroller.verticalOffset));var a=!1,s=void 0;if("touchmove"===e.type&&(t=e.touches)&&t.length>1&&(this.touchMoveList=ku(this.touchMoveList,0,t),"PinchZoom"!==this.action&&(a=!0)),!1===or.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown||a){this.eventArgs={};var l=null;if(null!==o){if(l=this.diagram.findElementUnderMouse(o,this.currentPosition),o!==this.hoverElement){var c=this.getContent();this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&""!==c&&this.elementLeave(),this.diagram.updatePortVisibility(this.hoverElement,Er.Hover,!0),o instanceof iu&&(this.hoverNode=o);var h=!0;!this.isSwimlaneElements(o)&&this.hoverElement&&this.isSwimlaneElements(this.hoverElement)&&(h=!1),this.hoverElement=h?o:this.hoverElement,h?this.elementEnter(this.currentPosition,!1):this.hoverElement=o}else this.hoverElement||this.hoverElement!==o||this.elementEnter(this.currentPosition,!0);l&&(s=this.commandHandler.findTarget(l,o))}this.action=this.diagram.findActionToBeDone(o,l,this.currentPosition,s),this.checkUserHandleEvent(Kr.onUserHandleMouseEnter),this.checkPreviousAction(),this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.tool=this.getTool(this.action),this.mouseEvents(),this.tool instanceof $p||this.tool instanceof af||this.tool instanceof of?this.tool.mouseMove(this.eventArgs):t&&this.tool instanceof tf&&this.tool.mouseDown(this.eventArgs),this.updateCursor(),this.renderUmlHighLighter(this.eventArgs);var d=!1;(!this.hoverElement||this.tool instanceof tf||!(o instanceof iu)||!this.isSwimlaneElements(o)||0!==this.diagram.selectedItems.nodes.length&&_p(this.diagram,this.hoverElement))&&(d=!0),this.diagram.updatePortVisibility(this.hoverElement,Er.Hover,d);var u=this.getContent();null===o&&this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&u&&(this.hoverElement=null,this.elementLeave()),a=!1}else{if(this.eventArgs.position=this.currentPosition,"Drag"===this.action&&!_p(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof hu&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.mouseEvents(),e.ctrlKey||e.shiftKey){var p=e.ctrlKey&&e.shiftKey?{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=p}this.checkAction(o);var f=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,f),this.updateCursor(),this.inAction=!0,this.initialEventArgs=null,"Drag"!==this.action&&"Rotate"!==this.action||(this.diagram.diagramActions=this.diagram.diagramActions|Qr.Interactions),this.mouseMoveExtend(e,o)}this.prevPosition=this.currentPosition,this.isForeignObject(e.target,!0)||e.preventDefault()}}},e.prototype.getContent=function(){return this.hoverElement instanceof iu&&this.hoverElement.constraints&Mr.Tooltip||this.hoverElement instanceof Al&&this.hoverElement.constraints&kr.Tooltip?this.hoverElement.tooltip.content:this.diagram.tooltip.content},e.prototype.checkAutoScroll=function(e){var t=this.startAutoScroll(e);if(!t&&this.doingAutoScroll)this.doingAutoScroll=!1,clearInterval(this.timeOutValue);else if(t){if((this.tool instanceof Zp||this.tool instanceof $p||this.tool instanceof Gp||this.tool instanceof Jp||this.tool instanceof Xp)&&this.inAction){var n=this;this.diagram.scrollSettings.canAutoScroll&&t&&!this.doingAutoScroll&&(this.doingAutoScroll=!0,this.timeOutValue=setInterval((function(r){n.doAutoScroll(t,e,100)}),100))}}else this.blocked=!this.tool.mouseMove(this.eventArgs)},e.prototype.mouseUp=function(e){this.checkUserHandleEvent(Kr.onUserHandleMouseUp),"SVG"===this.diagram.mode&&Hl(this.diagram)&&this.updateVirtualization(),this.diagram.previousSelectedObject=null,this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Wr.DrawSelectorBorder);var t=e.touches;if(this.isScrolling)return this.isScrolling=!1,void e.preventDefault();if(!this.checkEditBoxAsTarget(e)&&Yl(this.diagram)||Ql(this.diagram)&&!Xl(this.diagram)){if(this.tool&&(!(this.tool instanceof of||this.tool instanceof af)||(this.tool instanceof of||this.tool instanceof af)&&2===e.detail)){if(!this.isForeignObject(e.target)&&this.isMouseDown&&document.getElementById(this.diagram.element.id+"content").focus(),!this.inAction&&3!==e.which&&"Drag"===this.action){this.action="Select";var n=this.diagram.findObjectsUnderMouse(this.currentPosition),r=this.diagram.findObjectUnderMouse(n,this.action,this.inAction),i=!0;!e.ctrlKey&&this.isMouseDown&&this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>1&&1===e.which&&!(this.diagram.diagramActions&Qr.PreventClearSelection)&&(i=!1,this.commandHandler.clearSelection()),_p(this.diagram,r)&&i||this.commandHandler.selectObjects([r])}var o=!1,a=this.updateContainerProperties(),s=void 0;if(this.addUmlNode(),this.inAction=!1,this.isMouseDown=!1,this.currentPosition=this.getMousePosition(e),this.diagram.selectedObject.helperObject&&(s=this.updateContainerBounds()),this.tool&&(this.tool.prevPosition||this.tool instanceof rf)){this.eventArgs.position=this.currentPosition;var l=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,l);var c=this.isMetaKey(e);if(c||e.shiftKey){var h=c&&e.shiftKey?{ctrlKey:c,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=h}if(this.diagram.diagramActions&Qr.Interactions&&(this.diagram.diagramActions=this.diagram.diagramActions&~Qr.Interactions),this.eventArgs.clickCount=e.detail,this.diagram.selectedObject.helperObject&&(this.tool instanceof Gp||this.tool instanceof Jp)){if(this.diagram.selectedObject.actualObject&&""!==this.diagram.selectedObject.actualObject.parentId){var d=this.diagram.getObject(this.diagram.selectedObject.actualObject.parentId);d&&d.isLane&&(this.commandHandler.isContainer=!0)}(o=this.diagram.lineRoutingModule&&this.diagram.nameTable.helper&&this.eventArgs.target&&this.eventArgs.target.isLane&&(this.eventArgs.source instanceof hu&&this.eventArgs.source.nodes.length>0&&""===this.eventArgs.source.nodes[0].parentId||""===this.eventArgs.source.parentId))&&(this.diagram.diagramActions=this.diagram.diagramActions|Qr.PreventLaneContainerUpdate),this.tool.mouseUp(this.eventArgs,a.isPreventHistory)}else this.tool.mouseUp(this.eventArgs),!this.diagram.checkMenu||-1===window.navigator.userAgent.indexOf("Linux")&&-1===window.navigator.userAgent.indexOf("X11")||(this.diagram.contextMenuModule.contextMenu.open(e.pageY,e.pageX,this.diagram.element),this.diagram.checkMenu=!1);a.hasStack&&this.diagram.endGroupAction()}if(s&&this.diagram.endGroupAction(),this.updateContainerBounds(!0),2!==this.eventArgs.clickCount&&(this.commandHandler.updateSelectedNodeProperties(this.eventArgs.source),o)){this.diagram.diagramActions=this.diagram.diagramActions&~Qr.PreventLaneContainerUpdate;var u=this.eventArgs.source instanceof hu?this.eventArgs.source.nodes:[this.eventArgs.source];if(u)for(var p=0;p<u.length;p++)u[p].container||(this.commandHandler.dropChildToContainer(this.eventArgs.target,u[p]),this.commandHandler.renderContainerHelper(u[p]))}if(this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0},this.diagram.diagramActions&Qr.PublicMethod&&this.diagram.constraints&jr.LineRouting&&(this.diagram.diagramActions=this.diagram.diagramActions&~Qr.PublicMethod)),this.blocked=!1,this.hoverElement){var f=Er.Connect;_p(this.diagram,this.hoverElement)&&(f|=Er.Hover),this.diagram.updatePortVisibility(this.hoverElement,f,!0),this.hoverElement=null}this.touchStartList=null,this.touchMoveList=null,this.tool instanceof ef||(this.tool=null)}t||e.preventDefault(),this.diagram.currentDrawingObject=void 0;var g=this.diagram.selectedItems,A=!1;if(this.commandHandler.isUserHandle(this.currentPosition)&&this.isForeignObject(e.target)&&(A=!0),!this.inAction&&g.wrapper&&g.userHandles.length>0&&!A&&this.diagram.renderSelector(!0),!this.inAction&&!this.diagram.currentSymbol&&this.eventArgs){var m={element:ud(this.eventArgs.source)||ud(this.diagram),position:ud(this.eventArgs.position),count:e.detail,actualObject:ud(this.eventArgs.actualObject),button:0===e.button?"Left":1===e.button?"Middle":"Right"};v()&&this.diagram.click&&(m=this.getBlazorClickEventArgs(m)),this.diagram.tool!==_r.ZoomPan&&this.diagram.triggerEvent(Kr.click,m)}this.eventArgs={}}this.diagram.diagramActions=this.diagram.diagramActions&~Qr.PreventLaneContainerUpdate,this.eventArgs={},this.diagram.commandHandler.removeStackHighlighter()},e.prototype.getConnectorPadding=function(e){var t,n=e.source;if(n&&n instanceof hu&&n.connectors.length){var r=n.connectors[0];t=r.constraints&kr.ConnectToNearByPort?r.connectionPadding:0}return t||0},e.prototype.getBlazorClickEventArgs=function(e){return e={element:this.eventArgs.source?{selector:ud(this.eventArgs.source)}:{diagram:ud(this.diagram)},position:ud(this.eventArgs.position),count:e.count,actualObject:this.eventArgs.actualObject?{selector:ud(this.eventArgs.actualObject)}:{diagram:ud(this.diagram)},button:e.button},this.eventArgs.source instanceof iu?(e.element.selector.nodes=[],e.element.selector.nodes.push(ud(this.eventArgs.source))):this.eventArgs.source instanceof Al&&(e.element.selector.connectors=[],e.element.selector.connectors.push(ud(this.eventArgs.source))),e},e.prototype.addSwimLaneObject=function(e){var t,n,r,i,o,a,s=0,l=e.shape,c=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);if(n||(n=this.diagram.findObjectUnderMouse(c,this.action,this.inAction)),this.diagram.clearSelectorLayer(),n&&!(n.isLane||n.isPhase||n.isHeader))for(var h=0;h<c.length;h++){var d=this.diagram.nameTable[c[h].id];(d.isLane||d.isPhase||d.isHeader)&&(n=d)}if(n&&(l.isPhase||l.isLane&&n.isLane)){var u=n.parentId;t=this.diagram.nameTable[u]}if(t&&(r=t.shape,o=l.isLane?l.orientation===r.orientation:l.orientation!==r.orientation),o&&n){if(r.header&&r.hasHeader&&"Horizontal"===r.orientation&&(s=1),r.phases.length>0&&(s+=1),l.isPhase){a="Horizontal"===r.orientation?this.currentPosition.x-t.wrapper.bounds.x:this.currentPosition.y-(t.wrapper.bounds.y+r.header.height);var p={id:Uu(),offset:a,header:{annotation:{content:"Phase"}}};this.diagram.addPhases(t,[p])}else{var f={id:Uu(),style:l.lanes[0].style,header:{annotation:{content:l.lanes[0].header.annotation.content,style:l.lanes[0].header.annotation.style},style:l.lanes[0].header.style}};"Horizontal"===l.orientation?f.height=l.lanes[0].height:f.width=l.lanes[0].width,"Horizontal"===r.orientation?(i=n.rowIndex?n.rowIndex:this.diagram.nameTable[n.parentId].rowIndex,n.wrapper.offsetY<this.currentPosition.y&&(i+=1)):(i=n.columnIndex?n.columnIndex:this.diagram.nameTable[n.parentId].columnIndex,this.currentPosition.x<n.wrapper.bounds.center.x&&(i-=1)),r.lanes.length>i-s?(f.header.width=r.lanes[i-s].header.width,f.header.height=r.lanes[i-s].header.height):(f.header.width=r.lanes[i-s-1].header.width,f.header.height=r.lanes[i-s-1].header.height),this.diagram.addLanes(t,[f],i-s)}this.commandHandler.select(t)}else if(l.isLane){var g={id:Uu(),width:e.width,height:e.height,addInfo:e.addInfo,shape:{type:"SwimLane",header:{annotation:{content:"Header"},height:50,style:l.lanes[0].header.style},phases:[{id:Uu(),header:{annotation:{content:"Phase"}}}],lanes:[{id:Uu(),height:e.height,width:e.width,style:l.lanes[0].style,header:{annotation:{content:l.lanes[0].header.annotation.content,style:l.lanes[0].header.annotation.style},style:l.lanes[0].header.style}}],orientation:l.orientation}};"Vertical"===l.orientation&&(g.width+=20),g.offsetX=this.currentPosition.x+g.width/2,g.offsetY=this.currentPosition.y+g.height/2,this.diagram.add(g)}},e.prototype.mouseLeave=function(e){(this.tool&&this.inAction&&this.tool.mouseLeave(this.eventArgs),this.diagram.selectedObject.helperObject)&&(this.updateContainerProperties(),this.updateContainerBounds()&&this.diagram.endGroupAction());this.eventArgs&&this.eventArgs.source&&(this.diagram.updatePortVisibility(this.eventArgs.source,Er.Hover,!0),this.hoverElement=null),this.eventArgs&&!this.eventArgs.source&&this.hoverElement&&(this.hoverElement=null),this.tool instanceof Kp&&this.eventArgs&&this.eventArgs.target&&this.eventArgs.target instanceof iu&&(this.diagram.updatePortVisibility(this.eventArgs.target,Er.Hover|Er.Connect,!0),this.hoverElement=null);var t=this.diagram.selectedItems;t&&t.wrapper&&this.diagram.renderSelector(!0),(this.diagram.diagramActions&Qr.Interactions||this.diagram.diagramActions&Qr.ToolAction)&&(this.diagram.diagramActions=this.diagram.diagramActions&~Qr.ToolAction),this.isMouseDown=!1,this.focus=!1,this.touchStartList=null,this.touchMoveList=null,this.elementLeave(),this.commandHandler.removeSnap(),this.inAction=!1,this.eventArgs={},this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0}),this.tool=null,function(){var e,t,n=document.getElementsByClassName("e-d-ruler-marker");if(n&&n.length>0)for(t=n.length-1;t>=0;t--)(e=n[t])&&e.parentNode.removeChild(e)}(),"Rotate"===this.action&&this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),e.preventDefault()},e.prototype.mouseWheel=function(e){this.diagram.blazorActions|=Pr.interaction;var t=e.wheelDelta>0||-40*e.detail>0,n=this.getMousePosition(e);if(this.diagram.tooltipObject.close(),this.isMetaKey(e))this.diagram.zoom(t?1.2:1/1.2,n),e.preventDefault();else{var r=this.diagram.scroller.horizontalOffset,i=this.diagram.scroller.verticalOffset,o=t?20:-20;this.tool&&(this.tool instanceof of||this.tool instanceof af)&&(this.eventArgs={},this.getMouseEventArgs(n,this.eventArgs),this.eventArgs.position=n,this.tool.mouseWheel(this.eventArgs)),this.diagram.scrollActions|=Xr.Interaction,e.shiftKey?this.diagram.scroller.zoom(1,o,0,n):this.diagram.scroller.zoom(1,0,o,n),this.diagram.scrollActions&=~Xr.Interaction,r===this.diagram.scroller.horizontalOffset&&i===this.diagram.scroller.verticalOffset||e.preventDefault()}if(this.diagram.textEditing){if(this.diagram.isTriggerEvent=!0,this.diagram.activeLabel.parentId){var a=this.diagram.getObject(this.diagram.activeLabel.parentId);this.diagram.startTextEdit(a,this.diagram.activeLabel.id)}this.diagram.isTriggerEvent=!1}this.diagram.blazorActions=this.diagram.blazorActions&~Pr.interaction},e.prototype.keyDown=function(e){if(!(this.diagram.diagramActions&Qr.TextEdit)&&!this.checkEditBoxAsTarget(e)||"Escape"===e.key||27===e.keyCode){var t=void 0,n=e.keyCode?e.keyCode:e.which,r=e.key,i=this.isMetaKey(e);if(this.diagram.commandManager&&this.diagram.commands)for(var o=this.diagram.commands,a=0,s=Object.keys(o);a<s.length;a++){var l=s[a];if((t=this.diagram.commands[l])&&(t.gesture.keyModifiers||t.gesture.key)&&(n===t.gesture.key||r===zr[t.gesture.key]||this.isDeleteKey(r,l))&&(!t.gesture.keyModifiers&&!e.altKey&&!e.shiftKey&&!i||t.gesture.keyModifiers&&(i||e.altKey||e.shiftKey)&&this.altKeyPressed(t.gesture.keyModifiers)&&e.altKey||this.shiftKeyPressed(t.gesture.keyModifiers)&&e.shiftKey||this.ctrlKeyPressed(t.gesture.keyModifiers)&&i)){var c=ip(t.canExecute);if(v()||c&&c({keyDownEventArgs:KeyboardEvent,parameter:t.parameter})){if(e.preventDefault(),"Escape"===e.key)if(this.checkEditBoxAsTarget(e))document.getElementById(this.diagram.diagramCanvas.id).focus();else if(this.diagram.currentSymbol){this.diagram.removeFromAQuad(this.diagram.currentSymbol),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[this.diagram.currentSymbol.id]),this.diagram.removeElements(this.diagram.currentSymbol),Eh(this.diagram.currentSymbol,this.diagram),delete this.diagram.nameTable[this.diagram.currentSymbol.id],this.diagram.droppable.sourceElement.draggable.intDestroy();var h=this.diagram.droppable.selectedSymbols;h.parentNode.removeChild(h);var d=this.diagram.diagramActions;this.diagram.diagramActions=this.diagram.addConstraints(d,Qr.PreventClearSelection),this.tool.mouseUp(this.eventArgs),this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Wr.DrawSelectorBorder),this.diagram.previousSelectedObject&&this.diagram.select(this.diagram.previousSelectedObject),this.action="Select",this.diagram.previousSelectedObject=null,this.diagram.currentSymbol=null,this.diagram.diagramActions=this.diagram.removeConstraints(d,Qr.PreventClearSelection),this.isMouseDown=!1}else this.inAction&&this.diagram.drawingObject&&this.tool&&this.tool.inAction&&(this.tool.mouseUp(this.eventArgs),this.tool=null,this.isMouseDown=!1);if(t.execute)if(this.diagram.tool!==_r.ZoomPan)ip(t.execute)({keyDownEventArgs:KeyboardEvent,parameter:t.parameter});if(v()){var u={gesture:t.gesture};this.diagram.triggerEvent(Kr.commandExecute,u)}break}}}}this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;this.keyArgs={element:ud(this.diagram.selectedItems),key:e.key,keyCode:e.keyCode?e.keyCode:e.which},this.getKeyModifier(this.keyArgs,e),this.diagram.diagramActions&Qr.TextEdit&&this.getlabel(this.keyArgs,e),this.diagram.triggerEvent(Kr.keyDown,this.keyArgs)},e.prototype.getlabel=function(e,t){var n=this.diagram.activeLabel;e.target=this.diagram.element.id+"_editBox";var r=this.diagram.nameTable[n.parentId];if(document.getElementById(this.diagram.element.id+"_editBox")){e.text=document.getElementById(this.diagram.element.id+"_editBox").value;for(var i=0;i<r.annotations.length;i++)if(r.annotations[i].id===n.id){e.label=r.annotations[i];break}}},e.prototype.getKeyModifier=function(e,t){e.keyModifiers=Ur.None,t.ctrlKey&&(e.keyModifiers|=Ur.Control),t.shiftKey&&(e.keyModifiers|=Ur.Shift),t.altKey&&(e.keyModifiers|=Ur.Alt),this.isMetaKey(t)&&(e.keyModifiers|=Ur.Meta)},e.prototype.keyUp=function(e){this.keyArgs={element:ud(this.diagram.selectedItems),key:e.key,keyCode:e.keyCode?e.keyCode:e.which};this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;this.getKeyModifier(this.keyArgs,e),this.diagram.diagramActions&Qr.TextEdit&&this.getlabel(this.keyArgs,e),this.diagram.triggerEvent(Kr.keyUp,this.keyArgs)},e.prototype.startAutoScroll=function(e){var t=this.getMousePosition(e);t.x*=this.diagram.scroller.currentZoom,t.y*=this.diagram.scroller.currentZoom;var n,r=Cl(this.diagram),i=this.diagram.scrollSettings.autoScrollBorder;if("mozilla"===le.info.name&&0===this.diagram.scroller.viewPortWidth){var o=document.getElementById(this.diagram.element.id).getBoundingClientRect();o.width!==this.diagram.scroller.viewPortWidth&&this.diagram.scroller.setViewPortSize(o.width,o.height)}return this.diagram.scrollSettings.canAutoScroll&&(t.x+this.diagram.scroller.horizontalOffset+i.right+r.width>=this.diagram.scroller.viewPortWidth-18?n="right":t.x+this.diagram.scroller.horizontalOffset<i.left?n="left":t.y+this.diagram.scroller.verticalOffset+i.bottom+r.height>this.diagram.scroller.viewPortHeight-18?n="bottom":t.y+this.diagram.scroller.verticalOffset<i.top&&(n="top")),n},e.prototype.doAutoScroll=function(e,t,n,r){var i=e;if((this.tool instanceof Zp||this.tool instanceof $p||this.tool instanceof Gp||this.tool instanceof Jp||this.tool instanceof Xp)&&this.inAction){var o=this.getMousePosition(t),a=(this.diagram.scrollSettings.autoScrollBorder,0),s=0,l={x:o.x,y:o.y};switch(i){case"right":l.x=o.x+10,a=10;break;case"left":l.x=o.x-10,a=-10;break;case"bottom":l.y=o.y+10,s=10;break;case"top":l.y=o.y-10,s=-10}this.eventArgs.position={x:l.x,y:l.y},this.currentPosition=this.eventArgs.position;var c=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);this.eventArgs.target=this.diagram.findObjectUnderMouse(c,this.action,this.inAction),this.tool.mouseMove(this.eventArgs),this.diagram.scrollActions|=Xr.Interaction,this.diagram.scroller.zoom(1,-a,-s,o),this.diagram.scrollActions&=~Xr.Interaction}},e.prototype.mouseEvents=function(){for(var e=this.diagram.findObjectsUnderMouse(this.currentPosition),t=0;t<e.length;t++)this.eventArgs.actualObject===e[t]&&e.splice(t,1);var n={targets:{}};if(v()||(n={targets:ud(e),element:ud(this.eventArgs.source===this.eventArgs.actualObject?void 0:this.eventArgs.source),actualObject:ud(this.eventArgs.actualObject)}),v()&&(this.diagram.mouseEnter||this.diagram.mouseOver)&&(n.actualObject=nd(this.eventArgs.actualObject)===Al?{connector:ud(this.eventArgs.actualObject)}:{node:ud(this.eventArgs.actualObject)},n.targets.connector=[],n.targets.node=[],this.getBlazorCollectionObject(e,n)),this.lastObjectUnderMouse&&this.diagram.mouseLeave&&(!this.eventArgs.actualObject||this.lastObjectUnderMouse!==this.eventArgs.actualObject)){var r={targets:void 0,element:ud(this.lastObjectUnderMouse),actualObject:void 0};v()&&(r={targets:void 0,element:nd(this.lastObjectUnderMouse)===Al?{connector:ud(e)}:{node:ud(this.lastObjectUnderMouse)},actualObject:void 0}),this.diagram.triggerEvent(Kr.mouseLeave,r),this.lastObjectUnderMouse=null}(!this.lastObjectUnderMouse&&this.eventArgs.source||this.lastObjectUnderMouse!==this.eventArgs.actualObject)&&(this.lastObjectUnderMouse=this.eventArgs.actualObject,void 0!==this.eventArgs.actualObject&&this.diagram.triggerEvent(Kr.mouseEnter,n)),this.eventArgs.actualObject&&this.diagram.triggerEvent(Kr.mouseOver,n)},e.prototype.getBlazorCollectionObject=function(e,t){if(e)for(var n=0;n<e.length;n++)nd(e[n])===Al?t.targets.connector.push(ud(e[n])):t.targets.node.push(ud(e[n]))},e.prototype.elementEnter=function(e,t){if(!t){var n=this.hoverElement instanceof iu&&this.hoverElement.constraints&Mr.Tooltip||this.hoverElement instanceof Al&&this.hoverElement.constraints&kr.Tooltip,r=this.getContent();"Auto"===this.hoverElement.tooltip.openOn&&""!==r&&function(e,t){var n=e.tooltipObject;ks(t?t.tooltip:e.tooltip,n)}(this.diagram,n?this.hoverElement:void 0);var i=xh(this.diagram,e,this.hoverElement);"Auto"===this.hoverElement.tooltip.openOn&&""!==r&&(this.diagram.tooltipObject.close(),this.diagram.tooltipObject.openOn=this.hoverElement.tooltip.openOn,this.diagram.tooltipObject.offsetX=i.x,this.diagram.tooltipObject.offsetY=i.y,v()?this.diagram.tooltipObject.open(this.diagram.element,{}):this.diagram.tooltipObject.dataBind()),function(e,t){var n=0;return e instanceof Al?e.constraints&kr.Tooltip?n=e.constraints&kr.Tooltip:e.constraints&kr.InheritTooltip&&(n=t.constraints&jr.Tooltip):e.constraints&Mr.Tooltip?n=e.constraints&Mr.Tooltip:e.constraints&Mr.InheritTooltip&&(n=t.constraints&jr.Tooltip),n}(this.hoverElement,this.diagram)&&"Auto"===this.hoverElement.tooltip.openOn&&this.diagram.tooltipObject.open(this.diagram.element)}},e.prototype.elementLeave=function(){this.diagram.tooltipObject&&"Custom"!==this.diagram.tooltipObject.openOn&&this.diagram.tooltipObject.close()},e.prototype.altKeyPressed=function(e){return!!(e&Ur.Alt)},e.prototype.ctrlKeyPressed=function(e){return!!(e&Ur.Control)},e.prototype.shiftKeyPressed=function(e){return!!(e&Ur.Shift)},e.prototype.scrolled=function(e){this.diagram.updateScrollOffset(),v()&&this.diagram.realActions&Vr.OverViewAction&&this.diagram.setBlazorDiagramProps(!1)},e.prototype.doubleClick=function(e){if(Yl(this.diagram)){var t=void 0,n=this.diagram.findObjectsUnderMouse(this.currentPosition),r=this.diagram.findObjectUnderMouse(n,this.action,this.inAction);if(null!==r&&Yl(this.diagram)){if(t=this.diagram.findElementUnderMouse(r,this.currentPosition),this.tool&&(this.tool instanceof of||this.tool instanceof af)){ud(r)||ud(this.diagram),this.currentPosition,e.detail;this.tool.mouseUp(this.eventArgs),this.isMouseDown=!1,this.eventArgs={},this.tool=null,e.preventDefault()}else{var i=this.diagram.commandHandler.getObjectLayer(r.id);if(i&&!i.lock&&i.visible&&!(this.diagram.diagramActions&Qr.TextEdit)){var o="";"TextAnnotation"===r.shape.shape&&(o=r.wrapper.children[1].id.split("_")[1]),this.diagram.startTextEdit(r,o||(t instanceof gi?t.id.split(r.id+"_")[1]:void 0))}}}var a={source:ud(r)||ud(this.diagram),position:this.currentPosition,count:e.detail};if(v()){var s=void 0;s=r instanceof iu?{nodes:[ud(r)]}:r instanceof Al?{connectors:[ud(r)]}:ud(r),a={source:r?{selector:s}:{diagram:ud(this.diagram)},position:this.currentPosition,count:e.detail}}this.diagram.triggerEvent(Kr.doubleClick,a)}},e.prototype.itemClick=function(e,t){var n=e;return bc(this.diagram,n,!0)?n:null},e.prototype.inputChange=function(e){var t,n,r,i,o,a,s,l,c,h=document.getElementById(this.diagram.element.id+"_editBox"),d=document.getElementById(this.diagram.element.id+"_editTextBoxDiv"),u=h.value,p=u.split("\n");(!(i=this.diagram.selectedItems.nodes[0]?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0])&&this.tool instanceof ef||i&&"SwimLane"===i.shape.type)&&(i=this.diagram.nameTable[this.diagram.activeLabel.parentId]),i&&("Text"!==i.shape.type&&i.annotations.length>0||"Text"===i.shape.type)&&(r=this.diagram.getWrapper(i.wrapper,this.diagram.activeLabel.id),t=(t=i.wrapper.bounds.width<r.bounds.width?i.wrapper.bounds.width:r.bounds.width)>90?t:90,s=pu(r.style,u,void 0,void 0,t),n=Number(h.style.fontSize.split("px")[0]),p.length>1&&""===p[p.length-1]&&(s.height=s.height+n),l=this.diagram.scroller.transform,c=Kl(this.diagram)?l.scale:1,a=(90>(a=s.width)?90:a)*c,o=(12>s.height?12:s.height)*c,d.style.left=(r.bounds.center.x+l.tx)*l.scale-a/2-2.5+"px",d.style.top=(r.bounds.center.y+l.ty)*l.scale-o/2-3+"px",d.style.width=a+"px",d.style.height=o+"px",h.style.minHeight="12px",h.style.minWidth="90px",h.style.width=a+"px",h.style.height=o+"px")},e.prototype.isAddTextNode=function(e,t){return!!(this.tool instanceof ef||t)&&(this.tool=null,e&&!Wl(this.diagram)&&(this.diagram.drawingObject=void 0,this.diagram.currentDrawingObject=void 0),!(Gh(this.diagram.nodes,e.id)||Gh(this.diagram.connectors,e.id)||this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e)>-1))},e.prototype.checkEditBoxAsTarget=function(e){return!(!e.target||e.target.id!==this.diagram.element.id+"_editBox")},e.prototype.getMouseEventArgs=function(e,t,n,r){var i,o,a;if(t.position=e,n?(o=this.diagram.findObjectsUnderMouse(this.currentPosition,n),i=this.diagram.findTargetObjectUnderMouse(o,this.action,this.inAction,t.position,n)):"Drag"===this.action||"ConnectorSourceEnd"===this.action||"SegmentEnd"===this.action||"OrthoThumb"===this.action||"BezierSourceThumb"===this.action||"BezierTargetThumb"===this.action||"ConnectorTargetEnd"===this.action||-1!==this.action.indexOf("Rotate")||-1!==this.action.indexOf("Resize")?(i=this.diagram.selectedItems,!this.diagram.currentSymbol&&"Drag"===this.action&&i&&this.diagram.selectedItems.nodes.length>0&&"SwimLane"===this.diagram.selectedItems.nodes[0].shape.type&&(o=this.diagram.findObjectsUnderMouse(this.currentPosition),i=this.diagram.findObjectUnderMouse(o,this.action,this.inAction))):(o=this.diagram.findObjectsUnderMouse(this.currentPosition),i=this.diagram.findObjectUnderMouse(o,this.action,this.inAction)),i&&i.isHeader&&(i=this.diagram.nameTable[i.parentId],this.eventArgs.actualObject=i),i){var s=void 0,l=void 0,c=void 0;if(((a=this.diagram.findElementUnderMouse(i,this.currentPosition,r))&&i.ports&&i.ports.length&&!ld(i,a)||!a||!i)&&o&&o.length&&n instanceof hu)for(s=n.connectors[0],c=o.length-1;c>=0;c--)if((l=o[c])instanceof iu&&s&&s.connectionPadding){if(i=l,a=this.diagram.findElementUnderMouse(i,this.currentPosition,r),s.constraints&kr.ConnectToNearByPort&&i&&i.ports&&i.ports.length&&ld(i,a))break;if(l instanceof iu&&s&&s.connectionPadding&&l.wrapper.outerBounds.containsPoint(this.currentPosition)&&s.constraints&kr.ConnectToNearByNode&&!(s.constraints&kr.ConnectToNearByPort)){i=l,a=this.diagram.findElementUnderMouse(i,this.currentPosition,0);break}}}return n?(t.target=i,t.targetWrapper=a):(t.source=i,t.sourceWrapper=a),t.actualObject=this.eventArgs.actualObject,t.source instanceof hu&&void 0===t.actualObject&&(t.source.nodes.length>0||t.source.connectors.length>0)&&(t.actualObject=t.source.nodes.length>0?this.diagram.nameTable[t.source.nodes[0].id]:this.diagram.nameTable[t.source.connectors[0].id]),t.startTouches=this.touchStartList,t.moveTouches=this.touchMoveList,t},e.prototype.resetTool=function(){this.action="Select",this.hoverElement=null,this.hoverNode=null,this.tool=this.diagram.getTool(this.action),this.updateCursor()},e.prototype.getTool=function(e){switch(e){case"Select":return new Xp(this.commandHandler,!0);case"Drag":return new Gp(this.commandHandler);case"Rotate":return new qp(this.commandHandler);case"LayoutAnimation":return new nf(this.commandHandler);case"FixedUserHandle":return new Yp(this.commandHandler,!0);case"Hyperlink":return new rf(this.commandHandler);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new Jp(this.commandHandler,e);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"BezierSourceThumb":case"BezierTargetThumb":return new Kp(this.commandHandler,e);case"SegmentEnd":case"OrthoThumb":return new df(this.commandHandler,e);case"Draw":var t=function(e){var t;return e&&(e.type?t="Connector":e.shape&&!e.type&&(t="Node")),t}(this.diagram.drawingObject);if("Node"===t&&"Text"===this.diagram.drawingObject.shape.type)return new ef(this.commandHandler);if("Node"===t&&("Polygon"===this.diagram.drawingObject.shape.shape||v()&&"Polygon"===this.diagram.drawingObject.shape.basicShape)&&!this.diagram.drawingObject.shape.points)return new of(this.commandHandler);if("Node"===t||"Node"===t&&"Polygon"===this.diagram.drawingObject.shape.shape&&this.diagram.drawingObject.shape.points)return new Zp(this.commandHandler,this.diagram.drawingObject);if("Connector"===t&&"Polyline"===this.diagram.drawingObject.type)return new af(this.commandHandler);if("Connector"===t)return new $p(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);break;case"Pan":return new tf(this.commandHandler,!1);case"PinchZoom":return new tf(this.commandHandler,!0);case"PortDrag":return new Gp(this.commandHandler,"Port");case"PortDraw":return new $p(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);case"LabelSelect":return new Xp(this.commandHandler,!0,"LabelSelect");case"LabelDrag":return new sf(this.commandHandler);case"LabelResizeSouthEast":case"LabelResizeSouthWest":case"LabelResizeNorthEast":case"LabelResizeNorthWest":case"LabelResizeSouth":case"LabelResizeNorth":case"LabelResizeWest":case"LabelResizeEast":return new lf(this.commandHandler,e);case"LabelRotate":return new cf(this.commandHandler)}return null},e.prototype.getCursor=function(e){var t=this.diagram.selectedItems.annotation?this.diagram.selectedItems.wrapper.children[0]:this.diagram.selectedItems;return function(e,t){if(t+=360,t%=360,-1===e.indexOf("Resize"))return Hp[e];var n=Hp[e];return t>=0&&t<25||t>=160&&t<=205||t>=340&&t<=360?n:t>=25&&t<=70||t>=205&&t<=250?"n-resize"===n||"s-resize"===n?"ne-resize":"nw-resize"===n||"se-resize"===n?"n-resize":"e-resize"===n||"w-resize"===n?"nw-resize":"e-resize":t>=70&&t<=115||t>=250&&t<=295?"n-resize"===n||"s-resize"===n?"e-resize":"nw-resize"===n||"se-resize"===n?"ne-resize":"e-resize"===n||"w-resize"===n?"n-resize":"nw-resize":t>=115&&t<=155||t>=295&&t<=340?"n-resize"===n||"s-resize"===n?"nw-resize":"nw-resize"===n||"se-resize"===n?"e-resize":"e-resize"===n||"w-resize"===n?"ne-resize":Hp[e]:"n-resize"}(e,this.diagram.selectedItems.annotation?t.rotateAngle+t.parentTransform:t.rotateAngle)},e.prototype.findElementUnderMouse=function(e,t,n){return this.objectFinder.findElementUnderSelectedItem(e,t,n)},e.prototype.findObjectsUnderMouse=function(e,t){return this.objectFinder.findObjectsUnderMouse(e,this.diagram,this.eventArgs,t)},e.prototype.findObjectUnderMouse=function(e,t,n){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,n,this.eventArgs,this.currentPosition)},e.prototype.findTargetUnderMouse=function(e,t,n,r,i){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,n,this.eventArgs,r,i)},e.prototype.findActionToBeDone=function(e,t,n,r){return Mp(e,t,this.currentPosition,this.diagram,this.touchStartList,this.touchMoveList,r)},e.prototype.updateContainerBounds=function(e){var t=!1;if(this.diagram.selectedObject.helperObject&&this.diagram.selectedObject.actualObject instanceof iu){var n=this.tool instanceof Jp,r=this.diagram.selectedObject.actualObject,i=this.diagram.nameTable[r.parentId];e?yc(this.diagram,r,this.currentPosition,n):((!i||i&&"SwimLane"!==i.shape.type)&&this.diagram.updateDiagramObject(r),t=function(e,t,n,r){var i,o=!1;if(bc(e,t,!0)){e.protectPropertyChange(!0);var a=(i=e.nameTable[t.parentId]).wrapper;if(i&&"Canvas"===i.container.type){if(r||a.bounds.x<=n.x&&a.bounds.right>=n.x&&a.bounds.y<=n.y&&a.bounds.bottom>=n.y){var s=void 0,l=a.bounds.y,c=a.bounds.x,h=e.nameTable[i.parentId]||i;if("SwimLane"===h.shape.type)o=Bc(i,h,t,e,!0);else{var d=e.nameTable[i.parentId]||i,u=d.shape;s=d.wrapper,a.actualSize.width<a.outerBounds.width&&!(a.bounds.x>a.outerBounds.x)&&(void 0!==i.rowIndex?(s.updateColumnWidth(i.columnIndex,a.outerBounds.width,!0),"Horizontal"===u.orientation&&u.phaseSize&&Vc(d,e,a,i.columnIndex),Xc(e,d),e.drag(d,c-a.bounds.x,l-a.bounds.y)):e.scale(i,1+(a.outerBounds.width-a.actualSize.width)/a.actualSize.width,1,a.outerBounds.x<a.bounds.x?{x:1,y:.5}:{x:0,y:.5})),a.actualSize.height<a.outerBounds.height&&!(a.bounds.y>a.outerBounds.y)&&(void 0!==i.rowIndex?(s.updateRowHeight(i.rowIndex,a.outerBounds.height,!0),e.drag(d,c-a.bounds.x,l-a.bounds.y)):e.scale(i,1,1+(a.outerBounds.height-a.actualSize.height)/a.actualSize.height,a.outerBounds.y<a.bounds.y?{x:.5,y:1}:{x:.5,y:0}))}}e.select([t]),Hc([],e)}e.protectPropertyChange(!1)}return o}(this.diagram,r,this.currentPosition,n),this.diagram.updateSelector(),(r.isLane||r.isPhase)&&(this.diagram.clearSelection(),this.commandHandler.selectObjects([r])))}return t},e.prototype.updateContainerProperties=function(){var e,t,n,r,i=!1,o=!1,a={hasStack:!1,isPreventHistory:!1};if(this.diagram.selectedObject.helperObject){var s=this.diagram.findObjectsUnderMouse(this.currentPosition),l=this.diagram.findObjectUnderMouse(s,this.action,this.inAction);if(e=this.diagram.selectedObject.helperObject,(r=this.diagram.selectedObject.actualObject)instanceof iu){if("SwimLane"===r.shape.type&&(n=Nc(this.diagram,r.wrapper.children[0])),"SwimLane"!==r.shape.type&&r.parentId&&"SwimLane"===this.diagram.getObject(r.parentId).shape.type&&l instanceof iu&&this.diagram.getObject(l.parentId)&&"SwimLane"!==this.diagram.getObject(l.parentId).shape.type&&(l=this.diagram.getObject(l.parentId)),"Drag"===this.currentAction&&r.container&&"Canvas"===r.container.type&&r.parentId&&"SwimLane"===this.diagram.getObject(r.parentId).shape.type&&l&&l!==r&&l.container&&"Canvas"===l.container.type&&l.isLane&&r.isLane&&l.parentId===r.parentId)Uc(this.diagram,r,l,this.currentPosition),a.isPreventHistory=!0;else{var c=this.diagram.nameTable[r.parentId];if(!c||c&&"SwimLane"!==c.shape.type)if(c&&c.isLane&&r.constraints&Mr.AllowMovingOutsideLane){var h=this.diagram.getObject(c.parentId),d=h.id+h.shape.lanes[0].id+"0",u=this.diagram.getObject(d),p=u.wrapper.bounds.x,f=u.wrapper.bounds.y,g=h.wrapper.bounds.bottomRight.x-p,A=h.wrapper.bounds.bottomRight.y-f;new Ar(p,f,g,A).containsPoint(this.currentPosition)&&(r.offsetX=e.offsetX,r.offsetY=e.offsetY,r.width=e.width,r.height=e.height,r.rotateAngle=e.rotateAngle)}else r.offsetX=e.offsetX,r.offsetY=e.offsetY,r&&r.shape&&"UmlClassifier"!==r.shape.type&&("Bpmn"!==r.shape.type||"Bpmn"===r.shape.type&&"TextAnnotation"!==r.shape.shape)&&(r.width=e.width,r.height=e.height),r.rotateAngle=e.rotateAngle;var m=void 0;if(c&&c.container&&"Stack"===c.container.type&&(this.diagram.startGroupAction(),o=!0),!l&&c&&c.container&&"Stack"===c.container.type&&"Drag"===this.action){var y=c.wrapper.children.indexOf(r.wrapper);if(m={targetIndex:void 0,target:void 0,sourceIndex:y,source:Xu(r)},y>-1){var v=c.children;v.splice(v.indexOf(r.id),1),this.diagram.nameTable[r.id].parentId="",t=!0,c.wrapper.children.splice(y,1)}}if(function(e,t,n,r){var i=e,o=n.nameTable[i.parentId],a=n.nameTable[i.parentId];if(t&&a&&a.container&&"Stack"===a.container.type&&t.container&&"Stack"===t.container.type&&a.id!==t.parentId){var s=a.wrapper.children.indexOf(i.wrapper);s>-1&&(n.nameTable[i.id].parentId=t.id,a.wrapper.children.splice(s,1))}if(t&&t.parentId&&i.parentId&&"Drag"===r&&a.container&&"Stack"===a.container.type){var l=o.wrapper.children.indexOf(t.wrapper),c=o.wrapper.children.indexOf(i.wrapper),h={targetIndex:l,target:t,sourceIndex:c,source:e};o.wrapper.children.splice(c,1),o.wrapper.children.splice(l,0,i.wrapper);var d={type:"StackChildPositionChanged",redoObject:{targetIndex:c,target:t,sourceIndex:l,source:e},undoObject:h,category:"Internal"};n.commandHandler.addHistoryEntry(d)}}(r,l,this.diagram,this.action),(c=bc(this.diagram,r)?this.diagram.nameTable[r.parentId]:this.diagram.nameTable[r.parentId]||r)&&c.container&&"Canvas"===c.container.type&&(c.wrapper.maxWidth=c.maxWidth=c.wrapper.actualSize.width,c.wrapper.maxHeight=c.maxHeight=c.wrapper.actualSize.height,i=!0),bc(this.diagram,r,!0)&&c&&"Canvas"===c.container.type?wc(this.diagram,r):a=this.updateContainerPropertiesExtend(c,r,n,e,a),this.diagram.lineRoutingModule&&this.diagram.constraints&jr.LineRouting&&!bc(this.diagram,r,!0)&&(r.children&&(this.diagram.realActions|=Vr.EnableGroupAction),this.diagram.nodePropertyChange(r,{},{width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY}),r.children&&(this.diagram.realActions&=~Vr.EnableGroupAction)),r.shape.lanes&&this.updateLaneChildNode(r),i&&(c.maxWidth=c.wrapper.maxWidth=void 0,c.maxHeight=c.wrapper.maxHeight=void 0),t){this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle});var b={redoObject:{sourceIndex:void 0,source:m.source},type:"StackChildPositionChanged",undoObject:m,category:"Internal"};this.diagram.diagramActions&Qr.UndoRedo||this.diagram.addHistoryEntry(b)}r&&r.container&&("Stack"===r.container.type||"Canvas"===r.container.type&&""===r.parentId)&&(r&&r.shape&&"UmlClassifier"===r.shape.type&&(r.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(r,{},{offsetX:r.offsetX,offsetY:r.offsetY,width:r.width,height:r.height,rotateAngle:r.rotateAngle}),r&&r.shape&&"UmlClassifier"===r.shape.type&&(r.wrapper.measureChildren=!1))}Hc(n,this.diagram),a.hasStack=o}}return r&&(r.isPhase||r.isLane||r.shape&&"SwimLane"===r.shape.type)&&this.diagram.updateDiagramElementQuad(),a},e.prototype.updateLaneChildNode=function(e){for(var t=0;t<e.shape.lanes.length;t++)if(e.shape.lanes[t].children&&e.shape.lanes[t].children.length>0)for(var n=0;n<e.shape.lanes[t].children.length;n++){var r=e.shape.lanes[t].children[n].id,i=this.diagram.nameTable[r];i.offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY}},e.prototype.updateContainerPropertiesExtend=function(e,t,n,r,i){if("ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction||"SwimLane"===t.shape.type){var o=Xu(t),a=!1;if(e&&e.container&&"Grid"===e.container.type){var s="SwimLane"===e.shape.type,l=s?e.wrapper.children[0]:e.wrapper,c=s?e.shape.padding:void 0,h=e.wrapper.bounds.x,d=e.wrapper.bounds.y;if(void 0!==t.columnIndex&&"Horizontal"===e.container.orientation&&(s&&t.isPhase||!s&&1===t.rowIndex)||"Vertical"===e.container.orientation&&(!s&&t.rowIndex>0&&t.columnIndex>0||s&&t.isLane)){if("Horizontal"===e.container.orientation&&t.isPhase&&t.wrapper.width>t.maxWidth&&(t.maxWidth=t.wrapper.width,t.wrapper.maxWidth=t.wrapper.width),zc(this.diagram,t,e,r),l.updateColumnWidth(t.columnIndex,r.width,!0,c),t.isPhase){var u=e.shape.phases[t.columnIndex].header.id,p=this.diagram.nameTable[u];p.maxWidth<r.width&&(p.maxWidth=r.width,p.wrapper.maxWidth=r.width)}"SwimLane"===e.shape.type&&(e.width=e.width?l.width:e.width,Xc(this.diagram,e),e.wrapper.width=e.width,n=Nc(this.diagram,l,t.rowIndex))}else void 0!==t.rowIndex&&(a=!0,zc(this.diagram,t,e,r),l.updateRowHeight(t.rowIndex,r.height,!0,c),"SwimLane"===e.shape.type&&(e.height=e.height?l.height:e.height,e.wrapper.height=e.height,n=Nc(this.diagram,l,t.rowIndex)));"SwimLane"===e.shape.type&&(i.isPreventHistory=!0),this.diagram.nodePropertyChange(e,{},{offsetX:e.offsetX,offsetY:e.offsetY,rotateAngle:e.rotateAngle}),this.diagram.drag(e,h-e.wrapper.bounds.x,d-e.wrapper.bounds.y)}else t&&t.shape&&"UmlClassifier"===t.shape.type&&(t.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(t,{},{offsetX:t.offsetX,offsetY:t.offsetY,width:t.width,height:t.height,rotateAngle:t.rotateAngle}),t.wrapper.measureChildren=!1;if(t.wrapper.measure(new nr(t.wrapper.width,t.wrapper.height)),t.wrapper.arrange(t.wrapper.desiredSize),"ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction){var f={category:"Internal",type:a?"RowHeightChanged":"ColumnWidthChanged",undoObject:o,redoObject:Xu(t)};this.diagram.addHistoryEntry(f)}}return Hc(n,this.diagram),i},e.prototype.addUmlNode=function(){var e=this.diagram.selectedItems.nodes[0],t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x+20,y:this.currentPosition.y}),n=this.diagram.findObjectUnderMouse(t,this.action,this.inAction);if(n||(t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),n=this.diagram.findObjectUnderMouse(t,this.action,this.inAction)),e&&e.container&&"Stack"===e.container.type&&n&&n.parentId&&n.parentId===e.id){var r=n,i=yu(this.diagram.element.id);if(i.getElementById(i.id+"_stack_highlighter")){var o=e.wrapper.children.indexOf(n.wrapper)+1;this.diagram.enableServerDataBinding(!1);var a=new iu(this.diagram,"nodes",{style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},annotations:n.annotations,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(Mr.Default|Mr.HideThumbs)&~(Mr.Rotate|Mr.Drag|Mr.Resize),minHeight:25},!0);a.annotations[0].content=" + Name : Type";r.id.split("_");a.id=Uu()+a.id,a.parentId=e.id,a.zIndex=-1,a.umlIndex=o,this.diagram.startGroupAction();e.wrapper.children.indexOf(a.wrapper);this.diagram.enableServerDataBinding(!0),this.diagram.add(a),this.diagram.updateConnectorEdges(e),this.diagram.clearSelection(),this.diagram.select([this.diagram.nameTable[a.id]]),this.diagram.endGroupAction(),this.diagram.startTextEdit()}}},e}(),pf=function(){function e(){}return e.prototype.findObjectsUnderMouse=function(e,t,n,r,i){var o,a,s,l,c=[];r&&r instanceof hu&&r.nodes.length+r.connectors.length===1&&(r=r.nodes[0]||r.connectors[0]).children&&0===r.children.length&&(n.actualObject=r);for(var h,d,u=r&&r instanceof Al&&(r.constraints&kr.ConnectToNearByNode||r.constraints&kr.ConnectToNearByPort)&&r.connectionPadding||0,p={},f=0,g=t.spatialSearch.findObjects(new Ar(e.x-50-u,e.y-50-u,100+u,100+u));f<g.length;f++){var A=e;a=(P=g[f]).wrapper.outerBounds;var m=!P.rotateAngle&&a.containsPoint(A,u);if((P!==r||t.currentDrawingObject instanceof Al)&&P instanceof Al?P!==t.currentDrawingObject:P.wrapper.visible)if((C=t.commandHandler.getObjectLayer(P.id))&&!C.lock&&C.visible){if(h=p[C.zIndex]=p[C.zIndex]||[],P.rotateAngle){a=Wu(o=P.wrapper);for(var y=0,v=o.children;y<v.length;y++)s=v[y],br(l=yr(),-(s.rotateAngle+s.parentTransform),s.offsetX,s.offsetY),A=vr(l,e),Wu(s).containsPoint(A,u)&&(m=!0)}if((!r||!1===_p(t,P))&&((d=P)instanceof Al?d.constraints&kr.PointerEvents:d.constraints&Mr.PointerEvents)&&(P instanceof Al?mh(P,e):m)){var b=P instanceof Al&&P.hitPadding||0;this.findElementUnderMouse(P,e,u||b)&&"helper"!==P.id&&Zh(P,"zIndex",h)}}}for(var w=0,x=t.layers;w<x.length;w++)for(var C=x[w],S=0,B=c=c.concat(p[C.zIndex]||[]);S<B.length;S++){var P;if("Bpmn"===(P=B[S]).shape.type&&P.processId&&(!(t.eventHandler.tool instanceof Gp)||t.eventHandler.tool instanceof Gp&&Fl(P)))(k=c.indexOf(t.nameTable[P.processId]))>-1&&c.splice(k,1);if("UmlClassifier"===P.shape.type&&P.container&&"Stack"===P.container.type)(k=c.indexOf(t.nameTable[t.nameTable[P.id].wrapper.children[0].id]))>-1&&c.splice(k,1)}for(var E=0;E<c.length;E++){var O=t.nameTable[c[E].parentId];if(O)for(var T=this.findElementUnderMouse(O,e),I=0;I<O.ports.length;I++)if(T.id.match("_"+O.ports[I].id+"$")){var L=O.ports[I];if(Jl(L)||ql(L))return c}for(;O;){var k;if(-1===(k=c.indexOf(O)))break;c.splice(k,1),O=t.nameTable[O.parentId]}}if(this.checkSwimlane(c,t),n&&!n.source)for(E=0;E<c.length;E++){var N=t.nameTable[c[E].parentId];if(N&&"SwimLane"===N.shape.type)for(I=0;I<c.length;I++){c[I]instanceof Al&&c.splice(E,1)}}return c},e.prototype.checkSwimlane=function(e,t){for(var n,r=0;r<e.length;r++){var i=e[r],o=void 0,a=void 0;i instanceof iu&&(o=e[r].parentId,a=i),""===o&&(n=!0);var s=t.nameTable[o];if(s&&s.isLane&&t.nameTable[s.parentId].zIndex>i.zIndex&&(e[r]=s),r>0&&n&&a&&(a.isLane||a.isPhase||a.isHeader)&&e[r].zIndex<e[r-1].zIndex){var l=e[r];e[r]=e[r-1],e[r-1]=l}}if(e.length>=2)for(var c=e.length-1;c>=0;c--)if(e[c].parentId){var h=gd(e[c],t,""),d=gd(e[c-1],t,""),u=t.nameTable[h],p=t.nameTable[d];p&&h!==d&&u.zIndex<p.zIndex&&e.splice(c,1)}},e.prototype.isTarget=function(e,t,n){var r,i=t.selectedItems.connectors[0];if(!(r="ConnectorSourceEnd"===n?t.nameTable[i.targetID]:r=t.nameTable[i.sourceID])||(r.processId||e.processId)&&r.processId===e.processId||(r.processId!==e.processId&&(e=null),e&&e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])),"ConnectorSourceEnd"===n&&i.targetID){var o=t.nameTable[i.targetID];if(o&&o.shape&&"TextAnnotation"===o.shape.shape){var a=i.id.split("_");("Bpmn"===o.shape.type&&"Bpmn"!==e.shape.type||a[0]===e.id||"TextAnnotation"===e.shape.shape)&&(e=null),e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])}}return e},e.prototype.findObjectUnderMouse=function(e,t,n,r,i,o,a){var s,l,c=null;if(0!==t.length)if(a&&a instanceof hu&&a.nodes.length+a.connectors.length===1&&(a=a.nodes[0]||a.connectors[0]),"ConnectorSourceEnd"===n&&a||"PortDraw"===n||(Vl(e)||Wl(e))&&nd(e.drawingObject)===Al)for(var h=e.selectedItems.connectors[0],d=t.length-1;d>=0;d--){l=Yh(t[d],!1),s=Yh(t[d],!0);var u=e.eventHandler.tool,p=this.findTargetElement(t[d].wrapper,o,void 0);if("Draw"===n&&p&&t[d]instanceof iu&&!ld(t[d],p)&&(u&&"ConnectorSourceEnd"===u.endPoint&&!Rl(t[d])||u&&"ConnectorTargetEnd"===u.endPoint&&!Ml(t[d])))return c;if(t[d]instanceof iu&&(Rl(t[d])||jl(l)||Ml(t[d])||Dl(s)||"PortDraw"===n&&u instanceof Kp&&"ConnectorTargetEnd"===u.endPoint&&(Ml(t[d])||Dl(s))))return c=t[d],h&&(c=this.isTarget(c,e,n)),i.actualObject=c,c}else if("ConnectorTargetEnd"===n&&a){for(d=t.length-1;d>=0;d--)if(s=Yh(t[d],!0),t[d]instanceof iu&&(Ml(t[d])||Dl(s)))return c=t[d],c=this.isTarget(c,e,n),i.actualObject=c,c}else{if(a&&("Drag"===n||e.eventHandler.tool instanceof Gp)){var f=0;for(d=0;d<t.length;d++){var g=t[d];a!==g&&(g instanceof Al||!o||g.wrapper.bounds.containsPoint(o))&&Fl(g)&&(c?(c=f>=g.zIndex?c:g,f=Math.max(f,g.zIndex)):f=(c=g).zIndex)}return c&&"Bpmn"===c.shape.type&&(c=e.selectedItems.nodes.length>0&&"Bpmn"===e.selectedItems.nodes[0].shape.type?c:null),c&&(i.actualObject=c),c}if("Select"!==n&&"Pan"!==n||!e.eventHandler.tool)if("Pan"===n||"LayoutAnimation"===n){for(d=t.length-1;d>=0;d--)if(t[d]instanceof iu||t[d]instanceof Al){p=this.findTargetElement(t[d].wrapper,o,void 0);if("Pan"===n||p&&(p.id.match("_icon_content_shape$")||p.id.match("_icon_content_rect$")))return t[d]}}else c=t[t.length-1],i&&c&&(i.actualObject=c);else{for(var d=t.length-1;d>=0;d--)if(t[d]instanceof Al){var A=t[d-1];if(t[d-1]instanceof iu&&A.ports){if((p=this.findTargetElement(A.wrapper,o,void 0))&&(p.id.match("_icon_content_shape$")||p.id.match("_icon_content_rect$")))return A;for(var m=0;m<A.ports.length;m++)if(p&&p.id.match("_"+A.ports[m].id+"$")&&ql(A.ports[m]))return A}}if(c=t[t.length-1],i.actualObject=c,!e.eventHandler.itemClick(c,!0)&&c.parentId)for(var y=c,v=_p(e,y);y&&(!_p(e,y)||v);)c=y,y=e.nameTable[y.parentId]}}return c},e.prototype.findElementUnderSelectedItem=function(e,t,n){return e instanceof hu?1!==e.nodes.length||e.connectors&&e.connectors.length?e.nodes&&!e.nodes.length||1!==e.connectors.length?null:this.findElementUnderMouse(e.connectors[0],t):this.findElementUnderMouse(e.nodes[0],t):this.findElementUnderMouse(e,t,n)},e.prototype.findElementUnderMouse=function(e,t,n){return this.findTargetElement(e.wrapper,t,n)},e.prototype.findTargetElement=function(e,t,n){for(var r=e.children.length-1;r>=0;r--){var i=e.children[r];if(i&&i.outerBounds.containsPoint(t,n||0)){if(i instanceof pi){var o=this.findTargetElement(i,t);if(o)return o}if(i.bounds.containsPoint(t,n||0))return i}}return e.bounds.containsPoint(t,n)&&"none"!==e.style.fill?e:null},e}(),ff=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gf=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Af=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.objectZIndex=-1,o.zIndexTable={},o.objects=[],o}return ff(t,e),gf([_t("")],t.prototype,"id",void 0),gf([_t(!0)],t.prototype,"visible",void 0),gf([_t(!1)],t.prototype,"lock",void 0),gf([_t()],t.prototype,"objects",void 0),gf([_t()],t.prototype,"addInfo",void 0),gf([_t(-1)],t.prototype,"zIndex",void 0),t}(on),mf=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},yf=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vf=function(){function e(e){this.clipboardData={},this.diagramObject={},this.newSelectedObjects={},this.oldSelectedObjects={},this.connectorsTable=[],this.processTable={},this.deepDiffer=new Up,this.isContainer=!1,this.childTable={},this.parentTable={},this.blazor="Blazor",this.blazorInterop="sfBlazor",this.cloneGroupChildCollection=[],this.diagram=e}return Object.defineProperty(e.prototype,"snappingModule",{get:function(){return this.diagram.snappingModule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutAnimateModule",{get:function(){return this.diagram.layoutAnimateModule},enumerable:!0,configurable:!0}),e.prototype.startTransaction=function(e){this.state={element:this.diagram.selectedItems,backup:null},e&&this.diagram.protectPropertyChange(!0),bu(this.diagram.element.id).style.pointerEvents="none"},e.prototype.endTransaction=function(e){this.state=null,e&&this.diagram.protectPropertyChange(!1),bu(this.diagram.element.id).style.pointerEvents="all"},e.prototype.setFocus=function(){document.getElementById(this.diagram.element.id).focus()},e.prototype.showTooltip=function(e,t,n,r,i){var o,a,s=this;if(e instanceof hu?1==e.nodes.length&&0==e.connectors.length?o=e.nodes[0].id:0==e.nodes.length&&1==e.connectors.length?o=e.connectors[0].id:a=document.getElementById(this.diagram.element.id+"_SelectorElement"):o=e.id,p(a)&&!p(o)&&(a=document.getElementById(o+"_groupElement")),i&&(this.diagram.tooltipObject.position="BottomCenter",this.diagram.tooltipObject.animation={open:{delay:0,duration:0}},this.diagram.tooltipObject.openDelay=0,this.diagram.tooltipObject.closeDelay=0),this.diagram.selectedItems.setTooltipTemplate){var l=void 0,c=ip(this.diagram.selectedItems.setTooltipTemplate);c&&(l=c(e,this.diagram)),n=l instanceof HTMLElement?l.cloneNode(!0):l||n}v()&&i&&this.diagram.tooltipObject.close(),e.tooltip&&(this.diagram.tooltipObject.openOn=e.tooltip.openOn),this.diagram.tooltipObject.content=n,this.diagram.tooltipObject.offsetX=0,this.diagram.tooltipObject.offsetY=0,v()?this.diagram.tooltipObject.updateTooltip(this.diagram.element):this.diagram.tooltipObject.refresh(a),i&&setTimeout((function(){s.diagram.tooltipObject.open(a)}),1)},e.prototype.closeTooltip=function(){this.diagram.tooltipObject.close()},e.prototype.canEnableDefaultTooltip=function(){return!!(this.diagram.selectedItems.constraints&Tr.ToolTip)},e.prototype.updateSelector=function(){this.diagram.updateSelector()},e.prototype.updateConnectorValue=function(e){if(e.cancel){this.enableCloneObject(!0),this.ismouseEvents(!0),this.insertBlazorObject(e.connector);var t={},n={},r=this.diagram.nameTable[e.connector.id],i="ConnectorSourceEnd"===e.connectorEnd?"sourceID":"targetID",o="ConnectorSourceEnd"===e.connectorEnd?"sourcePortID":"targetPortID",a="ConnectorTargetEnd"===e.connectorEnd,s=a?e.newValue.connectorTargetValue:e.newValue.connectorSourceValue,l=a?e.oldValue.connectorTargetValue:e.oldValue.connectorSourceValue;n[i]=s.nodeId,n[o]=s.portId,t[i]=l.nodeId,t[o]=l.portId,e.cancel&&"ConnectorTargetEnd"!==e.connectorEnd&&(r.sourceID=l.nodeId,e.connector.sourcePortID&&(r.sourcePortID=l.portId),this.diagram.connectorPropertyChange(r,n,t)),e.cancel&&"ConnectorTargetEnd"===e.connectorEnd&&(e.connector.targetPortID&&(r.targetPortID=l.portId),r.targetID=l.nodeId,this.diagram.connectorPropertyChange(r,n,t))}},e.prototype.triggerEvent=function(e,t){return mf(this,void 0,void 0,(function(){return yf(this,(function(n){switch(n.label){case 0:if(e===Kr.drop||e===Kr.positionChange||e===Kr.connectionChange){if(this.diagram.currentSymbol)return[2];if(e===Kr.drop&&(t.source=ud(this.diagram)),this.diagram.currentDrawingObject&&e!==Kr.positionChange)return[2]}return[4,this.diagram.triggerEvent(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.dragOverElement=function(e,t){if(this.diagram.currentSymbol){var n={element:ud(e.source),target:ud(e.target),mousePosition:ud(t),diagram:ud(this.diagram)};this.triggerEvent(Kr.dragOver,n)}},e.prototype.disConnect=function(e,t,n){var r,i,o=v(),a={},s={};if(e instanceof hu?i=e.connectors[0]:e instanceof Al&&this.diagram.currentDrawingObject&&(i=this.diagram.currentDrawingObject),e&&i&&(jp(this.diagram)||this.diagram.currentDrawingObject))if(v()&&this.diagram.insertValue(Xu(i),!1),!t||"ConnectorSourceEnd"!==t&&"ConnectorTargetEnd"!==t){if("OrthoThumb"!==t&&"SegmentEnd"!==t&&(i.sourceID||i.targetID)){a={sourceID:i.sourceID,sourcePortID:i.sourcePortID,targetID:i.targetID,targetPortID:i.targetPortID},i.sourceID="",i.sourcePortID="",i.targetID="",i.targetPortID="",s={sourceID:i.sourceID,sourcePortID:i.sourcePortID,targetID:i.targetID,targetPortID:i.targetPortID};var l={connector:ud(i),oldValue:a,newValue:s,cancel:!1,state:"Changing",connectorEnd:t};v()&&(r=l={connector:ud(i),oldValue:{connector:ud(a)},newValue:{connector:ud(s)},cancel:!1,state:"Changed",connectorEnd:t}),o||this.triggerEvent(Kr.connectionChange,l),l.cancel?(i.sourceID=a.sourceID,i.sourcePortID=a.sourcePortID,i.targetID=a.targetID,i.targetPortID=a.targetPortID):(this.diagram.connectorPropertyChange(i,a,s),this.diagram.updateDiagramObject(i),l={connector:i,oldValue:a,newValue:s,cancel:!1,state:"Changed",connectorEnd:t},v()&&(r=l={connector:ud(i),oldValue:{connector:a},newValue:{connector:s},cancel:!1,state:"Changed",connectorEnd:t}),o||this.triggerEvent(Kr.connectionChange,l))}}else{var c="ConnectorSourceEnd"===t?"sourceID":"targetID",h="ConnectorSourceEnd"===t?"sourcePortID":"targetPortID";i[c]&&(a[c]=i[c],i[c]="",s[c]=i[c],(i.sourcePortID||i.targetPortID)&&(a[h]=i[h],i[h]="",s[h]=i[h]),r=this.connectionEventChange(i,a,s,t,n))}return r},e.prototype.connectionEventChange=function(e,t,n,r,i){var o,a,s=v(),l="ConnectorSourceEnd"===r?"sourceID":"targetID",c="ConnectorSourceEnd"===r?"sourcePortID":"targetPortID";if(this.enableCloneObject){var h=Xu(o=this.diagram.nameTable[n[l]]);this.diagram.insertValue(h,!0)}var d={cancel:!1,state:"Changing",connectorEnd:r,connector:ud(e),oldValue:{nodeId:t[l],portId:t[c]},newValue:{nodeId:n[l],portId:n[c]}};if(v()&&(d={connector:ud(e),cancel:!1,state:"Changing",connectorEnd:r,oldValue:void 0,newValue:void 0},"ConnectorSourceEnd"===r?(d.oldValue={connectorSourceValue:{portId:t[c],nodeId:t[l]}},d.newValue={connectorSourceValue:{nodeId:n[l],portId:n[c]}}):(d.oldValue={connectorTargetValue:{nodeId:t[l],portId:t[c]}},d.newValue={connectorTargetValue:{nodeId:n[l],portId:n[c]}}),a=d),s||this.triggerEvent(Kr.connectionChange,d),d.cancel||v()&&i?(e[l]=t[l],e[c]=t[c],n=t):(this.diagram.connectorPropertyChange(e,t,n),this.diagram.updateDiagramObject(e),d={connector:ud(e),oldValue:{nodeId:t[l],portId:t[c]},newValue:{nodeId:n[l],portId:n[c]},cancel:!1,state:"Changing",connectorEnd:r},v()&&(d={connector:ud(e),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:r},"ConnectorSourceEnd"===r?(d.newValue={connectorSourceValue:{portId:n[c],nodeId:n[l]}},d.oldValue={connectorSourceValue:{portId:t[c],nodeId:t[l]}}):(d.oldValue={connectorTargetValue:{nodeId:t[l],portId:t[c]}},d.newValue={connectorTargetValue:{portId:n[c],nodeId:n[l]}}),a=d)),this.enableCloneObject&&void 0===o){h=Xu(o=this.diagram.nameTable[t[l]]);this.diagram.insertValue(h,!0)}return a},e.prototype.insertBlazorObject=function(e,t){var n,r;if(e instanceof hu){this.oldSelectedObjects=ad(this.diagram);for(var i=0;i<e.nodes.length;i++)n=this.diagram.getObject(e.nodes[i].id),this.diagram.insertValue(Xu(n),!0);for(i=0;i<e.connectors.length;i++)r=this.diagram.getObject(e.connectors[i].id),this.diagram.insertValue(Xu(r),!1)}else e=this.diagram.getObject(e.id),this.diagram.insertValue(Xu(e),e instanceof iu)},e.prototype.updatePropertiesToBlazor=function(e,t){this.enableCloneObject(!1),this.ismouseEvents(!1),this.getBlazorOldValues(e,t),this.updateBlazorSelector()},e.prototype.insertSelectedObjects=function(){this.oldSelectedObjects=ad(this.diagram)},e.prototype.findTarget=function(e,t,n,r){if(t instanceof iu){if(e&&e.id===t.id+"_content")return t;if(n&&"Bpmn"===t.shape.type&&(!v()&&"Activity"===t.shape.shape||v()&&"Activity"===t.shape.bpmnShape)&&"Transaction"===t.shape.activity.subProcess.type){var i=t.shape.activity.subProcess.transaction;if(i.success.visible&&0===e.id.indexOf(t.id+"_success"))return i.success;if(i.cancel.visible&&0===e.id.indexOf(t.id+"_cancel"))return i.cancel;if(i.failure.visible&&0===e.id.indexOf(t.id+"_failure"))return i.failure}if(e instanceof wi)for(var o=0;o<t.ports.length;o++){var a=t.ports[o];if(e.id===t.id+"_"+a.id)return a}}if(!r){var s=void 0;for(o=0;o<t.annotations.length;o++)if(s=t.annotations[o],e.id===t.id+"_"+s.id)return s}return t},e.prototype.canDisconnect=function(e,t,n,r){var i;t.source instanceof hu?i=t.source.connectors[0]:t.source instanceof Al&&this.diagram.currentDrawingObject&&(i=this.diagram.currentDrawingObject);this.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===e,!0);var o="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";return i["ConnectorSourceEnd"===e?"sourceID":"targetID"]!==r||i[o]!==n},e.prototype.changeAnnotationDrag=function(e){var t;if(e.source&&e.source.connectors&&e.source.connectors.length&&this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e.source.connectors[0])>-1){e.source instanceof hu&&(t=e.source.connectors[0]);var n=t.id.split("_"),r=(n[n.length-1],n[n.length-3]||n[0]);if(e.target&&e.target.id!==r&&(!v()&&"TextAnnotation"!==e.target.shape.shape||v()&&"TextAnnotation"!==e.target.shape.bpmnShape)){this.diagram.startGroupAction();var i=this.diagram.nameTable[n[0]],o=this.getAnnotation(i,n[1]),a={id:n[1]+Uu(),angle:or.findAngle(t.intermediatePoints[0],t.intermediatePoints[1]),text:o.text,length:or.distancePoints(t.intermediatePoints[0],t.intermediatePoints[1]),shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:o.nodeId},s=new Xd(e.target.shape,"annotations",a,!0);this.diagram.bpmnModule.checkAndRemoveAnnotations(this.diagram.nameTable[t.targetID],this.diagram),this.diagram.refreshCanvasLayers(),s.id=n[1],this.diagram.addTextAnnotation(s,e.target),this.diagram.endGroupAction()}else t&&(t.sourceID=r,this.diagram.connectorPropertyChange(t,{},{sourceID:r}),this.diagram.updateDiagramObject(t))}},e.prototype.connect=function(e,t,n){var r,i,o,a,s={},l={};t.source instanceof hu?o=t.source.connectors[0]:t.source instanceof Al&&this.diagram.currentDrawingObject&&(o=this.diagram.currentDrawingObject);var c=this.findTarget(t.targetWrapper||t.sourceWrapper,t.target||t.actualObject,"ConnectorSourceEnd"===e,!0),h="ConnectorSourceEnd"===e?"sourceID":"targetID",d="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";if(c instanceof iu)l[h]=o[h],o[h]=c.id,s[h]=o[h],l[d]=o[d],a=this.connectionEventChange(o,l,s,e,n);else{r=o[h],i=o[d],o[d]=c.id,o[h]=t.target&&t.target.id||t.actualObject.id,s[h]=o[h],s[d]=o[d];var u={connector:ud(o),oldValue:{nodeId:r,portId:i},newValue:{nodeId:s[h],portId:s[d]},cancel:!1,state:"Changing",connectorEnd:e};v()&&(u={connector:ud(o),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:e},"ConnectorSourceEnd"===e?(u.oldValue={connectorSourceValue:{portId:l[d],nodeId:l[h]}},u.newValue={connectorSourceValue:{portId:s[d],nodeId:s[h]}}):(u.newValue={connectorTargetValue:{portId:s[d],nodeId:s[h]}},u.oldValue={connectorTargetValue:{portId:l[d],nodeId:l[h]}}),a=u),this.triggerEvent(Kr.connectionChange,u),u.cancel||v()&&n?(o[h]=r,o[d]=i,s[h]=r,s[d]=i):(this.diagram.connectorPropertyChange(o,l,s),this.diagram.updateDiagramObject(o),u={connector:ud(o),oldValue:{nodeId:r,portId:i},newValue:{nodeId:s[h],portId:s[d]},cancel:!1,state:"Changing",connectorEnd:e},v()&&(u={newValue:void 0,connector:ud(o),oldValue:void 0,cancel:!1,state:"Changing",connectorEnd:e},"ConnectorSourceEnd"===e?(u.oldValue={connectorSourceValue:{portId:l[d],nodeId:l[h]}},u.newValue={connectorTargetValue:{portId:s[d],nodeId:s[h]}}):(u.oldValue={connectorTargetValue:{portId:l[d],nodeId:l[h]}},u.newValue={connectorTargetValue:{portId:s[d],nodeId:s[h]}})))}return this.renderHighlighter(t,void 0,"ConnectorSourceEnd"===e),a},e.prototype.cut=function(){this.clipboardData.pasteIndex=0,this.diagram.undoRedoModule&&this.diagram.historyManager.startGroupAction(),this.clipboardData.clipObject=this.copyObjects(),this.diagram.undoRedoModule&&this.diagram.historyManager.endGroupAction(),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()},e.prototype.UpdateBlazorDiagramModelLayers=function(e,t){var n=ud(e);if(window&&window.Blazor){var r={methodName:"UpdateBlazorDiagramModelLayers",diagramobj:JSON.stringify(n),isRemove:t};this.diagram.isLoading||window.sfBlazor.updateBlazorProperties(r,this.diagram)}},e.prototype.addLayer=function(e,t,n){void 0===n&&(n=!0),e.id=e.id||Uu(),e.zIndex=this.diagram.layers.length;var r=this.diagram.allowServerDataBinding;this.diagram.enableServerDataBinding(!1),e=new Af(this.diagram,"layers",e,!0),this.diagram.enableServerDataBinding(r),e.objectZIndex=-1,e.zIndexTable={},this.diagram.layers.push(e),n&&this.UpdateBlazorDiagramModelLayers(e,!1),this.diagram.layerZIndexTable[e.zIndex]=e.id,this.diagram.activeLayer=e;e.objects;if(t)for(var i=0;i<t.length;i++)this.diagram.add(t[i])},e.prototype.getObjectLayer=function(e){for(var t=this.diagram.layers,n=0;n<t.length;n++){if(t[n].objects.indexOf(e)>-1)return t[n]}return this.diagram.activeLayer},e.prototype.getLayer=function(e){for(var t=this.diagram.layers,n=0;n<t.length;n++)if(t[n].id===e)return t[n]},e.prototype.removeLayer=function(e,t){void 0===t&&(t=!0);var n=this.getLayer(e);if(n){for(var r=this.diagram.layers.indexOf(n),i=n.objects,o=i.length-1;o>=0;o--)this.diagram.unSelect(this.diagram.nameTable[i[o]]),this.diagram.remove(this.diagram.nameTable[i[o]]),"default_layer"!==n.id&&this.diagram.activeLayer.id===e&&(this.diagram.activeLayer=this.diagram.layers[this.diagram.layers.length-1]);t&&this.UpdateBlazorDiagramModelLayers(this.diagram.layers[r],!0),delete this.diagram.layerZIndexTable[n.zIndex],this.diagram.layers.splice(r,1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.moveObjects=function(e,t){var n,r=this.getLayer(t)||this.diagram.activeLayer;this.diagram.setActiveLayer(r.id);for(var i=0,o=e;i<o.length;i++){var a=o[i];this.getObjectLayer(a).objects.indexOf(a)>-1&&(n=this.diagram.nameTable[a],this.diagram.unSelect(n),this.diagram.remove(this.diagram.nameTable[a]),this.diagram.add(n))}},e.prototype.cloneLayer=function(e){this.diagram.layers;var t=this.getLayer(e);if(t){var n=[],r={id:e+"_"+Uu(),objects:[],visible:!0,lock:!1};this.addLayer(r,null,!0),r.zIndex=this.diagram.layers.length-1;n.length;for(var i=0,o=t.objects;i<o.length;i++){var a=o[i];n.push(this.diagram.nameTable[a])}this.paste(n)}},e.prototype.copy=function(){return this.clipboardData.pasteIndex=1,this.clipboardData.clipObject=this.copyObjects(),this.clipboardData.clipObject},e.prototype.copyObjects=function(){var e=[],t=[];if(this.clipboardData.childTable={},this.diagram.selectedItems.connectors.length>0){e=this.diagram.selectedItems.connectors;for(var n=0;n<e.length;n++){var r=void 0;r=this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e[n])>-1?Xu(this.diagram.nameTable[e[n].targetID]):Xu(e[n]),t.push(r)}}if(this.diagram.selectedItems.nodes.length>0){e=e.concat(this.diagram.selectedItems.nodes);for(n=0;n<this.diagram.selectedItems.nodes.length;n++)if(!e[n].isPhase){var i=Xu(this.diagram.selectedItems.nodes[n]);i.wrapper&&i.offsetX!==i.wrapper.offsetX&&(i.offsetX=i.wrapper.offsetX),i.wrapper&&i.offsetY!==i.wrapper.offsetY&&(i.offsetY=i.wrapper.offsetY);this.copyProcesses(i),t.push(Xu(i));var o=yr();if(br(o,-i.rotateAngle,i.offsetX,i.offsetY),i.children){for(var a=this.clipboardData.childTable,s=void 0,l=this.getAllDescendants(i,[],!0),c=0;c<l.length;c++){var h=a[(s=this.diagram.nameTable[l[c].id]).id]=Xu(s),d=vr(o,{x:h.wrapper.offsetX,y:h.wrapper.offsetY});s instanceof iu&&(h.offsetX=d.x,h.offsetY=d.y,h.rotateAngle-=i.rotateAngle)}this.clipboardData.childTable=a}if("SwimLane"===i.shape.type){var u=this.diagram.getObject(this.diagram.selectedItems.nodes[n].id),p=(a=this.clipboardData.childTable,Nc(this.diagram,u.wrapper.children[0]));for(c=0;c<p.length;c++){var f=this.diagram.getObject(p[c]);a[f.id]=Xu(f)}}if(i&&i.isLane){a=this.clipboardData.childTable,u=this.diagram.getObject(i.parentId);var g=ah(i,this.diagram);a[i.id]=Xu(g),a[i.id].width=u.wrapper.actualSize.width}}}if(0===this.clipboardData.pasteIndex){this.startGroupAction();for(var A=0,m=e;A<m.length;A++){var y=m[A];this.diagram.nameTable[y.id]&&(this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(y)>-1?this.diagram.remove(this.diagram.nameTable[y.targetID]):this.diagram.remove(y))}this.endGroupAction()}return this.sortByZIndex(t,"zIndex"),t},e.prototype.copyProcesses=function(e){if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0){for(var t=0,n=e.shape.activity.subProcess.processes;t<n.length;t++){var r=n[t];this.processTable[r]=Xu(this.diagram.nameTable[r]),this.processTable[r].shape.activity.subProcess.processes&&this.processTable[r].shape.activity.subProcess.processes.length>0&&this.copyProcesses(this.processTable[r])}this.clipboardData.processTable=this.processTable}},e.prototype.group=function(){this.oldSelectedObjects=ad(this.diagram);var e=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Qr.Group;var t=[],n={};n.id="group"+Uu(),(n=new iu(this.diagram,"nodes",n,!0)).children=[],t=(t=this.diagram.selectedItems.nodes).concat(this.diagram.selectedItems.connectors);for(var r=0;r<t.length;r++)t[r].parentId||n.children.push(t[r].id);var i=this.diagram.add(n);i&&this.select(i);var o={type:"Group",undoObject:n,redoObject:n,category:"Internal"};this.addHistoryEntry(o),this.diagram.diagramActions=this.diagram.diagramActions&~Qr.Group,this.diagram.protectPropertyChange(e),this.updateBlazorSelector()},e.prototype.unGroup=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Qr.Group;var n=[];e?n.push(e):n=this.diagram.selectedItems.nodes,this.diagram.startGroupAction();for(var r=0;r<n.length;r++){for(var i=n[r],o=Xu(i),a=[],s=0;s<i.children.length;s++)a.push(i.children[s]);if(i.children){i.ports&&i.ports.length>0&&this.diagram.removePorts(i,i.ports),i.annotations&&i.annotations.length>0&&(!v()||v()&&""!==i.annotations[0].content)&&this.diagram.removeLabels(i,i.annotations);for(var l=this.diagram.nameTable[i.parentId],c=i.children.length-1;c>=0;c--)this.diagram.nameTable[i.children[c]].parentId="",this.diagram.deleteChild(this.diagram.nameTable[i.children[c]],i),i.parentId&&i.children[c]&&this.diagram.addChild(l,i.children[c]);this.resetDependentConnectors(i.inEdges,!0),this.resetDependentConnectors(i.outEdges,!1);var h={type:"UnGroup",undoObject:o,redoObject:o,category:"Internal"};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(h),i.parentId&&this.diagram.deleteChild(i,l)}this.diagram.removeNode(i,a),this.clearSelection()}this.diagram.endGroupAction(),this.diagram.diagramActions=this.diagram.diagramActions&~Qr.Group,this.diagram.protectPropertyChange(t)},e.prototype.resetDependentConnectors=function(e,t){for(var n=0;n<e.length;n++){var r=this.diagram.nameTable[e[n]],i=Xu(r),o=void 0;t?(r.targetID="",r.targetPortID="",o={targetID:r.targetID,targetPortID:r.targetPortID}):(r.sourceID="",r.sourcePortID="",o={sourceID:r.sourceID,sourcePortID:r.sourcePortID}),this.diagram.connectorPropertyChange(r,{},o);var a={type:"ConnectionChanged",undoObject:{connectors:[i],nodes:[]},redoObject:{connectors:[Xu(r)],nodes:[]},category:"Internal"};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(a)}},e.prototype.paste=function(e){if(e||this.clipboardData.clipObject){this.diagram.protectPropertyChange(!0);var t=e?this.getNewObject(e):this.clipboardData.clipObject;if(t){var n=1!==t.length,r=!1,i={},o={};0!==this.clipboardData.pasteIndex&&this.clearSelection(),this.diagram.undoRedoModule&&(r=!0,this.diagram.historyManager.startGroupAction());for(var a=0,s=t;a<s.length;a++){i[(h=s[a]).id]=h}var l=[];n&&(this.diagram.isServerUpdate=!0);for(var c=0;c<t.length;c++){var h=t[c];if(nd(h)===Al){var d=Xu(h),u=d.sourceID;d.sourceID="",i[u]&&o[u]&&(d.sourceID=o[u]),u=d.targetID,d.targetID="",i[u]&&o[u]&&(d.targetID=o[u]);var p=this.cloneConnector(d,n);l.push(p),o[h.id]=p.id}else{var f=this.cloneNode(h,n);if(v()&&f&&f.children&&f.children.length>0?(l=l.concat(this.cloneGroupChildCollection),this.cloneGroupChildCollection=[]):l.push(f),f){o[h.id]=f.id;var g=h.inEdges;if(g)for(var A=0,m=g;A<m.length;A++){if(i[w=m[A]]&&o[w])(x=this.diagram.nameTable[o[w]]).targetID=o[h.id],this.diagram.connectorPropertyChange(x,{targetID:"",targetPortID:""},{targetID:x.targetID,targetPortID:x.targetPortID})}if(g=h.outEdges)for(var y=0,b=g;y<b.length;y++){var w,x;if(i[w=b[y]]&&o[w])(x=this.diagram.nameTable[o[w]]).sourceID=o[h.id],this.diagram.connectorPropertyChange(x,{sourceID:"",sourcePortID:""},{sourceID:x.sourceID,sourcePortID:x.sourcePortID})}}}}n&&(this.diagram.isServerUpdate=!1,this.diagram.UpdateBlazorDiagramModelCollection(t[0],l),this.getBlazorOldValues(),this.diagram.select(l,!0)),!0===r&&(this.diagram.historyManager.endGroupAction(),r=!1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.clipboardData.pasteIndex++,this.diagram.protectPropertyChange(!1)}}},e.prototype.getNewObject=function(e){var t,n=[];this.clipboardData.pasteIndex=1;for(var r=0;r<e.length;r++)t=Xu(e[r]),n.push(t);return n},e.prototype.cloneConnector=function(e,t){var n=Xu(e);this.translateObject(n),n.zIndex=-1;var r=this.diagram.add(n);return this.diagram.isServerUpdate||this.selectObjects([r],t),r},e.prototype.cloneNode=function(e,t,n,r){var i,o,a={},s=Xu(e),l=this.diagram.nameTable[e.parentId];if(e.shape&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length&&(o=s.shape.activity.subProcess.processes,s.zIndex=-1,s.shape.activity.subProcess.processes=void 0),e.shape&&"SwimLane"===e.shape.type)Zc(e,this.diagram,this.clipboardData);else if(l&&"SwimLane"===l.shape.type)Zc(Xu(l),this.diagram,this.clipboardData,e,!0);else if(!e.children||!e.children.length||n&&n.length)if(e.shape&&(!v()&&"TextAnnotation"===e.shape.shape||v()&&"TextAnnotation"===e.shape.bpmnShape)&&-1!==e.id.indexOf("_textannotation_")&&this.diagram.nameTable[e.id])for(var c=e.id.split("_textannotation_"),h=this.diagram.nameTable[e.id],d=0;d<h.inEdges.length;d++){var u=this.diagram.nameTable[h.inEdges[d]];if(u){var p=this.diagram.nameTable[u.sourceID],f=this.getAnnotation(p,c[1]),g={id:c[1]+Uu(),angle:f.angle,text:f.text,length:f.length,shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:f.nodeId};this.diagram.addTextAnnotation(g,p)}}else this.translateObject(s,r),s.zIndex=-1,n&&(s.children=n),i=this.diagram.add(s);else i=this.cloneGroup(e,t);for(var A=0,m=Object.keys(a);A<m.length;A++){var y=m[A];this.diagram.add(a[y])}return o&&o.length&&(i.shape.activity.subProcess.processes=o,this.cloneSubProcesses(i)),i&&!this.diagram.isServerUpdate&&this.selectObjects([i],t),i},e.prototype.getAnnotation=function(e,t){var n=e.shape.annotations;if(n&&n.length)for(var r=0;r<=n.length;r++)if(n[r].id===t)return n[r]},e.prototype.cloneSubProcesses=function(e){var t=[],n={};if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length)for(var r=e.shape.activity.subProcess.processes,i=0;i<r.length;i++){for(var o=this.diagram.nameTable[r[i]]||this.clipboardData.processTable[r[i]],a=0,s=o.outEdges;a<s.length;a++){var l=s[a];t.indexOf(l)<0&&t.push(l)}for(var c=0,h=o.inEdges;c<h.length;c++){l=h[c];t.indexOf(l)<0&&t.push(l)}var d=Xu(this.clipboardData.processTable[r[i]]);d.processId=e.id;var u=this.cloneNode(d,!1);n[r[i]]=u.id,r[i]=u.id,this.diagram.addProcess(u,e.id);for(var p=0,f=t;p<f.length;p++){var g=f[p],A=Xu(this.diagram.nameTable[g]||this.diagram.connectorTable[g]);n[A.sourceID]&&n[A.targetID]&&(A.zIndex=-1,A.id+=Uu(),A.sourceID=n[A.sourceID],A.targetID=n[A.targetID],t.splice(t.indexOf(g),1),this.diagram.add(A))}}},e.prototype.cloneGroup=function(e,t){var n,r=[],i=[],o=[],a=[];i=i.concat(e.children);var s=Uu(),l=[];if(this.diagram.blazorActions|=Pr.GroupClipboardInProcess,this.clipboardData.childTable||e.children.length>0)for(var c=0;c<i.length;c++){var h=void 0;(h=this.clipboardData.childTable?this.clipboardData.childTable[i[c]]:this.diagram.nameTable[i[c]]).parentId="",h&&(nd(h)===Al?o.push(h):(n=this.cloneNode(h,t,void 0,s),a.push(h.id),r.push(n.id),l.push(n)))}for(var d=0;d<o.length;d++){if(o[d].sourceID||o[d].targetID)for(var u=0;u<a.length;u++)o[d].sourceID===a[u]&&(o[d].sourceID+=s),o[d].targetID===a[u]&&(o[d].targetID+=s);n=this.cloneConnector(o[d],t),r.push(n.id),l.push(n)}var p=this.cloneNode(e,t,r);return l.push(p),p&&p.container&&p.shape&&"UmlClassifier"===p.shape.type&&(this.diagram.updateDiagramObject(p),p.wrapper.measure(new nr)),this.diagram.blazorActions&=~Pr.GroupClipboardInProcess,this.diagram.isServerUpdate?this.cloneGroupChildCollection=l:this.diagram.UpdateBlazorDiagramModelCollection(void 0,l,void 0,!0),p},e.prototype.translateObject=function(e,t){e.id+=t||Uu();var n=10*this.clipboardData.pasteIndex;if(nd(e)===Al){if(e.sourcePoint={x:e.sourcePoint.x+n,y:e.sourcePoint.y+n},e.targetPoint={x:e.targetPoint.x+n,y:e.targetPoint.y+n},"Bezier"===e.type)for(var r=e.segments,i=0;i<r.length;i++)or.isEmptyPoint(r[i].point1)||(r[i].point1={x:r[i].point1.x+n,y:r[i].point1.y+n}),or.isEmptyPoint(r[i].point2)||(r[i].point2={x:r[i].point2.x+n,y:r[i].point2.y+n});if(("Straight"===e.type||"Bezier"===e.type)&&e.segments&&e.segments.length>0)for(r=e.segments,i=0;i<r.length-1;i++)r[i].point.x+=n,r[i].point.y+=n}else e.offsetX+=n,e.offsetY+=n},e.prototype.drawObject=function(e){var t,n;v()&&(t=this.diagram.getProtectPropertyChangeValue(),this.diagram.protectPropertyChange(!0)),e&&e.shape&&"Text"===e.shape.type&&(e.width=this.diagram.drawingObject.width?this.diagram.drawingObject.width:50,e.height=this.diagram.drawingObject.height?this.diagram.drawingObject.height:20);for(var r=Xu(this.diagram.drawingObject),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];r[a]=e[a]}return nd(this.diagram.drawingObject)===iu?(n=new iu(this.diagram,"nodes",r,!0)).id=(this.diagram.drawingObject.id||"node")+Uu():(n=new Al(this.diagram,"connectors",r,!0)).id=(this.diagram.drawingObject.id||"connector")+Uu(),v()&&Ah(n,r,nd(this.diagram.drawingObject)===iu?this.diagram.nodeDefaults:this.diagram.connectorDefaults),this.diagram.initObject(n),this.diagram.updateDiagramObject(n),this.diagram.currentDrawingObject=n,v()&&this.diagram.protectPropertyChange(t),n},e.prototype.addObjectToDiagram=function(e){this.diagram.removeFromAQuad(e),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[e.id]),delete this.diagram.nameTable[e.id];var t=this.diagram.add(e);"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.selectObjects([t]),e&&!Wl(this.diagram)&&(this.diagram.tool&=~_r.DrawOnce,this.diagram.currentDrawingObject=void 0)},e.prototype.enableServerDataBinding=function(e){this.diagram.enableServerDataBinding(e)},e.prototype.addText=function(e,t){var n=this.diagram.findElementUnderMouse(e,t);this.diagram.startTextEdit(e,n instanceof gi?n.id.split("_")[1]:void 0)},e.prototype.updateArgsObject=function(e,t,n){if(e)for(var r=0;r<e.length;r++)nd(e[r])===Al?n.connectorCollection.push(e[r].id):n.nodeCollection.push(e[r].id)},e.prototype.updateSelectionChangeEventArgs=function(e,t,n){if(v()){var r=(e={cause:this.diagram.diagramActions,newValue:{},oldValue:{},state:e.state,type:e.type,cancel:!1}).oldValue,i=e.newValue;return r.connectors=[],r.nodes=[],i.connectors=[],i.nodes=[],r.nodeCollection=[],r.connectorCollection=[],i.nodeCollection=[],i.connectorCollection=[],this.updateArgsObject(this.getSelectedObject(),e,i),this.updateArgsObject(n,e,r),e}return e},e.prototype.isUserHandle=function(e){var t=this.diagram.selectedItems;if(t.wrapper&&Qh(t.constraints,"UserHandle"))for(var n=0,r=t.userHandles;n<r.length;n++){var i=r[n];if(i.visible)if(Dp(e,Uh(t,i,this.diagram.scroller.transform),i.size/(2*this.diagram.scroller.transform.scale)))return!0}return!1},e.prototype.selectObjects=function(e,t,n){return mf(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,h,d,u;return yf(this,(function(p){switch(p.label){case 0:if(r={oldValue:n||this.getSelectedObject(),newValue:e,cause:this.diagram.diagramActions,state:"Changing",type:"Addition",cancel:!1},this.diagram.enableServerDataBinding(!1),!0,v()?this.oldSelectedObjects=ad(this.diagram):this.diagram.triggerEvent(Kr.selectionChange,r),i=zl(this.diagram),(o=Ul(this.diagram))||i){if(!i&&(e.length>1||t&&1===e.length)){if(1!==e.length)return[2];this.clearSelection()}if(!o&&1===e.length&&(!t||!Rp(this.diagram)))return this.clearSelection(),[2]}if(r.cancel)return[3,5];for(u=0;u<e.length;u++)if(a=e[u])if(!0,Rp(this.diagram)){if((u>0||t)&&a.children&&!a.parentId)for(s=0;s<this.diagram.selectedItems.nodes.length;s++)(l=this.diagram.nameTable[this.diagram.selectedItems.nodes[s].parentId])&&(l=this.findParent(l))&&a.id===l.id&&this.selectGroup(a);this.selectProcesses(a),this.selectBpmnSubProcesses(a)&&this.select(a,u>0||t,!0)}else this.select(a,u>0||t,!0);return r={oldValue:n||[],newValue:this.getSelectedObject(),cause:this.diagram.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.diagram.renderSelector(t||e&&e.length>1),this.updateBlazorSelectorModel(n),v()&&this.diagram.selectionChange&&(r=this.updateSelectionChangeEventArgs(r,e,n||[]),this.updateBlazorSelector()),v()?[3,1]:(this.diagram.triggerEvent(Kr.selectionChange,r),[3,4]);case 1:return c=void 0,window&&window[this.blazor]&&this.diagram.selectionChange?(h={EventName:"selectionChange",args:JSON.stringify(r)},[4,window[this.blazorInterop].updateBlazorDiagramEvents(h,this.diagram)]):[3,3];case 2:c=p.sent(),p.label=3;case 3:if(c&&c.cancel&&(d=[],c.oldValue.nodes.length>0&&(d=c.oldValue.nodes),c.oldValue.connectors.length>0&&(d=d.concat(c.oldValue.connectors)),d))if(d.length>0)for(u=0;u<d.length;u++)this.select(this.diagram.nameTable[d[u].id],0!==u&&d.length>1);else this.clearSelection();p.label=4;case 4:this.diagram.enableServerDataBinding(!0),this.updateBlazorSelector(),p.label=5;case 5:return[2]}}))}))},e.prototype.updateBlazorSelector=function(){if(v()&&this.oldSelectedObjects){this.newSelectedObjects=ad(this.diagram);var e=this.deepDiffer.map(Xu(this.newSelectedObjects),this.oldSelectedObjects),t=this.deepDiffer.frameObject({},e),n=this.deepDiffer.removeEmptyValues(t);n.nodes=[];for(var r=0;r<this.diagram.selectedItems.nodes.length;r++)n.nodes.push(this.diagram.selectedItems.nodes[r].id);n.connectors=[];for(r=0;r<this.diagram.selectedItems.connectors.length;r++)n.connectors.push(this.diagram.selectedItems.connectors[r].id);if(window&&window.Blazor){var i={methodName:"UpdateBlazorProperties",diagramobj:{selectedItems:n}};window.sfBlazor.updateBlazorProperties(i,this.diagram)}this.oldSelectedObjects=void 0,this.newSelectedObjects=void 0}},e.prototype.findParent=function(e){return e.parentId&&(e=this.diagram.nameTable[e.parentId],this.findParent(e)),e},e.prototype.selectProcesses=function(e){if(this.hasProcesses(e))for(var t=e.shape.activity.subProcess.processes,n=0;n<t.length;n++){var r=this.diagram.nameTable[t[n]];this.hasProcesses(r)&&this.selectObjects([r],!0),this.unSelect(r)}},e.prototype.selectGroup=function(e){for(var t=0;t<e.children.length;t++){var n=this.diagram.nameTable[e.children[t]];n.children&&this.selectGroup(n),this.unSelect(this.diagram.nameTable[e.children[t]])}},e.prototype.selectBpmnSubProcesses=function(e){var t,n=!0;if(e.processId)n=!_p(this.diagram,this.diagram.nameTable[e.processId])&&this.selectBpmnSubProcesses(this.diagram.nameTable[e.processId]);else if(e instanceof Al){if(e.sourceID&&this.diagram.nameTable[e.sourceID]&&this.diagram.nameTable[e.sourceID].processId&&(t=this.diagram.nameTable[e.sourceID].processId),e.targetID&&this.diagram.nameTable[e.targetID]&&this.diagram.nameTable[e.targetID].processId&&(t=this.diagram.nameTable[e.targetID].processId),t){if(_p(this.diagram,this.diagram.nameTable[t]))return!1;n=this.selectBpmnSubProcesses(this.diagram.nameTable[t])}}else e.parentId&&this.diagram.nameTable[e.parentId]&&"UmlClassifier"===this.diagram.nameTable[e.parentId].shape.type&&_p(this.diagram,this.diagram.nameTable[e.parentId])&&(n=!1);return n},e.prototype.hasProcesses=function(e){return!!(e&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)},e.prototype.select=function(e,t,n){var r=this.getObjectLayer(e.id);if(Pl(e)&&!(e instanceof hu)&&!_p(this.diagram,e)&&r&&!r.lock&&r.visible&&e.wrapper.visible){(t=!!Rp(this.diagram)&&t)||this.clearSelection(),this.diagram.enableServerDataBinding(!1);var i=this.diagram.selectedItems;if(e instanceof iu)if(e.isHeader){var o=this.diagram.nameTable[e.parentId];i.nodes.push(o)}else i.nodes.push(e);else i.connectors.push(e);if(t)i.wrapper.rotateAngle=i.rotateAngle=0,i.wrapper.children.push(e.wrapper);else if(i.init(this.diagram),1===i.nodes.length&&0===i.connectors.length){var a=$c(this.diagram,i);a&&(i.wrapper.children[0]=a),i.rotateAngle=i.nodes[0].rotateAngle,i.wrapper.rotateAngle=i.nodes[0].rotateAngle,i.wrapper.pivot=i.nodes[0].pivot}n||this.diagram.renderSelector(t),this.diagram.enableServerDataBinding(!0)}},e.prototype.getObjectCollectionId=function(e,t){for(var n=[],r=0,i=e?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;!t&&r<i.length;)n[r]=i[r].id,r++;return n},e.prototype.updateBlazorSelectorModel=function(e,t){if(window&&window.sfBlazor){for(var n=0,r=[];e&&n<e.length;)r[n]=e[n].id,n++;n=0;var i=ud({nodes:this.getObjectCollectionId(!0,t),connectors:this.getObjectCollectionId(!1,t)});window.sfBlazor.updateDiagramCollection&&window.sfBlazor.updateDiagramCollection.call(this.diagram,"selectedItems",i,r,!1,!0)}},e.prototype.labelSelect=function(e,t){this.oldSelectedObjects=ad(this.diagram);var n=this.diagram.selectedItems,r=this.diagram.allowServerDataBinding;this.diagram.allowServerDataBinding=!1,n.nodes=n.connectors=[],this.diagram.allowServerDataBinding=r,e instanceof iu?n.nodes[0]=e:n.connectors[0]=e,n.annotation=this.findTarget(t,e),n.init(this.diagram),this.diagram.renderSelector(!1),this.updateBlazorSelector()},e.prototype.unSelect=function(e){var t=[];t.push(e);var n={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1};if(this.diagram.currentSymbol||v()||this.diagram.triggerEvent(Kr.selectionChange,n),_p(this.diagram,e)){var r=this.diagram.selectedItems,i=void 0;if(e instanceof iu?(i=r.nodes.indexOf(e,0),r.nodes.splice(i,1)):(i=r.connectors.indexOf(e,0),r.connectors.splice(i,1)),n={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(t),!(n={oldValue:ud(t),newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:n.cancel}).cancel&&(i=r.wrapper.children.indexOf(e.wrapper,0),r.wrapper.children.splice(i,1),this.diagram.updateSelector(),!this.diagram.currentSymbol))if(v()){if(n=this.updateSelectionChangeEventArgs(n,[],t),this.updateBlazorSelector(),window&&window[this.blazor]&&this.diagram.selectionChange){var o={EventName:"selectionChange",args:JSON.stringify(n)};window[this.blazorInterop].updateBlazorDiagramEvents(o,this.diagram)}}else this.diagram.triggerEvent(Kr.selectionChange,n)}},e.prototype.getChildElements=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.children&&r.children.length>0?t.concat(this.getChildElements(r.children)):(t.push(r.id),r instanceof gi&&t.push(r.id+"_text"))}return t},e.prototype.moveSvgNode=function(e,t){var n=Au(t+"_groupElement",this.diagram.element.id),r=Au(e+"_groupElement",this.diagram.element.id);n.parentNode.insertBefore(r,n)},e.prototype.sendLayerBackward=function(e){var t=this.getLayer(e);if(t&&0!==t.zIndex){var n=t.zIndex;if("SVG"===this.diagram.mode){var r=t.objects,i=this.getLayer(this.diagram.layerZIndexTable[n-1]).objects[0];if(i)for(var o=0,a=r;o<a.length;o++){var s=a[o];this.moveSvgNode(s,i)}}var l=this.getLayer(this.diagram.layerZIndexTable[n-1]);l.zIndex=l.zIndex+1,t.zIndex=t.zIndex-1;var c=this.diagram.layerZIndexTable[n];this.diagram.layerZIndexTable[n]=this.diagram.layerZIndexTable[n-1],this.diagram.layerZIndexTable[n-1]=c,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.bringLayerForward=function(e){var t=this.getLayer(e);if(t&&t.zIndex<this.diagram.layers.length-1){var n=t.zIndex,r=this.getLayer(this.diagram.layerZIndexTable[n+1]);if("SVG"===this.diagram.mode)for(var i=t.objects[0],o=0,a=r.objects;o<a.length;o++){var s=a[o];s&&this.moveSvgNode(s,i)}r.zIndex=r.zIndex-1,t.zIndex=t.zIndex+1;var l=this.diagram.layerZIndexTable[n];this.diagram.layerZIndexTable[n]=this.diagram.layerZIndexTable[n+1],this.diagram.layerZIndexTable[n+1]=l,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.sendToBack=function(e){if(this.diagram.protectPropertyChange(!0),Rp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.nameTable[t].zIndex,r=this.diagram.layers.indexOf(this.getObjectLayer(t)),i=this.diagram.layers[r].zIndexTable,o=Xu(this.diagram.selectedItems);if(1!==this.diagram.nodes.length&&(void 0===this.diagram.nameTable[t].children||this.checkObjectBehind(t,i,n))){for(var a=n;a>0;a--)i[a]&&(i[a-1]?(i[a]=i[a-1],this.diagram.nameTable[i[a]].zIndex=a):(i[a-1]=i[a],this.diagram.nameTable[i[a-1]].zIndex=a,delete i[a]));if(i[0]=this.diagram.nameTable[t].id,this.diagram.nameTable[t].zIndex=0,"SVG"===this.diagram.mode){var s=i[a=1];for(s=this.resetTargetNode(t,s,a,i);!s&&a<n;)s=i[++a];s=this.diagram.nameTable[s].parentId?this.checkParentExist(s):s,this.moveSvgNode(t,s),this.updateNativeNodeIndex(t)}else this.diagram.refreshCanvasLayers();var l={type:"SendToBack",category:"Internal",undoObject:o,redoObject:Xu(this.diagram.selectedItems)};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(l)}}this.diagram.protectPropertyChange(!1),v()&&this.getZIndexObjects()},e.prototype.resetTargetNode=function(e,t,n,r){return"SwimLane"===this.diagram.nameTable[e].shape.type&&void 0!=this.diagram.nameTable[t].parentId&&""!=this.diagram.nameTable[t].parentId&&this.diagram.nameTable[this.diagram.nameTable[t].parentId].isLane?(t=r[n+=1],this.resetTargetNode(e,t,n,r)):t},e.prototype.getZIndexObjects=function(){var e,t,n=[];for(e=0;e<this.diagram.nodes.length;e++)n.push(this.diagram.nodes[e]);for(t=0;t<this.diagram.connectors.length;t++)n.push(this.diagram.connectors[t]);this.updateBlazorZIndex(n)},e.prototype.updateBlazorZIndex=function(e){var t,n,r=[],i=[];if(e&&e.length>0)for(n=0;n<e.length;n++){var o=e[n];o instanceof iu?r.push(this.getBlazorObject(o)):o instanceof Al&&i.push(this.getBlazorObject(o))}if(t={nodes:r,connectors:i},window&&window.Blazor){var a={methodName:"UpdateBlazorProperties",diagramobj:t};window.sfBlazor.updateBlazorProperties(a,this.diagram)}},e.prototype.getBlazorObject=function(e){return{sfIndex:zu(this.diagram,e.id),zIndex:e.zIndex}},e.prototype.checkParentExist=function(e){for(var t=e;this.diagram.nameTable[t].parentId;)t=this.diagram.nameTable[t].parentId;return t},e.prototype.checkObjectBehind=function(e,t,n){for(var r=0;r<n;r++){var i=t[r];if(e!==this.diagram.nameTable[i].parentId)return!0}return!1},e.prototype.bringToFront=function(e){if(this.diagram.protectPropertyChange(!0),Rp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);for(var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),r=this.diagram.layers[n].zIndexTable,i=Xu(this.diagram.selectedItems),o=Number(Object.keys(r).sort((function(e,t){return Number(e)-Number(t)})).reverse()[0]),a=this.diagram.nameTable[t].zIndex,s=[],l=0;l<=o;l++)s.push(r[l]);for(l=a;l<o;l++)r[l]&&(r[l+1]?(r[l]=r[l+1],this.diagram.nameTable[r[l]].zIndex=l):(r[l+1]=r[l],this.diagram.nameTable[r[l+1]].zIndex=l,delete r[l]));if(r[o]=this.diagram.nameTable[t].id,this.diagram.nameTable[t].zIndex=o,"SVG"===this.diagram.mode){var c=this.diagram.diagramLayer,h=Au(t+"_groupElement",this.diagram.element.id),d=this.diagram.selectedItems.nodes;if(d.length>0&&("Native"===d[0].shape.type||"HTML"===d[0].shape.type)){h.parentNode.removeChild(h);for(var u=0;u<this.diagram.views.length;u++){var p=(h=Au(t+("HTML"===d[0].shape.type?"_html_element":"_content_groupElement"),this.diagram.views[u])).parentNode.lastChild;p.parentNode.insertBefore(h,p.nextSibling)}var f=Eu(this.diagram.element.id);this.diagram.diagramRenderer.renderElement(this.diagram.nameTable[t].wrapper,c,f)}else{var g=this.getObjectLayer(t);for(l=0;l<g.objects.length;l++)g.objects[l]!==t&&this.diagram.nameTable[g.objects[l]].parentId!==t&&void 0!==g.objects[l]&&s.indexOf(t)<s.indexOf(g.objects[l])&&(""===this.diagram.nameTable[t].parentId&&""===this.diagram.nameTable[g.objects[l]].parentId&&void 0===this.diagram.nameTable[g.objects[l]].parentId&&this.diagram.nameTable[t].parentId!==this.diagram.nameTable[g.objects[l]].id||this.checkGroupNode(t,g.objects[l],this.diagram.nameTable))&&(this.moveSvgNode(g.objects[l],t),this.updateNativeNodeIndex(t))}}else this.diagram.refreshCanvasLayers();var A={type:"BringToFront",category:"Internal",undoObject:i,redoObject:Xu(this.diagram.selectedItems)};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(A)}this.diagram.protectPropertyChange(!1),v()&&this.getZIndexObjects()},e.prototype.checkGroupNode=function(e,t,n){return n[t].parentId===n[e].parentId},e.prototype.sortByZIndex=function(e,t){var n=t||"zIndex";return e=e.sort((function(e,t){return e[n]-t[n]}))},e.prototype.orderCommands=function(e,t,n){var r=t.nodes;if(r=r.concat(t.connectors),e)"SendBackward"===n?this.sendBackward(r[0]):"SendForward"===n?this.sendForward(r[0]):"BringToFront"===n?this.bringToFront(r[0]):"SendToBack"===n&&this.sendToBack(r[0]);else{var i=r[0].zIndex,o=this.diagram.nameTable[r[0].id].zIndex,a=r[0],s=this.getObjectLayer(a.id),l=s.zIndex,c=s.zIndexTable;if("SendBackward"===n||"SendForward"===n)for(var h=0;h<r.length;h++){var d=r[h],u=this.diagram.layers.indexOf(this.getObjectLayer(d.id));this.diagram.nameTable[r[h].id].zIndex=d.zIndex,this.diagram.layers[u].zIndexTable[d.zIndex]=d.id}else if("BringToFront"===n)for(var p=o;p>i;p--)c[p]&&(c[p-1]?(c[p]=c[p-1],this.diagram.nameTable[c[p]].zIndex=p):(c[p-1]=c[p],this.diagram.nameTable[c[p-1]].zIndex=p,delete c[p]));else if("SendToBack"===n)for(p=o;p<i;p++)c[p]&&(c[p+1]?(c[p]=c[p+1],this.diagram.nameTable[c[p]].zIndex=p):(c[p+1]=c[p],this.diagram.nameTable[c[p+1]].zIndex=p,delete c[p]));if("BringToFront"===n||"SendToBack"===n)this.diagram.nameTable[r[0].id].zIndex=a.zIndex,this.diagram.layers[l].zIndexTable[a.zIndex]=a.id;if("SVG"===this.diagram.mode){if("SendBackward"===n)this.moveObject(r[1].id,r[0].id);else if("SendForward"===n)this.moveObject(r[0].id,r[1].id);else if("BringToFront"===n)this.moveObject(r[0].id,c[r[0].zIndex+1]);else if("SendToBack"===n){var f=this.getObjectLayer(r[0].id);for(h=0;h<=r[0].zIndex;h++)f.objects[h]!==r[0].id&&(this.moveSvgNode(f.objects[h],r[0].id),this.updateNativeNodeIndex(r[0].id))}}else this.diagram.refreshCanvasLayers()}},e.prototype.moveObject=function(e,t){t&&(this.moveSvgNode(e,t),this.updateNativeNodeIndex(e,t))},e.prototype.sendForward=function(e){if(this.diagram.protectPropertyChange(!0),Rp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),r=this.diagram.layers[n].zIndexTable,i=this.diagram.nameTable[t],o=[],a=this.diagram.spatialSearch.findObjects(i.wrapper.bounds);a.length>2&&(a=this.sortByZIndex(a));for(var s=0,l=a;s<l.length;s++){var c=l[s];if(i.id!==c.id)if(n===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[t].zIndex)<Number(c.zIndex)&&i.wrapper.bounds.intersects(c.wrapper.bounds)){o.push(c);break}}if(o.length>0){var h=o[0].zIndex,d=i.zIndex,u=r[h],p=Xu(this.diagram.selectedItems);this.diagram.nameTable[u]instanceof iu?p.nodes.push(Xu(this.diagram.nameTable[u])):p.connectors.push(Xu(this.diagram.nameTable[u])),this.diagram.layers[0].zIndexTable[h]=i.id,this.diagram.nameTable[r[h]].zIndex=h,this.diagram.layers[0].zIndexTable[d]=o[0].id,this.diagram.nameTable[r[d]].zIndex=d,"SVG"===this.diagram.mode?(this.moveSvgNode(r[Number(o[0].zIndex)],t),this.updateNativeNodeIndex(r[Number(o[0].zIndex)],t)):this.diagram.refreshCanvasLayers();var f=Xu(this.diagram.selectedItems);this.diagram.nameTable[u]instanceof iu?f.nodes.push(Xu(this.diagram.nameTable[u])):f.connectors.push(Xu(this.diagram.nameTable[u]));var g={type:"SendForward",category:"Internal",undoObject:p,redoObject:f};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(g)}if(v()){var A=[];A.push(i),A.push(o[o.length-1]),this.updateBlazorZIndex(A)}}this.diagram.protectPropertyChange(!1)},e.prototype.sendBackward=function(e){if(this.diagram.protectPropertyChange(!0),Rp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),r=this.diagram.layers[n].zIndexTable,i=this.diagram.nameTable[t],o=[],a=this.diagram.spatialSearch.findObjects(i.wrapper.bounds);a.length>2&&(a=this.sortByZIndex(a));for(var s=0,l=a;s<l.length;s++){var c=l[s];if(i.id!==c.id)n===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[t].zIndex)>Number(c.zIndex)&&i.wrapper.bounds.intersects(c.wrapper.bounds)&&o.push(c)}if(o.length>0){var h=o[o.length-1].zIndex,d=i.zIndex,u=r[h],p=Xu(this.diagram.selectedItems);if(this.diagram.nameTable[u]instanceof iu?p.nodes.push(Xu(this.diagram.nameTable[u])):p.connectors.push(Xu(this.diagram.nameTable[u])),r[h]=i.id,this.diagram.nameTable[r[h]].zIndex=h,r[d]=o[o.length-1].id,this.diagram.nameTable[r[d]].zIndex=d,"SVG"===this.diagram.mode){if(!(i.children&&i.children.length>0)){var f=r[o[o.length-1].zIndex];if(o[o.length-1].children&&0!==o[o.length-1].children.length)f=o[o.length-1].children[0];var g=this.diagram.getObject(f);if(g.children&&0!==g.children.length&&(f=g.children[0]),this.moveSvgNode(t,f),this.updateNativeNodeIndex(t,f),v()){var A=[];A.push(i),A.push(o[o.length-1]),this.updateBlazorZIndex(A)}}}else this.diagram.refreshCanvasLayers();var m=Xu(this.diagram.selectedItems);this.diagram.nameTable[u]instanceof iu?m.nodes.push(Xu(this.diagram.nameTable[u])):m.connectors.push(Xu(this.diagram.nameTable[u]));var y={type:"SendBackward",category:"Internal",undoObject:p,redoObject:m};this.diagram.diagramActions&Qr.UndoRedo||this.addHistoryEntry(y)}}this.diagram.protectPropertyChange(!1)},e.prototype.updateNativeNodeIndex=function(e,t){for(var n=this.diagram.selectedItems.nodes[0]||this.diagram.getObject(t),r=0;r<this.diagram.views.length;r++)if(n&&("HTML"===n.shape.type||"Native"===n.shape.type)){var i="HTML"===n.shape.type?"_html_element":"_content_groupElement",o=Au(e+i,this.diagram.views[r]),a=t?Au(t+i,this.diagram.views[r]):o.parentElement.firstChild;o.parentNode.id===a.parentNode.id&&a.parentNode.insertBefore(o,a)}},e.prototype.initSelectorWrapper=function(){var e=this.diagram.selectedItems;e.init(this.diagram),1===e.nodes.length&&0===e.connectors.length&&(e.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.pivot=e.nodes[0].pivot)},e.prototype.doRubberBandSelection=function(e){this.clearSelectionRectangle();var t=[],n=[];t=this.diagram.getNodesConnectors(t),(n="CompleteIntersect"===this.diagram.selectedItems.rubberBandSelectionMode?function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];e.containsRect(i.wrapper.bounds)&&n.push(i)}return n}(e,t):this.diagram.spatialSearch.findObjects(e)).length&&this.selectObjects(n,!0)},e.prototype.clearSelectionRectangle=function(){var e=yu(this.diagram.element.id).getElementById(this.diagram.element.id+"_diagramAdorner_selected_region");e&&pt(e)},e.prototype.dragConnectorEnds=function(e,t,n,r,i,o){var a,s,l,c=!1;return t instanceof hu?a=t.connectors[0]:t instanceof Al&&this.diagram.currentDrawingObject&&(this.clearSelection(),a=this.diagram.currentDrawingObject),"BezierSourceThumb"!==e&&"BezierTargetThumb"!==e||(c=!0),"ConnectorSourceEnd"===e||"BezierSourceThumb"===e?(s=n.x-(c?r.bezierPoint1.x:a.sourcePoint.x),l=n.y-(c?r.bezierPoint1.y:a.sourcePoint.y),this.dragSourceEnd(a,s,l,null,n,e,void 0,i,o,void 0,r)):(s=n.x-(c?r.bezierPoint2.x:a.targetPoint.x),l=n.y-(c?r.bezierPoint2.y:a.targetPoint.y),this.dragTargetEnd(a,s,l,null,n,e,void 0,r))},e.prototype.getSelectedObject=function(){var e=this.diagram.selectedItems;return e.nodes.concat(e.connectors)},e.prototype.updateBlazorProperties=function(e){if(e){if(window&&window.Blazor&&"{}"!==JSON.stringify(this.deepDiffer.diagramObject)){t={methodName:"UpdateBlazorProperties",diagramobj:this.deepDiffer.diagramObject};this.diagram.isLoading||window.sfBlazor.updateBlazorProperties(t,this.diagram)}}else if(window&&window.Blazor){var t={methodName:"UpdateBlazorProperties",diagramobj:this.diagramObject};window.sfBlazor.updateBlazorProperties(t,this.diagram)}this.deepDiffer.newNodeObject=[],this.deepDiffer.newConnectorObject=[],this.diagramObject=[],this.diagram.oldNodeObjects=[],this.diagram.oldConnectorObjects=[]},e.prototype.enableCloneObject=function(e){this.diagram.lineRoutingModule&&this.diagram.constraints&jr.LineRouting||(this.diagram.canEnableBlazorObject=e)},e.prototype.ismouseEvents=function(e){this.diagram.blazorActions=e?this.diagram.addConstraints(this.diagram.blazorActions,Pr.interaction):this.diagram.removeConstraints(this.diagram.blazorActions,Pr.interaction)},e.prototype.updateLayerObject=function(e,t){if(v()){var n;n=this.deepDiffer.getLayerObject(e,t,this.diagram),this.diagramObject=n,this.updateBlazorProperties()}},e.prototype.getDiagramOldValues=function(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=Xu(this.diagram[t[r]]);var i=Xu(n),o=this.deepDiffer.map(i,e),a=this.deepDiffer.frameObject({},o),s=this.deepDiffer.removeEmptyValues(a);s=this.deepDiffer.changeSegments(s,i),this.diagramObject=s,this.diagram.blazorActions&Pr.ClearObject||this.updateBlazorProperties()},e.prototype.getBlazorOldValues=function(e,t){if(v()){for(var n=this.diagram.oldNodeObjects,r=0;r<n.length;r++)n[r].id&&(this.diagram.oldNodeObjects[r]instanceof iu&&(this.diagram.oldNodeObjects[r]=ud(this.diagram.oldNodeObjects[r])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[n[r].id],e,t,this.diagram));var i=this.diagram.oldConnectorObjects;for(r=0;r<i.length;r++)i[r].id&&(this.diagram.oldConnectorObjects[r]instanceof Al&&(this.diagram.oldConnectorObjects[r]=ud(this.diagram.oldConnectorObjects[r])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[i[r].id],e,t,this.diagram));(n.length>0||i.length>0)&&this.updateBlazorProperties(!0)}},e.prototype.getObjectChanges=function(e,t,n){for(var r=0;r<e.length;r++){var i=this.deepDiffer.map(t[r],e[r]),o=this.deepDiffer.frameObject({},i),a=this.deepDiffer.removeEmptyValues(o);a.children&&(a.children=Xu(t[r]).children),(a=this.deepDiffer.changeSegments(a,t[r])).sfIndex=zu(this.diagram,t[r].id),n.push(a)}},e.prototype.clearObjectSelection=function(e){var t=this.diagram.selectedItems,n=[];-1===(n=n.concat(t.nodes,t.connectors)).indexOf(e)&&(this.clearSelection(n.length>0),this.selectObjects([e],!0))},e.prototype.clearSelection=function(e,t){return mf(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c;return yf(this,(function(h){switch(h.label){case 0:return n=this.diagram.allowServerDataBinding,this.diagram.enableServerDataBinding(!1),Rp(this.diagram)?(r=this.diagram.selectedItems,i=this.getSelectedObject(),this.diagram.currentSymbol&&(this.diagram.previousSelectedObject=i),o={oldValue:i,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(i,!0),e&&(v()?this.oldSelectedObjects=Xu(r):this.diagram.triggerEvent(Kr.selectionChange,o)),o.cancel?[3,4]:(r.offsetX=0,r.offsetY=0,r.width=0,r.height=0,r.rotateAngle=0,r.nodes=[],r.connectors=[],r.wrapper=null,r.annotation=void 0,this.diagram.clearSelectorLayer(),e?(o={oldValue:ud(i),newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},v()&&(o=this.updateSelectionChangeEventArgs(o,[],i),this.updateBlazorSelector()),v()?[3,1]:(this.diagram.triggerEvent(Kr.selectionChange,o),[3,4])):[3,4])):[3,5];case 1:return a=void 0,window&&window[this.blazor]&&this.diagram.selectionChange?(s={EventName:"selectionChange",args:JSON.stringify(o)},[4,window[this.blazorInterop].updateBlazorDiagramEvents(s,this.diagram)]):[3,3];case 2:a=h.sent(),h.label=3;case 3:if(a&&a.cancel&&!t&&(l=[],a.oldValue.nodes.length>0&&(l=a.oldValue.nodes),a.oldValue.connectors.length>0&&(l=l.concat(a.oldValue.connectors)),l))for(c=0;c<l.length;c++)this.select(this.diagram.nameTable[l[c].id],0!==c&&l.length>1);h.label=4;case 4:this.updateBlazorSelector(),this.diagram.enableServerDataBinding(n),h.label=5;case 5:return[2]}}))}))},e.prototype.clearSelectedItems=function(){var e=this.diagram.selectedItems.nodes?this.diagram.selectedItems.nodes.length:0,t=this.diagram.selectedItems.connectors?this.diagram.selectedItems.connectors.length:0;this.clearSelection(e+t>0)},e.prototype.removeStackHighlighter=function(){var e=yu(this.diagram.element.id),t=e.getElementById(e.id+"_stack_highlighter");t&&t.parentNode.removeChild(t)},e.prototype.renderStackHighlighter=function(e,t){var n,r,i,o=this.diagram.selectedItems.nodes[0];if(!t){var a=this.diagram.findObjectsUnderMouse(e.position);if((t=this.diagram.findObjectUnderMouse(a,"Drag",!0))&&!(t.isLane||t.isPhase||t.isHeader))for(var s=0;s<a.length;s++){var l=this.diagram.nameTable[a[s].id];(!l.isLane||l.isPhase||l.isHeader)&&(t=l,this.diagram.parentObject=t)}}o&&t&&t.isLane&&o.shape&&!o.shape.isPhase&&(r=this.diagram.nameTable[t.parentId],this.diagram.currentSymbol&&"SwimLane"===r.shape.type&&(n=!0),(o&&!o.parentId&&"SwimLane"!==o.shape.type||o&&o.parentId&&this.diagram.nameTable[o.parentId]&&this.diagram.nameTable[o.parentId].isLane&&o.parentId!==t.parentId&&o.parentId!==t.id)&&(i=this.diagram.selectedItems,(c=$c(this.diagram,i,t.id,!0))&&(i.wrapper.children[0]=c),this.diagram.renderSelector(!1,!0),i.wrapper.children[0]=i.nodes[0].wrapper));o&&t&&t.parentId&&o.shape&&o.shape.isPhase&&("SwimLane"===this.diagram.nameTable[t.parentId].shape.type&&(this.diagram.selectedItems.wrapper.children[0]=this.diagram.nameTable[t.parentId].wrapper,this.diagram.renderSelector(!1,!0)));if(n&&this.diagram.currentSymbol.shape.isLane||o&&t&&o.parentId&&t.parentId&&!o.isPhase&&o.parentId===t.parentId&&o.id!==t.id&&r&&r.container&&("Stack"===r.container.type||"Grid"===r.container.type)){var c=void 0,h="Vertical"===r.container.orientation,d="Stack"===r.container?h:!h;"Grid"===r.container.type&&t.isLane&&(!this.diagram.currentSymbol&&"Horizontal"===r.shape.orientation&&t.rowIndex!==o.rowIndex||"Vertical"===r.shape.orientation&&t.columnIndex!==o.columnIndex||this.diagram.currentSymbol&&this.diagram.currentSymbol.shape.orientation===r.container.orientation)&&(i=this.diagram.selectedItems,(o.isLane&&sh(o,this.diagram)||!o.isLane)&&(c=$c(this.diagram,i,t.id,n)));var u="Stack"===r.container.type?t.wrapper:c;u&&Pc(u,d,e.position,this.diagram,!1,!0)}},e.prototype.insertBlazorConnector=function(e){if(e instanceof hu)for(var t=0;t<e.connectors.length;t++)this.diagram.insertBlazorConnector(e.connectors[t]);else this.diagram.insertBlazorConnector(e)},e.prototype.drag=function(e,t,n){var r;if(El(e)&&this.checkBoundaryConstraints(t,n,e.wrapper.bounds)&&Gl(this.diagram))if(e instanceof iu){var i={offsetX:e.offsetX,offsetY:e.offsetY};if(e.offsetX+=t,e.offsetY+=n,e.children&&!e.container){bc(this.diagram,e,!0)||(this.diagram.diagramActions=this.diagram.diagramActions|Qr.isGroupDragging);for(var o=this.getAllDescendants(e,[]),a=0;a<o.length;a++)r=this.diagram.nameTable[o[a].id],this.drag(r,t,n);this.updateInnerParentProperties(e),this.diagram.diagramActions=this.diagram.diagramActions&~Qr.isGroupDragging}if(bc(this.diagram,e,!0)?wc(this.diagram,e):(e&&e.shape&&"UmlClassifier"===e.shape.type&&(e.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(e,i,{offsetX:e.offsetX,offsetY:e.offsetY},void 0,void 0,!1),e.wrapper.measureChildren=!1),"SwimLane"===e.shape.type&&!this.diagram.currentSymbol){var s=e.wrapper.children[0];Hc(Nc(this.diagram,s),this.diagram)}}else{var l=e,c=(i={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint},"Bezier"===l.type),h=!1;l.sourceWrapper?h=!0:this.dragSourceEnd(l,t,n,!0,null,"",c),l.targetWrapper?h=!0:this.dragTargetEnd(l,t,n,!0,null,"",c);var d=!1;if(e instanceof Al&&(d=!0),!h||d){this.dragControlPoint(l,t,n,!0);var u={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint};this.diagram.connectorPropertyChange(l,i,u)}}},e.prototype.connectorSegmentChange=function(e,t,n){var r,i,o=!0;if(!1===t.equals(t,e.wrapper.bounds)&&e.outEdges.length>0)for(var a=0;a<e.outEdges.length;a++){var s=this.diagram.nameTable[e.outEdges[a]];if(o=""!==s.targetID?!this.isSelected(this.diagram.nameTable[s.targetID]):!this.isSelected(this.diagram.nameTable[s.id]),"Orthogonal"===s.type&&s.segments&&s.segments.length>1)if(n){var l=s.segments[0],c=s.segments[1],h=po(no(e.wrapper,e.wrapper.corners,e.wrapper.bounds),l.direction),d=wo({corners:void 0,point:h=go(s,s.sourceWrapper,h,{x:s.sourceWrapper.offsetX,y:s.sourceWrapper.offsetY},!1),margin:void 0,direction:l.direction},{corners:void 0,point:c.points[1],margin:void 0,direction:void 0});l.length=or.distancePoints(d[0],d[1]),c.direction&&c.length&&(c.length=or.distancePoints(d[1],d[2]))}else if(o){switch(s.segments[0].direction){case"Bottom":r=e.wrapper.bounds.bottomCenter.x-t.bottomCenter.x,i=e.wrapper.bounds.bottomCenter.y-t.bottomCenter.y;break;case"Top":r=e.wrapper.bounds.topCenter.x-t.topCenter.x,i=e.wrapper.bounds.topCenter.y-t.topCenter.y;break;case"Left":r=e.wrapper.bounds.middleLeft.x-t.middleLeft.x,i=e.wrapper.bounds.middleLeft.y-t.middleLeft.y;break;case"Right":r=e.wrapper.bounds.middleRight.x-t.middleRight.x,i=e.wrapper.bounds.middleRight.y-t.middleRight.y}this.dragSourceEnd(s,r,i,!0,null,"ConnectorSourceEnd",void 0,void 0,void 0,!(e.parentId&&this.diagram.diagramActions&Qr.isGroupDragging))}}},e.prototype.updateEndPoint=function(e,t){e.sourcePoint,e.targetPoint,e.sourceID&&e.sourceID,e.targetID&&e.targetID,e.sourcePortID&&e.sourcePortID,e.targetPortID&&e.targetPortID,e.segments&&e.segments;var n={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};e.sourceID&&(n.sourceID=e.sourceID),e.targetID&&(n.targetID=e.targetID),e.sourcePortID&&(n.sourcePortID=e.sourcePortID),e.targetPortID&&(n.targetPortID=e.targetPortID),e.segments&&(n.segments=e.segments),this.diagram.connectorPropertyChange(e,t||{},n),this.diagram.updateSelector()},e.prototype.dragSourceEnd=function(e,t,n,r,i,o,a,s,l,c,h){var d=this.diagram.nameTable[e.id],u={},p=this.checkBoundaryConstraints(t,n,d.wrapper.bounds);if(Tl(d)&&p&&"BezierSourceThumb"!==o&&Gl(this.diagram)&&(u={sourcePoint:d.sourcePoint},d.sourcePoint.x+=t,d.sourcePoint.y+=n,"ConnectorSourceEnd"===o&&"Orthogonal"===d.type&&this.changeSegmentLength(d,s,l,c),"Bpmn"===d.shape.type&&"Default"===d.shape.sequence&&this.updatePathElementOffset(d)),"Bezier"===d.type)if(u={sourcePoint:d.sourcePoint},h)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,n,h,i,!a);else for(var f=0;f<e.segments.length;f++)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,n,e.segments[f],i,!a);return r||this.updateEndPoint(d,u),this.diagram.realActions&Vr.AnimationClick||this.diagram.refreshCanvasLayers(),p},e.prototype.updatePathElementOffset=function(e){e.wrapper.children.splice(3,1);var t=new wi,n=e.intermediatePoints;t=sd(n,e),e.wrapper.children.splice(3,0,t)},e.prototype.changeSegmentLength=function(e,t,n,r){if(e.segments&&null!==e.segments[0].direction&&(!t&&""===e.sourceID||r)){var i=e.segments[0],o=e.segments[1],a=this.diagram.nameTable[e.sourceID],s=void 0;if(i.points[0]=e.sourcePoint,"Top"===i.direction||"Bottom"===i.direction?(i.points[i.points.length-1].x=e.sourcePoint.x,o.points[0].y=i.points[i.points.length-1].y):(i.points[i.points.length-1].y=e.sourcePoint.y,o.points[0].x=i.points[i.points.length-1].x),i.direction&&(i.length||0===i.length)&&(i.length=or.distancePoints(i.points[0],i.points[i.points.length-1])),o.direction&&(o.length||0===o.length)&&(o.length=or.distancePoints(i.points[i.points.length-1],o.points[o.points.length-1]),o.direction=or.direction(i.points[i.points.length-1],o.points[o.points.length-1])),""!==e.sourcePortID&&i.length<10)if(e.segments.length>2){var l=e.segments[2],c=or.direction(l.points[0],l.points[1]);i.direction===Oo(c)?("Right"===i.direction?l.points[0].x=i.points[i.points.length-1].x=a.wrapper.corners.middleRight.x+20:"Left"===i.direction?l.points[0].x=i.points[i.points.length-1].x=a.wrapper.corners.middleLeft.x-20:"Top"===i.direction?l.points[0].y=i.points[i.points.length-1].y=a.wrapper.corners.topCenter.y-20:l.points[0].y=i.points[i.points.length-1].y=a.wrapper.corners.bottomCenter.y+20,l.direction&&l.length&&(l.length=or.distancePoints(l.points[0],l.points[l.points.length-1])),i.length=or.distancePoints(i.points[0],i.points[i.points.length-1])):i.direction===c&&l.direction&&l.length?("Top"===i.direction||"Bottom"===i.direction?(l.points[0]=i.points[0],l.points[l.points.length-1].x=l.points[0].x):(l.points[0]=i.points[0],l.points[l.points.length-1].y=l.points[0].y),l.length=or.distancePoints(l.points[0],l.points[l.points.length-1]),e.segments.splice(0,2)):i.length=20}else i.length=20;else if(i.length<1)if(""!==e.sourceID){if("Right"===o.direction?(s=a.wrapper.corners.middleRight,o.points[o.points.length-1].y=s.y):"Left"===o.direction?(s=a.wrapper.corners.middleLeft,o.points[o.points.length-1].y=s.y):"Top"===o.direction?(s=a.wrapper.corners.topCenter,o.points[o.points.length-1].x=s.x):(s=a.wrapper.corners.bottomCenter,o.points[o.points.length-1].x=s.x),o.length=or.distancePoints(s,o.points[o.points.length-1]),e.segments.length>2)(l=e.segments[2]).direction&&l.length&&(l.length=or.distancePoints(o.points[o.points.length-1],l.points[l.points.length-1]));e.segments.splice(0,1)}else e.segments.splice(0,1)}else t&&!n&&e.sourceID!==t.id&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof iu&&this.changeSourceEndToNode(e,t),t&&n&&e.sourcePortID!==n&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof iu&&this.changeSourceEndToPort(e,t,n)},e.prototype.changeSourceEndToPort=function(e,t,n){var r=this.diagram.getWrapper(t.wrapper,n),i={x:r.offsetX,y:r.offsetY},o=Po(i,Wu(t.wrapper),t.wrapper.bounds),a=e.segments[0],s=e.segments[1];if(a.direction!==o){var l=[],c={};if(a.direction===Oo(o)){c={};var h=void 0;"Top"===o||"Bottom"===o?(h="Top"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].y-i.y)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(i.y-a.points[0].y)},c=a.points[0].x>i.x?{type:"Orthogonal",isTerminal:!0,direction:"Right",length:a.points[0].x-i.x}:{type:"Orthogonal",isTerminal:!0,direction:"Left",length:i.x-a.points[0].x}):(h="Right"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].x-i.x)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(i.x-a.points[0].x)},c=a.points[0].y>i.y?{type:"Orthogonal",direction:"Top",isTerminal:!0,length:a.points[0].y-i.y}:{type:"Orthogonal",direction:"Bottom",isTerminal:!0,length:i.y-a.points[0].y}),l.push(new ol(e,"segments",h,!0)),l.push(new ol(e,"segments",c,!0))}else c={type:"Orthogonal",direction:o,length:20,isTerminal:!0},l.push(new ol(e,"segments",c,!0));a.direction!==Oo(o)&&("Top"===o||"Bottom"===o?(a.points[0].x=i.x,a.points[0].y=a.points[a.points.length-1].y="Top"===o?i.y-20:i.y+20):(a.points[0].y=i.y,a.points[0].x=a.points[a.points.length-1].x="Right"===o?i.x+20:i.x-20),a.length=or.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=or.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])),e.segments=l.concat(e.segments)}else a.points[0]=i,"Top"===o||"Bottom"===o?a.points[a.points.length-1].x=i.x:a.points[a.points.length-1].y=i.y,a.length=or.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=or.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])},e.prototype.removeTerminalSegment=function(e,t){for(var n=0;n<e.segments.length-2;n++){var r=e.segments[0];r.isTerminal&&(t?r.isTerminal=!1:(e.segments.splice(n,1),n--))}},e.prototype.changeSourceEndToNode=function(e,t){this.removeTerminalSegment(e);var n,r,i=t.wrapper.children[0].corners,o=e.segments[0],a=e.segments[1],s=[];if("Right"===o.direction||"Left"===o.direction)if(n="Left"===o.direction?i.middleLeft:i.middleRight,o.length>i.width||"Left"===o.direction&&n.x>=o.points[0].x||"Right"===o.direction&&n.x<=o.points[0].x)o.points[0].y=o.points[o.points.length-1].y=n.y,o.points[0].x=n.x,o.length=or.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=or.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{var l=void 0;r="Bottom"===(l=a.direction?a.direction:or.direction(a.points[0],a.points[a.points.length-1]))?i.bottomCenter:i.topCenter,a.length&&a.direction&&(a.length="Top"===l?o.points[o.points.length-1].y-(r.y+20):r.y+20-o.points[o.points.length-1].y),o.length=o.points[o.points.length-1].x-r.x,o.direction=o.length>0?"Right":"Left";var c={type:"Orthogonal",direction:l,length:20};s.push(new ol(e,"segments",c,!0)),e.segments=s.concat(e.segments)}else if(n="Bottom"===o.direction?i.bottomCenter:i.topCenter,o.length>i.height||"Top"===o.direction&&n.y>=o.points[0].y||"Bottom"===o.direction&&n.y<=o.points[0].y)o.points[0].x=o.points[o.points.length-1].x=n.x,o.points[0].y=n.y,o.length=or.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=or.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{r="Left"===a.direction?i.middleLeft:i.middleRight;l=void 0;l=a.direction?a.direction:or.direction(a.points[0],a.points[a.points.length-1]),a.length&&a.direction&&(a.length="Left"===l?o.points[o.points.length-1].x-(r.x+20):r.x+20-o.points[o.points.length-1].x),o.length=o.points[o.points.length-1].y-r.y,o.direction=o.length>0?"Bottom":"Top";c={type:"Orthogonal",direction:l,length:20};s.push(new ol(e,"segments",c,!0)),e.segments=s.concat(e.segments)}},e.prototype.translateBezierPoints=function(e,t,n,r,i,o,a){var s=e.segments.indexOf(i),l=e.segments[s];l&&("BezierSourceThumb"===t&&(l.vector1.angle||l.vector1.distance)?l.vector1={distance:e.distance(e.sourcePoint,o),angle:or.findAngle(e.sourcePoint,o)}:"BezierTargetThumb"===t&&(l.vector2.angle||l.vector2.distance)?l.vector2={distance:e.distance(e.targetPoint,o),angle:or.findAngle(e.targetPoint,o)}:("ConnectorSourceEnd"===t&&!e.sourceID||"ConnectorTargetEnd"===t&&!e.targetID)&&a&&ll(l.vector1)&&ll(l.vector2)?(or.isEmptyPoint(l.point1)&&(l.bezierPoint1=cl(e.sourcePoint,e.targetPoint)),or.isEmptyPoint(l.point2)&&(l.bezierPoint2=cl(e.targetPoint,e.sourcePoint))):"BezierSourceThumb"===t||"ConnectorSourceEnd"===t&&!a&&ll(l.vector1)?(l.bezierPoint1.x+=n,l.bezierPoint1.y+=r,or.isEmptyPoint(l.point1)&&!a||(l.point1={x:l.bezierPoint1.x,y:l.bezierPoint1.y})):("BezierTargetThumb"===t||"ConnectorTargetEnd"===t&&!a&&ll(l.vector2))&&(l.bezierPoint2.x+=n,l.bezierPoint2.y+=r,or.isEmptyPoint(l.point2)&&!a||(l.point2={x:l.bezierPoint2.x,y:l.bezierPoint2.y})))},e.prototype.dragTargetEnd=function(e,t,n,r,i,o,a,s){var l,c=this.diagram.nameTable[e.id],h=this.checkBoundaryConstraints(t,n,c.wrapper.bounds);if(Il(c)&&"BezierTargetThumb"!==o&&h&&Gl(this.diagram)){if(l={targetPoint:c.targetPoint},c.targetPoint.x+=t,c.targetPoint.y+=n,"ConnectorTargetEnd"===o&&"Orthogonal"===c.type&&c.segments&&c.segments.length>0){var d=c.segments[c.segments.length-2];d&&2===c.segments[c.segments.length-1].points.length&&("Left"===d.direction||"Right"===d.direction?d.points[d.points.length-1].x=c.targetPoint.x:d.points[d.points.length-1].y=c.targetPoint.y,d.length=or.distancePoints(d.points[0],d.points[d.points.length-1]),d.direction=or.direction(d.points[0],d.points[d.points.length-1]))}"Bpmn"===c.shape.type&&"Default"===c.shape.sequence&&this.updatePathElementOffset(c)}if("Bezier"===c.type)if(l={targetPoint:c.targetPoint},s)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,n,s,i,!a);else for(var u=0;u<e.segments.length;u++)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,n,e.segments[u],i,!a);return r||this.updateEndPoint(c,l),this.diagram.realActions&Vr.AnimationClick||this.diagram.refreshCanvasLayers(),h},e.prototype.dragControlPoint=function(e,t,n,r,i){var o=this.diagram.nameTable[e.id];if(("Straight"===o.type||"Bezier"===o.type)&&o.segments.length>0){if(void 0!==i&&o.segments[i])o.segments[i].point.x+=t,o.segments[i].point.y+=n;else for(var a=0;a<o.segments.length-1;a++)o.segments[a].point.x+=t,o.segments[a].point.y+=n;r||this.updateEndPoint(o)}return!0},e.prototype.rotatePropertyChnage=function(e){var t=this.diagram.selectedItems,n=[];n=(n=n.concat(t.nodes)).concat(t.connectors);var r={x:t.offsetX,y:t.offsetY};this.rotateObjects(t,n,e-t.rotateAngle,r),t.wrapper.rotateAngle=t.rotateAngle=e,this.diagram.updateSelector()},e.prototype.rotateObjects=function(e,t,n,r,i){r=r||{};var o=yr();br(o,n,r.x,r.y);for(var a=0,s=t;a<s.length;a++){var l=s[a];if(l instanceof iu){if(kl(l)&&Gl(this.diagram)){if(!1!==i||e!==l){({rotateAngle:l.rotateAngle}),l.rotateAngle+=n,l.rotateAngle=(l.rotateAngle+360)%360;var c=vr(o,{x:l.offsetX,y:l.offsetY});l.offsetX=c.x,l.offsetY=c.y,this.diagram.nodePropertyChange(l,{},{offsetX:l.offsetX,offsetY:l.offsetY,rotateAngle:l.rotateAngle})}if(l.processId){var h=this.diagram.nameTable[l.processId],d=this.diagram.bpmnModule.getChildrenBound(h,l.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(d,l,this.diagram)}l.children&&l.children.length&&!l.container&&this.getChildren(l,t)}}else this.rotatePoints(l,n,r||{x:l.wrapper.offsetX,y:l.wrapper.offsetY});this.diagram.updateDiagramObject(l)}this.diagram.refreshCanvasLayers(),this.diagram.updateSelector()},e.prototype.snapConnectorEnd=function(e){return this.diagram.snapSettings.constraints&Or.SnapToLines&&this.snappingModule&&this.diagram.snappingModule.snapConnectorEnd(e),e},e.prototype.snapAngle=function(e){return this.diagram.snapSettings.constraints&Or.SnapToLines&&this.snappingModule?this.snappingModule.snapAngle(this.diagram,e):0},e.prototype.rotatePoints=function(e,t,n){if(!e.sourceWrapper||!e.targetWrapper){var r=yr();br(r,t,n.x,n.y),e.sourcePoint=vr(r,e.sourcePoint),e.targetPoint=vr(r,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var i={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,{},i)}},e.prototype.updateInnerParentProperties=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);for(var n=this.getAllDescendants(e,[],!1,!0),r=0;r<n.length;r++){var i=this.diagram.nameTable[n[r].id];i.offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY,i.width=i.wrapper.width,i.height=i.wrapper.height}this.diagram.protectPropertyChange(t)},e.prototype.scale=function(e,t,n,r,i,o){var a=this.diagram.nameTable[e.id],s=a,l=a.wrapper;i||(i=e);var c=i.wrapper,h=function(e,t,n,r,i,o,a,s){var l={x:0,y:0},c=yr();switch(br(c,i,o,a),s.x){case 0:switch(s.y){case 0:l=vr(c,{x:e,y:t});break;case.5:l=vr(c,{x:e,y:t+r/2});break;case 1:l=vr(c,{x:e,y:t+r})}break;case.5:switch(s.y){case 0:l=vr(c,{x:e+n/2,y:t});break;case.5:l=vr(c,{x:e+n/2,y:t+r/2});break;case 1:l=vr(c,{x:e+n/2,y:t+r})}break;case 1:switch(s.y){case 0:l=vr(c,{x:e+n,y:t});break;case.5:l=vr(c,{x:e+n,y:t+r/2});break;case 1:l=vr(c,{x:e+n,y:t+r})}}return{x:l.x,y:l.y}}(c.offsetX-c.actualSize.width*c.pivot.x,c.offsetY-c.actualSize.height*c.pivot.y,c.actualSize.width,c.actualSize.height,c.rotateAngle,c.offsetX,c.offsetY,r);if(void 0!==l.actualSize.width&&void 0!==l.actualSize.height&&Gl(this.diagram)){if(s.children&&!s.container){for(var d=0,u=this.getAllDescendants(s,[]);d<u.length;d++){var p=u[d];this.scaleObject(t,n,h,p,l,i)}e.wrapper.measure(new nr),e.wrapper.arrange(e.wrapper.desiredSize),this.diagram.updateGroupOffset(a),this.updateInnerParentProperties(s)}else this.scaleObject(t,n,h,a,l,i);var f=Vu(e.wrapper);if(!this.checkBoundaryConstraints(void 0,void 0,f)&&o)return this.scale(e,1/t,1/n,r,void 0,!0),!1;this.diagram.updateDiagramObject(e)}return!0},e.prototype.getAllDescendants=function(e,t,n,r){for(var i=e,o=[],a=0;a<i.children.length;a++)(e=this.diagram.nameTable[i.children[a]])&&(e.children?(n&&t.push(e),r&&o.push(e),t=this.getAllDescendants(e,t)):t.push(e));return r?o:t},e.prototype.getChildren=function(e,t){var n=e;if(e.children)for(var r=0;r<n.children.length;r++)e=this.diagram.nameTable[n.children[r]],t.push(e);return t},e.prototype.cloneChild=function(e){return this.diagram.nameTable[e]},e.prototype.scaleObject=function(e,t,n,r,i,o){t=t<0?1:t;var a={};if(1!==(e=e<0?1:e)||1!==t){var s=void 0,l=void 0;if(r instanceof iu){var c=r,h=void 0,d=void 0;a={width:r.wrapper.actualSize.width,height:r.wrapper.actualSize.height,offsetX:r.wrapper.offsetX,offsetY:r.wrapper.offsetY,margin:{top:c.margin.top,left:c.margin.left}},"Bpmn"===c.shape.type&&c.shape.activity.subProcess.processes&&c.shape.activity.subProcess.processes.length>0&&(d=this.diagram.bpmnModule.getChildrenBound(c,c.id,this.diagram),h=c.wrapper.bounds.containsRect(d)),s=c.wrapper.actualSize.width*e,l=c.wrapper.actualSize.height*t,void 0!==c.maxWidth&&0!==c.maxWidth&&(s=Math.min(c.maxWidth,s)),void 0!==c.minWidth&&0!==c.minWidth&&(s=Math.max(c.minWidth,s)),void 0!==c.maxHeight&&0!==c.maxHeight&&(l=Math.min(c.maxHeight,l)),void 0!==c.minHeight&&0!==c.minHeight&&(l=Math.max(c.minHeight,l)),h&&(s=Math.max(s,d.right-c.wrapper.bounds.x),l=Math.max(l,d.bottom-c.wrapper.bounds.y)),e=s/c.actualSize.width,t=l/c.actualSize.height}var u=yr();o||(o=r);var p=o.wrapper;if(br(u,-p.rotateAngle,n.x,n.y),wr(u,e,t,n.x,n.y),br(u,p.rotateAngle,n.x,n.y),r instanceof iu){var f=vr(u,{x:(c=r).wrapper.offsetX,y:c.wrapper.offsetY}),g=c.wrapper.offsetX-c.wrapper.actualSize.width*c.pivot.x,A=c.wrapper.offsetY-c.wrapper.actualSize.height*c.pivot.y;if(s>0)if(c.processId){var m=this.diagram.nameTable[c.processId];(!m.maxWidth||c.margin.left+s<m.maxWidth)&&(c.width=s,c.offsetX=f.x)}else c.width=s,c.offsetX=f.x;if(l>0)if(c.processId){var y=this.diagram.nameTable[c.processId];(!y.maxHeight||c.margin.top+l<y.maxHeight)&&(c.height=l,c.offsetY=f.y)}else c.height=l,c.offsetY=f.y;var v=c.wrapper.offsetX-c.wrapper.actualSize.width*c.pivot.x,b=c.wrapper.offsetY-c.wrapper.actualSize.height*c.pivot.y;this.diagram.nameTable[c.processId]&&(c.margin.top+(b-A)<=0||c.margin.left+(v-g)<=0)?this.diagram.nodePropertyChange(r,{},{margin:{top:c.margin.top,left:c.margin.left}}):bc(this.diagram,r,!0)?wc(this.diagram,r):this.diagram.nodePropertyChange(r,a,{width:c.width,height:c.height,offsetX:c.offsetX,offsetY:c.offsetY,margin:{top:c.margin.top+(b-A),left:c.margin.left+(v-g)}})}else{var w=r,x={sourcePoint:w.sourcePoint,targetPoint:w.targetPoint};w.sourceWrapper&&w.targetWrapper||this.scaleConnector(w,u,x)}var C=this.diagram.nameTable[r.processId];if(C){C.wrapper.bounds,r.wrapper.bounds,d=this.diagram.bpmnModule.getChildrenBound(C,r.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(d,r,this.diagram)}}},e.prototype.scaleConnector=function(e,t,n){e.sourcePoint=vr(t,e.sourcePoint),e.targetPoint=vr(t,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var r={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,n,r)},e.prototype.portDrag=function(e,t,n,r){var i,o,a=this.findTarget(t,e),s=Vu(e.wrapper);a&&Jl(a,this.diagram)&&(i=this.getPortChanges(e,a),a.offset.x+=n/s.width,a.offset.y+=r/s.height,o=this.getPortChanges(e,a),this.diagram.nodePropertyChange(e,i,o),this.diagram.updateDiagramObject(e))},e.prototype.labelDrag=function(e,t,n,r){var i=this.findTarget(t,e),o=Wu(e.wrapper),a=this.getAnnotationChanges(e,i);i instanceof Mi?(i.offset.x+=n/o.width,i.offset.y+=r/o.height):(this.updatePathAnnotationOffset(e,i,n,r),i instanceof Di&&(i.alignment="Center"));var s=this.getAnnotationChanges(e,i);e instanceof iu?this.diagram.nodePropertyChange(e,a,s):this.diagram.connectorPropertyChange(e,a,s),this.diagram.updateDiagramObject(e),_p(this.diagram,i,!1,t)||this.labelSelect(e,t)},e.prototype.updatePathAnnotationOffset=function(e,t,n,r,i,o){var a,s,l,c,h=this.diagram.getWrapper(e.wrapper,t.id),d=h.offsetX,u=h.offsetY,p=e.intermediatePoints,f=0,g=i||{x:d+n,y:u+r},A=this.getInterceptWithSegment(g,p),m=p[p.length-1];if(l=or.getLengthFromListOfPoints(p),A.length>0){if(t.dragLimit.top||t.dragLimit.bottom||t.dragLimit.left||t.dragLimit.right){var y={minDistance:null};m=this.getRelativeOffset(g,p,y);var v={minDistance:null};if(c=this.getRelativeOffset(g,A,v),null!=y&&v.minDistance<y.minDistance)m=c;else m=Ph(e.intermediatePoints,t).point}else m=c=A[A.length-1];if(m){var b=void 0;for(b=0;b<p.length;b++){if(null!=s){if(Ar.toBounds([s,p[b]]).containsPoint(m)){f+=or.findLength(s,m);break}f+=or.findLength(s,p[b])}s=p[b]}a={x:f/l,y:0}}this.updateLabelMargin(e,t,a,g,o,n,r)}else this.updateLabelMargin(e,t,null,g,o,n,r)},e.prototype.getRelativeOffset=function(e,t,n){var r,i,o,a;for(a=0;a<t.length;a++)o=t[a],i=Math.round(Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))),null!==n.minDistance&&Math.min(Math.abs(n.minDistance),Math.abs(i))!==Math.abs(i)||(r=o,n.minDistance=i);return r},e.prototype.dragLimitValue=function(e,t,n,r){var i=!1,o=!1;return n.x>=t.x-e.dragLimit.left-r.width/2&&n.x<=t.x+e.dragLimit.right+r.width/2&&(i=!0),n.y>=t.y-e.dragLimit.top-r.height/2&&n.y<=t.y+e.dragLimit.bottom+r.height/2&&(o=!0),{x:i,y:o}},e.prototype.updateLabelMargin=function(e,t,n,r,i,o,a){if(n=n||{x:t.offset,y:0},t&&n&&n.x>0&&n.x<1){var s=or.getLengthFromListOfPoints(e.intermediatePoints),l=this.getPointAtLength(s*n.x,e.intermediatePoints,0),c=this.diagram.scrollSettings.currentZoom,h=t.dragLimit;if(h.top||h.bottom||h.left||h.right){this.diagram.getWrapper(e.wrapper,t.id);var d=new Ar(0,0,0,0),u=this.diagram.getWrapper(e.wrapper,t.id);d.x=u.offsetX/c+o,d.y=u.offsetY/c+a,d.width=u.bounds.width/c,d.height=u.bounds.height/c;var p=new Ar(l.x-(h.left||0)-d.width/2,l.y-(h.top||0)-d.height/2,(h.left||0)+(h.right||0)+d.width,(h.top||0)+(h.bottom||0)+d.height);if(p.containsPoint(r))r=r;else for(var f=[l,r],g=0,A=this.boundsInterSects(f,p,!1);g<A.length;g++){r=A[g]}var m=this.dragLimitValue(t,l,r,d);t.margin={left:m.x?r.x-l.x:t.margin.left,top:m.y?r.y-l.y:t.margin.top,right:0,bottom:0}}else t.margin={left:r.x-l.x,top:r.y-l.y,right:0,bottom:0};t.offset=n.x,i&&(t.width=i.width,t.height=i.height)}},e.prototype.boundsInterSects=function(e,t,n){var r;if(t){var i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height},{x:t.x,y:t.y}];r=this.intersect(e,i,n)}return r},e.prototype.intersect=function(e,t,n){for(var r=[],i=0;i<e.length-1;i++)for(var o=0;o<t.length-1;o++){var a=vh(e[i],e[i+1],t[o],t[o+1]);0!==a.x&&0!==a.y&&r.push(a)}return r},e.prototype.getPointAtLength=function(e,t,n){for(var r,i,o=0,a={x:0,y:0},s=0;s<t.length;s++)if(i=t[s],r){var l=or.findLength(r,i),c=void 0,h=void 0,d=void 0,u=void 0;if(o+l>=e){c=e-o,h=or.findAngle(r,i),d=c*Math.cos(h*Math.PI/180),u=c*Math.sin(h*Math.PI/180),a={x:r.x+d,y:r.y+u},h;break}o+=l,r=i}else r=i;return a},e.prototype.getInterceptWithSegment=function(e,t){for(var n,r,i=[],o=[],a=[],s=or.findLength({x:0,y:0},{x:this.diagram.scroller.viewPortWidth,y:this.diagram.scroller.viewPortHeight}),l=1;l<t.length;l++){a=[t[l-1],t[l]],o=[],r=Math.round(or.findAngle(a[0],a[1])%360),n=Math.round(or.findAngle(a[1],a[0])%360);var c=r>0&&r<=90||r>180&&r<=270?90:-90;o.push(or.transform(e,r+c,s)),o.push(or.transform(e,n+c,s));var h=yh({x1:a[0].x,y1:a[0].y,x2:a[1].x,y2:a[1].y},{x1:o[0].x,y1:o[0].y,x2:o[1].x,y2:o[1].y});h.enabled&&i.push(h.intersectPt)}return i},e.prototype.getAnnotationChanges=function(e,t){var n={};return n[Kh(e,t.id,!0)]={width:t.width,height:t.height,offset:e instanceof iu?{x:t.offset.x,y:t.offset.y}:t.offset,rotateAngle:t.rotateAngle,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,alignment:e instanceof Al?t.alignment:void 0},{annotations:n}},e.prototype.getPortChanges=function(e,t){var n={};return n[Kh(e,t.id,!1)]={offset:t.offset},{ports:n}},e.prototype.labelRotate=function(e,t,n,r){var i,o;i=this.getAnnotationChanges(e,t);yr(),t.rotateAngle;var a=this.diagram.getWrapper(e.wrapper,t.id),s=uo({x:a.offsetX,y:a.offsetY},n)+90,l=this.snapAngle(s);(s=0!==l?l:s,t instanceof Di&&t.segmentAngle)&&(s-=Bh(e.intermediatePoints,t,e.wrapper.bounds).angle);s=(s+360)%360,t.rotateAngle+=s-(t.rotateAngle+a.parentTransform),t.margin.bottom+="Top"===a.verticalAlignment?-t.height/2:"Bottom"===a.verticalAlignment?t.height/2:0,t.margin.right+="Left"===a.horizontalAlignment?-t.width/2:"Right"===a.horizontalAlignment?t.width/2:0,t instanceof Di?t.alignment="Center":t.horizontalAlignment=t.verticalAlignment="Center",r.wrapper.rotateAngle=r.rotateAngle=t.rotateAngle,o=this.getAnnotationChanges(e,t),e instanceof iu?this.diagram.nodePropertyChange(e,i,o):this.diagram.connectorPropertyChange(e,i,o),this.diagram.updateDiagramObject(e)},e.prototype.labelResize=function(e,t,n,r,i,o){var a,s,l;a=this.getAnnotationChanges(e,t);var c=o.wrapper.children[0];if(n&&1!==n||r&&1!==r){var h=yr(),d=yr();br(h,-e.rotateAngle,e.offsetX,e.offsetY),br(d,-(l=(c.rotateAngle+(e instanceof iu?e.rotateAngle:0)+360)%360),i.x,i.y),wr(d,n,r,i.x,i.y),br(d,l,i.x,i.y);var u=vr(d,{x:c.offsetX,y:c.offsetY}),p=c.actualSize.height*r,f=c.actualSize.width*n,g=this.findTarget(c,e);if(g instanceof Di)this.updatePathAnnotationOffset(e,t,0,0,u,new nr(f,p));else{var A=Wu(e.wrapper);(u=vr(h,u)).x=u.x-c.margin.left+c.margin.right,u.y=u.y-c.margin.top+c.margin.bottom,u.y+="Top"===g.verticalAlignment?-p/2:"Bottom"===g.verticalAlignment?p/2:0,u.x+="Left"===g.horizontalAlignment?-f/2:"Right"===g.horizontalAlignment?f/2:0;var m=A.width/(u.x-A.x),y=A.height/(u.y-A.y);f>1&&(g.width=f,g.offset.x=1/m),p>1&&(g.height=p,g.offset.y=1/y)}}t instanceof Di&&(t.alignment="Center"),s=this.getAnnotationChanges(e,t),e instanceof iu?this.diagram.nodePropertyChange(e,a,s):this.diagram.connectorPropertyChange(e,a,s),this.diagram.updateDiagramObject(e)},e.prototype.getSubProcess=function(e){var t,n={nodes:[],connectors:[]};return e instanceof iu?t=e.processId:e&&e.nodes&&e.nodes.length&&e.nodes[0].processId&&(t=e.nodes[0].processId),t?(n.nodes.push(Xu(this.diagram.nameTable[t])),n):n},e.prototype.checkBoundaryConstraints=function(e,t,n){var r=this.diagram.pageSettings,i=this.diagram.pageSettings.boundaryConstraints,o=this.diagram.scroller;if("Page"===i||"Diagram"===i){var a=n?void 0:this.diagram.selectedItems.wrapper.bounds,s="Page"===i?r.width:o.viewPortWidth,l="Page"===i?r.height:o.viewPortHeight,c=n,h=(n?c.right:a.right)+(e||0),d=(n?c.left:a.left)+(e||0),u=(n?c.top:a.top)+(t||0),p=(n?c.bottom:a.bottom)+(t||0);return h<=s&&d>=0&&p<=l&&u>=0}return!0},e.prototype.dragSelectedObjects=function(e,t){var n=this.diagram.selectedItems;if(this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=n.offsetX,this.state.backup.offsetY=n.offsetY),n=vc(this.diagram,n)||n,this.checkBoundaryConstraints(e,t)){this.diagram.diagramActions=this.diagram.diagramActions|Qr.PreventZIndexOnDragging|Qr.DragUsingMouse;var r=this.diagram.selectedObject.actualObject;return(r&&r instanceof iu&&r.isLane&&sh(r,this.diagram)||!r||!r.isLane)&&this.diagram.drag(n,e,t),this.diagram.diagramActions=this.diagram.diagramActions&~(Qr.PreventZIndexOnDragging|Qr.DragUsingMouse),this.diagram.refreshCanvasLayers(),!0}return!1},e.prototype.scaleSelectedItems=function(e,t,n){var r=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=r.offsetX,this.state.backup.offsetY=r.offsetY,this.state.backup.width=r.width,this.state.backup.height=r.height,this.state.backup.pivot=n),r=vc(this.diagram,r)||r,this.diagram.scale(r,e,t,n)},e.prototype.rotateSelectedItems=function(e){var t=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.angle=t.rotateAngle),t=vc(this.diagram,t)||t,this.diagram.rotate(t,e)},e.prototype.hasSelection=function(){return Rp(this.diagram)},e.prototype.isSelected=function(e){return _p(this.diagram,e)},e.prototype.initExpand=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);var n=e.target||e.source,r={isExpanded:n.isExpanded};n.isExpanded=!n.isExpanded,this.diagram.preventNodesUpdate=!0,this.diagram.diagramActions|=Qr.PreventIconsUpdate,this.diagram.nodePropertyChange(n,r,{isExpanded:n.isExpanded}),this.diagram.diagramActions=this.diagram.diagramActions&~Qr.PreventIconsUpdate,this.diagram.preventNodesUpdate=!1;for(var i=0,o=this.diagram.views;i<o.length;i++){var a=o[i],s=this.diagram.views[a];s instanceof Rf||this.diagram.refreshCanvasDiagramLayer(s)}this.diagram.protectPropertyChange(t)},e.prototype.expandNode=function(e,t){var n=this.diagram.preventNodesUpdate,r=e.isExpanded;this.diagram.preventNodesUpdate=!0,this.diagram.preventConnectorsUpdate=!0,this.expandCollapse(e,r,this.diagram),e.isExpanded=r;var i=this.diagram.layout.fixedNode;this.diagram.layout.fixedNode=e.id,this.diagram.diagramActions!=Qr.Render&&this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&this.diagram.organizationalChartModule&&(this.diagram.organizationalChartModule.isAnimation=!0),this.diagram.blazorActions|=Pr.expandNode;var o=this.diagram.doLayout();if(this.diagram.blazorActions&=~Pr.expandNode,this.diagram.preventNodesUpdate=n,this.diagram.preventConnectorsUpdate=!1,this.diagram.layoutAnimateModule&&this.diagram.organizationalChartModule)this.diagram.allowServerDataBinding=!1,this.layoutAnimateModule.expand(this.diagram.layout.enableAnimation,o,e,this.diagram),this.diagram.allowServerDataBinding=!0;else{var a={element:ud(Xu(e)),state:!!e.isExpanded};this.triggerEvent(Kr.expandStateChange,a),this.diagram.lineRoutingModule&&this.diagram.constraints&jr.LineRouting&&this.diagram.resetSegments()}return this.diagram.layout.fixedNode=""===i?"":this.diagram.layout.fixedNode,o},e.prototype.getparentexpand=function(e,t,n,r){for(var i,o=0;o<e.inEdges.length;o++){var a=t.nameTable[e.inEdges[o]],s=t.nameTable[a.sourceID];if(s.isExpanded&&!n&&s.id!==r.sourceID&&a.visible)return!1;i=!0}return i},e.prototype.expandCollapse=function(e,t,n){for(var r=0;r<e.outEdges.length;r++){var i=n.nameTable[e.outEdges[r]],o=n.nameTable[i.targetID],a=this.getparentexpand(o,n,t,i);i.visible=t;var s={visible:o.visible,style:{opacity:o.wrapper.style.opacity}},l={visible:o.visible,style:{opacity:o.wrapper.style.opacity}};a&&(o.isExpanded&&this.expandCollapse(o,t,n),o.visible=t,o.style.opacity=this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&t?.1:o.style.opacity,n.nodePropertyChange(o,s,l)),n.connectorPropertyChange(i,s,l)}},e.prototype.updateNodeDimension=function(e,t){e instanceof iu&&(e.offsetX=t.x+t.width/2,e.offsetY=t.y+t.height/2,e.width=t.width,e.height=t.height,e.wrapper.children[0].canMeasurePath=!0,this.diagram.nodePropertyChange(e,{},{width:t.width,height:t.height,offsetX:e.offsetX,offsetY:e.offsetY}),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer())},e.prototype.updateConnectorPoints=function(e,t){e instanceof Al&&(this.diagram.connectorPropertyChange(e,{},{targetPoint:e.targetPoint}),this.diagram.updateDiagramObject(e))},e.prototype.updateSelectedNodeProperties=function(e){if(this.diagram.lineRoutingModule&&this.diagram.constraints&jr.LineRouting){var t=[],n=[],r=[],i=[],o=[],a=[];this.diagram.protectPropertyChange(!0);var s=[],l=[],c=this.diagram.selectedObject.actualObject,h=this.diagram.selectedObject.helperObject;if(h&&c){var d=h.offsetX-c.offsetX,u=h.offsetY-c.offsetY,p=h.width-c.width,f=h.height-c.height,g=h.rotateAngle-c.rotateAngle;if(this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>0&&(this.diagram.selectedItems.wrapper.rotateAngle=this.diagram.selectedItems.rotateAngle=h.rotateAngle),c instanceof iu&&"SwimLane"!==c.shape.type&&!c.isLane&&!c.isPhase&&!c.isHeader)c.offsetX===c.wrapper.offsetX&&c.offsetY===c.wrapper.offsetY&&c.width===c.wrapper.width&&c.height===c.wrapper.height&&c.rotateAngle===c.wrapper.rotateAngle||(v()&&t.push(Xu(c,void 0,void 0,!0)),c.offsetX+=d,c.offsetY+=u,c.width+=p,c.height+=f,c.rotateAngle+=g,this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle}),v()&&r.push(Xu(c,void 0,void 0,!0))),s=this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds);else if(c instanceof hu)for(var A=0;A<c.nodes.length;A++){var m=c.nodes[A];m instanceof iu&&"SwimLane"!==m.shape.type&&!m.isLane&&!m.isPhase&&!m.isHeader&&(m.offsetX+=d,m.offsetY+=u,m.width+=p,m.height+=f,m.rotateAngle+=g,this.diagram.nodePropertyChange(m,{},{offsetX:m.offsetX,offsetY:m.offsetY,width:m.width,height:m.height,rotateAngle:m.rotateAngle}),s=s.concat(this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds)))}}else e instanceof Al?s.push(e):e instanceof hu&&e.connectors.length&&(s=s.concat(e.connectors));for(A=0;A<s.length;A++)s[A]instanceof Al&&-1===l.indexOf(s[A].id)&&l.push(s[A].id);this.diagram.lineRoutingModule.renderVirtualRegion(this.diagram,!0);for(A=0;A<l.length;A++){var y=this.diagram.nameTable[l[A]];y instanceof Al&&"Orthogonal"===y.type&&(v()&&n.push(Xu(y,void 0,void 0,!0)),this.diagram.lineRoutingModule.refreshConnectorSegments(this.diagram,y,!0),v()&&i.push(Xu(y,void 0,void 0,!0)))}if(this.updateSelector(),v()){this.getObjectChanges(t,r,o),this.getObjectChanges(n,i,a);var b={nodes:o,connectors:a};if(window&&window.Blazor&&a.length+o.length){var w={methodName:"UpdateBlazorProperties",diagramobj:b};window.sfBlazor.updateBlazorProperties(w,this.diagram)}}this.diagram.protectPropertyChange(!1)}},e.prototype.drawSelectionRectangle=function(e,t,n,r){this.diagram.drawSelectionRectangle(e,t,n,r)},e.prototype.startGroupAction=function(){this.diagram.startGroupAction()},e.prototype.endGroupAction=function(){this.diagram.endGroupAction()},e.prototype.removeChildFromBPmn=function(e,t,n){var r=this.diagram.nameTable[e.id]||e.nodes[0];if(n&&r&&r.processId&&r.processId===n.wrapper.id){var i=Xu(r);i.processId=r.processId,this.diagram.startGroupAction();for(var o=[],a=(o=o.concat(r.outEdges,r.inEdges)).length-1;a>=0;a--){var s=this.diagram.nameTable[o[a]];s&&this.diagram.remove(s)}var l=this.diagram.nameTable[r.processId].shape.activity.subProcess.processes||[];l.splice(l.indexOf(r.id),1),this.diagram.bpmnModule.removeChildFromBPMN(this.diagram.nameTable[r.processId].wrapper,r.id),this.diagram.nameTable[r.id].processId="",r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY;var c={type:"PositionChanged",redoObject:{nodes:[Xu(r)]},undoObject:{nodes:[i]},category:"Internal"};this.addHistoryEntry(c),this.diagram.endGroupAction()}},e.prototype.isDroppable=function(e,t){var n=this.diagram.nameTable[e.id]||e.nodes[0];return!!n&&(!!(!v()&&"TextAnnotation"===n.shape.shape||v()&&"TextAnnotation"===n.shape.bpmnShape)||(!n||"Bpmn"!==n.shape.type||!(n.processId===t.id||n.id===t.processId||"Bpmn"===t.shape.type&&t.shape.activity.subProcess.collapsed)))},e.prototype.renderHighlighter=function(e,t,n){new Ar;if(e.target instanceof iu||t&&e.source instanceof iu){var r=t?e.source:e.target,i=t?e.sourceWrapper:e.targetWrapper,o=this.findTarget(i,r,n,!0),a=void 0;if(o instanceof zd)for(var s=o.id,l=e.target,c=0,h=l.wrapper.children[0].children[0].children[2].children;c<h.length;c++){var d=h[c];if(d.id===l.id+"_"+s){a=d.children[0];break}}else a=o instanceof iu?o.wrapper:t?e.sourceWrapper:e.targetWrapper;this.diagram.renderHighlighter(a)}},e.prototype.mouseOver=function(e,t,n){return!0},e.prototype.snapPoint=function(e,t,n,r){var i,o=this.diagram.selectedItems,a=t.x<e.x,s=t.y<e.y,l=i={x:n,y:r};return this.snappingModule&&(l=this.diagram.snappingModule.snapPoint(this.diagram,o,a,s,i,e,t)),l},e.prototype.removeSnap=function(){this.diagram.snapSettings.constraints&Or.SnapToObject&&this.snappingModule&&this.snappingModule.removeGuidelines(this.diagram)},e.prototype.dropAnnotation=function(e,t){var n=e instanceof iu?e:e.nodes[0];if(this.diagram.bpmnModule&&"Bpmn"===t.shape.type&&(!v()&&"TextAnnotation"===n.shape.shape||v()&&"TextAnnotation"===n.shape.bpmnShape)){n.hasTarget=t.id,n.shape.annotation.nodeId=t.id,this.diagram.currentSymbol||(this.diagram.addTextAnnotation(n.shape.annotation,t),n.shape.annotation.nodeId="",this.diagram.remove(n)),this.diagram.refreshDiagramLayer()}},e.prototype.drop=function(e,t,n){if(this.diagram.bpmnModule){var r=e instanceof iu?e:e.nodes[0];r&&"Bpmn"===r.shape.type&&"Bpmn"===t.shape.type&&(this.diagram.bpmnModule.dropBPMNchild(t,e instanceof iu?e:e.nodes[0],this.diagram),this.diagram.refreshDiagramLayer())}},e.prototype.addHistoryEntry=function(e){this.diagram.addHistoryEntry(e)},e.prototype.align=function(e,t,n){if(e.length>0){var r=0;e[0]=this.diagram.nameTable[e[0].id]||e[0];var i="Object"===n?Vu(e[0].wrapper):this.diagram.selectedItems.wrapper.bounds,o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(r="Object"===n?r+1:r;r<e.length;r++){var s=0,l=0;e[r]=this.diagram.nameTable[e[r].id]||e[r];var c=Vu(e[r].wrapper);"Left"===t?s=i.left+c.width/2-c.center.x:"Right"===t?s=i.right-c.width/2-c.center.x:"Top"===t?l=i.top+c.height/2-c.center.y:"Bottom"===t?l=i.bottom-c.height/2-c.center.y:"Center"===t?s=i.center.x-c.center.x:"Middle"===t&&(l=i.center.y-c.center.y),o=this.storeObject(o,e[r]),this.drag(e[r],s,l),this.diagram.updateSelector(),a=this.storeObject(a,e[r])}o=Xu(o),a=Xu(a);var h={type:"Align",category:"Internal",undoObject:Xu(o),redoObject:Xu(a)};this.addHistoryEntry(h)}},e.prototype.distribute=function(e,t){if(e.length>0){var n=0,r=0,i=0,o=0,a=0,s=0,l=0,c=0,h={nodes:[],connectors:[]},d={nodes:[],connectors:[]};for(n=0;n<e.length;n++)e[n]=this.diagram.nameTable[e[n].id]||e[n];for(e=function(e,t){var n,r=0,i=0;for(r=0;r<e.length;r++){var o=Vu(e[r].wrapper);for(i=0;i<e.length;i++){var a=Vu(e[i].wrapper);"Top"===t||"Bottom"===t||"BottomToTop"===t||"Middle"===t?o.center.y>a.center.y&&(n=e[r],e[r]=e[i],e[i]=n):o.center.x>a.center.x&&(n=e[r],e[r]=e[i],e[i]=n)}}return e}(e,t),n=1;n<e.length;n++)r=r+e[n].wrapper.bounds.topRight.x-e[n-1].wrapper.bounds.topRight.x,i=i+e[n].wrapper.bounds.topLeft.x-e[n-1].wrapper.bounds.topLeft.x,o=o+e[n].wrapper.bounds.topRight.y-e[n-1].wrapper.bounds.topRight.y,a=a+e[n].wrapper.bounds.bottomRight.y-e[n-1].wrapper.bounds.bottomRight.y,s=s+e[n].wrapper.bounds.center.x-e[n-1].wrapper.bounds.center.x,l=l+e[n].wrapper.bounds.center.y-e[n-1].wrapper.bounds.center.y,c=c+e[n].wrapper.bounds.topRight.y-e[n-1].wrapper.bounds.bottomRight.y;for(n=1;n<e.length-1;n++){var u=0,p=0,f=Vu(e[n-1].wrapper),g=Vu(e[n].wrapper);"RightToLeft"===t||"Center"===t?u=f.center.x-g.center.x+s/(e.length-1):"Right"===t?u=f.topRight.x-g.topRight.x+r/(e.length-1):"Left"===t?u=f.topLeft.x-g.topLeft.x+i/(e.length-1):"Middle"===t?p=f.center.y-g.center.y+l/(e.length-1):"Top"===t?p=f.topRight.y-g.topRight.y+o/(e.length-1):"Bottom"===t?p=f.bottomRight.y-g.bottomRight.y+a/(e.length-1):"BottomToTop"===t&&(p=f.bottomRight.y-g.topRight.y+c/(e.length-1)),h=this.storeObject(h,e[n]),this.drag(e[n],u,p),this.diagram.updateSelector(),d=this.storeObject(d,e[n])}h=Xu(h),d=Xu(d);var A={type:"Distribute",category:"Internal",undoObject:Xu(h),redoObject:Xu(d)};this.addHistoryEntry(A)}},e.prototype.sameSize=function(e,t){if(e.length>0){var n=0,r={x:.5,y:.5};e[0]=this.diagram.nameTable[e[0].id]||e[0];var i=Vu(e[0].wrapper),o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(n=1;n<e.length;n++){e[n]=this.diagram.nameTable[e[n].id]||e[0];var s=Vu(e[n].wrapper),l=1,c=1;"Width"===t?l=i.width/s.width:"Height"===t?c=i.height/s.height:"Size"===t&&(l=i.width/s.width,c=i.height/s.height),o=this.storeObject(o,e[n]),this.scale(e[n],l,c,r),a=this.storeObject(a,e[n])}this.diagram.updateSelector(),o=Xu(o),a=Xu(a);var h={type:"Sizing",category:"Internal",undoObject:Xu(o),redoObject:Xu(a)};this.addHistoryEntry(h)}},e.prototype.storeObject=function(e,t){return t instanceof iu?e.nodes.push(Xu(t)):e.connectors.push(Xu(t)),e},e.prototype.updatePanState=function(e){if(e)this.diagram.realActions=this.diagram.realActions|Vr.PanInProgress;else{this.diagram.dataBind();var t=this.diagram.scrollSettings;this.diagram.realActions=this.diagram.realActions&~Vr.PanInProgress;var n={VerticalOffset:t.verticalOffset,HorizontalOffset:t.horizontalOffset,ViewportHeight:t.viewPortHeight,ViewportWidth:t.viewPortWidth,CurrentZoom:t.currentZoom},r={oldValue:n,newValue:n,source:this.diagram,panState:"Completed"};this.triggerEvent(Kr.scrollChange,r)}},e.prototype.dataBinding=function(){this.diagram.dataBind()},e.prototype.setBlazorDiagramProps=function(e){this.diagram.setBlazorDiagramProps(e)},e.prototype.scroll=function(e,t,n){var r=this.diagram.constraints&jr.PanX,i=function(e){return e.constraints&jr.PanY}(this.diagram);v()?(this.diagram.setCursor("grabbing"),this.diagram.scroller.zoom(1,(e=r?e:0)*this.diagram.scroller.currentZoom,(t=i?t:0)*this.diagram.scroller.currentZoom,n)):this.diagram.pan((e=r?e:0)*this.diagram.scroller.currentZoom,(t=i?t:0)*this.diagram.scroller.currentZoom,n)},e.prototype.drawHighlighter=function(e){this.diagram.renderHighlighter(e.wrapper)},e.prototype.removeHighlighter=function(){this.diagram.clearHighlighter()},e.prototype.renderContainerHelper=function(e){return vc(this.diagram,e)},e.prototype.isParentAsContainer=function(e,t){return bc(this.diagram,e,t)},e.prototype.dropChildToContainer=function(e,t){this.diagram.diagramActions&Qr.PreventLaneContainerUpdate||Cc(this.diagram,e,t)},e.prototype.updateLaneChildrenZindex=function(e,t){var n=this.findLeastIndexObject(e,t),r=this.diagram.nameTable[t.parentId];if(r.zIndex>n.zIndex){for(var i=this.diagram.layers.indexOf(this.diagram.getActiveLayer()),o=this.diagram.layers[i].zIndexTable,a=n.zIndex,s=r.zIndex;s>=a;s--)a!==s?o[s-1]?(o[s]=o[s-1],this.diagram.nameTable[o[s]].zIndex=s):(o[s-1]=o[s],this.diagram.nameTable[o[s-1]].zIndex=s,delete o[s]):(o[s]=r.id,this.diagram.nameTable[r.id].zIndex=s);"SVG"===this.diagram.mode?(this.moveSvgNode(t.parentId,n.id),this.updateNativeNodeIndex(t.parentId,n.id)):this.diagram.refreshCanvasLayers()}},e.prototype.findLeastIndexConnector=function(e,t,n){for(var r=0;r<e.length;r++){var i=this.diagram.nameTable[e[r]];n.zIndex>i.zIndex&&(n=i)}return n},e.prototype.findLeastIndexObject=function(e,t){var n=e;return e instanceof iu&&(n=this.findLeastIndexConnector(e.inEdges,t,n),n=this.findLeastIndexConnector(e.outEdges,t,n)),n},e.prototype.checkSelection=function(e,t){var n;if(1===e.nodes.length&&0===e.connectors.length)if(bc(this.diagram,e.nodes[0],!0)){n="SwimLane"===e.nodes[0].shape?e.nodes[0]:this.diagram.nameTable[e.nodes[0].parentId];var r=e.nodes[0];if("SwimLane"===n.shape.type){var i="Horizontal"===n.shape.orientation;(r.isPhase&&(i&&"ResizeSouth"===t||!i&&"ResizeEast"===t)||r.isLane&&(i&&"ResizeEast"===t||!i&&"ResizeSouth"===t))&&Jc(this.diagram,n,t)}else if("Grid"===n.container.type)if("Horizontal"===n.container.orientation&&1===r.rowIndex||"Vertical"===n.container.orientation&&r.rowIndex>0&&r.columnIndex>0){if("ResizeSouth"===t)for(var o=0;o<this.diagram.nodes.length;o++){if((a=this.diagram.nodes[o]).rowIndex===n.rows.length-1&&0===a.columnIndex){this.select(a);break}}}else if("ResizeEast"===t)for(o=0;o<this.diagram.nodes.length;o++){var a;if(1===(a=this.diagram.nodes[o]).rowIndex&&a.columnIndex===n.columns.length-1){this.select(a);break}}}else Jc(this.diagram,e.nodes[0],t)},e.prototype.zoom=function(e,t,n,r){this.diagram.scroller.zoom(e,t*this.diagram.scroller.currentZoom,n*this.diagram.scroller.currentZoom,r)},e}(),bf=function(){function e(e){this.transform={tx:0,ty:0,scale:1},this.oldCollectionObjects=[],this.removeCollection=[],this.vPortWidth=0,this.vPortHeight=0,this.currentZoomFActor=1,this.hOffset=0,this.vOffset=0,this.scrolled=!1,this.hScrollSize=0,this.vScrollSize=0,this.diagram=e,this.objects=[],this.transform=e.scroller?e.scroller.transform:{tx:0,ty:0,scale:1},this.vPortWidth=e.scrollSettings.viewPortWidth,this.vPortHeight=e.scrollSettings.viewPortHeight,this.currentZoomFActor=e.scrollSettings.currentZoom,this.hOffset=e.scrollSettings.horizontalOffset,this.vOffset=e.scrollSettings.verticalOffset}return Object.defineProperty(e.prototype,"viewPortHeight",{get:function(){return this.vPortHeight},set:function(e){this.vPortHeight=e,this.diagram.scrollSettings.viewPortHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentZoom",{get:function(){return this.currentZoomFActor},set:function(e){this.currentZoomFActor=e,this.diagram.scrollSettings.currentZoom=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewPortWidth",{get:function(){return this.vPortWidth},set:function(e){this.vPortWidth=e,this.diagram.scrollSettings.viewPortWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalOffset",{get:function(){return this.hOffset},set:function(e){this.hOffset=e,Math.abs(this.hOffset-this.diagram.scrollSettings.horizontalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|Vr.hScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.horizontalOffset=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalOffset",{get:function(){return this.vOffset},set:function(e){this.vOffset=e,Math.abs(this.vOffset-this.diagram.scrollSettings.verticalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|Vr.vScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.verticalOffset=e},enumerable:!0,configurable:!0}),e.prototype.updateScrollOffsets=function(e,t){var n,r,i=this.getPageBounds(void 0,void 0,!0);i.x*=this.currentZoom,i.y*=this.currentZoom,i.width*=this.currentZoom,i.height*=this.currentZoom,n=Math.max(0,e-i.left),r=Math.max(0,t-i.top),void 0!==e&&void 0!==t?(this.horizontalOffset=n,this.verticalOffset=r,this.diagram.setOffset(n,r)):this.diagram.setOffset(-this.horizontalOffset-i.x,-this.verticalOffset-i.y),this.transform={tx:Math.max(this.horizontalOffset,-i.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-i.top)/this.currentZoom,scale:this.currentZoom}},e.prototype.setScrollOffset=function(e,t){this.scrolled=!1;var n=this.getPageBounds(void 0,void 0,!0);n.x*=this.currentZoom,n.y*=this.currentZoom,n.width*=this.currentZoom,n.height*=this.currentZoom;var r=-n.left,i=-n.top,o=!1,a=this.viewPortWidth*this.currentZoom,s=this.viewPortHeight*this.currentZoom,l=r-e;if(l!==this.horizontalOffset){r<this.horizontalOffset&&(this.horizontalOffset>l?this.horizontalOffset-=e:this.horizontalOffset=l,o=!0);var c=Math.max(n.right+this.vScrollSize,a);if(!o&&c<-l+this.viewPortWidth){var h=-l+a-this.vScrollSize,d=-this.horizontalOffset+a-this.vScrollSize;h<d||h-n.right>h-d?this.horizontalOffset=l:this.horizontalOffset=-(n.right+this.vScrollSize-a),o=!0}o||(this.horizontalOffset=r-e)}o=!1;var u=i-t;if(u!==this.verticalOffset){i<this.verticalOffset&&(this.verticalOffset>u?this.verticalOffset-=t:this.verticalOffset=u,o=!0);var p=Math.max(n.bottom+this.hScrollSize,s);if(!o&&p<-u+s){var f=-u+s-this.hScrollSize,g=-this.verticalOffset+s-this.hScrollSize;f<g||f-n.bottom>f-g?this.verticalOffset=u:this.verticalOffset=-(n.bottom+this.hScrollSize-s),o=!0}o||(this.verticalOffset=i-t)}this.transform={tx:Math.max(this.horizontalOffset,-n.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-n.top)/this.currentZoom,scale:this.currentZoom},this.setSize()},e.prototype.getObjects=function(e,t){for(var n=[],r=0;r<e.length;r++){for(var i=!1,o=0;o<t.length;o++)if(e[r]===t[o]){i=!0;break}i||n.push(e[r])}return n},e.prototype.virtualizeElements=function(){for(var e=this.viewPortWidth/this.currentZoom,t=this.viewPortHeight/this.currentZoom,n=this.diagram.spatialSearch.findObjects(new Ar(-this.horizontalOffset/this.currentZoom,-this.verticalOffset/this.currentZoom,e,t)),r=[],i=0;i<n.length;i++)r.push(n[i].id);var o=this.getObjects(r,this.oldCollectionObjects);0===this.oldCollectionObjects.length&&(this.oldCollectionObjects=r);var a=this.getObjects(this.oldCollectionObjects,r);this.diagram.updateVirtualObjects(o,!1,a),this.oldCollectionObjects=r},e.prototype.setSize=function(e){var t=this.getPageBounds(void 0,void 0,!0);t.x*=this.currentZoom,t.y*=this.currentZoom,t.width*=this.currentZoom,t.height*=this.currentZoom;var n=Math.min(t.x,-this.horizontalOffset),r=Math.min(t.y,-this.verticalOffset),i=(this.horizontalOffset,this.viewPortWidth,t.right,this.verticalOffset,this.viewPortHeight,t.bottom,this.scrollerWidth),o=this.scrollerWidth;-this.verticalOffset<=t.y&&-this.verticalOffset+this.viewPortHeight>=t.bottom&&(o=0),-this.horizontalOffset<=t.x&&-this.horizontalOffset+this.viewPortWidth>=t.right&&(i=0),this.hScrollSize=i,this.vScrollSize=o;var a=this.diagramWidth,s=this.diagramHeight;this.diagramWidth=Math.max(t.right,-this.horizontalOffset+this.viewPortWidth-o)-n,this.diagramHeight=Math.max(t.bottom,-this.verticalOffset+this.viewPortHeight-i)-r,a===this.diagramWidth&&s===this.diagramHeight||"Diagram"===this.diagram.scrollSettings.scrollLimit||this.diagram.setSize(this.diagramWidth,this.diagramHeight),"Diagram"===this.diagram.scrollSettings.scrollLimit&&(a===this.diagramWidth&&s===this.diagramHeight&&1===this.currentZoom||this.diagram.diagramActions&&e&&(!this.diagram.diagramActions||!e||0===this.verticalOffset&&this.verticalOffset!==e.y||0===this.horizontalOffset&&this.horizontalOffset!==e.x)?e&&a===this.diagramWidth&&s===this.diagramHeight&&(this.diagram.diagramCanvas.scrollHeight>this.viewPortHeight&&e.y<0&&this.horizontalOffset===e.x&&0===this.verticalOffset||this.diagram.diagramCanvas.scrollWidth>this.viewPortWidth&&e.x<0&&this.verticalOffset===e.y&&0===this.horizontalOffset)&&(this.verticalOffset=e.y,this.horizontalOffset=e.x,this.transform={tx:Math.max(e.x,-t.left)/this.currentZoom,ty:Math.max(e.y,-t.top)/this.currentZoom,scale:this.currentZoom}):(this.diagram.scrollActions&Xr.Interaction&&e&&(this.transform={tx:Math.max(e.x,-t.left/this.currentZoom)/this.currentZoom,ty:Math.max(e.y,-t.top/this.currentZoom)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=e.x,this.verticalOffset=e.y),this.diagram.setSize(this.diagramWidth,this.diagramHeight),this.diagram.scrollActions&Xr.PropertyChange||!e||(this.horizontalOffset=e.x,this.verticalOffset=e.y,this.transform={tx:Math.max(e.x,-t.left)/this.currentZoom,ty:Math.max(e.y,-t.top)/this.currentZoom,scale:this.currentZoom}))),this.diagram.transformLayers(),this.diagram.element.style.overflow="hidden"},e.prototype.setViewPortSize=function(e,t){this.viewPortWidth=e,this.viewPortHeight=t},e.prototype.getPageBounds=function(e,t,n){var r,i=new Ar;if("Content"!==t&&null!==this.diagram.pageSettings.width&&null!==this.diagram.pageSettings.height){var o=this.diagram.pageSettings.width,a=this.diagram.pageSettings.height,s=0,l=0;if(this.diagram.pageSettings.multiplePage){if((i=this.diagram.spatialSearch.getPageBounds(0,0)).right>o)o*=c=Math.ceil(i.right/o);if(i.bottom>a)a*=c=Math.ceil(i.bottom/a);if(i.left<0&&Math.abs(i.left)>s){var c=Math.ceil(Math.abs(i.left)/this.diagram.pageSettings.width);s=this.diagram.pageSettings.width*c}if(i.top<0&&Math.abs(i.top)>l){c=Math.ceil(Math.abs(i.top)/this.diagram.pageSettings.height);l=this.diagram.pageSettings.height*c}}r=new Ar(-s,-l,o+s,a+l)}else{var h=e?void 0:0;r=this.diagram.spatialSearch.getPageBounds(h,h)}if(n){var d=this.diagram.scrollSettings.padding;r.x-=d.left,r.y-=d.top,r.width+=d.left+d.right,r.height+=d.top+d.bottom}return r},e.prototype.getPageBreak=function(e){for(var t=0,n=0,r=-1,i=[],o=0,a=0,s=0,l=0,c=this.diagram.pageSettings.margin.left,h=this.diagram.pageSettings.margin.right,d=this.diagram.pageSettings.margin.top,u=this.diagram.pageSettings.margin.bottom,p=1,f=1,g={x1:o,y1:s,x2:a,y2:l};e.width>t;)(t+=this.diagram.pageSettings.width?this.diagram.pageSettings.width:e.width)===this.diagram.pageSettings.width&&(g={x1:e.left+c,y1:e.top+d,x2:e.left+c,y2:e.bottom-u},i[++r]=g),t<e.width&&(g={x1:o=e.topLeft.x+this.diagram.pageSettings.width*p,y1:s=e.topLeft.y+d,x2:a=e.bottomLeft.x+this.diagram.pageSettings.width*p,y2:l=e.bottomLeft.y-u},i[++r]=g,p++),e.width===t&&(g={x1:e.right-h,y1:e.top+d,x2:e.right-h,y2:e.bottom-u},i[++r]=g);for(;e.height>n;)(n+=this.diagram.pageSettings.height?this.diagram.pageSettings.height:e.height)===this.diagram.pageSettings.height&&(g={x1:e.left+c,y1:e.top+d,x2:e.right-h,y2:e.top+d},i[++r]=g),n<e.height&&(g={x1:o=e.topLeft.x+c,y1:s=e.topLeft.y+this.diagram.pageSettings.height*f,x2:a=e.topRight.x-h,y2:l=e.topRight.y+this.diagram.pageSettings.height*f},i[++r]=g,f++),e.height===n&&(g={x1:e.left+c,y1:e.bottom-u,x2:e.right-h,y2:e.bottom-u},i[++r]=g);return i},e.prototype.zoom=function(e,t,n,r){if(this.diagram.constraints&jr.Zoom&&1!==e||function(e){return e.constraints&jr.Pan}(this.diagram)&&1===e){var i=yr();if(wr(i,this.currentZoom,this.currentZoom),xr(i,this.horizontalOffset,this.verticalOffset),r=vr(i,r=r||{x:(this.viewPortWidth/2-this.horizontalOffset)/this.currentZoom,y:(this.viewPortHeight/2-this.verticalOffset)/this.currentZoom}),this.currentZoom*e>=this.diagram.scrollSettings.minZoom&&this.currentZoom*e<=this.diagram.scrollSettings.maxZoom){this.currentZoom*=e;var o=this.getPageBounds(void 0,void 0,!0);o.x*=this.currentZoom,o.y*=this.currentZoom;var a=yr();wr(a,e,e,r.x,r.y),xr(a,t||0,n||0),Cr(i,a);var s=vr(i,{x:0,y:0});1===e&&(s=this.applyScrollLimit(s.x,s.y)),!(this.diagram.scrollActions&Xr.PropertyChange)&&this.diagram.scrollActions&Xr.Interaction&&"Diagram"===this.diagram.scrollSettings.scrollLimit||(this.transform={tx:Math.max(s.x,-o.left)/this.currentZoom,ty:Math.max(s.y,-o.top)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=s.x,this.verticalOffset=s.y),this.setSize(s),"SVG"!==this.diagram.mode&&Hl(this.diagram)&&this.diagram.scroller.virtualizeElements(),"SVG"===this.diagram.mode||Hl(this.diagram)||this.diagram.refreshDiagramLayer(),this.diagram.setOffset(-this.horizontalOffset-o.x,-this.verticalOffset-o.y),wl(this.diagram)}}},e.prototype.fitToPage=function(e){var t=(e=e||{}).mode,n=e.region,r=e.margin||{},i=e.canZoomIn,o=e.customBounds;r.bottom=r.bottom||25,r.top=r.top||25,r.left=r.left||25,r.right=r.right||25;var a,s=o,l=-this.horizontalOffset,c=-this.verticalOffset;if("PageSettings"===(n=n||"PageSettings")&&this.diagram.pageSettings.width&&this.diagram.pageSettings.height||this.diagram.nodes.length>0||this.diagram.connectors.length>0){t=t||"Page","CustomBounds"!==n&&(s=this.getPageBounds(!0,n,!0));var h={x:0,y:0};h.x=(this.viewPortWidth-(r.left+r.right))/s.width,h.y=(this.viewPortHeight-(r.top+r.bottom))/s.height,!i&&s.width-this.horizontalOffset<this.viewPortWidth&&s.height-this.verticalOffset<this.viewPortHeight&&(h.x=Math.min(this.currentZoom,h.x),h.y=Math.min(this.currentZoom,h.y));var d=void 0,u=void 0,p=void 0;switch(t){case"Width":a=(d=h.x)/this.currentZoom,l+=(u=(this.viewPortWidth-s.width*d)/2-s.x*d)+(r.left-r.right)/2*d,c-=-this.verticalOffset*a,c="CustomBounds"!==n?c:c-this.verticalOffset*a;break;case"Height":a=(d=h.y)/this.currentZoom,u=(this.viewPortWidth-s.width*d)/2-s.x*d,p=(this.viewPortHeight-s.height*d)/2-s.y*d,l+=u+(r.left-r.right)/2*d,c+=p+(r.top-r.bottom)/2*d;break;case"Page":a=(d=Math.min(h.x,h.y))/this.currentZoom,u=(this.viewPortWidth-s.width*d)/2-s.x*d,p=(this.viewPortHeight-s.height*d)/2-s.y*d,l+=u+(r.left-r.right)/2*d,c+=p+(r.top-r.bottom)/2*d}this.zoom(a,l,c,{x:0,y:0})}else a=1/this.currentZoom,this.zoom(a,l,c,{x:0,y:0})},e.prototype.bringIntoView=function(e){var t=0,n=0,r=this.currentZoom,i=e,o=-this.horizontalOffset,a=-this.verticalOffset;i=new Ar(i.x*r,i.y*r,i.width*r,i.height*r),new Ar(o,a,this.viewPortWidth,this.viewPortHeight).containsRect(i)||(i.right>-o+this.viewPortWidth&&(t=i.right-this.viewPortWidth),i.x<-o&&(t=i.x),i.bottom>-a+this.viewPortHeight&&(n=i.bottom-this.viewPortHeight),i.y<-a&&(n=i.y),this.zoom(1,-this.horizontalOffset-t,-this.verticalOffset-n,null))},e.prototype.bringToCenter=function(e){var t=this.currentZoom,n=new Ar(e.x*t,e.y*t,e.width*t,e.height*t),r=n.x+n.width/2-this.viewPortWidth/2,i=n.y+n.height/2-this.viewPortHeight/2;this.zoom(1,-this.horizontalOffset-r,-this.verticalOffset-i,null)},e.prototype.applyScrollLimit=function(e,t){if("Infinity"!==this.diagram.scrollSettings.scrollLimit){var n=void 0;if("Limited"===this.diagram.scrollSettings.scrollLimit){var r=this.diagram.scrollSettings.scrollableArea;n=new Ar(r.x,r.y,r.width,r.height)}(n=n||this.getPageBounds(!0)).x*=this.currentZoom,n.y*=this.currentZoom,n.width*=this.currentZoom,n.height*=this.currentZoom,e*=-1,t*=-1;var i=Math.max(n.right,this.viewPortWidth);if(!(e<=n.x&&(e+this.viewPortWidth>=n.right||e>=n.right-this.viewPortWidth)||e>=n.x&&e+this.viewPortWidth<=i))if(e>=n.x)e=Math.max(n.x,Math.min(e,e-(e+this.viewPortWidth-this.vScrollSize-i)));else{var o=n.right-this.viewPortWidth;e=Math.min(o,n.x)}var a=Math.max(n.bottom,this.viewPortHeight);if(!(t<=n.y&&t+this.viewPortHeight>=n.bottom||t>=n.y&&t+this.viewPortHeight<=a))if(t>=n.y)t=Math.max(n.y,Math.min(t,t-(t+this.viewPortHeight-this.hScrollSize-a)));else{o=n.bottom-this.viewPortHeight;t=Math.min(n.y,o)}e*=-1,t*=-1}return{x:e,y:t}},e}(),wf=function(){function e(e,t,n,r,i){this.objects=[],this.left=e,this.top=t,this.width=n,this.height=r,this.spatialSearch=i}return e.prototype.findQuads=function(e,t){null!=this.first&&this.first.isIntersect(e)&&this.first.findQuads(e,t),null!=this.second&&this.second.isIntersect(e)&&this.second.findQuads(e,t),null!=this.third&&this.third.isIntersect(e)&&this.third.findQuads(e,t),null!=this.fourth&&this.fourth.isIntersect(e)&&this.fourth.findQuads(e,t),this.objects.length>0&&t.push(this)},e.prototype.isIntersect=function(e){return!(this.left+this.width<e.left||this.top+this.height<e.top||this.left>e.right||this.top>e.bottom)},e.prototype.selectQuad=function(){for(var e,t=null,n=this;null!=n;)e=n.getQuad(t),n=e.source,t=e.target||t;return t},e.prototype.getQuad=function(t){var n=this.width/2,r=this.height/2;if(n>=1e3&&r>=1e3){var i=this.left+n,o=this.top+r;if(this.spatialSearch.childRight<=i){if(this.spatialSearch.childBottom<=o){if(!this.first)(a=new e(this.left,this.top,n,r,this.spatialSearch)).parent=this,this.first=a;return{source:this.first}}if(this.spatialSearch.childTop>=o){if(!this.third)(a=new e(this.left,o,n,r,this.spatialSearch)).parent=this,this.third=a;return{source:this.third}}}else if(this.spatialSearch.childLeft>=i){if(this.spatialSearch.childBottom<=o){if(!this.second)(a=new e(i,this.top,n,r,this.spatialSearch)).parent=this,this.second=a;return{source:this.second}}if(this.spatialSearch.childTop>=o){var a;if(!this.fourth)(a=new e(i,o,n,r,this.spatialSearch)).parent=this,this.fourth=a;return{source:this.fourth}}}}return this,this.objects.push(this.spatialSearch.childNode),{target:this}},e.prototype.isContained=function(){return this.spatialSearch.childLeft>=this.left&&this.spatialSearch.childRight<=this.left+this.width&&this.spatialSearch.childTop>=this.top&&this.spatialSearch.childBottom<=this.top+this.height},e.prototype.addIntoAQuad=function(e){var t={};this.spatialSearch.setCurrentNode(e);for(var n=null;!t.isAdded;)n=(t=this.spatialSearch.parentQuad.add(n)).quad;return n},e.prototype.add=function(t){if(t=null,this.isContained())return{isAdded:!0,quad:t=this.selectQuad()};var n=void 0,r=0===this.objects.length&&!this.first&&!this.second&&!this.third&&!this.fourth,i=2*this.width,o=2*this.height;return this.spatialSearch.childLeft<this.left?this.spatialSearch.childTop<this.top?(n=new e(this.left-this.width,this.top-this.height,i,o,this.spatialSearch),r||(n.fourth=this)):(n=new e(this.left-this.width,this.top,i,o,this.spatialSearch),r||(n.second=this)):this.spatialSearch.childTop<this.top?(n=new e(this.left,this.top-this.height,i,o,this.spatialSearch),r||(n.third=this)):(n=new e(this.left,this.top,i,o,this.spatialSearch),r||(n.first=this)),this.parent=n,this.spatialSearch.parentQuad=n,{isAdded:!1,quad:t}},e}(),xf=function(){function e(e){this.quadSize=500,this.objectTable=e,this.parentQuad=new wf(0,0,2*this.quadSize,2*this.quadSize,this),this.pageLeft=Number.MAX_VALUE,this.pageRight=-Number.MAX_VALUE,this.pageTop=Number.MAX_VALUE,this.pageBottom=-Number.MAX_VALUE,this.quadTable={}}return e.prototype.removeFromAQuad=function(e){if(this.quadTable[e.id]){var t=this.quadTable[e.id],n=this.objectIndex(t.objects,e);-1!==n&&(t.objects.splice(n,1),this.update(t),delete this.quadTable[e.id])}},e.prototype.update=function(e){if(e.parent&&0===e.objects.length&&e.first&&e.second&&e.third&&e.fourth){var t=e.parent;t.first===e?t.first=null:t.second===e?t.second=null:t.third===e?t.third=null:t.fourth===e&&(t.fourth=null),this.update(e.parent)}else e!==this.parentQuad||e.first||e.second||e.third||e.fourth||(e.left=0,e.width=1e3,e.top=0,e.height=1e3)},e.prototype.addIntoAQuad=function(e){var t=this.parentQuad.addIntoAQuad(e);this.quadTable[e.id]=t},e.prototype.objectIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return n;return-1},e.prototype.updateQuad=function(e){this.setCurrentNode(e);var t=e.outerBounds;if(isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height))return!1;this.quadTable[e.id]?this.quadTable[e.id].isContained()||(this.removeFromAQuad(e),this.addIntoAQuad(e)):this.addIntoAQuad(e);if(!this.isWithinPageBounds(t)||this.leftElement===e||this.topElement===e||this.rightElement===e||this.bottomElement===e){var n=!1;return this.pageLeft===this.childLeft&&e===this.leftElement||(this.pageLeft>=this.childLeft?(this.pageLeft=this.childLeft,this.leftElement=e,n=!0):e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.findLeft(this.parentQuad),n=!0)),this.pageTop===this.childTop&&e===this.topElement||(this.pageTop>=this.childTop?(this.pageTop=this.childTop,this.topElement=e,n=!0):e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.findTop(this.parentQuad),n=!0)),this.pageBottom===this.childBottom&&e===this.bottomElement||(this.pageBottom<=this.childBottom?(n=!0,this.pageBottom=this.childBottom,this.bottomElement=e):e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.findBottom(this.parentQuad),n=!0)),this.pageRight===this.childRight&&e===this.rightElement||(this.pageRight<=this.childRight?(this.pageRight=this.childRight,this.rightElement=e,n=!0):e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.findRight(this.parentQuad),n=!0)),n}return this.setCurrentNode(null),!1},e.prototype.isWithinPageBounds=function(e){return e.left>=this.pageLeft&&e.right<=this.pageRight&&e.top>=this.pageTop&&e.bottom<=this.pageBottom},e.prototype.findQuads=function(e){var t=[];return this.parentQuad.findQuads(e,t),t},e.prototype.findObjects=function(e){for(var t=[],n=0,r=this.findQuads(e);n<r.length;n++)for(var i=0,o=r[n].objects;i<o.length;i++){var a=o[i];a.outerBounds.intersects(e)&&t.push(this.objectTable[a.id])}return t},e.prototype.updateBounds=function(e){var t=!1;return e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.topElement=null,this.findTop(this.parentQuad),t=!0),e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.leftElement=null,this.findLeft(this.parentQuad),t=!0),e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.rightElement=null,this.findRight(this.parentQuad),t=!0),e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.bottomElement=null,this.findBottom(this.parentQuad),t=!0),t},e.prototype.findBottom=function(e){e.third||e.fourth?(e.third&&this.findBottom(e.third),e.fourth&&this.findBottom(e.fourth)):(e.second&&this.findBottom(e.second),e.first&&this.findBottom(e.first));for(var t=0,n=e.objects;t<n.length;t++){var r=n[t];this.pageBottom<=r.outerBounds.bottom&&(this.pageBottom=r.outerBounds.bottom,this.bottomElement=r)}},e.prototype.findRight=function(e){e.second||e.fourth?(e.second&&this.findRight(e.second),e.fourth&&this.findRight(e.fourth)):(e.first&&this.findRight(e.first),e.third&&this.findRight(e.third));for(var t=0,n=e.objects;t<n.length;t++){var r=n[t];this.pageRight<=r.outerBounds.right&&(this.pageRight=r.outerBounds.right,this.rightElement=r)}},e.prototype.findLeft=function(e){e.first||e.third?(e.first&&this.findLeft(e.first),e.third&&this.findLeft(e.third)):(e.second&&this.findLeft(e.second),e.fourth&&this.findLeft(e.fourth));for(var t=0,n=e.objects;t<n.length;t++){var r=n[t];this.pageLeft>=r.outerBounds.left&&(this.pageLeft=r.outerBounds.left,this.leftElement=r)}},e.prototype.findTop=function(e){e.first||e.second?(e.first&&this.findTop(e.first),e.second&&this.findTop(e.second)):(e.third&&this.findTop(e.third),e.fourth&&this.findTop(e.fourth));for(var t=0,n=e.objects;t<n.length;t++){var r=n[t];this.pageTop>=r.outerBounds.top&&(this.pageTop=r.outerBounds.top,this.topElement=r)}},e.prototype.setCurrentNode=function(e){if(this.childNode=e,e){var t=e.outerBounds;this.childLeft=Number(t.left),this.childTop=Number(t.top),this.childRight=Number(t.right),this.childBottom=Number(t.bottom)}else this.childLeft=Number.MAX_VALUE,this.childTop=Number.MAX_VALUE,this.childRight=-Number.MAX_VALUE,this.childBottom=-Number.MAX_VALUE},e.prototype.getPageBounds=function(e,t){if(this.pageLeft===Number.MAX_VALUE)return new Ar(0,0,0,0);var n=void 0!==e?Math.min(this.pageLeft,0):this.pageLeft,r=void 0!==t?Math.min(this.pageTop,0):this.pageTop;return new Ar(Math.round(n),Math.round(r),Math.round(this.pageRight-n),Math.round(this.pageBottom-r))},e.prototype.getQuad=function(e){return this.quadTable[e.id]},e}(),Cf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sf=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cf(t,e),Sf([_t(!1)],t.prototype,"preventDefaults",void 0),t}(on),Pf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ef=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pf(t,e),Ef([_t("")],t.prototype,"action",void 0),Ef([_t("")],t.prototype,"cursor",void 0),t}(on),Tf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),If=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tf(t,e),If([_t(!0)],t.prototype,"inversedAlignment",void 0),t}(on),kf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nf=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Mf=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Df=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rf=function(e){function t(t,n){var r,i,o=e.call(this,t,n)||this;o.version=17.1,o.checkMenu=!1,o.isServerUpdate=!1,o.oldNodeObjects=[],o.oldDiagramObject={},o.oldConnectorObjects=[],o.canEnableBlazorObject=!1,o.connectorTable={},o.groupTable={},o.scrollActions=Xr.None,o.blazorActions=Pr.Default,o.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},o.textEditing=!1,o.isTriggerEvent=!1,o.preventNodesUpdate=!1,o.preventConnectorsUpdate=!1,o.callBlazorModel=!0,o.selectionConnectorsList=[],o.deleteVirtualObject=!1,o.canLayout=!0,o.changedConnectorCollection=[],o.changedNodesCollection=[],o.previousNodeCollection=[],o.previousConnectorCollection=[],o.crudDeleteNodes=[],o.blazorAddorRemoveCollection=[],o.blazorRemoveIndexCollection=[],o.diagramid=88123,o.selectedObject={helperObject:void 0,actualObject:void 0},o.renderTimer=null;var a=v()&&window&&window.Blazor&&!o.dataSourceSettings.dataSource;o.ignoreCollectionWatch=!0;for(var s=0;t&&t.nodes&&s<t.nodes.length;s++)r=t.nodes[s],i=o.nodes[s],r.children&&r.children.length>0&&(r.style&&r.style.fill||(i.style.fill="transparent"),r.style&&r.style.strokeColor||(i.style.strokeColor="transparent")),r.shape&&"UmlActivity"===r.shape.type&&uh(r,i),r.shape&&"SwimLane"===r.shape.type&&ch(r,i),a&&o.previousNodeCollection.push(Xu(i,void 0,void 0,!0)),o.nodeDefaults&&Ah(i,r,o.nodeDefaults),o.updateAnnotationText(i.annotations);if(t&&t.connectors)for(s=0;t&&t.connectors&&s<t.connectors.length;s++)r=t.connectors[s],i=o.connectors[s],a&&o.previousConnectorCollection.push(Xu(i,void 0,void 0,!0)),o.connectorDefaults&&Ah(i,r,o.connectorDefaults),o.updateAnnotationText(i.annotations);for(s=0;t&&t.connectors&&s<t.connectors.length;s++){var l=t.connectors[s],c=o.connectors[s];if(l.shape&&"None"!==l.shape.type&&ph(l,c),v()){var h=Xu(o.bulkChanges);o.enableServerDataBinding(!0),o.protectPropertyChange(!0);for(var d=Object.keys(h),u=0;u<d.length;u++){var p=d[u],f=p.split("-");f&&f[0]&&("nodes"===f[0]&&(h[p].sfIndex=Number(f[1]),o.changedNodesCollection.push(h[p])),"connectors"===f[0]&&(h[p].sfIndex=Number(f[1]),o.changedConnectorCollection.push(h[p])))}}}return o}return kf(t,e),t.prototype.updateAnnotationText=function(e){if(v()&&e.length>0)for(var t=0;e&&t<e.length;t++){var n=e[t];n.content=n.content.split("\\n").join("\n")}},t.prototype.callFromServer=function(e){if("getParentID"===e.methodName){var t=e.id;return this.nameTable[t].parentId}if("getEdges"===e.methodName){var n=e.outEdge;t=e.id;return n?this.nameTable[t].outEdges:this.nameTable[t].inEdges}if("updateDiagramObjects"===e.methodName){var r=e.obj;if(this.isServerUpdate=!0,e.IsAdding){this.add.apply(this,r)}else{this.remove.apply(this,r)}this.isServerUpdate=!1}else if("invokeLoadDiagramMethod"===e.methodName){this.loadDiagram(e.data)}},t.prototype.clearCollection=function(e){for(var t,n=[],r=0,i=Object.keys(this.nameTable);r<i.length;r++){var o=i[r];(t=this.nameTable[o])&&(e&&t instanceof Al||!e&&t instanceof iu)&&n.push(t)}this.clearObjects(n)},t.prototype.onPropertyChanged=function(n,r){var i,o,a=!0,s=!1,l=!1;if(this.diagramActions&Qr.Render){for(var c=0,h=Object.keys(n);c<h.length;c++){switch(h[c]){case"width":case"height":this.element.style.width=this.getSizeValue(this.width),this.element.style.height=this.getSizeValue(this.height),this.eventHandler.updateViewPortSize(this.element);for(var d=0,u=this.views;d<u.length;d++){var p=u[d];(_=this.views[p])instanceof t||_.updateView(_)}break;case"nodes":if(n.nodes.length>0&&0===r.nodes.length)this.clearCollection(),l=!0;else{for(var f=0,g=Object.keys(n.nodes);f<g.length;f++){var A=g[f],m=Number(A),y=this.nodes[m],b=n.nodes[m];s=s||void 0!==b.excludeFromLayout,this.nodePropertyChange(y,r.nodes[m],b,void 0,!0,!0);var w={element:ud(y),cause:this.diagramActions,oldValue:ud(r.nodes[m]),newValue:ud(n.nodes[m])};v()&&(w.element={node:ud(y)},w.oldValue={node:ud(o)},w.newValue={node:ud(i)}),this.triggerEvent(Kr.propertyChange,w),a&&(a=!1)}"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"connectors":if(n.connectors.length>0&&0===r.connectors.length)this.clearCollection(!0),l=!0;else{for(var x=0,C=Object.keys(n.connectors);x<C.length;x++){A=C[x],m=Number(A),y=this.connectors[m];(b=n.connectors[m])&&(b.sourceDecorator||b.targetDecorator)&&(this.diagramActions|=Qr.DecoratorPropertyChange),this.connectorPropertyChange(y,r.connectors[m],b,!0,!0),b&&(b.sourceDecorator||b.targetDecorator)&&(this.diagramActions=this.diagramActions&~Qr.DecoratorPropertyChange);w={element:ud(y),cause:this.diagramActions,oldValue:ud(r.connectors[m]),newValue:ud(n.connectors[m])};v()&&(w.element={connector:ud(y)},w.oldValue={connector:ud(o)},w.newValue={connector:ud(i)}),this.triggerEvent(Kr.propertyChange,w),y&&y.parentId&&"UmlClassifier"===this.nameTable[y.parentId].shape.type&&this.updateConnectorEdges(this.nameTable[y.parentId]||y),a&&(a=!1)}this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"bridgeDirection":this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer();break;case"backgroundColor":this.intOffPageBackground();break;case"pageSettings":this.validatePageSize(),this.updatePage();break;case"selectedItems":if(n.selectedItems.userHandles&&this.selectedItems.wrapper&&this.selectedItems.userHandles&&this.selectedItems.userHandles.length>0){this.renderSelector(!0);break}if(n.selectedItems.constraints){this.renderSelector(!0);break}break;case"snapSettings":this.updateSnapSettings(n);break;case"commandManager":this.initCommands();break;case"layout":s=!0;break;case"dataSourceSettings":this.clear(),this.initObjects(),"None"===this.layout.type?l=!0:s=!0;break;case"tooltip":Ts(this);break;case"rulerSettings":this.updateRulerSettings(n);break;case"layers":this.updateLayer(n);break;case"scrollSettings":this.scrollActions|=Xr.PropertyChange,this.updateScrollSettings(n),this.scrollActions&=~Xr.PropertyChange;break;case"locale":n.locale!==r.locale&&(this.realActions|=Vr.PreventDataInit,e.prototype.refresh.call(this),this.realActions&=~Vr.PreventDataInit);break;case"contextMenuSettings":if(void 0!==n.contextMenuSettings.showCustomMenuOnly&&(this.contextMenuSettings.showCustomMenuOnly=n.contextMenuSettings.showCustomMenuOnly),void 0!==n.contextMenuSettings.show&&(this.contextMenuSettings.show=n.contextMenuSettings.show),n.contextMenuSettings.items){for(var S=n.contextMenuSettings.items,B=0,P=Object.keys(S);B<P.length;B++){A=P[B],m=Number(A);this.contextMenuSettings.items[m]=S[m]}this.contextMenuModule&&this.contextMenuModule.refreshItems()}break;case"serializationSettings":void 0!==n.serializationSettings.preventDefaults&&(this.serializationSettings.preventDefaults=n.serializationSettings.preventDefaults)}}if(s&&!l){if(r.layout&&"DifferentPoint"===r.layout.connectionPointOrigin&&"SamePoint"===n.layout.connectionPointOrigin||r.layout&&n.layout&&!n.layout.enableRouting&&r.layout.enableRouting){for(var E=0;E<this.nodes.length;E++){var O=this.nodes[E];if(O.ports&&O.ports.length>0){for(var T=[],I=O.ports.length-1;I>=0;I--)"LineDistribution"===O.ports[I].id.split("_")[1]&&T.push(O.ports[I]);this.removePorts(O,T)}}for(I=0;I<this.connectors.length;I++){var L=this.connectors[I],k=L.sourcePortID,N=L.targetPortID;L.sourcePortID="",L.targetPortID="",L.sourcePortWrapper=void 0,L.targetPortWrapper=void 0,L.segments=[],this.connectorPropertyChange(L,{sourcePortID:k,targetPortID:N},{sourcePortID:"",targetPortID:""})}}this.doLayout(),this.renderReactTemplates()}if(a&&this.propertyChange){w={element:ud(this),cause:this.diagramActions,oldValue:ud(r),newValue:ud(n)};v()&&(w.element={diagram:ud(this)},w.oldValue={diagram:ud(o)},w.newValue={diagram:ud(i)}),this.triggerEvent(Kr.propertyChange,w)}if(!l&&this.canLogChange()&&this.modelChanged(n,r)){var M={type:"PropertyChanged",undoObject:r,redoObject:n,category:"Internal"};this.historyManager&&this.addHistoryEntry(M)}this.resetDiagramActions(),l&&(this.initObjects(!0),this.refreshDiagramLayer(),s&&this.doLayout());var D=1===Object.keys(n).length&&void 0!==n.scrollSettings;if(!l)for(var R=0,j=this.views;R<j.length;R++){var _=j[R];(p=this.views[_])instanceof t||(n.scrollSettings&&n.scrollSettings.currentZoom!==r.scrollSettings.currentZoom&&p.updateHtmlLayer(p),D||this.refreshCanvasDiagramLayer(p))}this.resetTemplate()}},t.prototype.updateSnapSettings=function(e){(void 0!==e.snapSettings.constraints||e.snapSettings.horizontalGridlines||e.snapSettings.verticalGridlines||e.snapSettings.gridType)&&this.diagramRenderer.updateGrid(this.snapSettings,Cu(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.updateRulerSettings=function(e){void 0!==e.rulerSettings.dynamicGrid&&this.diagramRenderer.updateGrid(this.snapSettings,Cu(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),void 0!==e.rulerSettings.showRulers?(this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):void 0===e.rulerSettings.horizontalRuler&&void 0===e.rulerSettings.verticalRuler||(void 0!==e.rulerSettings.horizontalRuler.thickness||void 0!==e.rulerSettings.verticalRuler.thickness?(xl(this),this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):wl(this)),this.diagramRenderer.updateGrid(this.snapSettings,Cu(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){this.initializePrivateVariables(),this.isProtectedOnChange=!0,this.serviceLocator=new fp,this.initializeServices(),this.setCulture();window.measureElement&&(window.measureElement=null),this.initDiagram(),this.initViews(),this.unWireEvents(),this.wireEvents(),this.element.classList.add("e-diagram")},t.prototype.initializePrivateVariables=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-diagram").length;this.element.id="diagram_"+this.diagramid+"_"+e}this.defaultLocale={Copy:"Copy",Cut:"Cut",Paste:"Paste",Undo:"Undo",Redo:"Redo",SelectAll:"Select All",Grouping:"Grouping",Group:"Group",UnGroup:"Un Group",Order:"Order",BringToFront:"Bring To Front",MoveForward:"Move Forward",SendToBack:"Send To Back",SendBackward:"Send Backward"},this.layerZIndex=-1,this.layerZIndexTable={},this.nameTable={},this.pathTable={},this.groupTable={},this.commands={},this.isLoading||(this.views=[]),this.commandHandler=new vf(this),this.eventHandler=new uf(this,this.commandHandler),this.spatialSearch=new xf(this.nameTable),this.scroller=new bf(this)},t.prototype.initializeServices=function(){this.serviceLocator.register("localization",this.localeObj=new Bn(this.getModuleName(),this.defaultLocale,this.locale))},t.prototype.setCulture=function(){this.localeObj=new Bn(this.getModuleName(),this.defaultLocale,this.locale)},t.prototype.render=function(){this.refreshing&&this.dataSourceSettings.dataSource&&!this.isLoading&&(this.nodes=[],this.connectors=[]),this.ignoreCollectionWatch=!0;window.domTable={};var e=[];if(v()){for(var t=[],n=[],r=0;r<this.changedNodesCollection.length;r++)t.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedNodesCollection[r]));for(r=0;r<this.changedConnectorCollection.length;r++)n.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedConnectorCollection[r]));var i="sfBlazor",o="Blazor",a={nodes:t,connectors:n};if(window&&window[o]&&!this.dataSourceSettings.dataSource&&(t.length>0||n.length>0)){var s={methodName:"UpdateBlazorProperties",diagramobj:a};window[i].updateBlazorProperties(s,this)}}this.dataSourceSettings.crudAction.read&&this.renderInitialCrud(),this.initHistory(),this.diagramRenderer=new sp(this.element.id,new ap,"SVG"===this.mode),this.initLayers(),this.initializeDiagramLayers(),this.diagramRenderer.setLayers(),this.initObjects(!0);var l=!1;if(v()&&!this.dataSourceSettings.dataSource&&"None"!==this.layout.type){for(var c=0,h=this.nodes;c<h.length;c++){s=h[c];this.insertValue(Xu(s),!0)}for(var d=0,u=this.connectors;d<u.length;d++){s=u[d];this.insertValue(Xu(s),!1)}l=!0}var p=this.nodes;for(r=0;r<p.length;r++)p[r].isExpanded||e.push(p[r]);if(e.length)for(r=e.length-1;r>=0;r--)this.commandHandler.expandNode(e[r],this);if(this.canLayout&&this.doLayout(),l&&this.commandHandler.getBlazorOldValues(),this.lineRoutingModule){var f=[],g=[],A=[];if(v())for(var m=0,y=this.connectors;m<y.length;m++){s=y[m];f.push(Xu(s,void 0,void 0,!0))}if(this.lineRoutingModule.lineRouting(this),v()){for(var b=0,w=this.connectors;b<w.length;b++){s=w[b];g.push(Xu(s,void 0,void 0,!0))}if(this.commandHandler.getObjectChanges(f,g,A),!(this.blazorActions&Pr.ClearObject)){i="sfBlazor",o="Blazor",a={nodes:[],connectors:A};if(window&&window[o]){s={methodName:"UpdateBlazorProperties",diagramobj:a};window[i].updateBlazorProperties(s,this)}}}}this.validatePageSize(),this.renderPageBreaks(),this.diagramRenderer.renderSvgGridlines(this.snapSettings,Cu(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.commandHandler.initSelectorWrapper(),this.notify("initial-load",{}),this.trigger("load"),this.scroller.setSize(),this.scroller.updateScrollOffsets(),this.refreshDiagramLayer(),(this.scrollSettings.verticalOffset>0||this.scrollSettings.horizontalOffset>0)&&this.updateScrollOffset(),le.isDevice&&(this.tool=_r.ZoomPan|_r.SingleSelect),this.notify("initial-end",{}),this.isProtectedOnChange=!1,this.tooltipObject=Ts(this),this.diagramActions=Qr.Render,this.initCommands();var x=document.getElementsByClassName(this.element.id+"_hiddenUserHandleTemplate");!function(e,t,n,r){var i,o,a,s,l,c=document.getElementById(r).ej2_instances[0];if(e&&t){i=Qu(e);for(var h=0,d=n.userHandles;h<d.length;h++)if(o=d[h],i){for(a=i(Xu(o),c,"userHandleTemplate_"+o.name,void 0,void 0,!1),s=0;s<a.length;s++)(l=Ou("div",{style:"height: 100%; width: 100%; pointer-events: all",id:o.name+"_template_hiddenUserHandle"})).appendChild(a[s]);t[0].appendChild(l)}}else if(v())for(var u=void 0,p=0,f=n.userHandles;p<f.length;p++)if(!(o=f[p]).pathData&&!o.content&&!o.source){for(s=0,u=(a=je(o.content))(ud(o),c,"userHandleTemplate","diagramsf_userHandle_template");s<u.length;s++)(l=Ou("div",{style:"height: 100%; width: 100%; pointer-events: all",id:o.name+"_template_hiddenUserHandle"})).appendChild(u[s]);t[0].appendChild(l)}}(this.userHandleTemplate,x,this.selectedItems,this.element.id),this.updateTemplate(),this.isLoading=!1,this.renderComplete(),this.updateFitToPage(),this.refreshing&&this.renderReactTemplates()},t.prototype.updateFitToPage=function(){this.pageSettings&&this.pageSettings.fitOptions&&this.pageSettings.fitOptions.canFit&&this.fitToPage(this.pageSettings.fitOptions)},t.prototype.updateTemplate=function(){for(var e,t,n,r=0;r<this.nodes.length;r++)if("HTML"===(e=this.nodes[r]).shape.type||"Native"===e.shape.type){_e("diagramsf_node_template","NodeTemplate",this,!1);break}for(r=0;r<this.nodes.length;r++)if((t=(e=this.nodes[r]).annotations[0])&&"Template"===t.annotationType){_e("diagramsf_annotation_template","AnnotationTemplate",this,!1);break}for(r=0;r<this.connectors.length;r++)if((n=this.connectors[r].annotations[0])&&"Template"===n.annotationType){_e("diagramsf_annotation_template","AnnotationTemplate",this,!1);break}for(r=0;r<this.selectedItems.userHandles.length;r++)if(this.selectedItems.userHandles[r].template){_e("diagramsf_userHandle_template","UserHandleTemplate",this,!1);break}},t.prototype.resetTemplate=function(){for(var e,t,n,r=0;r<this.nodes.length;r++)if("HTML"===(e=this.nodes[r]).shape.type&&e.shape.content instanceof HTMLElement){Fe("diagramsf_node_template");break}for(r=0;r<this.nodes.length;r++)if((t=(e=this.nodes[r]).annotations[0])&&"Template"===t.annotationType&&t.content instanceof HTMLElement){Fe("diagramsf_annotation_template");break}for(r=0;r<this.connectors.length;r++)if((n=this.connectors[r].annotations[0])&&"Template"===n.annotationType&&n.content instanceof HTMLElement){Fe("diagramsf_annotation_template");break}for(r=0;r<this.selectedItems.userHandles.length;r++)if(this.selectedItems.userHandles[r].template){_e("diagramsf_userHandle_template","UserHandleTemplate",this,!1);break}},t.prototype.renderInitialCrud=function(){var e,t=this;t.dataSourceSettings.crudAction.read&&((e=new Z(t.dataSourceSettings.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.dataManager?t.dataSourceSettings.dataManager=JSON.parse(e):t.dataSourceSettings.dataSource=JSON.parse(e),t.dataBind()},e.send().then());t.dataSourceSettings.connectionDataSource.crudAction.read&&((e=new Z(t.dataSourceSettings.connectionDataSource.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.connectionDataSource.dataManager=JSON.parse(e),t.dataBind()},e.send().then())},t.prototype.getModuleName=function(){return"diagram"},t.prototype.getClassName=function(){return"Diagram"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e.push({member:"Bridging",args:[]}),e.push({member:"ConnectorEditingTool",args:[]}),v()&&e.push({member:"BlazorTooltip",args:[]}),this.constraints&jr.UndoRedo&&e.push({member:"UndoRedo",args:[]}),("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type||this.layout.enableAnimation)&&e.push({member:"LayoutAnimate",args:[]}),this.snapSettings.constraints&&e.push({member:"Snapping",args:[this]}),e.push({member:"PrintandExport",args:[this]}),this.contextMenuSettings.show&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type||e.push({member:"OrganizationalChart",args:[this]}),"ComplexHierarchicalTree"===this.layout.type&&e.push({member:"ComplexHierarchicalTree",args:[]}),"MindMap"===this.layout.type&&e.push({member:"MindMapChart",args:[]}),"RadialTree"===this.layout.type&&e.push({member:"RadialTree",args:[]}),"SymmetricalLayout"===this.layout.type&&e.push({member:"SymmetricalLayout",args:[]}),(this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource||this.dataSourceSettings.crudAction.read||this.dataSourceSettings.connectionDataSource.crudAction.read)&&e.push({member:"DataBinding",args:[]}),this.constraints&jr.LineRouting&&e.push({member:"LineRouting",args:[]}),(this.layout&&"DifferentPoint"===this.layout.connectionPointOrigin||"Linear"===this.layout.arrangement||this.layout.enableRouting)&&e.push({member:"LineDistribution",args:[]}),e},t.prototype.removeUserHandlesTemplate=function(){if(this.selectedItems.userHandles.length)for(var e=0;e<this.selectedItems.userHandles.length;e++)for(var t=0,n=this.views;t<n.length;t++){var r=n[t];Nu(this.selectedItems.userHandles[e].name+"_template_hiddenUserHandle",r)}},t.prototype.destroy=function(){if(clearInterval(this.renderTimer),this.renderTimer=null,this.hRuler&&this.vRuler&&(this.hRuler.destroy(),this.vRuler.destroy()),this.tooltipObject.destroy(),this.droppable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),this.removeUserHandlesTemplate(),this.clearTemplate(),document.getElementById(this.element.id)){this.element.classList.remove("e-diagram");for(var t=document.getElementsByClassName("e-diagram-tooltip");t.length>0;)t[0].parentNode.removeChild(t[0]);var n=document.getElementById(this.element.id+"content");n&&this.element.removeChild(n);if(window.measureElement){window.measureElement.usageCount-=1;window.measureElementCount--,0===window.measureElementCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null)}}window.domTable={};for(var r=0;r<this.layers.length;r++){this.layers[r].zIndexTable={}}this.diagramActions=void 0},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent,r=le.isPointer?"pointerleave":"mouseleave",i=le.isPointer,o="mozilla"===le.info.name?i?"mousewheel":"DOMMouseScroll":"mousewheel";ce.add(this.diagramCanvas,e,this.eventHandler.mouseDown,this.eventHandler),ce.add(this.diagramCanvas,n,this.eventHandler.mouseMove,this.eventHandler),ce.add(this.diagramCanvas,t,this.eventHandler.mouseUp,this.eventHandler),ce.add(this.diagramCanvas,r,this.eventHandler.mouseLeave,this.eventHandler),ce.add(this.diagramCanvas,"keydown",this.eventHandler.keyDown,this.eventHandler),ce.add(this.diagramCanvas,"keyup",this.eventHandler.keyUp,this.eventHandler),ce.add(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick,this.eventHandler),ce.add(this.diagramCanvas,"scroll",this.eventHandler.scrolled,this.eventHandler),ce.add(this.diagramCanvas,o,this.eventHandler.mouseWheel,this.eventHandler),ce.add(window,"resize",this.eventHandler.windowResize,this.eventHandler),this.initDroppables()},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchMoveEvent,n=le.isPointer?"pointerleave":"mouseleave",r=le.isPointer,i="mozilla"===le.info.name?r?"mousewheel":"DOMMouseScroll":"mousewheel",o=le.touchEndEvent;ce.remove(this.diagramCanvas,e,this.eventHandler.mouseDown),ce.remove(this.diagramCanvas,t,this.eventHandler.mouseMove),ce.remove(this.diagramCanvas,o,this.eventHandler.mouseUp),ce.remove(this.diagramCanvas,n,this.eventHandler.mouseLeave),ce.remove(this.diagramCanvas,"keydown",this.eventHandler.keyDown),ce.remove(this.diagramCanvas,"keyup",this.eventHandler.keyUp),ce.remove(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick),ce.remove(this.diagramCanvas,"scroll",this.eventHandler.scrolled),ce.remove(this.diagramCanvas,i,this.eventHandler.mouseWheel),ce.remove(window,"resize",this.eventHandler.windowResize)},t.prototype.select=function(e,t){if(v()){for(var n=0;n<e.length;n++)e[n]=this.nameTable[e[n].id];e=this.nameTable[e.id]||e}null!=e&&this.commandHandler.selectObjects(e,t)},t.prototype.selectAll=function(){var e;e=this.getObjectsOfLayer(this.activeLayer.objects),this.select(e)},t.prototype.unSelect=function(e){v()&&(this.commandHandler.oldSelectedObjects=Xu(this.selectedItems),e=this.nameTable[e.id]||e),e&&_p(this,e)&&(this.commandHandler.unSelect(e),this.commandHandler.updateBlazorSelector())},t.prototype.clearSelection=function(){this.commandHandler.clearSelection(!0)},t.prototype.updateViewPort=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.eventHandler.updateViewPortSize(this.element),this.updateBlazorDiagramProperties(e,!0)},t.prototype.cutCommand=function(){this.cut()},t.prototype.cut=function(){this.commandHandler.cut()},t.prototype.addProcess=function(e,t){this.bpmnModule&&this.bpmnModule.addProcess(e,t,this)},t.prototype.removeProcess=function(e){this.bpmnModule&&this.bpmnModule.removeProcess(e,this)},t.prototype.pasteCommand=function(){this.paste()},t.prototype.paste=function(e){this.commandHandler.paste(e)},t.prototype.fitToPage=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.fitToPage(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.bringIntoView=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.bringIntoView(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.bringToCenter=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.bringToCenter(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.copyCommand=function(){this.copy()},t.prototype.copy=function(){return this.commandHandler.copy()},t.prototype.group=function(){this.selectedItems.nodes.length>1&&(this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.group(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues())},t.prototype.unGroup=function(){this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.unGroup(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues()},t.prototype.sendToBack=function(){this.commandHandler.sendToBack()},t.prototype.setActiveLayer=function(e){var t=this.commandHandler.getLayer(e);this.activeLayer=t},t.prototype.addLayer=function(e,t){this.commandHandler.addLayer(e,t)},t.prototype.addDiagramLayer=function(e,t){this.commandHandler.addLayer(e,t,!1)},t.prototype.removeLayer=function(e){this.commandHandler.removeLayer(e,v())},t.prototype.removeDiagramLayer=function(e){this.commandHandler.removeLayer(e,!1)},t.prototype.moveObjects=function(e,t){var n=Xu(this.layers);this.enableServerDataBinding(!1),this.commandHandler.moveObjects(e,t);var r=this.commandHandler.deepDiffer.map(n,Xu(this.layers)),i=this.commandHandler.deepDiffer.frameObject({},r);this.oldDiagramObject={layers:i},this.commandHandler.updateBlazorProperties()},t.prototype.layerObjectUpdate=function(){if(v()){this.enableServerDataBinding(!1),this.oldDiagramObject.layers=[];for(var e=0;e<this.layers.length;e++){var t=Xu(this.layers[e]);t.sfIndex=this.layers[e].zIndex,this.oldDiagramObject.layers.push(t)}}},t.prototype.sendLayerBackward=function(e){this.layerObjectUpdate(),this.commandHandler.sendLayerBackward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject,!0)},t.prototype.bringLayerForward=function(e){this.layerObjectUpdate(),this.commandHandler.bringLayerForward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject)},t.prototype.cloneLayer=function(e){this.commandHandler.cloneLayer(e)},t.prototype.bringToFront=function(){this.commandHandler.bringToFront()},t.prototype.moveForward=function(){this.commandHandler.sendForward()},t.prototype.sendBackward=function(){this.commandHandler.sendBackward()},t.prototype.getObject=function(e){return this.nameTable[e]},t.prototype.getNodeObject=function(e){return Xu(this.nameTable[e])},t.prototype.getConnectorObject=function(e){return Xu(this.nameTable[e])},t.prototype.getActiveLayer=function(){return this.activeLayer},t.prototype.nudgeCommand=function(e,t,n){"object"!==typeof e&&(this.selectedItems.nodes.length||this.selectedItems.connectors.length)>0&&this.nudge(e)},t.prototype.nudge=function(e,t,n){var r=0,i=0;"Left"===e||"Right"===e?r=("Left"===e?-1:1)*(t||1):i=("Up"===e?-1:1)*(n||1);var o=this.selectedItems,a=this.selectedItems.wrapper.children[0];if(a instanceof gi)this.commandHandler.labelDrag(o.nodes[0],a,r,i);else{var s=Xu(this.selectedItems);this.protectPropertyChange(!0),this.drag(o,r,i),this.protectPropertyChange(!1);var l={type:"PositionChanged",redoObject:Xu(this.selectedItems),undoObject:s,category:"Internal"};this.addHistoryEntry(l)}this.refreshCanvasLayers()},t.prototype.insertBlazorDiagramObjects=function(e){if(v()&&!(this.blazorActions&Pr.interaction)){if(this.enableServerDataBinding(!1),e instanceof hu){for(var t=0;t<e.nodes.length;t++)this.insertBlazorDiagramObjects(e.nodes[t]);for(t=0;t<e.connectors.length;t++)this.insertBlazorDiagramObjects(e.connectors[t])}if(!(e instanceof hu)){if(e&&e.children&&e.children.length>0)for(t=0;t<e.children.length;t++)this.insertBlazorDiagramObjects(this.nameTable[e.children[t]]);var n=Xu(this.nameTable[e.id]);this.insertValue(n,!(nd(e)===Al))}}},t.prototype.drag=function(e,t,n){if((this.insertBlazorDiagramObjects(e),v()&&e.id&&(e=this.nameTable[e.id]||e),this.bpmnModule&&e instanceof iu)&&this.bpmnModule.updateAnnotationDrag(e,this,t,n))return;if(e instanceof hu){if(this.preventConnectorsUpdate=!0,e.nodes&&e.nodes.length){for(var r=0,i=e.nodes;r<i.length;r++){var o=i[r];if(this.callBlazorModel=!1,this.drag(o,t,n),o.parentId){var a=this.nameTable[o.parentId];if(a.isLane)Bc(a,this.nameTable[a.parentId],o,this)}}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var s=0,l=e.connectors;s<l.length;s++){var c=l[s];this.drag(c,t,n),-1===this.selectionConnectorsList.indexOf(c)&&this.selectionConnectorsList.push(c)}this.callBlazorModel=!0}this.updateSelector(),this.diagramActions&Qr.DragUsingMouse&&this.updatePage()}else e instanceof iu&&this.bpmnModule&&this.bpmnModule.updateAnnotationDrag(e,this,t,n),this.commandHandler.drag(e,t,n);if(e instanceof hu){this.preventConnectorsUpdate=!1;for(var h=0,d=this.selectionConnectorsList;h<d.length;h++){var u=d[h];this.updateConnectorProperties(this.nameTable[u.id]),"Bpmn"===u.shape.type&&"Default"===u.shape.sequence&&this.commandHandler.updatePathElementOffset(u)}this.selectionConnectorsList=[]}this.diagramActions&Qr.ToolAction||this.diagramActions&Qr.DragUsingMouse||this.updateSelector(),!this.callBlazorModel||this.blazorActions&Pr.interaction||this.blazorActions&Pr.GroupClipboardInProcess||this.commandHandler.getBlazorOldValues()},t.prototype.disableStackContainerPadding=function(e,t){if(e instanceof bd&&(e.considerPadding=t),e.children)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.disableStackContainerPadding(i,!1)}},t.prototype.scale=function(e,t,n,r){this.disableStackContainerPadding(e.wrapper,!1),this.insertBlazorDiagramObjects(e);var i=!0;if(e.id&&(e=this.nameTable[e.id]||e),e instanceof hu){if(e.nodes&&e.nodes.length){this.callBlazorModel=!1;for(var o=0,a=e.nodes;o<a.length;o++){var s=a[o];i=this.commandHandler.scale(s,t,n,r,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(s,1/t,1/n,r,e)}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var l=0,c=e.connectors;l<c.length;l++){var h=c[l];this.commandHandler.scale(h,t,n,r,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(h,1/t,1/n,r,e)}this.callBlazorModel=!0}this.updateSelector(),this.refreshCanvasLayers()}else this.commandHandler.scale(e,t,n,r,e.children?e:void 0);return!this.callBlazorModel||this.blazorActions&Pr.interaction||this.blazorActions&Pr.GroupClipboardInProcess||this.commandHandler.getBlazorOldValues(),this.disableStackContainerPadding(e.wrapper,!0),i},t.prototype.rotate=function(e,t,n){var r;if(this.insertBlazorDiagramObjects(e),e.id&&(e=this.nameTable[e.id]||e),e)if(n=n||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof hu){this.callBlazorModel=!1,e.rotateAngle+=t,e.wrapper.rotateAngle+=t;var i=Vu(e.wrapper);if(!(r=this.commandHandler.checkBoundaryConstraints(void 0,void 0,i)))return e.rotateAngle-=t,e.wrapper.rotateAngle-=t,r;var o=[];o=(o=o.concat(e.nodes)).concat(e.connectors),this.commandHandler.rotateObjects(e,o,t,n),this.callBlazorModel=!0}else this.commandHandler.rotateObjects(e,[e],t,n);return!this.callBlazorModel||this.blazorActions&Pr.interaction||this.commandHandler.getBlazorOldValues(),r},t.prototype.dragSourceEnd=function(e,t,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragSourceEnd(e,t,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.dragTargetEnd=function(e,t,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragTargetEnd(e,t,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.findObjectsUnderMouse=function(e,t){return this.eventHandler.findObjectsUnderMouse(e,t)},t.prototype.findObjectUnderMouse=function(e,t,n){return this.eventHandler.findObjectUnderMouse(e,t,n)},t.prototype.findTargetObjectUnderMouse=function(e,t,n,r,i){return this.eventHandler.findTargetUnderMouse(e,t,n,r,i)},t.prototype.findElementUnderMouse=function(e,t,n){return this.eventHandler.findElementUnderMouse(e,t,n)},t.prototype.findActionToBeDone=function(e,t,n,r){return this.eventHandler.findActionToBeDone(e,t,n,r)},t.prototype.getTool=function(e){var t,n=ip(this.getCustomTool);return n&&(t=n(e))?t:this.eventHandler.getTool(e)},t.prototype.getCursor=function(e,t){var n,r=ip(this.getCustomCursor);if(r&&(n=r(e,t)))return n;if(this.customCursor.length)for(var i=0;i<this.customCursor.length;i++)if(this.customCursor[i].action===e)return this.customCursor[i].cursor;return this.eventHandler.getCursor(e)},t.prototype.initHistory=function(){this.undoRedoModule&&this.undoRedoModule.initHistory(this)},t.prototype.addHistoryEntry=function(e){if(this.undoRedoModule&&this.constraints&jr.UndoRedo&&(!this.currentSymbol||this.checkCurrentSymbol(this.currentSymbol,e))){if(e.undoObject&&"helper"===e.undoObject.id)return;this.undoRedoModule.addHistoryEntry(e,this),"StartGroup"!==e.type&&"EndGroup"!==e.type&&this.historyChangeTrigger(e,"CustomAction")}},t.prototype.checkCurrentSymbol=function(e,t){var n=!1;if(t.undoObject&&t.redoObject){var r=t.undoObject,i=t.undoObject;return!(!i.id||!r.id||i.id===e.id||r.id===e.id)||n}return n},t.prototype.addCustomHistoryEntry=function(e){v()&&this.undoRedoModule&&this.constraints&jr.UndoRedo&&(e.type=void 0,e.category="External",this.undoRedoModule.addHistoryEntry(e,this))},t.prototype.historyChangeTrigger=function(e,t){var n={},r=[];if("Internal"===e.category){switch(e&&e.redoObject&&e.redoObject.nodes instanceof Array&&e.redoObject.connectors instanceof Array?r=e.redoObject.nodes.concat(e.redoObject.connectors):e.redoObject&&r.push(e.redoObject),n.type=e.type,v()&&(n.entryType=e.type),e.type){case"PositionChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY};break;case"RotationChanged":n.oldValue={rotateAngle:e.undoObject.rotateAngle},n.newValue={rotateAngle:e.redoObject.rotateAngle};break;case"SizeChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY,width:e.undoObject.width,height:e.undoObject.height},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY,width:e.redoObject.width,height:e.redoObject.height};break;case"CollectionChanged":n[e.changeType]=r;break;case"ConnectionChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY}}var i=void 0;if(i={cause:e.category,source:ud(r),change:ud(n),action:t},v()){var o=(i={cause:e.category,change:ud(n),source:{connectors:void 0,nodes:void 0},action:t}).source;o.connectors=[],o.nodes=[];for(var a=void 0,s=0;s<r.length;s++)a=ud(r[s]),nd(r[s])===Al?o.connectors.push(a):o.nodes.push(a);i.source=o}r.length&&this.triggerEvent(Kr.historyChange,i)}},t.prototype.startGroupAction=function(){this.diagramActions&Qr.UndoRedo||this.addHistoryEntry({type:"StartGroup",category:"Internal"})},t.prototype.endGroupAction=function(){this.diagramActions&Qr.UndoRedo||this.addHistoryEntry({type:"EndGroup",category:"Internal"})},t.prototype.undo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&jr.UndoRedo&&this.undoRedoModule.undo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.redo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&jr.UndoRedo&&this.undoRedoModule.redo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.getBlazorDiagramObjects=function(e){if(e)for(var t=0;t<e.length;t++)this.insertBlazorDiagramObjects(e[t]);else this.insertBlazorDiagramObjects(this.selectedItems);this.callBlazorModel=!1,this.canEnableBlazorObject=!0},t.prototype.align=function(e,t,n){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Qr.PublicMethod,this.commandHandler.align(t,e,n||"Object"),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.distribute=function(e,t){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Qr.PublicMethod,this.commandHandler.distribute(t,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.sameSize=function(e,t){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Qr.PublicMethod,this.commandHandler.sameSize(t,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.updateBlazorDiagramProperties=function(e,t){if(v()&&!t){var n=this.allowServerDataBinding;this.enableServerDataBinding(!0);for(var r=0;r<e.length;r++)this.oldDiagramObject[e[r]]=Xu(this[e[r]]);this.enableServerDataBinding(n)}t&&this.commandHandler.getDiagramOldValues(this.oldDiagramObject,e)},t.prototype.getZoomingAttribute=function(){var e=[];return e.push("scrollSettings"),e.push("snapSettings"),e},t.prototype.zoom=function(e,t){var n=this.getZoomingAttribute();this.updateBlazorDiagramProperties(n),this.scroller.zoom(e,0,0,t),this.blazorActions&Pr.interaction||this.updateBlazorDiagramProperties(n,!0)},t.prototype.zoomTo=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t);var n=e.zoomFactor?e.zoomFactor:.2;n="ZoomOut"===e.type?1/(1+n):1+n,this.scroller.zoom(n,0,0,e.focusPoint),this.updateBlazorDiagramProperties(t,!0)},t.prototype.pan=function(e,t,n){var r=this.getZoomingAttribute();this.updateBlazorDiagramProperties(r),this.setCursor("grabbing"),this.scroller.zoom(1,e,t,n),this.updateBlazorDiagramProperties(r,!0)},t.prototype.reset=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.scroller.zoom(1/this.scroller.currentZoom,-this.scroller.horizontalOffset,-this.scroller.verticalOffset,{x:0,y:0}),this.updateBlazorDiagramProperties(e,!0)},t.prototype.resetSegments=function(){var e=[],t=[],n=[];if(v())for(var r=0,i=this.connectors;r<i.length;r++){var o=i[r];e.push(Xu(o,void 0,void 0,!0))}if(this.constraints&jr.LineRouting&&this.lineRoutingModule)this.lineRoutingModule.lineRouting(this);else{this.protectPropertyChange(!0);for(var a=void 0,s=0;s<this.connectors.length;s++)(a=this.connectors[s]).segments=[],this.connectorPropertyChange(a,{},{segments:a.segments});this.protectPropertyChange(!1)}if(v()){for(var l=0,c=this.connectors;l<c.length;l++){o=c[l];t.push(Xu(o,void 0,void 0,!0))}this.commandHandler.getObjectChanges(e,t,n);var h={nodes:[],connectors:n};if(window&&window.Blazor){o={methodName:"UpdateBlazorProperties",diagramobj:h};window.sfBlazor.updateBlazorProperties(o,this)}}},t.prototype.setBlazorDiagramProps=function(e){var t=this.getZoomingAttribute();e?this.updateBlazorDiagramProperties(t):this.updateBlazorDiagramProperties(t,!0)},t.prototype.triggerEvent=function(e,t){return Mf(this,void 0,void 0,(function(){var n;return Df(this,(function(r){switch(r.label){case 0:return t&&this.updateEventValue(t),[4,this.trigger(Kr[e],t)];case 1:return n=r.sent(),v()&&"string"===typeof n&&(n=JSON.parse(n)),[2,n]}}))}))},t.prototype.updateEventValue=function(e){var t=e.element;e.element&&t instanceof hu&&t.nodes.length+t.connectors.length===1&&(e.element=1===t.nodes.length?t.nodes[0]:t.connectors[0])},t.prototype.addNodeToLane=function(e,t,n){if(this.nameTable[t]){var r=this.nameTable[t];if(this.protectPropertyChange(!0),this.undoRedoModule&&this.historyManager.startGroupAction(),this.nameTable[e.id]||(e.offsetX=r.wrapper.bounds.width+r.wrapper.bounds.x,e.offsetY=r.wrapper.bounds.height+r.wrapper.bounds.y,e=this.add(e)),e.parentId="",r.shape.phases.length)for(var i=0;i<r.shape.phases.length;i++){l=t+n+i;if(this.nameTable[l]&&this.nameTable[l].isLane){var o=this.nameTable[l].wrapper.bounds,a={x:o.x+(o.x-r.wrapper.bounds.x+e.margin.left+e.wrapper.bounds.width/2),y:o.y+r.wrapper.bounds.y-e.margin.top};if("Horizontal"===r.shape.orientation)a.y=o.y;else{a.x=o.x;var s=this.nameTable[l].parentId+r.shape.lanes[0].id+"_0_header";a.y=o.y+(r.wrapper.bounds.y-this.nameTable[s].wrapper.bounds.height+e.margin.top+e.wrapper.bounds.height/2)}if(o.containsPoint(a)||l===t+n+(r.shape.phases.length-1)){Cc(this,this.nameTable[l],e,void 0,!0),Bc(this.nameTable[l],r,e,this);break}}}else{var l=t+n+"0";this.nameTable[l]&&(Cc(this,this.nameTable[l],e,void 0,!0),Bc(this.nameTable[l],r,e,this))}this.undoRedoModule&&this.historyManager.endGroupAction(),this.protectPropertyChange(!1)}this.updateDiagramElementQuad()},t.prototype.showTooltip=function(e){e&&e.id&&!e.wrapper&&(e=this.nameTable[e.id]);var t=Vu(e.wrapper),n={x:0,y:0},r=e.tooltip.content?e.tooltip.content:"X:"+Math.round(t.x)+" Y:"+Math.round(t.y);e&&"Custom"===e.tooltip.openOn&&(n=e instanceof iu?{x:e.offsetX+e.width/2,y:e.offsetY+e.height/2}:{x:e.targetPoint.x,y:e.targetPoint.x},this.commandHandler.showTooltip(e,n,r,"SelectTool",!0))},t.prototype.hideTooltip=function(e){e&&"Custom"===e.tooltip.openOn&&this.tooltipObject.close()},t.prototype.addNode=function(e,t){return this.add(e,t)},t.prototype.addChildToGroup=function(e,t){var n=this.allowServerDataBinding;this.enableServerDataBinding(!1);var r=this.isProtectedOnChange;this.protectPropertyChange(!0),e=this.getObject(e.id),v()&&this.insertValue(e,!0);var i=!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.Group)&&!(this.diagramActions&Qr.PreventHistory);i&&this.startGroupAction();var o=this.addChild(e,t);if(i){var a={};a[o]=Xu(this.getObject(o));var s={type:"AddChildToGroupNode",changeType:"Insert",undoObject:Xu(e),redoObject:Xu(e),category:"Internal",objectId:o,childTable:a};this.addHistoryEntry(s),this.endGroupAction()}this.protectPropertyChange(r),this.enableServerDataBinding(n),this.updateSelector(),v()&&i&&this.commandHandler.getBlazorOldValues()},t.prototype.getHistoryStack=function(e){var t=[],n=e?this.historyManager.undoStack:this.historyManager.redoStack;if(void 0!==this.historyManager.stackLimit){for(var r=n.length-1;r>=0;r--)if(t.push(n[r]),t.length>this.historyManager.stackLimit)return t}else t=n;return t},t.prototype.getEdges=function(e){return e.outEdge?this.nameTable[e.id].outEdges:this.nameTable[e.id].inEdges},t.prototype.getParentId=function(e){return this.nameTable[e].parentId},t.prototype.addConnector=function(e){return this.add(e)},t.prototype.UpdateBlazorDiagramModelCollection=function(e,t,n,r){if(!(this.blazorActions&Pr.ClearObject)){if(window&&window.Blazor){var i=void 0,o=[],a=[],s=[],l=[];if(r&&!t)for(var c=0;c<this.blazorAddorRemoveCollection.length;c++)s.push(nd(this.blazorAddorRemoveCollection[c])===Al?"Connector":"Node"),i=ud(this.blazorAddorRemoveCollection[c]),a.push(i),l=this.blazorRemoveIndexCollection;else if(!this.isServerUpdate||n){this.isServerUpdate=!0;var h=ud(e),d=void 0,u=[];if(!t){u=n||this.commandHandler.getChildren(e,[]);for(c=0;c<u.length;c++)h=ud(u[c]),a.push(h),d=nd(u[c])===Al?this.connectors.indexOf(u[c]):this.nodes.indexOf(u[c]),l.push(d),s.push(nd(u[c])===Al?"Connector":"Node");n||(a.push(ud(e)),l.push(this.nodes.indexOf(e)),s.push(nd(e)===Al?"Connector":"Node"))}if(t&&t.length>0)for(c=0;c<t.length;c++){h=ud(t[c]),t[c]instanceof iu?a.push(h):o.push(h),s.push(nd(t[c])===Al?"Connector":"Node")}this.isServerUpdate=!1}var p={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(a),ObjectType:s,removalIndex:t?void 0:l,isMultipleObjects:!0,annotationIndex:void 0,connectorObj:JSON.stringify(o)}};window.sfBlazor.updateBlazorProperties(p,this),r&&!t&&(this.blazorAddorRemoveCollection=[],this.blazorRemoveIndexCollection=[])}}},t.prototype.UpdateBlazorDiagramModel=function(e,t,n,r){if(!(this.blazorActions&Pr.GroupClipboardInProcess)){if(window&&window.Blazor&&!this.isServerUpdate&&!(this.diagramActions&Qr.Clear)){var i=ud(e),o={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(i),ObjectType:t,removalIndex:n,isMultipleObjects:!1,annotationIndex:r,connectorObj:void 0}};window.sfBlazor.updateBlazorProperties(o,this)}}},t.prototype.UpdateBlazorLabelOrPortObjects=function(e,t,n,r){if(window&&window.Blazor&&e.length>0&&!this.isServerUpdate&&!(this.diagramActions&Qr.Clear)){for(var i=[],o=[],a=[],s=0;s<e.length;s++)i.push(ud(e[s])),o.push(t),a.push(r);var l={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(i),ObjectType:o,removalIndex:n,isMultipleObjects:!0,annotationIndex:a,connectorObj:null,portIndex:"Port"===t?a:[]}};window.sfBlazor.updateBlazorProperties(l,this)}},t.prototype.addBlazorDiagramObjects=function(){var e=[],t=[];if(this.dataBindingModule&&!(this.realActions&Vr.PreventDataInit)){for(var n=0;n<this.nodes.length;n++)e.push(Xu(this.nodes[n],void 0,void 0,!0));for(n=0;n<this.connectors.length;n++)t.push(Xu(this.connectors[n],void 0,void 0,!0))}if(window&&window.Blazor){var r={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(e),isConnector:!1}};window.sfBlazor.updateBlazorProperties(r,this),r={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(t),isConnector:!0}},window.sfBlazor.updateBlazorProperties(r,this)}},t.prototype.removeNodeEdges=function(e,t,n){var r=this.nameTable[e],i=n?r.outEdges:r.inEdges;if(i.length>0)for(var o=0;o<i.length;o++)i[o]===t&&i.splice(o,1)},t.prototype.insertBlazorConnector=function(e){v()&&e instanceof Al&&(e.sourceID&&this.nameTable[e.sourceID]&&this.insertValue(Xu(this.nameTable[e.sourceID]),!0),e.targetID&&this.nameTable[e.targetID]&&this.insertValue(Xu(this.nameTable[e.targetID]),!0))},t.prototype.add=function(e,n){var r,i=this.isProtectedOnChange;if(this.protectPropertyChange(!0),e){var o=void 0;o={element:e=Xu(e),cause:this.diagramActions,state:"Changing",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),v()&&(o=td(o,e,"Changing","Addition")),"helper"===e.id||this.diagramActions&Qr.PreventCollectionChangeOnDragOver||this.triggerEvent(Kr.collectionChange,o),o.cancel&&this.drawingObject&&(this.removeElements(o.element),this.tooltipObject.close(),nd(o.element)===Al&&(o.element.sourceID&&this.removeNodeEdges(o.element.sourceID,o.element.id,!0),o.element.targetID&&this.removeNodeEdges(o.element.targetID,o.element.id,!1))),this.diagramActions=this.diagramActions|Qr.PublicMethod,e.id=e.id||Uu();var a=this.activeLayer;if(!o.cancel&&!a.lock){if(a.objects.indexOf(e.id)<0&&!a.lock&&(a.visible||(a.visible=!0,this.dataBind()),a.objects.push(e.id)),nd(e)===Al)(r=new Al(this,"connectors",e,!0)).status="New",Ah(r,e,this.connectorDefaults),this.connectors.push(r),this.initObject(r),v()&&(this.blazorActions&Pr.GroupingInProgress?this.blazorAddorRemoveCollection.push(r):this.blazorAddorRemoveCollection.length>0?(this.isServerUpdate=!1,this.blazorAddorRemoveCollection.push(r),this.UpdateBlazorDiagramModelCollection(void 0,this.blazorAddorRemoveCollection,void 0,!0),this.blazorAddorRemoveCollection=[],this.commandHandler.getBlazorOldValues()):this.isServerUpdate||this.blazorActions&Pr.GroupClipboardInProcess||(this.UpdateBlazorDiagramModel(r,"Connector"),this.commandHandler.getBlazorOldValues())),!1===e.visible&&this.updateElementVisibility(r.wrapper,r,e.visible),this.updateEdges(r),this.insertBlazorConnector(r);else{if(Ah(r=new iu(this,"nodes",e,!0),e,this.nodeDefaults),r.parentId=e.parentId,r.umlIndex=e.umlIndex,r.status="New",this.nodes.push(r),this.initObject(r,a,void 0,n),v()&&(this.blazorActions&Pr.GroupingInProgress?this.blazorAddorRemoveCollection.push(r):this.blazorAddorRemoveCollection.length>0?(this.blazorAddorRemoveCollection.push(r),this.isServerUpdate=!1,this.UpdateBlazorDiagramModelCollection(void 0,this.blazorAddorRemoveCollection,void 0,!0),this.commandHandler.getBlazorOldValues(),this.blazorAddorRemoveCollection=[]):this.isServerUpdate||this.blazorActions&Pr.GroupClipboardInProcess||(this.UpdateBlazorDiagramModel(r,"Node"),this.commandHandler.getBlazorOldValues())),this.updateTemplate(),this.bpmnModule){if(r.shape.annotations&&0!==r.shape.annotations.length)for(var s=0,l=this.bpmnModule.getTextAnnotationConn(r);s<l.length;s++){var c=l[s];this.initConnectors(c,a,!1)}r.shape.activity&&r.shape.activity.subProcess.processes&&r.shape.activity.subProcess.processes.length&&this.bpmnModule.updateDocks(r,this)}if(this.lineRoutingModule&&this.constraints&jr.LineRouting)for(var h=this.spatialSearch.findObjects(r.wrapper.outerBounds),d=0;d<h.length;d++){var u=h[d];u instanceof Al&&this.connectorPropertyChange(u,{},{sourceID:u.sourceID,targetID:u.targetID,sourcePortID:u.sourcePortID,targetPortID:u.targetPortID,sourcePoint:u.sourcePoint,targetPoint:u.targetPoint})}if(r.umlIndex>-1&&e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type){var p=this.nameTable[e.parentId];p.children.splice(r.umlIndex,0,r.id),p.wrapper.children.splice(r.umlIndex,0,r.wrapper),p.wrapper.measure(new nr),p.wrapper.arrange(p.wrapper.desiredSize),this.updateDiagramObject(p)}}if(o={element:r,cause:this.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),v()&&(o=td(o,e,"Changed","Addition")),"helper"===e.id||this.diagramActions&Qr.PreventCollectionChangeOnDragOver||this.triggerEvent(Kr.collectionChange,o),!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.Group)&&!(this.diagramActions&Qr.PreventHistory)){var f={type:"CollectionChanged",changeType:"Insert",undoObject:Xu(e),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(f)}this.parentObject=void 0,"SVG"===this.mode&&(this.updateSvgNodes(r),this.updateTextElementValue(r),this.updateDiagramObject(r),r.shape.activity&&r.shape.activity.subProcess.processes&&r.shape.activity.subProcess.processes.length&&this.updateProcesses(r),this.updateBridging())}}this.protectPropertyChange(i),this.resetDiagramActions(Qr.PublicMethod),r&&this.layers.length>1&&this.moveNode(r);for(var g=0,A=this.views;g<A.length;g++){var m=A[g],y=this.views[m];y instanceof t||this.refreshCanvasDiagramLayer(y)}return this.renderReactTemplates(),r},t.prototype.updateSvgNodes=function(e){if(e.children)for(var t=0,n=e.children;t<n.length;t++){var r=n[t];if(this.nameTable[r]&&this.nameTable[r].parentId){var i=Au(r+"_groupElement",this.element.id);i&&i.parentNode.removeChild(i)}}},t.prototype.updateProcesses=function(e){if(this.bpmnModule&&e&&e.shape&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length){var t=e.shape.activity.subProcess.processes;this.moveSvgNode(e.id);for(var n=0,r=t;n<r.length;n++){var i=r[n];this.moveSvgNode(i);for(var o=[],a=(o=o.concat(this.nameTable[i].outEdges,this.nameTable[i].inEdges)).length-1;a>=0;a--)this.moveSvgNode(o[a])}for(var s=0,l=t;s<l.length;s++){i=l[s];this.nameTable[i].shape.activity.subProcess.processes&&this.nameTable[i].shape.activity.subProcess.processes.length&&this.updateProcesses(this.nameTable[i])}}else this.moveSvgNode(e.id)},t.prototype.moveSvgNode=function(e){var t=Au(e+"_groupElement",this.element.id),n=t.parentElement;t.parentNode.removeChild(t),n.appendChild(t)},t.prototype.addTextAnnotation=function(e,t){if(this.bpmnModule){var n=this.bpmnModule.addAnnotation(t,e,this);if(this.initConnectors(n,this.commandHandler.getObjectLayer(t.id),!1),this.updateDiagramObject(t),!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.Group)){var r={type:"CollectionChanged",changeType:"Insert",undoObject:Xu(e),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(r)}}},t.prototype.spliceConnectorEdges=function(e,t){var n=[],r=t?this.nameTable[e.sourceID]:this.nameTable[e.targetID];if(r){for(var i=(n=t?r.outEdges:r.inEdges).length-1;i>=0;i--)n[i]===e.id&&n.splice(i,1);for(var o=0;r.ports&&o<r.ports.length;o++){var a=!t;this.removePortEdges(r,r.ports[o].id,e.id,a)}}},t.prototype.removeDependentConnector=function(e){for(var t,n=[],r=(n=n.concat(e.outEdges,e.inEdges)).length-1;r>=0;r--)(t=this.nameTable[n[r]])&&(this.connectorTable[t.id]=Xu(t),this.remove(t))},t.prototype.removeObjectsFromLayer=function(e){if(e.children)for(var t=0;t<e.children.length;t++){var n=this.nameTable[e.children[t]];n&&this.removeObjectsFromLayer(n)}var r=this.layers.indexOf(this.commandHandler.getObjectLayer(e.id)),i=this.layers[r].objects.indexOf(e.id);i>-1&&(_p(this,e)&&this.unSelect(e),this.layers[r].objects.splice(i,1),delete this.layers[r].zIndexTable[this.nameTable[e.id].zIndex])},t.prototype.removeElements=function(e){if("SVG"===this.mode||"Canvas"===this.mode&&"Native"===e.shape.type){var t=Au(e.id+"_groupElement",this.element.id),n=e;if(n.ports&&n.ports.length>0)for(var r=0;r<n.ports.length;r++){var i=n.ports[r],o=Au(n.id+"_"+i.id+"_groupElement",this.element.id);o&&o.parentNode.removeChild(o)}t&&t.parentNode.removeChild(t)}if(this.refreshCanvasLayers(),e.wrapper){var a=e.wrapper.children,s=void 0;if(a)for(r=0;r<a.length;r++){if(a[r]instanceof Bi||a[r].id&&a[r].id.indexOf("icon_content")>0){a[r].id.indexOf("icon_content")>0&&"SVG"===this.mode&&((s=Au(a[r].id+"_shape_groupElement",this.element.id))&&s.parentNode.removeChild(s),(s=Au(a[r].id+"_rect_groupElement",this.element.id))&&s.parentNode.removeChild(s));for(var l=0,c=this.views;l<c.length;l++){var h=c[l];Nu(a[r].id+"_groupElement",h);var d=this.scroller.removeCollection.indexOf(e.id);this.scroller.removeCollection.splice(d,1)}}else if(a[r]instanceof Us)for(var u=0,p=this.views;u<p.length;u++){h=p[u];Nu(e.id+"_html_element",h),Nu(a[r].id+"_html_element",h),this.clearTemplate(["nodeTemplate_"+e.id]),a[r].annotationId&&this.clearTemplate(["annotationTemplate_"+e.id+a[r].annotationId])}_h(a[r].id)}}},t.prototype.removeCommand=function(){this.remove()},t.prototype.remove=function(e){var t,n=[];n=n.concat(this.selectedItems.nodes,this.selectedItems.connectors);var r=!1;if(e){if(e=this.nameTable[e.id],this.insertBlazorConnector(e),e&&(Ol(e)||this.diagramActions&Qr.Clear)&&(t={element:e,cause:this.diagramActions,state:"Changing",type:"Removal",cancel:!1},v()&&(t=td(t,e,"Changing","Removal")),this.diagramActions&Qr.Clear||"helper"===e.id||this.triggerEvent(Kr.collectionChange,t),!t.cancel)){if(Ol(e)&&e&&e.shape&&"SwimLane"===e.shape.type&&function(e,t){var n,r,i,o,a,s,l=t.wrapper.children[0].rows;for(r=0;r<l.length;r++)for(i=0;i<l[r].cells.length;i++){if((a=th(l[r].cells[i]))&&a.children)for(o=a.children.length-1;o>=0;o--)a.children[o].children&&(s=e.nameTable[a.children[o].id])&&(s.isLane?nh(e,s):(e.removeDependentConnector(s),e.diagramActions|=Qr.PreventHistory,s.constraints&Mr.Delete?e.remove(s):yc(e,s,{},!1),e.diagramActions&=~Qr.PreventHistory));a&&(n=e.nameTable[a.id])&&nh(e,n)}}(this,e),this.bpmnModule&&this.bpmnModule.checkAndRemoveAnnotations(e,this))return void this.refreshCanvasLayers();if(!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.PreventHistory)&&(e instanceof iu||e instanceof Al)){var i={type:"CollectionChanged",changeType:"Remove",undoObject:Xu(e),redoObject:Xu(e),category:"Internal"};this.diagramActions&Qr.Clear||e.children&&!e.isLane&&!e.isPhase&&e.children.length>0&&this.undoRedoModule&&"None"===this.layout.type&&(this.historyManager.startGroupAction(),r=!0),e instanceof iu&&this.removeDependentConnector(e),e.isLane||e.isPhase||this.diagramActions&Qr.Clear||this.isStackChild(e)||this.addHistoryEntry(i)}!e.children||e.isLane||e.isPhase||v()&&this.diagramActions&Qr.UndoRedo||this.deleteGroup(e),e.parentId&&(this.deleteChild(e),this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type&&(this.updateDiagramObject(this.nameTable[e.parentId]),this.updateConnectorEdges(this.nameTable[e.parentId])));var o=void 0;this.diagramActions=this.diagramActions|Qr.PublicMethod;var a=this.nameTable[e.id];if(a instanceof iu){if("Bpmn"===a.shape.type&&this.bpmnModule&&this.bpmnModule.removeBpmnProcesses(a,this),a.isLane||a.isPhase||"SwimLane"===a.shape.type){(s=a.isLane||a.isPhase?this.nameTable[a.parentId]:this.nameTable[a.id]).wrapper.children[0];a.isLane?rh(this,a,s):a.isPhase&&oh(this,a,s)}o=this.nodes.indexOf(a),v()&&"helper"!==e.id&&(this.blazorActions&Pr.GroupingInProgress?(this.blazorRemoveIndexCollection.splice(0,0,o),this.blazorAddorRemoveCollection.splice(0,0,e)):this.blazorAddorRemoveCollection.length>0?(this.commandHandler.getBlazorOldValues(),this.blazorRemoveIndexCollection.splice(0,0,o),this.blazorAddorRemoveCollection.splice(0,0,e),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0)):this.isServerUpdate||this.blazorActions&Pr.GroupClipboardInProcess||this.UpdateBlazorDiagramModel(e,"Node",o)),-1!==o&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.nodes.splice(o,1),this.updateNodeEdges(a))}else o=this.connectors.indexOf(a),v()&&(this.blazorActions&Pr.GroupingInProgress?(this.blazorAddorRemoveCollection.splice(0,0,e),this.blazorRemoveIndexCollection.splice(0,0,o)):this.blazorAddorRemoveCollection.length>0?(this.commandHandler.getBlazorOldValues(),this.blazorAddorRemoveCollection.splice(0,0,e),this.blazorRemoveIndexCollection.splice(0,0,o),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0)):this.isServerUpdate||this.blazorActions&Pr.GroupClipboardInProcess||this.UpdateBlazorDiagramModel(e,"Connector",o)),-1!==o&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.connectors.splice(o,1)),this.updateEdges(a),this.spliceConnectorEdges(e,!0),this.spliceConnectorEdges(e,!1);if(this.isServerUpdate||this.blazorActions&Pr.GroupClipboardInProcess||this.commandHandler.getBlazorOldValues(),r&&this.historyManager.endGroupAction(),_p(this,a)&&this.unSelect(a),!a.isPhase){if(this.removeObjectsFromLayer(e),this.currentDrawingObject&&(this.currentDrawingObject.wrapper=void 0),delete this.nameTable[e.id],n.length>0&&n[0].id===a.id&&a.parentId){var s,l=this.nameTable[a.parentId];if(l&&l.isLane&&"SwimLane"===this.nameTable[l.parentId].shape.type)eh(this,s=this.nameTable[l.parentId],l,a)}this.removeElements(a),this.updateBridging(),"SVG"!==this.mode&&this.refreshDiagramLayer(),this.diagramActions&Qr.Clear||(this.removeFromAQuad(a),t={element:e,cause:this.diagramActions,state:"Changed",type:"Removal",cancel:!1},v()&&(t=td(t,e,"Changed","Removal")),"helper"!==e.id&&this.triggerEvent(Kr.collectionChange,t),this.resetTool())}}}else if(n.length>0){this.undoRedoModule&&(this.historyManager.startGroupAction(),this.blazorActions|=Pr.GroupingInProgress,r=!0),v()&&n.length>1&&this.clearSelection();for(var c=0;c<n.length;c++){n[c];if(this.nameTable[n[c].id]){if(n[c]instanceof Al&&this.bpmnModule&&this.bpmnModule.textAnnotationConnectors.indexOf(n[c])>-1)return void this.remove(this.nameTable[n[c].targetID]);v()&&(!this.isServerUpdate&&n&&n.length>1&&(this.isServerUpdate=!0),n[c].parentId&&this.insertBlazorDiagramObjects(this.nameTable[n[c].parentId])),this.remove(n[c]),v()&&n[c].parentId&&(this.commandHandler.getBlazorOldValues(),this.isServerUpdate=!1)}}r&&(this.blazorActions&=~Pr.GroupingInProgress,this.isServerUpdate=!0,this.commandHandler.getBlazorOldValues(),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0),this.historyManager.endGroupAction(),this.isServerUpdate=!1),this.clearSelection()}if(this.tooltipObject.close(),v()&&n&&n.length>0){for(var h=!0,d=0;d<n.length;d++)this.nameTable[n[d].id]&&(h=!1);h&&(this.isServerUpdate=!1)}},t.prototype.isStackChild=function(e){var t,n=this.nameTable[e.parentId];if(e&&e.parentId&&n.container&&"Stack"===n.container.type&&"UmlClassifier"!==this.nameTable[e.parentId].shape.type){t=!0;var r={type:"StackChildPositionChanged",redoObject:{sourceIndex:void 0,source:e,target:void 0,targetIndex:void 0},undoObject:{sourceIndex:n.wrapper.children.indexOf(e.wrapper),source:e,target:void 0,targetIndex:void 0},category:"Internal"};this.diagramActions&Qr.UndoRedo||this.addHistoryEntry(r)}return t},t.prototype.deleteChild=function(e,t){var n;if(t=t?this.nameTable[t.id]:this.nameTable[e.parentId],n="string"===typeof e?e:e.id,t&&t.children){for(var r=0;r<t.children.length;r++)if(t.children[r]===n){t.children.splice(r,1);for(var i=0;i<t.wrapper.children.length;i++)t.wrapper.children[i].id===n&&t.wrapper.children.splice(i,1)}t.wrapper.measure(new nr),t.wrapper.arrange(t.wrapper.desiredSize)}},t.prototype.addChild=function(e,t,n){var r,i=this.nameTable[e.id];if(i.children||(i.children=[]),i.children&&("string"===typeof t?this.nameTable[t]&&(r=t):(r=t.id=t.id||Uu(),this.add(t)),r&&(!t.umlIndex||-1===t.umlIndex))){var o=this.nameTable[r];o.parentId=i.id,i.container&&"Stack"===i.container.type&&this.updateStackProperty(i,o),n?(i.children.splice(n,0,r),i.wrapper.children.splice(n,0,o.wrapper)):(i.children.push(r),i.wrapper.children.push(o.wrapper)),i.wrapper.measure(new nr),i.wrapper.arrange(i.wrapper.desiredSize),i.isLane||(this.nameTable[e.id].width=i.wrapper.actualSize.width,this.nameTable[e.id].height=i.wrapper.actualSize.height,this.nameTable[e.id].offsetX=i.wrapper.offsetX,this.nameTable[e.id].offsetY=i.wrapper.offsetY),void 0!==i.container&&(o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY),(!i.parentId||this.nameTable[i.parentId]&&"SwimLane"!==this.nameTable[i.parentId].shape.type)&&this.updateDiagramObject(i)}return r},t.prototype.clear=function(){this.clearObjects()},t.prototype.clearObjects=function(e){var t=[];t=e||(t=t.concat(this.nodes)).concat(this.connectors),this.diagramActions=this.diagramActions|Qr.Clear;for(var n=0,r=t;n<r.length;n++){var i=r[n];this.nameTable[i.id]&&this.remove(i)}this.diagramActions=this.diagramActions&~Qr.Clear,this.spatialSearch=new xf(this.nameTable),this.initHistory()},t.prototype.startEditCommad=function(){var e,t=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:void 0;if(t&&t instanceof iu)if(t.isLane&&t.parentId)for(var n=this.nameTable[t.parentId],r=n.shape.lanes,i=t.id.slice(n.id.length),o=i.substring(0,i.length-1),a=0;a<r.length;a++)t.isLane&&o===r[a].id&&(e=this.nameTable[r[a].header.id]);else if("SwimLane"===t.shape.type&&t.shape.header&&t.shape.hasHeader){var s=t.wrapper.children[0].rows[0].cells[0].children[0].id;e=this.nameTable[s]}this.startTextEdit(e)},t.prototype.startTextEdit=function(e,t){if(!Ql(this)&&!zl(this)||Ul(this)){this.textEditing=!0;var n=this.scroller.transform,r=Kl(this)?n.scale:1,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0;if(e||(e=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:this.selectedItems.connectors[0]),e){if(v()){var c=Xu(e);c.annotations.length>0&&this.insertValue(c,e instanceof iu),e=this.nameTable[e.id]||e}e.shape&&"UmlClassifier"===e.shape.type&&(e=this.nameTable[e.children[0]]);var h=!1;if(this.bpmnModule&&(l=this.bpmnModule.getTextAnnotationWrapper(e,t))&&(e=this.nameTable[e.id.split("_textannotation_")[0]]),l?h=!0:("Text"!==e.shape.type&&0===e.annotations.length&&(e.constraints&Mr.ReadOnly||(this.activeLabel.isGroup=!0,this.startGroupAction(),this.addLabels(e,[{id:Uu(),content:""}]))),!t&&("Text"!==e.shape.type&&e.annotations.length>0||"Text"===e.shape.type)&&(t="Text"===e.shape.type?e.wrapper.children[0].id.split("_")[1]:e.annotations[0].id),t&&(l=this.getWrapper(e.wrapper,t))),e&&l&&!(l instanceof Us)&&(!function(e,t){var n;return n=t instanceof Al?kr.ReadOnly:Mr.ReadOnly,"Text"===t.shape.type?t.constraints&Mr.ReadOnly:t.constraints&n?e.constraints&Nr.InheritReadOnly?1:0:e.constraints&Nr.ReadOnly?1:0}(l,e)||h)){var d=l.style,u=void 0;u=90>(u=l.bounds.width<e.wrapper.bounds.width?l.bounds.width:e.wrapper.bounds.width)?90:u;var p=document.getElementById(this.element.id+"_editTextBoxDiv"),f=document.getElementById(this.element.id+"_editBox");i=f?f.value:l.content,this.activeLabel.text=i,p||f||(p=Ou("div",{}),f=Ou("textarea",{}),this.diagramCanvas.appendChild(p),p.appendChild(f),f.appendChild(document.createTextNode(i))),(o=pu(l.style,i,void 0,void 0,u)).isEmpty()&&(o="Text"!==e.shape.type?new nr(Vh(e,l.id.split(e.id+"_")[1]).width||50,l.style.fontSize):new nr(e.width>50?50:e.width,l.style.fontSize)),e.parentId&&"UmlClassifier"===this.nameTable[e.parentId].shape.type?(o.width=e.wrapper.bounds.width-20,a=(e.wrapper.bounds.center.x+n.tx)*n.scale-o.width/2*r-2.5,s=(e.wrapper.bounds.center.y+n.ty)*n.scale-o.height/2*r-3,l.style.textAlign="Left"):(o.width=Math.max(o.width,50),a=(l.bounds.center.x+n.tx)*n.scale-o.width/2*r-2.5,s=(l.bounds.center.y+n.ty)*n.scale-o.height/2*r-3),ju(p,{id:this.element.id+"_editTextBoxDiv",style:"position: absolute;left:"+a+"px;top:"+s+"px;width:"+(o.width+1)*r+"px;height:"+o.height*r+"px; containerName:"+e.id+";"}),ju(f,{id:this.element.id+"_editBox",style:"width:"+(o.width+1)*r+"px;height:"+o.height*r+"px;resize: none;outline: none;overflow: hidden;;font-family:"+d.fontFamily+";font-size:"+d.fontSize*r+"px;text-align:"+l.style.textAlign.toLocaleLowerCase()+";",class:"e-diagram-text-edit"}),f.style.fontWeight=d.bold?"bold":"",f.style.fontStyle=d.italic?"italic":"",f.style.lineHeight=(1.2*d.fontSize+"px;").toString(),f.style.textDecoration=d.textDecoration?d.textDecoration:"",this.activeLabel.parentId=e.id,this.activeLabel.id=t,l.visible=!1,this.updateDiagramObject(e),this.diagramActions=this.diagramActions|Qr.TextEdit,this.isTriggerEvent||(ce.add(f,"input",this.eventHandler.inputChange,this.eventHandler),ce.add(f,"focusout",this.focusOutEdit,this),f.select())}}}},t.prototype.updateConnectorfixedUserHandles=function(e){if(e.fixedUserHandles.length)for(var t=void 0,n=0,r=e.fixedUserHandles;n<r.length;n++){var i=r[n];t=this.getWrapper(e.wrapper,i.id),e.updateAnnotation(i,e.intermediatePoints,e.wrapper.bounds,t)}e.wrapper.measure(new nr(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.updateNodeExpand=function(e,t){for(var n=0;n<e.outEdges.length;n++){var r=this.nameTable[e.outEdges[n]],i=this.nameTable[r.targetID];r.visible=t,t||(this.updateElementVisibility(r.wrapper,r,!1),i.isExpanded=t),this.updateNodeExpand(i,i.isExpanded),i.visible=t,t||this.updateElementVisibility(i.wrapper,i,!1)}},t.prototype.updateConnectorAnnotation=function(e){if(e.annotations.length)for(var t=void 0,n=0,r=e.annotations;n<r.length;n++){var i=r[n];t=this.getWrapper(e.wrapper,i.id),e.updateAnnotation(i,e.intermediatePoints,e.wrapper.bounds,t,this.diagramActions&Qr.Interactions)}e.wrapper.measure(new nr(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.removeChildrenFromLayout=function(e){for(var t,n=[],r=0;r<e.length;r++)(t=e[r]).parentId||t.processId||n.push(t);return n},t.prototype.doLayout=function(){var e,t=!1,n="ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type,r=this.isProtectedOnChange;this.protectPropertyChange(!0);var i=this.removeChildrenFromLayout(this.nodes),o=this.layout.enableRouting&&"ComplexHierarchicalTree"===this.layout.type,a={x:this.scroller.viewPortWidth,y:this.scroller.viewPortHeight};if("None"!==this.layout.type){if((o||"DifferentPoint"===this.layout.connectionPointOrigin&&this.lineDistributionModule&&n||"Linear"===this.layout.arrangement)&&this.lineDistributionModule.initLineDistribution(this.layout,this),this.organizationalChartModule)e=this.organizationalChartModule.updateLayout(i,this.nameTable,this.layout,a,this.dataSourceSettings.id,this.diagramActions),t=!0,this.layoutAnimateModule&&e.rootNode&&!this.diagramActions&&this.updateNodeExpand(e.rootNode,e.rootNode.isExpanded);else if(this.mindMapChartModule)i&&i.length>0&&this.mindMapChartModule.updateLayout(i,this.nameTable,this.layout,a,this.dataSourceSettings.id,this.dataSourceSettings.root),t=!0;else if(this.radialTreeModule)this.radialTreeModule.updateLayout(i,this.nameTable,this.layout,a),t=!0;else if(this.symmetricalLayoutModule)this.symmetricalLayoutModule.maxIteration=this.layout.maxIteration,this.symmetricalLayoutModule.springLength=this.layout.springLength,this.symmetricalLayoutModule.springFactor=this.layout.springFactor,this.symmetricalLayoutModule.updateLayout(i,this.connectors,this.symmetricalLayoutModule,this.nameTable,this.layout,a),t=!0;else if(this.complexHierarchicalTreeModule){var s=this.complexHierarchicalTreeModule.getLayoutNodesCollection(this.nodes);s.length>0&&this.complexHierarchicalTreeModule.doLayout(s,this.nameTable,this.layout,a,this.lineDistributionModule),t=!0}if(t){this.preventDiagramUpdate=!0;var l={},c=i;v()&&this.updateTemplate();for(var h=0,d=c;h<d.length;h++){var u=d[h];if(this.preventNodesUpdate||this.diagramActions&&this.diagramActions&Qr.PreventIconsUpdate||(this.updateIcon(u),this.updateDefaultLayoutIcons(u)),this.preventNodesUpdate=!0,this.nodePropertyChange(u,{},{offsetX:u.offsetX,offsetY:u.offsetY},!0),this.preventNodesUpdate=!1,u.wrapper.measure(new nr(u.wrapper.width,u.wrapper.height)),u.wrapper.arrange(u.wrapper.desiredSize),this.updateDiagramObject(u,!0),u.inEdges.length>0)for(var p=0;p<u.inEdges.length;p++){l[(b=this.nameTable[u.inEdges[p]]).id]=b}if(u.outEdges.length>0)for(var f=0;f<u.outEdges.length;f++){var g=this.nameTable[u.outEdges[f]];l[g.id]=g}}for(var A=0,m=Object.keys(l);A<m.length;A++){var y=m[A];o&&this.lineDistributionModule.resetConnectorSegments(this.nameTable[y]);var b=l[y],w=this.getPoints(b);o&&this.lineDistributionModule.resetRoutingSegments(b,this,w),Hh(b,w),"Bpmn"===b.shape.type&&"Default"===b.shape.sequence&&this.commandHandler.updatePathElementOffset(b),b.wrapper.measure(new nr(void 0,void 0)),b.wrapper.arrange(b.wrapper.desiredSize),this.updateConnectorAnnotation(b),this.updateConnectorfixedUserHandles(b),this.updateQuad(b),this.updateDiagramObject(b,!0)}(o||"DifferentPoint"===this.layout.connectionPointOrigin&&this.lineDistributionModule&&n)&&this.lineDistributionModule.distributeLines(this.layout,this),this.preventDiagramUpdate=!1,this.updatePage(),this.diagramActions&Qr.Render&&"Canvas"!==this.mode||this.refreshDiagramLayer()}r||this.protectPropertyChange(r)}return t&&this.updateDiagramElementQuad(),this.blazorActions&Pr.expandNode?e:!v()||null},t.prototype.saveDiagram=function(){return Th(this)},t.prototype.loadDiagram=function(e){return kh(e,this)},t.prototype.getDiagramContent=function(e){return this.printandExportModule?this.printandExportModule.getDiagramContent(e):""},t.prototype.exportImage=function(e,t){this.printandExportModule&&this.printandExportModule.exportImages(e,t)},t.prototype.printImage=function(e,t){this.printandExportModule&&(t.printOptions=!0,this.printandExportModule.exportImages(e,t))},t.prototype.setStackLimit=function(e){this.undoRedoModule&&e&&(this.historyManager.stackLimit=e,this.undoRedoModule.applyLimit(this.historyManager.currentEntry,e,this,!0))},t.prototype.clearHistory=function(){this.undoRedoModule&&this.undoRedoModule.clearHistory(this)},t.prototype.getDiagramBounds=function(){if(this.printandExportModule){var e=this.printandExportModule.getDiagramBounds("",{});return e.width=e.width>this.scrollSettings.viewPortWidth?e.width+(e.x>0?e.x:0):this.scrollSettings.viewPortWidth,e.height=e.height>this.scrollSettings.viewPortHeight?e.height+(e.y>0?e.y:0):this.scrollSettings.viewPortHeight,e.x=e.x>0?0:e.x,e.y=e.y>0?0:e.y,e}return new Ar},t.prototype.exportDiagram=function(e){return this.printandExportModule?this.printandExportModule.exportDiagram(e):""},t.prototype.print=function(e){this.printandExportModule&&this.printandExportModule.print(e)},t.prototype.addPorts=function(e,t){this.protectPropertyChange(!0);var n,r=[],i=!0;v()&&null!==e&&e.ports.length>0&&!(this.diagramActions&Qr.UndoRedo)&&(-1!==Number(Kh(e,t[0].id,!1))&&(i=!1));e=this.nameTable[e.id]||e,t.length>1&&this.startGroupAction();for(var o=0;o<t.length;o++){if(n=new Ti(e,"ports",t[o],!0),e.ports.push(n),v()&&i&&r.push(n),e.children){var a=e.wrapper;e.initPort(this.getDescription,e.wrapper.children[a.children.length-1],n)}else{e.wrapper.children.push(e.initPortWrapper(e.ports[e.ports.length-1]))}if(!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.Group)){var s={type:"PortCollectionChanged",changeType:"Insert",undoObject:Xu(n),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(s)}}t.length>1&&this.endGroupAction(),v()&&i&&this.UpdateBlazorLabelOrPortObjects(r,"Port",void 0,this.nodes.indexOf(e)),e.wrapper.measure(new nr(e.width,e.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addConstraints=function(e,t){return e|t},t.prototype.removeConstraints=function(e,t){return e&~t},t.prototype.addNodeLabels=function(e,t){this.addLabels(e,t)},t.prototype.addConnectorLabels=function(e,t){this.addLabels(e,t)},t.prototype.addLabels=function(e,t){this.protectPropertyChange(!0);var n=!0,r=[];v()&&null!=e&&e.annotations.length>0&&!(this.diagramActions&Qr.UndoRedo)&&(-1!==Number(Kh(e,t[0].id,!0))&&(n=!1));var i,o=(e=this.nameTable[e.id]||e).wrapper;t.length>1&&this.startGroupAction();for(var a=0;a<t.length;a++){if(e instanceof iu)if(i=new Mi(e,"annotations",t[a],!0),e.annotations.push(i),v()&&n&&r.push(i),e.children)for(var s=e,l=0;l<s.wrapper.children.length;l++){if(s.wrapper.children[l].id===s.id+"group_container")s.wrapper.children[l].children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id))}else o.children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id));else if(e instanceof Al){i=new Di(e,"annotations",t[a],!0),e.annotations.push(i),v()&&n&&r.push(i);var c=o.children[0],h=new Ar(c.offsetX-c.width/2,c.offsetY-c.height/2,c.width,c.height);o.children.push(e.getAnnotationElement(e.annotations[e.annotations.length-1],e.intermediatePoints,h,this.getDescription,this.element.id))}if(!(this.diagramActions&Qr.UndoRedo)&&!(this.diagramActions&Qr.Group)){var d={type:"LabelCollectionChanged",changeType:"Insert",undoObject:Xu(i),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(d)}}t.length>1&&this.endGroupAction(),v()&&n&&this.UpdateBlazorLabelOrPortObjects(r,e instanceof iu?"NodeAnnotation":"ConnectorAnnotation",void 0,e instanceof iu?this.nodes.indexOf(e):this.connectors.indexOf(e)),e.wrapper.measure(new nr(o.width,o.height)),e.wrapper.arrange(o.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addLanes=function(e,t,n){e=this.nameTable[e.id]||e;for(var r=0;r<t.length;r++)Yc(this,e,t[r],n),void 0!==n&&(n+=1);this.updateDiagramElementQuad()},t.prototype.addPhases=function(e,t){e=this.nameTable[e.id]||e;for(var n=0;n<t.length;n++)Gc(this,e,t[n]);this.updateDiagramElementQuad()},t.prototype.removeLane=function(e,t){rh(this,void 0,e,t),this.updateDiagramElementQuad()},t.prototype.removePhase=function(e,t){oh(this,void 0,e,t),this.updateDiagramElementQuad()},t.prototype.removelabelExtension=function(e,t,n,r){for(var i=0;i<r.children.length;i++){var o=r.children[i];if((o instanceof gi||o instanceof Us)&&o.id.match("_"+t[n].id+"$")){for(var a=0;a<e.annotations.length;a++)if(o.id.match("_"+e.annotations[a].id+"$")){if(!(this.diagramActions&Qr.UndoRedo)){var s={type:"LabelCollectionChanged",changeType:"Remove",undoObject:Xu(e.annotations[a]),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(s)}e.annotations.splice(a,1)}if(r.children.splice(i,1),"SVG"===this.mode){var l=Au(o.id,this.element.id);if(l){var c=Au(o.id,this.element.id);c.parentNode.removeChild(c)}Au(o.id+"_text",this.element.id)&&(l=Au(o.id+"_text",this.element.id)).parentNode.removeChild(l);var h=Au(o.id+"_html_element",this.element.id);h&&h.parentNode.removeChild(h)}else this.refreshCanvasLayers()}}},t.prototype.removeLabels=function(e,t){var n=!0;!v()||null===e||this.diagramActions&Qr.UndoRedo||-1===(a=e.annotations.length>0?Number(Kh(e,t[0].id,!0)):-1)&&(n=!1);if(e=this.nameTable[e.id]||e,v()&&n){for(var r=[],i=[],o=0;o<t.length;o++){var a=Number(Kh(e,t[o].id,!0));i.push(a),r.push(t[o])}this.UpdateBlazorLabelOrPortObjects(r,e instanceof iu?"NodeAnnotation":"ConnectorAnnotation",i,e instanceof iu?this.nodes.indexOf(e):this.connectors.indexOf(e))}t.length>1&&this.startGroupAction();for(o=t.length-1;o>=0;o--)if(e.children&&e.children.length>0)for(var s=0;s<e.wrapper.children.length;s++)this.removelabelExtension(e,t,o,e.wrapper.children[s]);else this.removelabelExtension(e,t,o,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.removePortsExtenion=function(e,t,n,r){for(var i=0;i<r.children.length;i++){var o=r.children[i];if(o instanceof wi&&o.id.match("_"+t[n].id+"$")){for(var a=0;a<e.ports.length;a++)if(o.id.match("_"+e.ports[a].id+"$")){if(!(this.diagramActions&Qr.UndoRedo)){var s={type:"PortCollectionChanged",changeType:"Remove",undoObject:Xu(e.ports[a]),redoObject:Xu(e),category:"Internal"};this.addHistoryEntry(s)}e.ports.splice(a,1)}if(r.children.splice(i,1),"SVG"===this.mode){var l=Au(o.id,this.element.id);l.parentNode.removeChild(l)}else this.refreshCanvasLayers()}}},t.prototype.removePorts=function(e,t){var n=!0;!v()||null===e||this.diagramActions&Qr.UndoRedo||-1===(a=e.ports.length>0?Number(Kh(e,t[0].id,!1)):-1)&&(n=!1);if(e=this.nameTable[e.id]||e,v()&&n){for(var r=[],i=[],o=t.length-1;o>=0;o--){var a=Number(Kh(e,t[o].id,!1));r.push(a),i.push(t[o])}this.UpdateBlazorLabelOrPortObjects(i,"Port",r,this.nodes.indexOf(e))}t.length>1&&this.startGroupAction();for(o=t.length-1;o>=0;o--)if(e.children&&e.children.length>0)for(var s=0;s<e.wrapper.children.length;s++)this.removePortsExtenion(e,t,o,e.wrapper.children[s]);else this.removePortsExtenion(e,t,o,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.getSizeValue=function(e,t){var n;if(n=e.toString().indexOf("px")>0?e.toString():e.toString().indexOf("%")>0?void 0!==t?"100%":e.toString():e.toString()+"px",t){Cl(this);n="calc("+n+" - "+t+"px)"}return n},t.prototype.renderRulers=function(){this.rulerSettings.showRulers?(!function(e){var t=Cl(e),n=Ou("div",{id:e.element.id+"_overlapRuler",style:"height:"+t.height+"px;width:"+t.width+"px;position:absolute;left:0;top:0",class:"e-ruler-overlap"});e.element.insertBefore(n,e.element.firstChild)}(this),bl(this,!0),bl(this,!1)):xl(this)},t.prototype.intOffPageBackground=function(){var e=new nr;e=Cl(this);var t=document.getElementById(this.element.id+"content"),n=this.getSizeValue(this.width,e.width),r=this.getSizeValue(this.height,e.height),i=this.rulerSettings.showRulers?"width:"+n+"; height:"+r+";top:"+e.height+"px;left:"+e.width+"px;overflow: scroll;position:absolute;overflow:auto;":"width:"+n+"; height:"+r+";position:absolute; left:0px;  top:0px;overflow: auto;",o={id:this.element.id+"content",tabindex:"0",style:i};t?(this.diagramCanvas=t,Ru(this.diagramCanvas,i)):(this.diagramCanvas=Ou("div",o),this.element.appendChild(this.diagramCanvas)),this.diagramCanvas.style.background=this.backgroundColor},t.prototype.initDiagram=function(){this.intOffPageBackground(),ju(this.element,{style:"width:"+this.getSizeValue(this.width)+"; height:"+this.getSizeValue(this.height)+";position:relative;overflow:hidden;"})},t.prototype.renderHiddenUserHandleTemplateLayer=function(e){var t=Ou("div",{class:this.element.id+"_hiddenUserHandleTemplate",style:"width:"+e.width+"px; height:"+e.height+"px;visibility:hidden ;  overflow: hidden;"});this.element.appendChild(t)},t.prototype.renderBackgroundLayer=function(e,t){var n=this.createSvg(this.element.id+"_backgroundLayer_svg",e.width,e.height);Ru(n,t);var r=Tu("g",{id:this.element.id+"_backgroundImageLayer",class:"e-background-image-layer"});n.appendChild(r);var i=Tu("g",{id:this.element.id+"_backgroundLayer",class:"e-background-layer"});n.appendChild(i),this.diagramCanvas.appendChild(n)},t.prototype.renderGridLayer=function(e,t){var n=this.createSvg(this.element.id+"_gridline_svg",e.width,e.height);n.setAttribute("class","e-grid-layer");var r=Tu("g",{id:this.element.id+"_gridline",width:"100%",height:"100%"}),i=Tu("rect",{id:this.element.id+"_grid_rect",x:"0",y:"0",width:"100%",height:"100%"});pd()?i.setAttribute("fill","url("+location.protocol+"//"+location.host+location.pathname+"#"+this.element.id+"_pattern)"):i.setAttribute("fill","url(#"+this.element.id+"_pattern)"),r.appendChild(i),n.appendChild(r),this.diagramCanvas.appendChild(n),Du(n,{style:t})},t.prototype.renderDiagramLayer=function(e,t){var n={id:this.element.id+"_diagramLayer_div",style:"width:"+e.width+"px; height:"+e.height+"px;"+t};if(this.diagramLayerDiv=Ou("div",n),"SVG"===this.mode){var r=this.createSvg(this.element.id+"_diagramLayer_svg",e.width,e.height);r.style["pointer-events"]="none",r.setAttribute("class","e-diagram-layer");var i=Tu("g",{id:this.element.id+"_diagramLayer"}),o=Tu("g",{});this.diagramLayer=i,r.style["pointer-events"]="all",o.appendChild(i),r.appendChild(o),this.diagramLayerDiv.appendChild(r)}else this.diagramLayer=op.createCanvas(this.element.id+"_diagram",e.width,e.height),Ru(this.diagramLayer,"position:absolute;left:0px;top:0px;"),this.diagramLayerDiv.appendChild(this.diagramLayer);this.diagramCanvas.appendChild(this.diagramLayerDiv)},t.prototype.initLayers=function(){var e="position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",t=document.getElementById(this.element.id).getBoundingClientRect(),n=function(){var e=Ou("div",{style:"visibility:hidden; width: 100px"});document.body.appendChild(e);var t=e.getBoundingClientRect().width;e.style.overflow="scroll";var n=Ou("div",{style:"width:100%"});e.appendChild(n);var r=n.getBoundingClientRect().width;return e.parentNode.removeChild(e),t-r}();this.scroller.scrollerWidth=n,this.scroller.setViewPortSize(t.width,t.height),this.renderRulers();window.measureElement&&(window.measureElement=null,document.getElementById("measureElement").remove());_u(),this.renderBackgroundLayer(t,e),this.renderGridLayer(t,e),this.renderDiagramLayer(t,e),this.renderHTMLLayer(t,e),this.renderPortsExpandLayer(t,e),this.renderNativeLayer(t,e),this.renderAdornerLayer(t,e),this.renderHiddenUserHandleTemplateLayer(t)},t.prototype.renderAdornerLayer=function(e,t){var n=Ou("div",{id:this.element.id+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t}),r=Ou("div",{id:this.element.id+"_diagramUserHandleLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t});r.setAttribute("class","e-userHandle-layer"),n.appendChild(r);var i=this.createSvg(this.element.id+"_diagramAdorner_svg",e.width,e.height);i.setAttribute("class","e-adorner-layer"),i.style["pointer-events"]="none",this.adornerLayer=Tu("g",{id:this.element.id+"_diagramAdorner"}),this.adornerLayer.style[" pointer-events"]="all",i.appendChild(this.adornerLayer),n.appendChild(i),this.diagramCanvas.appendChild(n);var o=Tu("g",{id:this.element.id+"_SelectorElement"});this.adornerLayer.appendChild(o),Du(i,{style:"pointer-events:none;"})},t.prototype.renderPortsExpandLayer=function(e,t){var n=this.createSvg(this.element.id+"_diagramPorts_svg",e.width,e.height);n.setAttribute("class","e-ports-expand-layer");var r=Tu("g",{id:this.element.id+"_diagramPorts",class:"e-ports-layer",style:"pointer-events: all;"});n.appendChild(r);var i=Tu("g",{id:this.element.id+"_diagramExpander",class:"e-expand-layer",style:"pointer-events: all;"});n.appendChild(i),this.diagramCanvas.appendChild(n),Du(n,{style:t})},t.prototype.renderHTMLLayer=function(e,t){this.htmlLayer=Ou("div",{id:this.element.id+"_htmlLayer",style:"width:"+e.width+"px; height:"+e.height+"px;position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",class:"e-html-layer"});var n=Ou("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;pointer-events:all;"});this.htmlLayer.appendChild(n),this.diagramCanvas.appendChild(this.htmlLayer)},t.prototype.renderNativeLayer=function(e,t){var n=this.createSvg(this.element.id+"_nativeLayer_svg",e.width,e.height),r=Tu("g",{id:this.element.id+"_nativeLayer",style:"pointer-events:all;"});n.appendChild(r),this.diagramLayerDiv.appendChild(n),Du(n,{class:"e-native-layer",style:t})},t.prototype.createSvg=function(e,t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return Du(r,{id:e,width:t,height:n}),r},t.prototype.updateBazorShape=function(){for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];switch(t.shape.type){case"Bpmn":t.shape.bpmnShape=t.shape.shape?t.shape.shape:t.shape.bpmnShape;break;case"UmlActivity":t.shape.umlActivityShape=t.shape.shape?t.shape.shape:t.shape.umlActivityShape;break;case"Flow":t.shape.flowShape=t.shape.shape?t.shape.shape:t.shape.flowShape;break;case"Basic":t.shape.basicShape=t.shape.shape?t.shape.shape:t.shape.basicShape;break;case"Text":t.shape.textContent=t.shape.content?t.shape.content:t.shape.textContent}}},t.prototype.initObjects=function(e){this.updateBazorShape(),this.isLoading||this.initData(),this.initLayerObjects(),this.updateBridging(e)},t.prototype.initLayerObjects=function(){var e=this.layers.length>1,t=[],n=window&&window.Blazor&&!this.dataSourceSettings.dataSource,r={},i={},o=[],a=[],s=[],l=[],c=[],h=[],d=[];v()&&n&&(a=this.previousNodeCollection,s=this.previousConnectorCollection);for(var u=0,p=this.nodes;u<p.length;u++){(B=p[u]).id=B.id||Uu(),this.addToLayer(B,e),r[B.id]=B}for(var f=0,g=this.connectors;f<g.length;f++){(B=g[f]).id=B.id||Uu(),this.addToLayer(B,e),r[B.id]=B}for(var A=0,m=this.layers;A<m.length;A++){for(var y=0,b=(I=m[A]).objects;y<b.length;y++){if(r[B=b[y]])if(r[B]instanceof Al)if((N=r[B]).sourceID&&N.targetID){var w=r[N.sourceID],x=r[N.targetID];w&&w.wrapper&&x&&x.wrapper?this.initConnectors(r[B],I):t.push(r[B])}else this.initConnectors(r[B],I);else r[B].children?o.push(B):r[B].shape instanceof Yd&&r[B].shape.activity.subProcess.processes&&r[B].shape.activity.subProcess.processes.length>0?i[r[B].id]=B:this.initNodes(r[B],I)}if(this.bpmnModule)for(var C=0,S=this.bpmnModule.textAnnotationConnectors;C<S.length;C++){var B=S[C];this.initConnectors(B,I,!1)}}for(var P=0,E=Object.keys(i);P<E.length;P++){B=E[P];this.initObject(r[B]),this.bpmnModule.updateDocks(r[B],this)}for(var O=0,T=this.alignGroup(o,r);O<T.length;O++){B=T[O];var I=this.commandHandler.getObjectLayer(B);this.initNodes(r[B],I)}for(var L=0,k=t;L<k.length;L++){var N=k[L];I=this.commandHandler.getObjectLayer(N.id);this.initConnectors(N,I)}if(v()&&n){for(var M=0,D=this.nodes;M<D.length;M++){B=D[M];l.push(Xu(B,void 0,void 0,!0))}for(var R=0,j=this.connectors;R<j.length;R++){B=j[R];c.push(Xu(B,void 0,void 0,!0))}if(this.commandHandler.getObjectChanges(a,l,h),this.commandHandler.getObjectChanges(s,c,d),!(this.blazorActions&Pr.ClearObject)){B={methodName:"UpdateBlazorProperties",diagramobj:{nodes:h,connectors:d}};window.sfBlazor.updateBlazorProperties(B,this)}}},t.prototype.alignGroup=function(e,t){var n,r,i,o,a=[],s=[];for(i=0;i<e.length;i++){var l=void 0;if((r=t[n=e[i]])&&r.children.length)for(o=0;o<r.children.length;o++)l=r.children[o],e.indexOf(l)>-1&&-1===a.indexOf(l)&&-1===s.indexOf(l)&&a.splice(0,0,l);-1===a.indexOf(n)&&s.push(n)}return a=a.concat(s)},t.prototype.addToLayer=function(e,t){var n;t&&(n=this.commandHandler.getObjectLayer(e.id)),t&&n||-1===this.activeLayer.objects.indexOf(e.id)&&this.activeLayer.objects.push(e.id),this.setZIndex(n||this.activeLayer,e)},t.prototype.updateLayer=function(e){for(var t=0,n=Object.keys(e.layers);t<n.length;t++){for(var r=n[t],i=0,o=this.layers[r].objects;i<o.length;i++){var a=o[i],s=this.nameTable[a];void 0!==e.layers[r].visible?this.updateElementVisibility(s.wrapper,s,e.layers[r].visible):!0===e.layers[r].lock&&this.unSelect(s)}void 0!==e.layers[r].lock&&(this.layers[r].lock=e.layers[r].lock)}"SVG"!==this.mode&&this.refreshDiagramLayer()},t.prototype.updateScrollSettings=function(e){var t=-this.scroller.horizontalOffset+e.scrollSettings.horizontalOffset||0,n=this.scroller.verticalOffset-e.scrollSettings.verticalOffset||0,r={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom};0===t&&0===n||this.pan(t,n);var i={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom},o="Start";this.realActions&Vr.PanInProgress&&(o="Progress");var a={oldValue:r,newValue:i,source:this,panState:o};v()&&this.scrollChange&&(a={oldValue:r,newValue:i,sourceId:this.element.id,panState:o}),this.triggerEvent(Kr.scrollChange,a),this.commandHandler.updatePanState(!0),"Canvas"===this.mode&&this.constraints&jr.Virtualization&&this.refreshDiagramLayer()},t.prototype.initData=function(){var e=this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource;if(this.dataBindingModule&&!(this.realActions&Vr.PreventDataInit))if(e&&this.dataSourceSettings.connectionDataSource.dataManager){var t=this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource;this.nodes=this.generateData(t,!0),this.connectors=this.generateData(this.dataSourceSettings.connectionDataSource.dataManager,!1)}else e&&e.dataSource&&(e.dataSource.url||"BlazorAdaptor"===e.adaptorName&&!e.dataSource.url)?this.dataBindingModule.initSource(this.dataSourceSettings,this):this.dataBindingModule.initData(this.dataSourceSettings,this)},t.prototype.generateData=function(e,t){var n,r=[];for(n=0;n<e.length;n++){var i=e[n],o=t?this.makeData(i,!0):this.makeData(i,!1);!o||!o.id||lh(r,o.id)&&lh(r,o.id)||r.push(o)}return r},t.prototype.makeData=function(e,t){var n,r=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource,i={};if(i.id=e[r.id]?e[r.id]:Uu(),r.sourceID&&(i.sourceID=e[r.sourceID]),r.targetID&&(i.targetID=e[r.targetID]),e[r.sourcePointX]&&e[r.sourcePointY]&&(i.sourcePoint={x:Number(e[r.sourcePointX]),y:Number(e[r.sourcePointY])}),e[r.targetPointX]&&e[r.targetPointY]&&(i.targetPoint={x:Number(e[r.targetPointX]),y:Number(e[r.targetPointY])}),r.crudAction.customFields&&r.crudAction.customFields.length>0)for(n=0;n<r.crudAction.customFields.length;n++)i[r.crudAction.customFields[n]]=e[r.crudAction.customFields[n]];return i},t.prototype.initNodes=function(e,t){this.preventDiagramUpdate=!0,this.initObject(e,t),this.preventDiagramUpdate=!1},t.prototype.initConnectors=function(e,t,n){this.preventDiagramUpdate=!0,this.initObject(e,t,n),this.updateEdges(e),this.preventDiagramUpdate=!1},t.prototype.setZIndex=function(e,t){var n=e;if(-1===t.zIndex){for(;n.zIndexTable[n.objectZIndex+1];)e.objectZIndex++;t.zIndex=++n.objectZIndex}else{var r=t.zIndex;if(n.zIndexTable[r])for(var i=Object.keys(n.zIndexTable).length,o=0;o<i;o++){if(o===r){for(var a=i;a>r;a--)n.zIndexTable[a]=n.zIndexTable[a-1],this.nameTable[n.zIndexTable[a]]&&(this.nameTable[n.zIndexTable[a]].zIndex=a);n.zIndexTable[o]=t.id}0}}},t.prototype.initializeDiagramLayers=function(){for(var e=0;e<this.layers.length;e++)if(-1!==this.layers[e].zIndex){var t=this.layers[e];this.layers[e]=this.layers[this.layers[e].zIndex],this.layers[t.zIndex]=t}for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];i.zIndex=-1!==i.zIndex?i.zIndex:this.layers.indexOf(i),this.layerZIndexTable[i.zIndex]=i.id}for(e=0;e<this.layers.length;e++)for(var o=e+1;o<this.layers.length;o++)if(this.layers[e].zIndex>this.layers[o].zIndex){t=this.layers[e];this.layers[e]=this.layers[o],this.layers[o]=t}if(0===this.layers.length){this.commandHandler.addLayer({id:"default_layer",visible:!0,lock:!1,objects:[],zIndex:0,objectZIndex:-1,zIndexTable:{}},null,!0)}this.setActiveLayer(this.layers[this.layers.length-1].id)},t.prototype.resetTool=function(){this.eventHandler.resetTool()},t.prototype.initObjectExtend=function(e,t,n){if(n){for(var r=this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds),i=0,o=Object.keys(t.zIndexTable);i<o.length;i++)t.zIndexTable[o[i]]&&t.zIndexTable[o[i]]===e.id&&delete t.zIndexTable[o[i]];if(t.zIndexTable[e.zIndex]=e.id,!r){var a=e instanceof iu?this.nodes:this.connectors;for(i=0;i<=a.length;i++)a[i]&&e.id===a[i].id&&a.splice(i,1);delete t.zIndexTable[e.zIndex]}}},t.prototype.initObject=function(e,t,n,r){if(void 0===n&&(n=!0),void 0!==e){if(n&&(t||(this.addToLayer(e,!1),t=this.activeLayer),(e instanceof iu||e instanceof Al)&&this.setZIndex(t,e)),e instanceof iu){if(n){if("helper"!==e.id)if(o=ip(this.getNodeDefaults)){if((a=o(e,this))&&a.ports)for(var i=0;i<a.ports.length;i++)a.ports[i].inEdges=[],a.ports[i].outEdges=[];a&&a!==e&&Ku(a,e)}this.initNode(e,this.element.id)}}else if(e instanceof Al){var o,a;if(o=ip(this.getConnectorDefaults))(a=o(e,this))&&a!==e&&Ku(a,e),e.segments.length&&e.type!==e.segments[0].type&&(e.segments=[]);var s=this.nameTable[e.sourceID],l=this.nameTable[e.targetID],c=this.getConnectedPort(s,e,!0),h=this.getConnectedPort(l,e),d=this.findInOutConnectPorts(s,!1),u=this.findInOutConnectPorts(l,!0);if((void 0!==s&&Rl(s)||""!==e.sourcePortID&&jl(d))&&(e.sourceWrapper=this.getEndNodeWrapper(s,e,!0),e.sourcePortID&&c&&c.constraints&&!(c.constraints&Gr.None)&&c.constraints&Gr.OutConnect&&(e.sourcePortWrapper=this.getWrapper(s.wrapper,e.sourcePortID))),(void 0!==l&&Ml(l)||""!==e.targetPortID&&Dl(u))&&(e.targetWrapper=this.getEndNodeWrapper(l,e,!1),e.targetPortID&&h&&h.constraints&&!(h.constraints&Gr.None)&&h.constraints&Gr.InConnect&&(e.targetPortWrapper=this.getWrapper(l.wrapper,e.targetPortID))),!n){var p=e.getConnectorPoints(e.type);Hh(e,p)}n&&e.init(this);for(var f=0;f<e.wrapper.children.length;f++)this.pathTable[e.wrapper.children[f].data]&&(e.wrapper.children[f].absoluteBounds=this.pathTable[e.wrapper.children[f].data].absoluteBounds);e.wrapper.measure(new nr(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize),e instanceof Al&&"Bezier"===e.type&&(this.updateConnectorAnnotation(e),this.updateConnectorfixedUserHandles(e));for(var g=0;g<e.wrapper.children.length;g++)this.pathTable[e.wrapper.children[g].data]={},this.pathTable[e.wrapper.children[g].data].absoluteBounds=e.wrapper.children[g].absoluteBounds}if(e instanceof iu&&e.children&&e.container)for(i=0;i<e.children.length;i++)this.nameTable[e.children[i]].offsetX=this.nameTable[e.children[i]].wrapper.offsetX,this.nameTable[e.children[i]].offsetY=this.nameTable[e.children[i]].wrapper.offsetY;if(this.bpmnModule&&e instanceof iu&&"Bpmn"===e.shape.type&&e.shape.annotations.length>0&&this.bpmnModule.updateQuad(e,this),this.initObjectExtend(e,t,n),this.nameTable[e.id]=e,e instanceof iu&&e.children){this.preventNodesUpdate=!0,this.preventConnectorsUpdate=!0,r||e.container||this.updateGroupOffset(e,!0),this.groupTable[e.id]=e.children;for(i=0;i<e.children.length;i++){var A=this.nameTable[e.children[i]];A&&(A.parentId=e.id)}this.isLoading||!e.rotateAngle||e.container||this.commandHandler.rotateObjects(e,[e],e.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),this.preventNodesUpdate=!1,this.preventConnectorsUpdate=!1}void 0===this.enterObject&&this.updateQuad(e)}!1===e.visible&&this.updateElementVisibility(e.wrapper,e,!1)},t.prototype.getConnectedPort=function(e,t,n){if(e&&e.ports)for(var r=0,i=e.ports;r<i.length;r++){var o=i[r];if(o.id===t.sourcePortID&&n)return o;if(o.id===t.targetPortID&&!n)return o}return null},t.prototype.scaleObject=function(e,t,n){var r=n?e.wrapper.actualSize.width:e.wrapper.actualSize.height,i=n?1+(t-r)/r:1,o=n?1:1+(t-r)/r;this.realActions|=Vr.PreventDrag,this.scale(e,i,o,{x:.5,y:.5}),this.realActions&=~Vr.PreventDrag},t.prototype.updateDefaultLayoutIcons=function(e){"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type&&"ComplexHierarchicalTree"!==this.layout.type||(this.updateDefaultLayoutIcon(e,e.expandIcon),this.updateDefaultLayoutIcon(e,e.collapseIcon))},t.prototype.updateDefaultLayoutIcon=function(e,t){if("None"!==t.shape&&"Auto"===t.horizontalAlignment&&"Auto"===t.verticalAlignment&&.5===t.offset.x&&1===t.offset.y){var n=this.getWrapper(e.wrapper,"icon_content"),r=void 0,i=void 0;"TopToBottom"===this.layout.orientation||"BottomToTop"===this.layout.orientation?(r=.5,i="TopToBottom"===this.layout.orientation?1:0):"RightToLeft"!==this.layout.orientation&&"LeftToRight"!==this.layout.orientation||(r="LeftToRight"===this.layout.orientation?1:0,i=.5),n.setOffsetWithRespectToBounds(r,i,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",e.wrapper.measure(new nr(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)}},t.prototype.updateGroupOffset=function(e,t){var n=!1;if(e.children&&e.children.length>0&&!e.container||e.processId){var r=this.nameTable[e.id];if(!(this.realActions&Vr.PreventScale)&&!(this.realActions&Vr.PreventDrag)){if(!r.offsetX||!(this.realActions&Vr.EnableGroupAction)&&(this.diagramActions&Qr.UndoRedo||this.diagramActions&Qr.ToolAction||this.diagramActions&Qr.PublicMethod))v()&&(this.insertValue(Xu(r),!0),n=!0),r.offsetX=e.wrapper.offsetX;else{this.realActions|=Vr.PreventScale;var i=r.offsetX-e.wrapper.offsetX;r.offsetX=e.wrapper.offsetX;var o=r.offsetY-e.wrapper.offsetY;r.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(r,i,o),this.realActions&=~Vr.PreventScale}if(!r.offsetY||!(this.realActions&Vr.EnableGroupAction)&&(this.diagramActions&Qr.UndoRedo||this.diagramActions&Qr.ToolAction||this.diagramActions&Qr.PublicMethod))v()&&(this.insertValue(Xu(r),!0),n=!0),r.offsetY=e.wrapper.offsetY;else{this.realActions|=Vr.PreventScale;o=r.offsetY-e.wrapper.offsetY;r.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(r,0,o),this.realActions&=~Vr.PreventScale}this.diagramActions&&(v()&&(this.insertValue(Xu(r),!0),n=!0),r.width=e.wrapper.actualSize.width,r.height=e.wrapper.actualSize.height)}}t&&e.children&&e.children.length>0&&(void 0!==this.nameTable[e.id].width?this.scaleObject(e,this.nameTable[e.id].width,!0):(v()&&(this.insertValue(Xu(this.nameTable[e.id]),!0),n=!0),this.nameTable[e.id].width=e.wrapper.actualSize.width),void 0!==this.nameTable[e.id].height?this.scaleObject(e,this.nameTable[e.id].height,!1):(v()&&(this.insertValue(Xu(this.nameTable[e.id]),!0),n=!0),this.nameTable[e.id].height=e.wrapper.actualSize.height)),!n||this.diagramActions&Qr.UndoRedo||this.diagramActions&Qr.ToolAction||this.diagramActions&Qr.PublicMethod||this.commandHandler.getBlazorOldValues()},t.prototype.initNode=function(e,t,n){var r,i,o=e.initContainer(),a=new mi;if(this.diagramSettings.inversedAlignment||(o.inversedAlignment=!1),o.children||(o.children=[]),e.children){o.measureChildren=!1,a.id=e.id+"group_container",a.style.fill="none",a.style.strokeColor="none",a.horizontalAlignment="Stretch",a.verticalAlignment="Stretch",o.style=e.style,a.children=[],a.preventContainer=!0,e.container&&(a.relativeMode="Object");var s=!!(e.ports&&e.ports.length>0);if(p(e.container)&&!s&&o.children.push(a),e.container&&"Grid"===e.container.type)for(var l=0;l<e.children.length;l++){var c=new mi,h=this.nameTable[e.children[l]];c.children=[],c.children.push(h.wrapper),h&&o.addObject(h.wrapper,h.rowIndex,h.columnIndex,h.rowSpan,h.columnSpan)}else for(l=0;l<e.children.length;l++)if(this.nameTable[e.children[l]]){h=this.nameTable[e.children[l]];this.updateStackProperty(e,h,l),o.children.push(h.wrapper),o.elementActions=o.elementActions|Dr.ElementIsGroup,h.wrapper.flip="None"===h.wrapper.flip?e.wrapper.flip:h.wrapper.flip}(s||e.container&&"Grid"!==e.container.type)&&o.children.push(a)}else{var d=ip(this.setNodeTemplate);d&&"helper"!==e.id&&(r=d(e,this)),r||(r=e.init(this)),o.children.push(r)}i=ip(this.getDescription),(e.children?o:r).description=i||(e.annotations.length?e.annotations[0].content:e.id);var u=e.children?a:o;e.initAnnotations(this.getDescription,u,this.element.id,!!Hl(this),this.annotationTemplate),e.initPorts(this.getDescription,u),e.initIcons(this.getDescription,this.layout,u,t);for(l=0;e.fixedUserHandles,l<e.fixedUserHandles.length;l++){var f=e.initfixedUserHandles(e.fixedUserHandles[l]);u.children.push(f)}"SwimLane"===e.shape.type&&e.wrapper&&e.wrapper.children.length>0&&e.wrapper.children[0]instanceof uc?(Mc(e),Rc(this,e),this.updateDiagramElementQuad()):(o.measure(new nr(e.width,e.height),e.id,this.onLoadImageSize.bind(this)),o instanceof uc?o.arrange(o.desiredSize,!0):o.arrange(o.desiredSize)),"None"!==e.wrapper.flip&&e.wrapper.elementActions&Dr.ElementIsGroup&&od(e.wrapper,e.wrapper.offsetX,e.wrapper.offsetY,this,e.wrapper.flip),e instanceof iu&&e.container&&(e.width<o.outerBounds.width||e.height<o.outerBounds.height)&&o.bounds.x<=o.outerBounds.x&&o.bounds.y<=o.outerBounds.y&&(e.width=o.width=o.outerBounds.width,e.height=o.height=o.outerBounds.height,o.measure(new nr(e.width,e.height)),o.arrange(o.desiredSize)),e.container&&"Grid"===e.container.type&&e.children&&e.children.length>0&&this.updateChildPosition(e)},t.prototype.updateDiagramElementQuad=function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].wrapper&&this.nodes[e].wrapper instanceof pi&&this.updateQuad(this.nodes[e])},t.prototype.onLoadImageSize=function(e,t){var n=this.getObject(e),r=document.getElementById(e+"sf-imageNode");r&&r.parentNode.removeChild(r),this.nodePropertyChange(n,{},{width:t.width,height:t.height});var i={element:Xu(n),size:t};this.triggerEvent(Kr.onImageLoad,i)},t.prototype.updateChildPosition=function(e){for(var t=0;t<e.children.length;t++){var n=this.getObject(e.children[t]);n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY,n.children&&n.children.length>0&&this.updateChildPosition(n)}},t.prototype.canExecute=function(){return!0},t.prototype.updateStackProperty=function(e,t,n){e.container&&"Stack"===e.container.type&&(t.width||(t.wrapper.horizontalAlignment="Stretch",t.horizontalAlignment="Stretch"),t.height||(t.verticalAlignment="Stretch",t.wrapper.verticalAlignment="Stretch"),n&&"UmlClassifier"===e.shape.type&&(t.umlIndex=n))},t.prototype.initViews=function(){this.isLoading||(this.views.push(this.element.id),this.views[this.element.id]=this)},t.prototype.initCommands=function(){var e=this.commandManager.commands,t={copy:{execute:this.copyCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.C,keyModifiers:Ur.Control}},paste:{execute:this.pasteCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.V,keyModifiers:Ur.Control}},cut:{execute:this.cutCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.X,keyModifiers:Ur.Control}},delete:{execute:this.removeCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.Delete}},selectAll:{execute:this.selectAll.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.A,keyModifiers:Ur.Control}},undo:{execute:this.undo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.Z,keyModifiers:Ur.Control}},redo:{execute:this.redo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.Y,keyModifiers:Ur.Control}},nudgeUp:{execute:this.nudgeCommand.bind(this,"Up"),canExecute:this.canExecute.bind(this),gesture:{key:zr.Up},parameter:"up"},nudgeRight:{execute:this.nudgeCommand.bind(this,"Right"),canExecute:this.canExecute.bind(this),gesture:{key:zr.Right},parameter:"right"},nudgeDown:{execute:this.nudgeCommand.bind(this,"Down"),canExecute:this.canExecute.bind(this),gesture:{key:zr.Down},parameter:"down"},nudgeLeft:{execute:this.nudgeCommand.bind(this,"Left"),canExecute:this.canExecute.bind(this),gesture:{key:zr.Left},parameter:"left"},startEdit:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.F2}},endEdit:{execute:this.endEditCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.Escape}},focusToNextItem:{canExecute:this.canExecute.bind(this),gesture:{key:zr.Tab}},focusToPreviousItem:{canExecute:this.canExecute.bind(this),gesture:{key:zr.Tab,keyModifiers:Ur.Control}},selectFocusedItem:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:zr.Enter}}};this.initCommandManager(e,t)},t.prototype.overrideCommands=function(e,t){for(var n,r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(n=t[o],e.gesture.key===n.gesture.key&&e.gesture.keyModifiers===n.gesture.keyModifiers){delete t[o];break}}},t.prototype.initCommandManager=function(e,t){var n=0;if(e)for(n=0;n<e.length;n++)t[e[n].name]&&e[n]?(e[n].canExecute&&(t[e[n].name].canExecute=e[n].canExecute),e[n].execute&&(t[e[n].name].execute=e[n].execute),(e[n].gesture.key||e[n].gesture.keyModifiers)&&(t[e[n].name].gesture=e[n].gesture),""!==e[n].parameter&&(t[e[n].name].parameter=e[n].parameter)):(this.overrideCommands(e[n],t),t[e[n].name]={execute:e[n].execute,canExecute:e[n].canExecute,gesture:e[n].gesture,parameter:e[n].parameter});this.commands=t},t.prototype.updateNodeEdges=function(e){for(var t=0,n=e.inEdges;t<n.length;t++){var r=n[t];this.nameTable[r]&&(this.nameTable[r].targetID="")}for(var i=0,o=e.outEdges;i<o.length;i++){r=o[i];this.nameTable[r]&&(this.nameTable[r].sourceID="")}e.inEdges=[],e.outEdges=[]},t.prototype.updateIconVisibility=function(e,t){for(var n=0;n<e.wrapper.children.length;n++){var r=e.wrapper.children[n];if(r.id){var i=r.id.split(e.id)[1];i&&i.match("^_icon")&&(r.visible=t,this.updateDiagramContainerVisibility(r,t))}}},t.prototype.updateEdges=function(e){var t;void 0!==e.sourceID&&""!==e.sourceID&&((t=this.nameTable[e.sourceID])&&t.outEdges&&0===t.outEdges.length&&(t.outEdges=[]),t&&t.outEdges&&-1===t.outEdges.indexOf(e.id)&&t.outEdges.push(e.id),this.updatePortEdges(t,e,!1));if(void 0!==e.targetID&&""!==e.targetID&&((t=this.nameTable[e.targetID])&&t.inEdges&&0===t.inEdges.length&&(t.inEdges=[]),t&&t.inEdges&&-1===t.inEdges.indexOf(e.id)&&t.inEdges.push(e.id),this.updatePortEdges(t,e,!0),t&&t.visible&&t.outEdges)){var n=0!==t.outEdges.length;this.updateIconVisibility(t,n)}},t.prototype.updatePortEdges=function(e,t,n){if(e)for(var r=0;r<e.ports.length;r++){var i=e.ports[r],o=n?t.targetPortID:t.sourcePortID;if(i.id===o){var a=n?i.inEdges:i.outEdges;-1===a.indexOf(t.id)&&a.push(t.id)}}},t.prototype.refreshDiagram=function(){if(this.initLayerObjects(),this.doLayout(),this.updateBridging(),this.scroller.setSize(),this.addBlazorDiagramObjects(),v()&&this.layout&&this.layout.layoutInfo&&this.layout.layoutInfo.isRootInverse&&this.nodes.length>2){var e=this.nodes[0];if(e.outEdges.length>1)for(var t=this.isProtectedOnChange,n=1;n<e.outEdges.length;n++){var r=this.nameTable[e.outEdges[n]],i=this.allowServerDataBinding;this.protectPropertyChange(!1),this.enableServerDataBinding(!1),this.preventDiagramUpdate=!0,"Left"===this.getObject(r.targetID).data.Branch&&(r.sourcePortID=e.ports[1].id),this.dataBind(),this.preventDiagramUpdate=!1,this.enableServerDataBinding(i),this.protectPropertyChange(t)}}if(v())for(var o=void 0,a=0,s=this.views;a<s.length;a++){var l=s[a];(o=this.views[l]).renderDocument&&(o.renderDocument(o),o.diagramRenderer.setLayers(),o.updateView(o),this.renderNodes(o))}this.updateFitToPage()},t.prototype.updateCanupdateStyle=function(e,t){for(var n=0;n<e.length;n++)e[n].children&&this.updateCanupdateStyle(e[n].children,t),e[n].canApplyStyle=t},t.prototype.getZindexPosition=function(e,t){var n,r=[],i=void 0;if(r=(r=r.concat(this.nodes)).concat(this.connectors),-1!==e.zIndex)for(var o=0;o<r.length;o++)if(r[o].zIndex>e.zIndex){"HTML"!==e.shape.type&&"Native"!==e.shape.type||(n="HTML"===e.shape.type?"html":"native"),i=mu(t,r[o].id,n);break}return i},t.prototype.updateDiagramObject=function(e,t,n){for(var r,i=0,o=this.views;i<o.length;i++){var a=o[i];if(r=this.views[a],this.diagramActions&&"SVG"===r.mode){var s=void 0;if(this.layers.length>1&&(s=this.commandHandler.getObjectLayer(e.id)),void 0===s||s&&s.visible||n){var l=Eu(this.element.id);window.domTable[r.element.id+"_diagramLayer"]||(window.domTable[r.element.id+"_diagramLayer"]=document.getElementById(r.element.id+"_diagramLayer"));var c=window.domTable[r.element.id+"_diagramLayer"];this.diagramActions&Qr.Interactions&&this.updateCanupdateStyle(e.wrapper.children,!0),this.diagramRenderer.updateNode(e.wrapper,c,l,void 0,t?void 0:this.getZindexPosition(e,r.element.id)),this.updateCanupdateStyle(e.wrapper.children,!0)}}}},t.prototype.updateGridContainer=function(e){for(var t,n=Eu(this.element.id),r=0,i=this.views;r<i.length;r++){var o=i[r];if("SVG"===(t=this.views[o]).mode&&this.diagramActions){var a=document.getElementById(t.element.id+"_diagramLayer");this.diagramRenderer.updateNode(e,a,n,void 0)}else this.refreshCanvasDiagramLayer(t)}},t.prototype.getObjectsOfLayer=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.nameTable[i]&&t.push(this.nameTable[i])}return t},t.prototype.refreshDiagramLayer=function(){for(var e,t=0,n=this.views;t<n.length;t++){var r=n[t];switch((e=this.views[r]).mode){case"SVG":this.refreshSvgDiagramLayer(e);break;case"Canvas":this.refreshCanvasLayers(e)}}},t.prototype.refreshCanvasLayers=function(e){if(e)this.refreshCanvasDiagramLayer(e);else for(var t=0,n=this.views;t<n.length;t++){var r=n[t],i=this.views[r];this.refreshCanvasDiagramLayer(i)}},t.prototype.renderBasicElement=function(e){for(var t=Eu(e.element.id),n=0;n<this.basicElements.length;n++){var r=this.basicElements[n];r instanceof pi&&(r.prevRotateAngle=0),r.measure(new nr(r.width,r.height)),r.arrange(r.desiredSize),e.diagramRenderer.renderElement(r,e.diagramLayer,t)}},t.prototype.refreshElements=function(e){if(!this.isDestroyed){if(this.clearCanvas(e),e instanceof t)e.diagramLayer.getContext("2d").setTransform(e.scroller.currentZoom,0,0,e.scroller.currentZoom,0,0),e.diagramLayer.getContext("2d").scale(1.5,1.5);else(i=document.getElementById(e.element.id+"_nativeLayer")).children.length>0&&e.updateView(e);var n=Eu(e.element.id);this.renderDiagramElements(e.diagramLayer,e.diagramRenderer,n);for(var r=0;r<this.basicElements.length;r++){var i;(i=this.basicElements[r]).measure(new nr(i.width,i.height)),i.arrange(i.desiredSize),e.diagramRenderer.renderElement(i,e.diagramLayer,n)}e instanceof t&&(e.diagramLayer.style.transform="scale("+2/3+")",e.diagramLayer.style.transformOrigin="0 0"),this.renderTimer=null}},t.prototype.refreshCanvasDiagramLayer=function(e){var t=this;"SVG"===e.mode||this.isDestroyed||(this.basicElements.length>0&&this.renderBasicElement(e),!this.diagramActions||0===(this.diagramActions&Qr.Render)||Qr.ToolAction&this.diagramActions||Hl(this)||1!==this.scroller.currentZoom?this.refreshElements(e):this.renderTimer||(this.renderTimer=setTimeout((function(){t.refreshElements(e)}),40)))},t.prototype.updatePortVisibility=function(e,t,n){var r,i=!this.drawingObject||!this.drawingObject.shape;if(e instanceof iu&&i&&El(e)){for(var o=e.ports,a=!1,s=0;s<o.length;s++)r=this.getWrapper(e.wrapper,o[s].id),(t&Er.Hover||t&Er.Connect)&&Wh(o[s],t)&&(r.visible=!n,a=!0);a&&this.updateDiagramObject(e)}},t.prototype.refreshSvgDiagramLayer=function(e){var t,n=document.getElementById(e.element.id+"_diagramLayer"),r=Eu(e.element.id);if(Hl(this))this.scroller.virtualizeElements();else{for(var i=0;i<this.basicElements.length;i++)(t=this.basicElements[i]).measure(new nr(t.width,t.height)),t.arrange(t.desiredSize,!(this.diagramActions&Qr.Render)),this.diagramRenderer.renderElement(t,n,r);this.renderDiagramElements(n,this.diagramRenderer,r)}},t.prototype.removeVirtualObjects=function(e){if(this.deleteVirtualObject){for(var t=0;t<this.scroller.removeCollection.length;t++){var n=this.nameTable[this.scroller.removeCollection[t]];this.removeElements(n)}this.deleteVirtualObject=!1}clearInterval(e)},t.prototype.updateTextElementValue=function(e){for(var t=0;t<e.wrapper.children.length;t++){var n=e.wrapper.children[t];n instanceof gi&&(n.canMeasure=!0,n.measure(new nr(e.width,e.height)),n.arrange(n.desiredSize))}},t.prototype.updateVirtualObjects=function(e,t,n){var r=document.getElementById(this.element.id+"_diagramLayer"),i=Eu(this.element.id);if("SVG"===this.mode){for(var o=0;o<e.length;o++){var a=this.scroller.removeCollection.indexOf(e[o]);a>=0&&this.scroller.removeCollection.splice(a,1);var s=this.nameTable[e[o]];this.updateTextElementValue(s),this.diagramRenderer.renderElement(s.wrapper,r,i,void 0,void 0,void 0,void 0,s.zIndex)}for(var l=0;l<n.length;l++)this.scroller.removeCollection.push(n[l]);1!==this.scroller.currentZoom&&this.eventHandler.updateVirtualization()}else this.diagramActions&&this.refreshDiagramLayer()},t.prototype.renderDiagramElements=function(e,t,n,r,i,o){void 0===r&&(r=!0);var a=this.scroller.getPageBounds();a.x*=this.scroller.currentZoom,a.y*=this.scroller.currentZoom,a.width*=this.scroller.currentZoom,a.height*=this.scroller.currentZoom;for(var s=-this.scroller.horizontalOffset-a.x,l=-this.scroller.verticalOffset-a.y,c=0,h=Object.keys(this.layerZIndexTable);c<h.length;c++){var d=h[c],u=this.commandHandler.getLayer(this.layerZIndexTable[d]),p=void 0,f=void 0;"Canvas"===this.mode&&Hl(this)&&!this.diagramActions&&this.scroller.virtualizeElements();for(var g="Canvas"===this.mode&&Hl(this)&&this.scroller.oldCollectionObjects.length>0?this.scroller.oldCollectionObjects:void 0,A=0,m=Object.keys(g||u.zIndexTable);A<m.length;A++){var y=m[A],v=g?this.nameTable[g[y]]:this.nameTable[u.zIndexTable[y]];if(v&&!v.parentId&&u.visible&&(!v.processId||this.refreshing)){var b={tx:this.scroller.transform.tx,ty:this.scroller.transform.ty,scale:this.scroller.transform.scale};if(Hl(this)){if(this.scroller.currentZoom<1){if(a.x<0||this.scroller.horizontalOffset<0){var w=this.scroller.verticalOffset<0?this.scroller.verticalOffset:0;p=(s>0?s:0)+"px",f=(this.realActions&Vr.vScrollbarMoved?0:-w)+"px"}else p="0px",f="0px";this.realActions&Vr.hScrollbarMoved&&(this.realActions=this.realActions&~Vr.hScrollbarMoved),this.realActions&Vr.vScrollbarMoved&&(this.realActions=this.realActions&~Vr.vScrollbarMoved)}else p=(a.x<0?s:-this.scroller.horizontalOffset)+"px",f=(a.y<0?l:-this.scroller.verticalOffset)+"px";this.diagramLayer.style.left=p,this.diagramLayer.style.top=f,b.tx=this.scroller.horizontalOffset/b.scale,b.ty=this.scroller.verticalOffset/b.scale}var x=!0;if(i&&(x=!1),this.updateTextElementValue(v),this.refreshing&&v.shape.activity&&v.shape.activity.subProcess&&v.shape.activity.subProcess.processes){for(var C=0;C<v.shape.activity.subProcess.processes.length;C++){var S=v.shape.activity.subProcess.processes[C];v.wrapper.children.push(this.nameTable[S].wrapper)}v.wrapper.measure(new nr(v.wrapper.bounds.width,v.wrapper.bounds.height)),v.wrapper.arrange(v.wrapper.desiredSize)}t.renderElement(v.wrapper,e,n,!t.isSvgMode&&r?b:void 0,void 0,void 0,x&&(!this.diagramActions||o))}}}},t.prototype.updateBridging=function(e){if(this.bridgingModule)for(var t=0;t<this.connectors.length;t++){var n=this.connectors[t];this.bridgingModule.updateBridging(n,this);var r=this.connectors[t].wrapper;if(r){var i=r.children[0],o=i.data;n.getSegmentElement(n,i,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0),i.data!==o&&(r.measure(new nr),r.arrange(r.desiredSize),"SVG"!==this.mode||e||this.updateDiagramObject(n))}}},t.prototype.setCursor=function(e){this.diagramRenderer.setCursor(this.diagramCanvas,e)},t.prototype.clearCanvas=function(e){var t=e.contentWidth||e.diagramLayer.width/this.scroller.currentZoom,n=e.contentHeight||e.diagramLayer.height/this.scroller.currentZoom;"SVG"!==e.mode&&op.getContext(e.diagramLayer).clearRect(0,0,t,n)},t.prototype.updateScrollOffset=function(){this.scroller.setScrollOffset(this.diagramCanvas.scrollLeft,this.diagramCanvas.scrollTop),wl(this),Hl(this)&&this.scroller.virtualizeElements()},t.prototype.setOffset=function(e,t){window.domTable[this.element.id+"content"]||(window.domTable[this.element.id+"content"]=document.getElementById(this.element.id+"content"));var n=window.domTable[this.element.id+"content"];n&&(n.scrollLeft=e,n.scrollTop=t)},t.prototype.setSize=function(e,t){if(this.diagramLayer&&!this.preventDiagramUpdate){var n=Cl(this);e-=n.width,t-=n.height;var r=this.spatialSearch.getPageBounds();r.x*=this.scroller.currentZoom,r.y*=this.scroller.currentZoom,r.width*=this.scroller.currentZoom,r.height*=this.scroller.currentZoom;var i="SVG"===this.mode?1:1.5,o="SVG"===this.mode?gu(this.element.id):this.diagramLayer,a="Canvas"===this.mode&&this.constraints&jr.Virtualization?this.scroller.viewPortWidth:e,s="Canvas"===this.mode&&this.constraints&jr.Virtualization?this.scroller.viewPortHeight:t;o.setAttribute("width",(i*a).toString()),o.setAttribute("height",(i*s).toString());var l=document.getElementById(this.element.id+"_diagramUserHandleLayer");l&&(l.style.width=e+"px",l.style.height=t+"px");var c={width:e.toString(),height:t.toString()};this.diagramLayerDiv.style.width=e+"px",this.diagramLayerDiv.style.height=t+"px",Du(xu(this.element.id),c),Du(Au(this.element.id).getElementsByClassName("e-ports-expand-layer")[0],c);var h=yu(this.element.id);Du(h,c),h.parentNode.style.width=e+"px",h.parentNode.style.height=t+"px";var d=Cu(this.element.id);Du(d,c),this.diagramRenderer.updateGrid(this.snapSettings,d,this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),Du(Su(this.element.id),c),this.htmlLayer.style.width=e+"px",this.htmlLayer.style.height=t+"px","SVG"===this.mode||Hl(this)||this.refreshDiagramLayer(),"SVG"===this.mode&&Hl(this)&&this.scroller.virtualizeElements()}},t.prototype.transformLayers=function(){var e=this.spatialSearch.getPageBounds();e.x*=this.scroller.currentZoom,e.y*=this.scroller.currentZoom,e.width*=this.scroller.currentZoom,e.height*=this.scroller.currentZoom,this.diagramRenderer.updateGrid(this.snapSettings,Cu(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.diagramRenderer.transformLayers(this.scroller.transform,"SVG"===this.mode),this.diagramActions&Qr.DragUsingMouse||this.updateSelector(),this.renderPageBreaks(e)},t.prototype.removePageBreaks=function(){if(this.diagramLayer){var e=Bu(this.element.id);if(e&&e.childNodes)for(var t=e.childNodes.length,n=0;n<t;n++)e.removeChild(e.childNodes[0])}},t.prototype.renderPageBreaks=function(e){this.removePageBreaks();var t=Bu(this.element.id);if(t){var n=0;e=this.scroller.getPageBounds(!0);var r=(this.scroller.transform.tx+e.x)*this.scroller.currentZoom,i=(this.scroller.transform.ty+e.y)*this.scroller.currentZoom,o=e.height*this.scroller.currentZoom,a=e.width*this.scroller.currentZoom;sp.renderSvgBackGroundImage(this.pageSettings.background,this.element,r,i,a,o);var s={id:t.id+"rect",x:r,y:i,height:o,width:a,angle:0,stroke:"",strokeWidth:1,fill:this.pageSettings.background.color,opacity:1,pivotX:0,pivotY:0,visible:!0,dashArray:"0"};if(this.diagramRenderer.drawRect(t,s),this.pageSettings.showPageBreaks){var l=this.scroller.getPageBreak(e);for(n=0;n<l.length;n++)this.diagramRenderer.drawLine(t,{class:"e-diagram-page-break",fill:"none",stroke:"#aaaaaa",strokeWidth:1,dashArray:"10 10",opacity:2,x:0,y:0,width:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,startPoint:{x:(l[n].x1+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[n].y1+this.scroller.transform.ty)*this.scroller.currentZoom},endPoint:{x:(l[n].x2+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[n].y2+this.scroller.transform.ty)*this.scroller.currentZoom},id:l[n].y1===l[n].y2?"HorizontalLines":"VerticalLines"})}}},t.prototype.validatePageSize=function(){var e=0;"Portrait"===this.pageSettings.orientation?this.pageSettings.width>this.pageSettings.height&&(e=this.pageSettings.height,this.pageSettings.height=this.pageSettings.width,this.pageSettings.width=e):this.pageSettings.height>this.pageSettings.width&&(e=this.pageSettings.width,this.pageSettings.width=this.pageSettings.height,this.pageSettings.height=e)},t.prototype.setOverview=function(e,t){if(e)e&&(this.views.push(e.id),this.views[e.id]=e,e.renderDocument(e),e.diagramRenderer.setLayers(),e.updateView(e),this.renderNodes(e));else{for(var n=0;n<this.views.length;n++)this.views[n]===t&&(e=this.views[t]);this.views[t]=void 0;var r=this.views.indexOf(t);this.views.splice(r,1)}},t.prototype.renderNodes=function(e){if(e){var t=new sp(e.id,new ap,!1),n=document.getElementById(e.element.id+"_diagramLayer"),r=Eu(e.element.id);this.renderDiagramElements(n,e.diagramRenderer||t,r,void 0,void 0,!0)}},t.prototype.updateThumbConstraints=function(e,t,n){for(var r=e.length,i=0;i<r;i++){var o=e[i],a=!1,s=!1,l=t.thumbsConstraints;o instanceof iu?(a="Bpmn"===o.shape.type&&"Activity"===o.shape.shape&&!1===o.shape.activity.subProcess.collapsed||"TextAnnotation"===o.shape.shape,s="Bpmn"===o.shape.type&&"TextAnnotation"===o.shape.shape,kl(o)&&l&Rr.Rotate&&!a||(l&=~Rr.Rotate),_l(o,"SouthEast")&&l&Rr.ResizeSouthEast&&!s||(l&=~Rr.ResizeSouthEast),_l(o,"NorthWest")&&l&Rr.ResizeNorthWest&&!s||(l&=~Rr.ResizeNorthWest),_l(o,"East")&&l&Rr.ResizeEast&&!s||(l&=~Rr.ResizeEast),_l(o,"West")&&l&Rr.ResizeWest&&!s||(l&=~Rr.ResizeWest),_l(o,"North")&&l&Rr.ResizeNorth&&!s||(l&=~Rr.ResizeNorth),_l(o,"South")&&l&Rr.ResizeSouth&&!s||(l&=~Rr.ResizeSouth),_l(o,"NorthEast")&&l&Rr.ResizeNorthEast&&!s||(l&=~Rr.ResizeNorthEast),_l(o,"SouthWest")&&l&Rr.ResizeSouthWest&&!s||(l&=~Rr.ResizeSouthWest)):o instanceof Al?(n||(l|=Rr.Default),Tl(o)?l|=Rr.ConnectorSource:l&=~Rr.ConnectorSource,Il(o)?l|=Rr.ConnectorTarget:l&=~Rr.ConnectorTarget):(n||(l|=Rr.Default),_l(o)||(l&=~(Rr.ResizeSouthEast|Rr.ResizeSouthWest|Rr.ResizeSouth|Rr.ResizeEast|Rr.ResizeWest|Rr.ResizeNorth|Rr.ResizeNorthEast|Rr.ResizeNorthWest)),kl(o)||(l&=~Rr.Rotate)),t.thumbsConstraints=l}},t.prototype.renderSelector=function(e,t){var n=this.isProtectedOnChange;v()&&(this.isProtectedOnChange=!0);var r,i=new nr,o=this.selectedItems,a=(o.constraints,this.diagramRenderer.rendererActions),s=document.getElementsByClassName("blazor-inner-template");if(this.diagramRenderer.rendererActions=this.currentSymbol?this.addConstraints(a,Wr.DrawSelectorBorder):this.removeConstraints(a,Wr.DrawSelectorBorder),this.clearSelectorLayer(),this.commandHandler.hasSelection()){if(1===o.nodes.length&&0===o.connectors.length&&(o.rotateAngle=o.nodes[0].rotateAngle,o.pivot=o.nodes[0].pivot),o.wrapper.measure(i),o.wrapper.arrange(o.wrapper.desiredSize),o.width=o.wrapper.actualSize.width,o.height=o.wrapper.actualSize.height,o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY,0!==o.rotateAngle){for(var l=0,c=o.nodes;l<c.length;l++){var h=c[l];h.offsetX=h.wrapper.offsetX,h.offsetY=h.wrapper.offsetY}for(var d=0,u=o.connectors;d<u.length;d++)u[d]}this.spatialSearch.getPageBounds();var p=vu(this.element.id),f=wu(this.element.id);if(o.thumbsConstraints=Rr.Default,o.annotation?this.updateThumbConstraints([o.annotation],o):(this.updateThumbConstraints(o.nodes,o),this.updateThumbConstraints(o.connectors,o,!0)),o.annotation)this.renderSelectorForAnnotation(o,p);else if(o.nodes.length+o.connectors.length===1||this.nameTable.helper){if(o.nodes[0]instanceof iu){var g=o.nodes[0];bc(this,g)&&(t||"UmlClassifier"===g.shape.type||g.parentId&&this.nameTable[g.parentId]&&"UmlClassifier"===this.nameTable[g.parentId].shape.type||((!g.container||"Canvas"!==g.container.type&&"Grid"!==g.container.type)&&(o.nodes[0].constraints&=~(Mr.Rotate|Mr.HideThumbs)),o.thumbsConstraints&=~Rr.Rotate));var A=!!t||!!(g.constraints&Mr.HideThumbs),m=!!("SwimLane"===g.shape.type||g.isLane||g.isPhase||t);this.diagramRenderer.renderResizeHandle(o.wrapper.children[0],p,o.thumbsConstraints,this.scroller.currentZoom,o.constraints,this.scroller.transform,void 0,El(g),A,m)}else if(o.connectors[0]instanceof Al&&Zl(this.diagramRenderer.rendererActions)){var y=o.connectors[0];this.diagramRenderer.renderEndPointHandle(y,p,o.thumbsConstraints,o.constraints,this.scroller.transform,void 0!==y.sourceWrapper,void 0!==y.targetWrapper,!(!this.connectorEditingToolModule||!Ll(y)))}}else this.diagramRenderer.renderResizeHandle(o.wrapper,p,o.thumbsConstraints,this.scroller.currentZoom,o.constraints,this.scroller.transform,void 0,El(o));if(!o.annotation&&!this.currentSymbol&&(this.diagramRenderer.renderUserHandler(o,p,this.scroller.transform,f),v()&&s.length>0))for(r=0;r<this.selectedItems.userHandles.length;r++){var b=this.selectedItems.userHandles[r];document.getElementById(b.name+"_html_element").style.display="block"}}this.isProtectedOnChange=n},t.prototype.updateSelector=function(){var e=this.allowServerDataBinding;this.enableServerDataBinding(!1);var t,n=new nr,r=this.selectedItems,i=r.constraints,o=document.getElementsByClassName("blazor-inner-template");if(this.diagramActions&Qr.ToolAction||1!==this.selectedItems.nodes.length||(this.selectedItems.rotateAngle=this.selectedItems.nodes[0].rotateAngle,this.selectedItems.wrapper.rotateAngle=this.selectedItems.nodes[0].rotateAngle),void 0!==this.selectedItems&&(this.clearSelectorLayer(),null!==r.wrapper&&r.wrapper.children&&r.wrapper.children.length)){if(r.wrapper.measure(n),r.wrapper.arrange(r.wrapper.desiredSize),0!==r.rotateAngle||r.rotateAngle!==r.wrapper.prevRotateAngle)for(var a=0,s=r.nodes;a<s.length;a++){var l=s[a];l.offsetX=l.wrapper.offsetX,l.offsetY=l.wrapper.offsetY}r.width=r.wrapper.actualSize.width,r.height=r.wrapper.actualSize.height,r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY;var c=vu(this.element.id),h=wu(this.element.id),d=this.eventHandler.canHideResizers();if(r.thumbsConstraints=Rr.Default,r.annotation?this.updateThumbConstraints([r.annotation],r):(this.updateThumbConstraints(r.nodes,r),this.updateThumbConstraints(r.connectors,r,!0)),this.selectedItems.constraints&Tr.UserHandle&&!r.annotation&&!this.currentSymbol&&(this.diagramRenderer.renderUserHandler(r,c,this.scroller.transform,h),v()&&o.length>0))for(t=0;t<this.selectedItems.userHandles.length;t++){var u=this.selectedItems.userHandles[t];document.getElementById(u.name+"_html_element").style.display="block"}if(r.annotation)this.renderSelectorForAnnotation(r,c);else if(r.nodes.length+r.connectors.length===1){if(r.connectors[0]instanceof Al&&Zl(this.diagramRenderer.rendererActions)){var p=r.connectors[0];this.diagramRenderer.renderEndPointHandle(p,c,r.thumbsConstraints,i,this.scroller.transform,void 0!==p.sourceWrapper,void 0!==p.targetWrapper,!(!this.connectorEditingToolModule||!Ll(p)))}else if(r.nodes[0]instanceof iu){var f=r.nodes[0];bc(this,r.nodes[0])&&("UmlClassifier"===f.shape.type||f.parentId&&this.nameTable[f.parentId]&&"UmlClassifier"===this.nameTable[f.parentId].shape.type||((!f.container||"Canvas"!==f.container.type&&"Grid"!==f.container.type)&&(r.nodes[0].constraints&=~(Mr.HideThumbs|Mr.Rotate)),r.thumbsConstraints&=~Rr.Rotate));var g=!("SwimLane"!==f.shape.type&&!f.isLane&&!f.isPhase);this.diagramRenderer.renderResizeHandle(r.wrapper.children[0],c,r.thumbsConstraints,this.scroller.currentZoom,r.constraints,this.scroller.transform,d,El(r.nodes[0]),!!(r.nodes[0].constraints&Mr.HideThumbs),g)}}else this.diagramActions&Qr.Interactions&&(this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions|Wr.PreventRenderSelector),this.diagramRenderer.renderResizeHandle(r.wrapper,c,r.thumbsConstraints,this.scroller.currentZoom,r.constraints,this.scroller.transform,d,El(r)),this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions&~Wr.PreventRenderSelector}this.enableServerDataBinding(e)},t.prototype.renderSelectorForAnnotation=function(e,t){this.diagramRenderer.renderResizeHandle(e.wrapper.children[0],t,e.thumbsConstraints,this.scroller.currentZoom,e.constraints,this.scroller.transform,void 0,El(e.annotation))},t.prototype.drawSelectionRectangle=function(e,t,n,r){this.clearSelectorLayer(),this.diagramRenderer.drawSelectionRectangle(e,t,n,r,this.adornerLayer,this.scroller.transform)},t.prototype.renderHighlighter=function(e){var t=yu(this.element.id);this.diagramRenderer.renderHighlighter(e,t,this.scroller.transform)},t.prototype.clearHighlighter=function(){var e=yu(this.element.id),t=e.getElementById(e.id+"_highlighter");t&&t.parentNode.removeChild(t)},t.prototype.getNodesConnectors=function(e){for(var t=0;t<this.nodes.length;t++){var n=this.nodes[t];e.push(n)}for(t=0;t<this.connectors.length;t++){var r=this.connectors[t];e.push(r)}return e},t.prototype.clearSelectorLayer=function(){var e,t=yu(this.element.id),n=document.getElementsByClassName("blazor-inner-template");if(this.currentSymbol){var r=t.getElementById("borderRect_symbol");r&&r.parentNode.removeChild(r)}else{var i=t.getElementById(this.adornerLayer.id+"_selected_region");i&&i.parentNode.removeChild(i),this.clearHighlighter();for(var o=vu(this.element.id).childNodes,a=void 0,s=o.length;s>0;s--)(a=o[s-1]).parentNode.removeChild(a);if(v()&&!(this.diagramActions&Qr.DragUsingMouse)&&n.length>0)for(e=0;e<this.selectedItems.userHandles.length;e++){var l=this.selectedItems.userHandles[e];document.getElementById(l.name+"_html_element").style.display="none"}else if(!v()){var c=wu(this.element.id).childNodes;for(e=c.length;e>0;e--)c[e-1].parentNode.removeChild(c[e-1])}}},t.prototype.getWrapper=function(e,t){var n;t=e.id+"_"+t;for(var r=e instanceof mi?e:this.getPortContainer(this.nameTable[e.id]),i=0;i<r.children.length;i++)t===r.children[i].id&&(n=r.children[i]);return n},t.prototype.getEndNodeWrapper=function(e,t,n){if("Bpmn"===e.shape.type&&e.wrapper.children[0]instanceof mi){if(!v()&&"Activity"===e.shape.shape||v()&&"Activity"===e.shadow.bpmnShape){if(n&&"Transaction"===e.shape.activity.subProcess.type&&t.sourcePortID){var r=t.sourcePortID,i=e.wrapper.children[0].children[0].children[2];if(i.children)for(var o=0,a=i.children;o<a.length;o++){var s=a[o];if(s.visible&&s.id===e.id+"_"+r)return s.children[0]}}return e.wrapper.children[0].children[0].children[0]}return e.wrapper.children[0].children[0]}return this.containsMargin(e.wrapper.children[0])||e.children?e.wrapper:e.wrapper.children[0]},t.prototype.containsMargin=function(e){return e.margin&&(0!==e.margin.left||0!==e.margin.top||0!==e.margin.right||0!==e.margin.bottom)},t.prototype.focusOutEdit=function(){this.endEdit()},t.prototype.endEditCommand=function(){this.endEdit(),this.textEditing=!1},t.prototype.endEdit=function(){return Mf(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,l,c,h,d,u,p,f,g,A,m,y,b,w,x,C,S,B,P;return Df(this,(function(E){switch(E.label){case 0:return this.diagramActions&Qr.TextEdit?(e="Blazor",t="sfBlazor",n=void 0,r=void 0,i={},this.enableServerDataBinding(!1),v()&&(this.canEnableBlazorObject=!0),o=document.getElementById(this.element.id+"_editBox"),v()&&o||!v()?(a=o.value,ce.remove(o,"input",this.eventHandler.inputChange),ce.remove(o,"focusout",this.focusOutEdit),s=document.getElementById(this.element.id+"_editTextBoxDiv"),l=void 0,l=this.nameTable[this.activeLabel.parentId],c=Vh(l,this.activeLabel.id),h={oldValue:this.activeLabel.text,newValue:a,cancel:!1,element:l,annotation:c},v()&&this.textEdit&&(h=this.getBlazorTextEditArgs(h)),d=!1,s.parentNode.removeChild(s),u=void 0,this.bpmnModule?(l=this.bpmnModule.isBpmnTextAnnotation(this.activeLabel,this),u=this.bpmnModule.getTextAnnotationWrapper(l,this.activeLabel.id),(d=!!l)?s.textContent===a&&a===this.activeLabel.text?[3,5]:v()?this.textEdit&&window&&window[e]?(g={EventName:"textEdit",args:JSON.stringify(h)},[4,window[t].updateBlazorDiagramEvents(g,this)]):[3,2]:[3,3]:[3,5]):[3,5]):[3,11]):[3,11];case 1:h=E.sent()||h,E.label=2;case 2:return[3,4];case 3:this.triggerEvent(Kr.textEdit,h),E.label=4;case 4:h.cancel||this.bpmnModule.updateTextAnnotationContent(l,this.activeLabel,a,this),E.label=5;case 5:return d?[3,10]:(l=this.nameTable[this.activeLabel.parentId],!(p=Vh(l,this.activeLabel.id))||p instanceof Dd?n=v()&&"Text"===l.shape.type?{shape:{textContent:l.shape.content}}:{shape:{content:l.shape.content}}:(A=Kh(l,p.id,!0),i[A]={content:p.content},n={annotations:i}),(f=this.eventHandler.isAddTextNode(l,!0))||s.textContent===a&&a===this.activeLabel.text?[3,9]:v()?window&&window[e]&&this.textEdit?(g={EventName:"textEdit",args:JSON.stringify(h)},[4,window[t].updateBlazorDiagramEvents(g,this)]):[3,7]:[3,8]);case 6:h=E.sent()||h,E.label=7;case 7:return[3,9];case 8:this.triggerEvent(Kr.textEdit,h),E.label=9;case 9:u||(u=this.getWrapper(l.wrapper,this.activeLabel.id)),p.content===a||h.cancel||(l.parentId&&"UmlClassifier"===this.nameTable[l.parentId].shape.type&&-1===a.indexOf("+")&&-1===a.indexOf("-")&&-1===a.indexOf("#")&&-1===a.indexOf("~")&&-1===l.id.indexOf("_umlClass_header")&&(a=" + "+a),(l.isLane||l.isPhase)&&this.protectPropertyChange(!0),p instanceof Dd?r=v()&&"Text"===l.shape.type?{shape:{textContent:a}}:{shape:{content:a}}:(A=Kh(l,p.id,!0),(m={})[A]={content:a},r={annotations:m}),(y=this.getIndex(l,l.id))&&((b={})[y]=n,(w={})[y]=r,nd(l)===iu?this.onPropertyChanged({nodes:w},{nodes:b}):this.onPropertyChanged({connectors:w},{connectors:b})),this.protectPropertyChange(!0),v()&&"Text"===l.shape.type?l.shape.textContent=a:p.content=a,this.protectPropertyChange(!1),this.updateSelector(),(l.isLane||l.isPhase)&&this.protectPropertyChange(!1)),f&&(this.removeObjectsFromLayer(l),this.removeFromAQuad(l),delete this.nameTable[this.activeLabel.parentId],""!==a&&(this.clearSelection(),x=Xu(l),l=this.add(x),this.updateDiagramObject(l),this.commandHandler.oldSelectedObjects=ad(this),this.commandHandler.select(this.nameTable[l.id]),this.commandHandler.updateBlazorSelector())),E.label=10;case 10:if(this.selectedItems.nodes.length){if(C=this.nameTable[this.activeLabel.parentId],(S=this.nameTable[C.parentId])&&"SwimLane"===S.shape.type||"SwimLane"===C.shape.type)if("LaneHeaderParent","PhaseHeaderParent","SwimLane"===C.shape.type&&(S=this.nameTable[this.activeLabel.parentId],C=l),C.isLane||C.isPhase)for(B=C.isLane?S.shape.lanes:S.shape.phases,P=0;P<B.length;P++)B[P].id===(C.LaneHeaderParent||C.PhaseHeaderParent)&&(B[P].header.annotation.content=C.annotations[0].content);else C.isHeader&&S.shape.hasHeader&&(S.shape.header.annotation.content=C.annotations[0].content);this.dataBind()}u.visible=!0,this.updateDiagramObject(l),this.diagramActions=this.diagramActions&~Qr.TextEdit,this.activeLabel.isGroup&&this.endGroupAction(),this.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},this.commandHandler.getBlazorOldValues(),v()&&(this.canEnableBlazorObject=!1),this.enableServerDataBinding(!0),E.label=11;case 11:return[2]}}))}))},t.prototype.getIndex=function(e,t){for(var n=nd(e)===iu?this.nodes:this.connectors,r=0;r<n.length;r++)if(n[r].id.toString()===t.toString())return r.toString();return null},t.prototype.getBlazorTextEditArgs=function(e){var t=nd(e.element)===Al?{connectorId:e.element.id}:{nodeId:e.element.id},n={};return nd(e.element)===iu&&"Text"===e.element.shape.type?n.textNode=e.element.shape:n.annotationId=e.element.annotations[0].id,e={oldValue:e.oldValue,newValue:e.newValue,cancel:e.cancel,element:t,annotation:n}},t.prototype.canLogChange=function(){return!(!(this.diagramActions&Qr.Render)||this.diagramActions&Qr.ToolAction||this.diagramActions&Qr.UndoRedo||this.diagramActions&Qr.PublicMethod)},t.prototype.modelChanged=function(e,t){return!!(e.connectors||t.connectors||e.nodes||t.connectors||e.pageSettings||t.pageSettings||e.bridgeDirection||t.bridgeDirection)},t.prototype.resetDiagramActions=function(e){var t=!!e;this.diagramActions&Qr.UndoRedo&&(!t||e===Qr.UndoRedo)&&(this.diagramActions=this.diagramActions&~Qr.UndoRedo),this.diagramActions&Qr.PublicMethod&&(!t||e===Qr.PublicMethod)&&(this.diagramActions=this.diagramActions&~Qr.PublicMethod)},t.prototype.removeNode=function(e,t){this.removeObjectsFromLayer(e),this.removeFromAQuad(this.nameTable[e.id]);var n=document.getElementById(e.id+"_groupElement");if(delete this.nameTable[e.id],e.children&&delete this.groupTable[e.id],v())for(var r=0;r<this.nodes.length;r++)e.id===this.nodes[r].id&&this.UpdateBlazorDiagramModel(e,"Node",r);if(this.nodes.splice(this.nodes.indexOf(e),1),n.children&&n.children.length>0)for(var i=void 0,o=n.children.length-1;o>=0;o--){var a=n.children[o];t.length>0&&-1!==t.indexOf(a.id.split("_")[0])&&(i?n.parentNode.insertBefore(a,i):n.parentNode.insertBefore(a,n),i=a)}n&&n.parentNode.removeChild(n)},t.prototype.deleteGroup=function(e){var t=[];e.children&&(t=this.commandHandler.getChildren(e,[])),this.UpdateBlazorDiagramModelCollection(e);for(var n=0,r=t;n<r.length;n++){var i=r[n];this.nameTable[i.id]&&this.remove(i)}},t.prototype.updateObject=function(e,t,n){if(!(this.diagramActions&Qr.ToolAction)){var r=e.wrapper.children[0].bounds;if(!this.commandHandler.checkBoundaryConstraints(void 0,void 0,r))if(e instanceof iu){for(var i=t,o=0,a=Object.keys(n);o<a.length;o++){switch(c=a[o]){case"width":e.width=i.width;break;case"height":e.height=i.height;break;case"offsetX":e.offsetX=i.offsetX;break;case"offsetY":e.offsetY=i.offsetY;break;case"rotateAngle":e.rotateAngle=i.rotateAngle}}this.nodePropertyChange(e,n,t)}else{for(var s=0,l=Object.keys(n);s<l.length;s++){var c=l[s],h=t,d=e.sourcePoint,u=e.targetPoint;switch(c){case"sourcePoint":d.x=h.sourcePoint.x||d.x,d.y=h.sourcePoint.y||d.y;break;case"targetPoint":u.x=h.targetPoint.x||u.x,u.y=h.targetPoint.y||u.y}}this.connectorPropertyChange(e,n,t)}}},t.prototype.nodePropertyChangeExtend=function(e,t,n,r){return void 0!==n.style&&"Bpmn"!==e.shape.type&&(Nh(n.style,e.wrapper.children[0]),r=!0),void 0!==n.shadow&&(this.updateShadow(e.shadow,n.shadow),r=!0),void 0!==n.constraints&&(t.constraints&Mr.Select&&!(n.constraints&Mr.Select)&&_p(this,e)?this.clearSelection():(this.updateThumbConstraints(this.selectedItems.nodes,this.selectedItems),this.updateSelector(),r=!0)),this.swimLaneNodePropertyChange(e,t,n,r),r},t.prototype.swimLaneNodePropertyChange=function(e,t,n,r){if("SwimLane"===e.shape.type&&!this.currentSymbol){if(t.shape){var i=n.shape,o=e.shape,a="Horizontal"===o.orientation,s=o.padding,l=t.shape,c=e.wrapper.children[0],h=void 0,d=void 0,u=void 0;if(l.lanes||l.phases){if(l.lanes)for(var p=0,f=Object.keys(i.lanes);p<f.length;p++){var g=f[p],A=Number(g),m=l.lanes[A],y=void 0,v=i.lanes[A];if(v&&v.header&&(u=o.lanes[A].header.id,h=m.header,d=v.header,this.nodePropertyChange(this.nameTable[u],h,d)),m.children)for(var b=0,w=Object.keys(m.children);b<w.length;b++){var x=w[b];u=o.lanes[A].children[Number(x)].id;var C=this.nameTable[u];h=m.children[Number(x)],d=v.children[Number(x)],this.nodePropertyChange(C,h,d)}m.width&&!a&&(y=o.phases&&o.phaseSize?A+1:A,c.updateColumnWidth(y,v.width,!0,s),this.updateDiagramElementQuad()),m.height&&a&&(y=o.header&&o.hasHeader?A+1:A,y+=o.phases&&o.phaseSize?1:0,c.updateRowHeight(y,v.height,!0,s),this.updateDiagramElementQuad())}if(i.phases)for(var S=0,B=Object.keys(i.phases);S<B.length;S++){var P=B[S],E=(A=Number(P),i.phases[A]),O=void 0,T=o.header&&o.hasHeader?1:0;if(E&&E.header&&(u=o.phases[A].header.id,h=l.phases[A].header,d=E.header,this.nodePropertyChange(this.nameTable[u],h,d)),E.offset){if(0===A)O=E.offset;else{var I=o.phases[A-1];(O=E.offset-I.offset)<=0&&(O=E.offset)}a?(c.updateColumnWidth(A,O,!0,s),Vc(e,this,c.rows[T].cells[A],A)):c.updateRowHeight(T+A,O,!0,s)}}}if(void 0!==i.phaseSize&&o.phases.length)if(0===i.phaseSize||0===l.phaseSize)if(l.phaseSize)a?(c.removeRow(o.header&&o.hasHeader?1:0),e.height=e.wrapper.height=c.height):(o.header&&o.hasHeader&&(c.rows[0].cells[1].children=c.rows[0].cells[0].children,c.rows[0].cells[1].columnSpan=c.rows[0].cells[0].columnSpan-1,c.rows[0].cells[0].children=[]),c.removeColumn(0));else{if(a){var L=new pc;L.height=i.phaseSize,c.addRow(o.header&&o.hasHeader?1:0,L,!0),e.height=e.wrapper.height+=i.phaseSize}else{var k=new fc;k.width=i.phaseSize,c.addColumn(0,k,!0),o.header&&o.hasHeader&&(c.rows[0].cells[0].children=c.rows[0].cells[1].children,c.rows[0].cells[1].children=[],c.rows[0].cells[1].columnSpan=1,c.rows[0].cells[1].minWidth=void 0,c.rows[0].cells[0].columnSpan=o.lanes.length+1)}for(var N=0;N<o.phases.length;N++)""===o.phases[N].id&&(o.phases[N].id=Uu()),Tc(c,this,e,o.header&&o.hasHeader?1:0,a,N)}else a?c.updateRowHeight(o.header&&o.hasHeader?1:0,i.phaseSize,!1):c.updateColumnWidth(0,i.phaseSize,!1);if(o.header&&o.hasHeader&&l.header){var M=c.rows[0].cells[0].children[0].id,D=this.nameTable[M];this.nodePropertyChange(D,l.header,i.header)}e.height=e.wrapper.height=c.height,e.width=e.wrapper.width=c.width}else if(t.constraints){var R=t.constraints&Mr.Select,j=n.constraints&Mr.Select;if(R!==j){i=e.shape;(D=this.nameTable[e.id+i.header.id]).constraints=j?D.constraints|Mr.Select:D.constraints&~Mr.Select;var _=void 0;if(i.phaseSize>0)for(var F=0;F<i.phases.length;F++)(_=this.nameTable[e.id+i.phases[F].id+"_header"]).constraints=j?_.constraints|Mr.Select:_.constraints&~Mr.Select;var H=void 0,U=void 0,z=i.phases.length||1;for(F=0;F<i.lanes.length;F++)for(var Q=0;Q<z;Q++)(H=this.nameTable[e.id+i.lanes[F].id+Q]).constraints=j?H.constraints|Mr.Select:H.constraints&~Mr.Select,0===Q&&((U=this.nameTable[e.id+i.lanes[F].id+"_"+Q+"_header"]).constraints=j?U.constraints|Mr.Select:U.constraints&~Mr.Select)}}r=!0}return r},t.prototype.insertValue=function(e,t){if(!(this.blazorActions&Pr.GroupClipboardInProcess)){for(var n=void 0,r=t?this.oldNodeObjects:this.oldConnectorObjects,i=0;i<r.length;i++)r[i].id===e.id&&(n=!0);n||(t?this.oldNodeObjects.push(e):this.oldConnectorObjects.push(e))}},t.prototype.nodePropertyChange=function(e,t,n,r,i,o){if(this.canEnableBlazorObject&&"helper"!==e.id){var a=Xu(e);this.insertValue(a,!0)}var s,l=e.wrapper.outerBounds,c=e.wrapper.bounds,h=!1;if(void 0!==n.width&&(e.children?e.container?e.wrapper.width=n.width:this.scaleObject(e,n.width,!0):(e.wrapper.children[0].width=n.width,s=!0,h=!0)),void 0!==n.height&&(e.children?e.container?e.wrapper.height=n.height:this.scaleObject(e,n.height,!1):(e.wrapper.children[0].height=n.height,s=!0,h=!0)),s=this.nodePropertyChangeExtend(e,t,n,s),void 0!==n.constraints&&Nl(t)!==Nl(n)&&(e.wrapper.children[0].shadow=Nl(e)?e.shadow:null),void 0!==n.offsetX){if("None"!==e.wrapper.flip){if(e.offsetX!==e.wrapper.offsetX&&void 0!==t.offsetX){var d=n.offsetX-t.offsetX;e.wrapper.offsetX=e.wrapper.offsetX+d,this.updateFlipOffset(e.wrapper,d,0,e.wrapper.flip)}}else e.wrapper.offsetX=n.offsetX;s=!0,h=!0}if(void 0!==n.offsetY){if("None"!==e.wrapper.flip){if(e.offsetY!==e.wrapper.offsetY&&void 0!==t.offsetY){var u=n.offsetY-t.offsetY;e.wrapper.offsetY=e.wrapper.offsetY+u,this.updateFlipOffset(e.wrapper,0,u,e.wrapper.flip)}}else e.wrapper.offsetY=n.offsetY;s=!0,h=!0}if(void 0!==n.pivot&&(e.wrapper.pivot=n.pivot,s=!0),void 0!==n.minWidth&&(e.wrapper.minWidth=e.wrapper.children[0].minWidth=n.minWidth,s=!0,h=!0),void 0!==n.minHeight&&(e.wrapper.minHeight=e.wrapper.children[0].minHeight=n.minHeight,s=!0,h=!0),void 0!==n.maxWidth&&(e.wrapper.maxWidth=n.maxWidth,s=!0,h=!0),void 0!==n.maxHeight&&(e.wrapper.maxHeight=n.maxHeight,s=!0,h=!0),void 0!==n.flip)if(e.wrapper.flip=n.flip,s=!0,h=!0,e.wrapper.elementActions&Dr.ElementIsGroup){if(od(e.wrapper,e.offsetX,e.offsetY,this,n.flip),e&&e.children)for(var p=0,f=e.children;p<f.length;p++){var g=f[p],A=this.nameTable[g];A.wrapper.flip=n.flip,this.updatePorts(A,n.flip)}}else e.wrapper.children[0].flip=n.flip,this.updatePorts(e,n.flip);if(void 0!==n.rotateAngle&&e.constraints&Mr.Rotate&&(e.children&&i&&this.commandHandler.rotateObjects(e,[e],e.rotateAngle-e.wrapper.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),e.wrapper.rotateAngle=n.rotateAngle,s=!0,h=!0),void 0!==n.backgroundColor&&(e.wrapper.style.fill=n.backgroundColor),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.shape&&"Bpmn"!==e.shape.type&&(s=!0,Rh(n,e,t,this),h=!0),n.margin&&(s=!0,this.updateMargin(e,n),h=!0),((void 0!==n.shape&&void 0===n.shape.type||void 0!==n.width||void 0!==n.height||void 0!==n.style)&&"Bpmn"===e.shape.type&&this.bpmnModule||v()&&n&&n.shape&&"Bpmn"===n.shape.type)&&(s=!0,h=!0,this.bpmnModule.updateBPMN(n,t,e,this)),"UmlActivity"===e.shape.type&&(!v()&&"FinalNode"===e.shape.shape||v()&&"FinalNode"===e.shape.umlActivityShape)&&(s=!0,h=!0,this.updateUMLActivity(n,t,e,this)),(e.shape&&"UmlClassifier"===e.shape.type||e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type)&&(s=!0,h=!0),void 0!==n.ports)for(var m=0,y=Object.keys(n.ports);m<y.length;m++){var b=y[m],w=Number(b);s=!0;var x=n.ports[b],C=e.ports[w];this.updatePort(x,C,e.wrapper),h=!0}if(void 0!==n.annotation||void 0!==n.annotations||void 0!==n.width)for(var S=0,B=Object.keys(n.annotations||e.annotations);S<B.length;S++){b=B[S],w=Number(b);s=!0;x=void 0;x=n.annotation?n.annotation:n.annotations?n.annotations[b]:e.annotations;var P=e.annotations[w];if(P){var E=!!e.width;this.updateAnnotation(x,P,e.wrapper,e,E);var O=this.nameTable[e.parentId];if(O&&"SwimLane"===O.shape.type){if(e.isLane||e.isPhase)for(var T=e.isLane?O.shape.lanes:O.shape.phases,I=0;I<T.length;I++)if(T[I].id===(e.LaneHeaderParent||e.PhaseHeaderParent)){T[I].header.annotation.content=e.annotations[0].content,T[I].header.annotation.style=e.annotations[0].style;break}}}}if(void 0===n.expandIcon&&void 0===n.collapseIcon&&void 0===n.isExpanded||(this.updateIcon(e),this.updateDefaultLayoutIcons(e),void 0!==n.isExpanded&&this.commandHandler.expandNode(e,this),s=!0),void 0!==n.fixedUserHandles){w=void 0,x=void 0;for(var L=void 0,k=0,N=Object.keys(n.fixedUserHandles);k<N.length;k++){b=N[k];w=Number(b),s=!0,n.fixedUserHandles[w]&&(x=n.fixedUserHandles[w]),(L=e.fixedUserHandles[w])&&this.updateNodefixedUserHandle(x,L,e.wrapper,e)}}if(void 0!==n.tooltip&&this.updateTooltip(e,n),s){if(void 0!==this.bpmnModule&&this.bpmnModule.updateTextAnnotationProp(e,{offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY},this),this.checkSelectedItem(e)&&e.wrapper.children[0]instanceof gi&&e.wrapper.children[0].refreshTextElement(),e.wrapper.measure(new nr(e.wrapper.bounds.width,e.wrapper.bounds.height),e.id,this.onLoadImageSize.bind(this)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateObject(e,t,n),"SwimLane"===e.shape.type&&!this.currentSymbol&&!(this.diagramActions&Qr.ToolAction)){Xc(this,e);var M=e.wrapper.children[0],D=e.shape,R=M.columnDefinitions().length;if("Horizontal"===D.orientation){w=D.header&&D.hasHeader?1:0;Vc(e,this,M.rows[w].cells[R-1],R-1)}e.wrapper.measure(new nr(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}if(this.diagramActions&Qr.ToolAction&&!(this.diagramActions&Qr.UndoRedo)||this.checkSelectedItem(e)&&this.updateSelector(),!1===l.equals(l,e.wrapper.outerBounds)&&this.updateQuad(e),r?e&&e.visible&&e.outEdges&&this.updateIconVisibility(e,0!==e.outEdges.length):this.commandHandler.connectorSegmentChange(e,c,void 0!==n.rotateAngle),void 0!==this.bpmnModule&&this.bpmnModule.updateDocks(e,this),n.annotations&&e.processId||this.updateGroupOffset(e),e.parentId&&this.nameTable[e.parentId]){var j=this.nameTable[e.parentId];j.wrapper.measure(new nr(j.wrapper.width,e.wrapper.height)),j.wrapper.arrange(j.wrapper.desiredSize),j.offsetX=j.wrapper.offsetX,j.offsetY=j.wrapper.offsetY}if(!1===c.equals(c,e.wrapper.bounds)&&(this.updateGroupSize(e),e.children&&this.updateGroupOffset(e)),"SwimLane"===e.shape.type&&!this.currentSymbol&&this.diagramActions&Qr.Render)Hc(Nc(this,e.wrapper.children[0]),this);if(!this.preventNodesUpdate&&((!Hl(this)||Hl(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)&&(this.diagramActions&Qr.PreventZIndexOnDragging?this.updateDiagramObject(e,!0):this.updateDiagramObject(e)),!r&&h&&(this.lineRoutingModule&&this.diagramActions&&this.constraints&jr.LineRouting&&"helper"!==e.id&&(this.diagramActions&Qr.ToolAction||this.lineRoutingModule.renderVirtualRegion(this,!0)),this.updateConnectorEdges(e),"helper"!==e.id&&!(this.diagramActions&Qr.ToolAction))))for(var _=this.spatialSearch.findObjects(e.wrapper.outerBounds),F=0;F<_.length;F++){var H=_[F];H instanceof Al&&this.connectorPropertyChange(_[F],{},{sourceID:H.sourceID,targetID:H.targetID,sourcePortID:H.sourcePortID,targetPortID:H.targetPortID,sourcePoint:H.sourcePoint,targetPoint:H.targetPoint})}"New"!==e.status&&this.diagramActions&&(e.status="Update")}if(!o){var U=e,z={element:U,cause:this.diagramActions,oldValue:t,newValue:n};v()&&this.propertyChange&&(z.element={node:ud(U)},z.oldValue={node:ud(t)},z.newValue={node:ud(n)}),this.triggerEvent(Kr.propertyChange,z)}},t.prototype.updatePorts=function(e,t){if(e&&e.ports.length>0)for(var n=0,r=Object.keys(e.ports);n<r.length;n++){var i=r[n],o=Number(i),a=e.ports[o],s=this.getWrapper(e.wrapper,a.id);(s=id(s,t,a)).relativeMode="Point",s.measure(new nr(s.width,s.height)),s.arrange(s.desiredSize)}},t.prototype.updateFlipOffset=function(e,t,n,r){if(e.hasChildren())for(var i=0,o=e.children;i<o.length;i++){var a=o[i];"Horizontal"!==r&&"Both"!==r||(a.flipOffset.x=a.flipOffset.x+t),"Vertical"!==r&&"Both"!==r||(a.flipOffset.y=a.flipOffset.y+n),(a instanceof mi||a instanceof pi)&&this.updateFlipOffset(a,t,n,r)}},t.prototype.updateUMLActivity=function(e,t,n,r){if(void 0!==e.width||void 0!==e.height){var i=n.wrapper.children[0].children[0];i.width=e.width,i.height=e.height;var o=n.wrapper.children[0].children[1];o.width=e.width/1.5,o.height=e.height/1.5}},t.prototype.updateConnectorProperties=function(e){if(this.preventConnectorsUpdate){-1===this.selectionConnectorsList.indexOf(e)&&this.selectionConnectorsList.push(e)}else{var t={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint,sourceID:e.sourceID,targetID:e.targetID,sourcePortID:e.sourcePortID,targetPortID:e.targetPortID};this.connectorPropertyChange(e,{},t,void 0,!0)}},t.prototype.updateConnectorEdges=function(e){if(e.inEdges.length>0)for(var t=0;t<e.inEdges.length;t++)this.updateConnectorProperties(this.nameTable[e.inEdges[t]]);if(e.outEdges.length>0)for(var n=0;n<e.outEdges.length;n++)this.updateConnectorProperties(this.nameTable[e.outEdges[n]]);e.parentId&&this.nameTable[e.parentId]&&this.updateConnectorEdges(this.nameTable[e.parentId])},t.prototype.connectorProprtyChangeExtend=function(e,t,n,r){return void 0!==n.type&&n.type!==t.type&&e.segments.length>0&&void 0===n.segments&&(e.segments=[]),void 0!==n.shape&&void 0!==e.shape&&e.shape&&"Bpmn"===e.shape.type&&this.bpmnModule&&this.bpmnModule.updateBPMNConnector(e,t,n,this),void 0!==e.constraints?(this.updateThumbConstraints(this.selectedItems.connectors,this.selectedItems),!0):r},t.prototype.connectorPropertyChange=function(e,t,n,r,i){if(this.canEnableBlazorObject){var o=Xu(e);this.insertValue(o,!1)}var a,s,l,c,h,d=e.wrapper.bounds,u=!1,p=[];if(u=this.connectorProprtyChangeExtend(e,t,n,u),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.sourcePoint||void 0!==n.targetPoint||void 0!==n.sourceID||void 0!==n.targetID||void 0!==n.targetPadding||void 0!==n.sourcePortID||void 0!==n.targetPortID||void 0!==n.sourcePadding||void 0!==n.type||void 0!==n.segments||void 0!==n.flip){if(void 0!==n.sourceID&&n.sourceID!==t.sourceID||n.sourcePortID){var f=this.nameTable[e.sourceID];if(s=this.findInOutConnectPorts(f,!1),(!f||Rl(f)||""!==e.sourcePortID&&jl(s))&&(e.sourceWrapper=f?this.getEndNodeWrapper(f,e,!0):void 0,e.sourcePortID&&void 0===n.sourcePortID&&(e.sourcePortWrapper=f?this.getWrapper(f.wrapper,e.sourcePortID):void 0),this.removePortEdges(this.nameTable[t.sourceID]||f,t.sourcePortID||e.sourcePortID,e.id,!1)),void 0!==n.sourceID&&void 0!==t.sourceID&&""!==t.sourceID){var g=this.nameTable[t.sourceID];void 0!==g&&g.outEdges&&-1!==g.outEdges.indexOf(e.id)&&Fh(g.outEdges,e.id)}this.updateEdges(e)}if(void 0!==n.targetID&&n.targetID!==t.targetID){var A=this.nameTable[n.targetID];if(a=this.findInOutConnectPorts(A,!0),(!A||Ml(A)||""!==e.targetPortID&&Dl(a))&&(e.targetWrapper=A?this.getEndNodeWrapper(A,e,!1):void 0,e.targetPortID&&void 0===n.targetPortID&&(e.targetPortWrapper=A?this.getWrapper(A.wrapper,e.targetPortID):void 0),this.removePortEdges(this.nameTable[t.targetID]||A,t.targetPortID||e.targetPortID,e.id,!0)),void 0!==t&&void 0!==t.targetID&&""!==t.targetID){var m=this.nameTable[t.targetID];void 0!==m&&m.inEdges&&-1!==m.inEdges.indexOf(e.id)&&Fh(m.inEdges,e.id)}this.updateEdges(e)}if(void 0!==n.sourcePortID&&n.sourcePortID!==t.sourcePortID)e.sourceID&&this.nameTable[e.sourceID]&&(l=this.nameTable[e.sourceID].wrapper),!(f=this.nameTable[e.sourceID])||Rl(f)||""!==e.sourcePortID&&jl(s)?e.sourcePortWrapper=l?this.getWrapper(l,n.sourcePortID):void 0:""!==e.sourcePortID||Rl(f)||(e.sourcePortWrapper=void 0);if(void 0!==n.targetPortID&&n.targetPortID!==t.targetPortID){A=this.nameTable[e.targetID];e.targetID&&this.nameTable[e.targetID]&&(c=this.nameTable[e.targetID].wrapper),!A||Ml(A)||""!==e.targetPortID&&Dl(a)?e.targetPortWrapper=c?this.getWrapper(c,n.targetPortID):void 0:""!==e.targetPortID||Ml(A)||(e.targetPortWrapper=void 0)}void 0!==n.flip&&(e.flip=n.flip,rd(e)),"Orthogonal"===e.type&&this.lineRoutingModule&&this.diagramActions&&this.constraints&jr.LineRouting&&!(this.diagramActions&Qr.ToolAction)&&(this.lineRoutingModule.renderVirtualRegion(this,!0),this.lineRoutingModule.refreshConnectorSegments(this,e,!1)),p=this.getPoints(e)}void 0!==n.style&&Nh(n.style,e.wrapper.children[0]),(p.length>0||void 0!==n.sourceDecorator||void 0!==n.targetDecorator&&(-1!==(h=Object.keys(n.targetDecorator)).indexOf("shape")||-1!==h.indexOf("pathData")||-1!==h.indexOf("width")||-1!==h.indexOf("height"))||void 0!==n.cornerRadius)&&(Hh(e,p.length>0?p:e.intermediatePoints,this.diagramActions),void 0!==n.type&&(u=!0),p.length>0&&(e.wrapper.measure(new nr(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateConnectorAnnotation(e),this.updateConnectorfixedUserHandles(e),this.updateObject(e,t,n))),(n.sourcePoint||n.targetPoint||n.segments)&&this.diagramActions===Qr.Render&&(u=!0),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.commandHandler.updatePathElementOffset(e),r||this.updateBridging(),this.updateAnnotations(n,e),this.updatefixedUserHandle(n,e),e.wrapper.measure(new nr(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),!1===d.equals(d,e.wrapper.bounds)&&(this.updateQuad(e),this.updateGroupSize(e)),!0!==u||!this.checkSelectedItem(e)||this.diagramActions&Qr.ToolAction&&!(this.diagramActions&Qr.UndoRedo)||this.updateSelector(),this.preventConnectorsUpdate||(!Hl(this)||Hl(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)&&(this.diagramActions&Qr.PreventZIndexOnDragging?this.updateDiagramObject(e,!0):this.updateDiagramObject(e)),this.diagramActions&&"New"!==e.status&&(e.status="Update"),this.triggerPropertyChange(i,e,t,n)},t.prototype.removePortEdges=function(e,t,n,r){if(e)for(var i=0;i<e.ports.length;i++){var o=e.ports[i];if(o.id===t)Fh(r?o.inEdges:o.outEdges,n)}},t.prototype.getpropertyChangeArgs=function(e,t,n,r){return r.element={connector:ud(e)},r.oldValue={connector:ud(t)},r.newValue={connector:ud(n)},r},t.prototype.triggerPropertyChange=function(e,t,n,r){if(!e){var i=t,o={element:ud(i),cause:this.diagramActions,oldValue:ud(n),newValue:ud(r)};v()&&(o=this.getpropertyChangeArgs(i,n,r,o)),this.triggerEvent(Kr.propertyChange,o)}},t.prototype.findInOutConnectPorts=function(e,t){var n={};return e&&(n=Yh(e,t)),n},t.prototype.getPoints=function(e,t){var n=!!this.lineDistributionModule;return e.getConnectorPoints(e.type,t,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0,n)},t.prototype.updateNodeProperty=function(e,t,n){if(void 0===t)this.updateElementVisibility(e,this.nameTable[e.id],t);else{e.style.opacity=n;for(var r=0;r<e.children.length;r++)e.children[r]instanceof pi&&this.updateNodeProperty(e.children[r],void 0,n),e.children[r].style.opacity=n}},t.prototype.checkSelectedItem=function(e){var t=this.selectedItems,n=!1,r=[];return(r=r.concat(t.nodes,t.connectors)).length>0&&e.id===r[r.length-1].id&&(n=!0),n},t.prototype.updateDiagramContainerVisibility=function(e,t){if(e instanceof pi)for(var n=0;n<e.children.length;n++)this.updateDiagramContainerVisibility(e.children[n],t);e.visible=t},t.prototype.updateElementVisibility=function(e,t,n){if(void 0!==n){if(e.visible=n,t instanceof iu){if(t.children)for(var r=0,i=t.children;r<i.length;r++){var o=i[r];this.updateElementVisibility(this.nameTable[o].wrapper,this.nameTable[o],n)}else e.children[0].visible=n,this.updateDiagramContainerVisibility(e.children[0],n),"Bpmn"===t.shape.type&&this.bpmnModule&&this.bpmnModule.updateElementVisibility(t,n,this);if(t.ports)for(var a=0,s=t.ports;a<s.length;a++){var l=s[a];if(l.visibility&Er.Visible)(g=this.getWrapper(e,l.id)).visible=n}if(t.annotations)for(var c=0,h=t.annotations;c<h.length;c++){var d=h[c];(g=this.getWrapper(e,d.id)).visible=n}}else for(var u=0;u<3;u++)e.children[u].visible=n;if(t.annotations)for(var p=0,f=t.annotations;p<f.length;p++){d=f[p];(g=this.getWrapper(e,d.id)).visible=n}if(t.expandIcon||t.collapseIcon){var g;if(g=this.getWrapper(e,"icon_content")){for(u=0;u<g.children.length;u++)g.children[u].visible=n;g.visible=n}t&&t.visible&&t.outEdges&&this.updateIconVisibility(t,0!==t.outEdges.length)}!1===n&&this.unSelect(this.nameTable[e.id]),(t instanceof iu&&!this.preventNodesUpdate||t instanceof Al&&!this.preventConnectorsUpdate)&&this.diagramActions&&this.updateDiagramObject(this.nameTable[e.id],void 0,!0)}},t.prototype.updateAnnotations=function(e,t){if(void 0!==e.annotations)for(var n=0,r=Object.keys(e.annotations);n<r.length;n++){var i=r[n],o=Number(i),a=e.annotations[i],s=t.annotations[o];this.updateAnnotation(a,s,t.wrapper,t)}},t.prototype.updatefixedUserHandle=function(e,t){if(void 0!==e.fixedUserHandles)for(var n=void 0,r=void 0,i=void 0,o=0,a=Object.keys(e.fixedUserHandles);o<a.length;o++){var s=a[o];n=Number(s),r=e.fixedUserHandles[s],i=t.fixedUserHandles[n],this.updateConnectorfixedUserHandle(r,i,t.wrapper,t)}},t.prototype.updateConnectorfixedUserHandle=function(e,t,n,r,i){var o=!1,a=this.getWrapper(n,t.id);void 0!==a&&(void 0!==e.width&&(a.width=e.width,o=!0),void 0!==e.height&&(a.height=e.height,o=!0),t instanceof Xs&&void 0!==e.offset&&r.updateAnnotation(t,r.intermediatePoints,r.wrapper.bounds,a),t instanceof Xs&&e.displacement&&(void 0===e.displacement.x&&void 0===e.displacement.y||(o=!0)),void 0!==e.fill&&(a.style.fill=e.fill),void 0!==e.handleStrokeColor&&(a.style.strokeColor=e.handleStrokeColor),void 0!==e.handleStrokeWidth&&(a.style.strokeWidth=e.handleStrokeWidth),void 0!==e.visibility&&(a.visible=e.visibility),void 0!==e.cornerRadius&&(a.cornerRadius=e.cornerRadius),this.updatefixedUserHandleContent(e,o,a,r,t,n),!0===o&&(a.measure(new nr(a.width,a.height)),a.arrange(a.desiredSize)))},t.prototype.updateAnnotation=function(e,t,n,r,i){var o=!1,a=this.getWrapper(n,t.id);if(void 0!==a){if(void 0!==e.width&&void 0!==e.height&&(a.width=e.width,a.height=e.height,o=!0),void 0!==e.rotateAngle&&(a.rotateAngle=e.rotateAngle),!i||a instanceof Us||a.refreshTextElement(),t instanceof Di&&void 0!==e.segmentAngle&&(a.rotateAngle=t.rotateAngle),t instanceof Mi&&void 0!==e.offset){var s=e.offset;o=!0;var l=void 0!==s.x?s.x:t.offset.x,c=void 0!==s.y?s.y:t.offset.y;a.setOffsetWithRespectToBounds(l,c,"Fraction"),a.relativeMode="Point"}else t instanceof Di&&(void 0!==e.offset||void 0!==e.segmentAngle)&&r.updateAnnotation(t,r.intermediatePoints,r.wrapper.bounds,a);if(t instanceof Di&&e.displacement&&(void 0===e.displacement.x&&void 0===e.displacement.y||(o=!0)),void 0!==e.margin&&(o=!0,void 0!==e.margin.bottom&&(a.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(a.margin.top=e.margin.top),void 0!==e.margin.left&&(a.margin.left=e.margin.left),void 0!==e.margin.right&&(a.margin.right=e.margin.right)),(o||i)&&(a.width=t.width||r.width,t.template&&(a.width=a.width||a.actualSize.width,a.height=t.height||r.height||a.actualSize.height)),void 0!==e.horizontalAlignment&&(a.horizontalAlignment=e.horizontalAlignment,o=!0),void 0!==e.verticalAlignment&&(a.verticalAlignment=e.verticalAlignment,o=!0),void 0!==e.visibility&&(a.visible=!(!n.visible||!e.visibility)),void 0!==e.constraints){a.constraints&Nr.Select&&!(e.constraints&Nr.Select)&&_p(this,r,!1,a),a.constraints=e.constraints}void 0!==e.style&&Nh(e.style,a),void 0!==e.hyperlink&&function(e,t,n){for(var r=t,i=r.hyperlink,o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"color":r.style.color=i.color=e.color;break;case"content":r.content=i.content=e.content||i.link;break;case"link":var s=n.style;r.style.color=e.link?i.color:s.color,r.style.textDecoration=e.link?i.textDecoration:n.style.textDecoration,r.content=e.link?i.content||e.link:n.content,i.link=e.link;break;case"textDecoration":r.style.textDecoration=i.textDecoration=e.textDecoration}}(e.hyperlink,a,t),this.updateAnnotationContent(e,o,a,r,t,n),!0===o&&(a.measure(new nr(a.width,a.height)),a.arrange(a.desiredSize)),a instanceof Us||a.refreshTextElement()}},t.prototype.updatefixedUserHandleContent=function(e,t,n,r,i,o){void 0!==e&&this.updateConnectorfixedUserHandleWrapper(n,r,i,o)},t.prototype.updateConnectorfixedUserHandleWrapper=function(e,t,n,r){for(var i=0,o=this.views;i<o.length;i++){var a=o[i];Nu(e.id+"_groupElement",a),Nu(e.id+"_html_element",a)}if(t instanceof Al){var s=t.wrapper.children[0],l=new Ar(s.offsetX-s.width/2,s.offsetY-s.height/2,s.width,s.height);e=t.getfixedUserHandle(t.fixedUserHandles[t.fixedUserHandles.length-1],t.intermediatePoints,l)}for(var c=0;c<r.children.length;c++)e.id===r.children[c].id&&r.children.splice(c,1,e)},t.prototype.updateAnnotationContent=function(e,t,n,r,i,o){void 0!==e.content&&(n&&(!0,"UmlActivity"===r.shape.type&&(v()&&"StructuredNode"===r.shape.umlActivityShape||!v()&&"StructuredNode"===r.shape.shape)?n.content="<<"+e.content+">>":n.content=e.content),n instanceof Us&&this.updateAnnotationWrapper(n,r,i,o)),void 0!==e.template&&(n.content=e.template,this.updateAnnotationWrapper(n,r,i,o))},t.prototype.updateAnnotationWrapper=function(e,t,n,r){for(var i=0,o=this.views;i<o.length;i++){var a=o[i];Nu(e.id+"_groupElement",a),Nu(e.id+"_html_element",a)}if(t instanceof iu)e=t.initAnnotationWrapper(n,this.element.id);else if(t instanceof Al){var s=t.wrapper.children[0],l=new Ar(s.offsetX-s.width/2,s.offsetY-s.height/2,s.width,s.height);e=t.getAnnotationElement(t.annotations[t.annotations.length-1],t.intermediatePoints,l,this.getDescription,this.element.id)}for(var c=0;c<r.children.length;c++)e.id===r.children[c].id&&r.children.splice(c,1,e)},t.prototype.updateNodefixedUserHandle=function(e,t,n,r){var i=!1,o=this.getWrapper(n,t.id);if(void 0!==o){if(void 0!==e.width&&(o.actualSize.width=e.width,i=!0),void 0!==e.height&&(o.height=e.height,i=!0),t instanceof Vs&&void 0!==e.offset){var a=e.offset;i=!0;var s=void 0!==a.x?a.x:t.offset.x,l=void 0!==a.y?a.y:t.offset.y;o.setOffsetWithRespectToBounds(s,l,"Fraction"),o.relativeMode="Point"}void 0!==e.margin&&(i=!0,void 0!==e.margin.bottom&&(o.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(o.margin.top=e.margin.top),void 0!==e.margin.left&&(o.margin.left=e.margin.left),void 0!==e.margin.right&&(o.margin.right=e.margin.right)),void 0!==e.visibility&&(o.visible=e.visibility),void 0!==e.fill&&(o.style.fill=e.fill),void 0!==e.handleStrokeColor&&(o.style.strokeColor=e.handleStrokeColor),void 0!==e.handleStrokeWidth&&(o.style.strokeWidth=e.handleStrokeWidth),void 0!==e.cornerRadius&&(o.cornerRadius=e.cornerRadius),this.updatefixedUserHandleWrapper(o,r,t,n),!0===i&&(o.measure(new nr(o.width,o.height)),o.arrange(o.desiredSize))}},t.prototype.updatefixedUserHandleWrapper=function(e,t,n,r){for(var i=0,o=this.views;i<o.length;i++){var a=o[i];Nu(e.id+"_groupElement",a),Nu(e.id+"_html_element",a)}t instanceof iu&&(e=t.initfixedUserHandles(n));for(var s=0;s<r.children.length;s++)e.id===r.children[s].id&&r.children.splice(s,1,e)},t.prototype.updatePort=function(e,t,n){var r=!1,i=this.getWrapper(n,t.id);if(void 0!==i){if(void 0!==e.offset){r=!0;var o=void 0!==e.offset.x?e.offset.x:t.offset.x,a=void 0!==e.offset.y?e.offset.y:t.offset.y;i.setOffsetWithRespectToBounds(o,a,"Fraction"),i.relativeMode="Point"}if(void 0!==e.width&&(r=!0,i.width=e.width),void 0!==e.height&&(r=!0,i.height=e.height),void 0!==e.visibility&&(i.visible=!(!n.visible||!Wh(t,Er.Visible))),void 0!==e.margin&&(r=!0,void 0!==e.margin.bottom&&(i.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(i.margin.top=e.margin.top),void 0!==e.margin.right&&(i.margin.right=e.margin.right),void 0!==e.margin.left&&(i.margin.left=e.margin.left)),void 0!==e.horizontalAlignment&&(r=!0,i.horizontalAlignment=e.horizontalAlignment),void 0!==e.verticalAlignment&&(r=!0,i.verticalAlignment=e.verticalAlignment),void 0!==e.style&&(void 0!==e.style.fill&&(i.style.fill=e.style.fill),void 0!==e.style.opacity&&(i.style.opacity=e.style.opacity),void 0!==e.style.strokeColor&&(i.style.strokeColor=e.style.strokeColor),void 0!==e.style.strokeWidth&&(i.style.strokeWidth=e.style.strokeWidth),void 0!==e.style.strokeDashArray&&(i.style.strokeDashArray=e.style.strokeDashArray)),void 0!==e.shape&&i){var s=Ri(e.shape);i.data=s,i.canMeasurePath=!0}void 0!==e.pathData&&(i.data=String(e.pathData),r=!0),!0===r&&(i.measure(new nr(i.width,i.height)),i.arrange(i.desiredSize))}},t.prototype.updateIcon=function(e){var t=this.getWrapper(e.wrapper,"icon_content"),n=this.diagramActions&Qr.Render?this.element.id:void 0;if(t){if("SVG"===this.mode){var r=Au(e.wrapper.id+"_icon_content",n);if(r){var i=Au(r.id+"_rect",n),o=Au(r.id+"_shape",n),a=Au(o.id+"_native_element",n);a&&a.parentNode.removeChild(a),o.parentNode.removeChild(o),i.parentNode.removeChild(i),r.parentNode.removeChild(r)}}var s=e.wrapper.children.indexOf(t);e.wrapper.children.splice(s,1)}var l=this.getPortContainer(e);e.initIcons(this.getDescription,this.layout,l,this.element.id)},t.prototype.getPortContainer=function(e){if(e.children)for(var t=0;t<e.wrapper.children.length;t++)if(e.wrapper.children[t].id===e.id+"group_container")return e.wrapper.children[t];return e.wrapper},t.prototype.updateTooltip=function(e,t){void 0!==t.tooltip.content&&(e.tooltip.content=t.tooltip.content),void 0!==t.tooltip.position&&(e.tooltip.position=t.tooltip.position),void 0!==t.tooltip.height&&(e.tooltip.height=t.tooltip.height),void 0!==t.tooltip.width&&(e.tooltip.width=t.tooltip.width),void 0!==t.tooltip.showTipPointer&&(e.tooltip.showTipPointer=t.tooltip.showTipPointer),void 0!==t.tooltip.relativeMode&&(e.tooltip.relativeMode=t.tooltip.relativeMode)},t.prototype.updateQuad=function(e){this.spatialSearch.updateQuad(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.removeFromAQuad=function(e){if(e.children)for(var t=void 0,n=e.children,r=0;r<n.length;r++)(t=this.nameTable[n[r]])&&this.removeFromAQuad(t);this.spatialSearch.removeFromAQuad(e.wrapper),this.spatialSearch.updateBounds(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.updateGroupSize=function(e){var t;e.parentId&&(t=this.nameTable[e.parentId])&&(t.parentId?this.updateGroupSize(t):(t.wrapper.measure(new nr),t.wrapper.arrange(t.wrapper.desiredSize),this.updateGroupOffset(t),this.updateDiagramObject(t)))},t.prototype.updatePage=function(){if(this.diagramActions&Qr.Render&&!(this.diagramActions&Qr.DragUsingMouse)){this.scroller.updateScrollOffsets(),this.scroller.setSize();for(var e=0,n=this.views;e<n.length;e++){var r=n[e],i=this.views[r];i instanceof t||i.updateView(i)}}this.diagramActions&Qr.DragUsingMouse&&this.renderPageBreaks()},t.prototype.protectPropertyChange=function(e){this.isProtectedOnChange=e},t.prototype.getProtectPropertyChangeValue=function(){return this.isProtectedOnChange},t.prototype.enableServerDataBinding=function(e){v()&&(this.allowServerDataBinding=e,e&&(this.bulkChanges={}))},t.prototype.updateShadow=function(e,t){void 0!==t.angle&&(e.angle=t.angle),void 0!==t.color&&(e.color=t.color),void 0!==t.distance&&(e.distance=t.distance),void 0!==t.opacity&&(e.opacity=t.opacity)},t.prototype.updateMargin=function(e,t){void 0!==t.margin.top&&(e.margin.top=t.margin.top),void 0!==t.margin.bottom&&(e.margin.bottom=t.margin.bottom),void 0!==t.margin.left&&(e.margin.left=t.margin.left),void 0!==t.margin.right&&(e.margin.right=t.margin.right)},t.prototype.removePreviewChildren=function(e){if(e.children&&e.children.length&&e.shape&&"SwimLane"===e.shape.type){for(var t=0;t<e.children.length;t++){var n=e.children[t],r=this.nodes.indexOf(this.nameTable[n]);r>=0&&this.nodes.splice(r,1),delete this.nameTable[n]}var i=this.nodes.indexOf(this.nameTable[this.currentSymbol.id]);i>=0&&this.nodes.splice(i,1)}},t.prototype.initDroppables=function(){var e,t,n=this,r={},i={};this.droppable=new bn(this.element),this.droppable.over=function(o){if(n.currentSymbol)o.event.touches&&o.event.touches.length&&n.eventHandler.mouseMove(o.event,o.event.touches);else{var a=null;if(!o.dragData&&"drag"===o.name){var s=document.getElementsByClassName("e-dragclone")[0];s&&(a=s)}if(o.dragData||a){var l=void 0,c=void 0;document.getElementById(n.element.id+"content").focus();var h=n.eventHandler.getMousePosition(o.event),d=void 0,u=a||o.dragData.helper,p=u.getAttribute("paletteId"),f=void 0,g=void 0,A=void 0,m=void 0;if(p){var y=document.getElementById(p).ej2_instances[0];n.droppable.sourceElement=y;if(y){var b=y.selectedSymbols;n.allowServerDataBinding=!1,d=Xu(y.selectedSymbols),r=y.childTable;var w=b.wrapper.children[0].children[0];if(m=function(e,t,n){var r=fd(e,t,n,"width"),i=fd(e,t,n,"height");return new nr(r,i)}(y,d,w),y.selectedSymbols instanceof iu){"TextAnnotation"===b.shape.shape?(d.offsetX=h.x+11+m.width*d.pivot.x,d.offsetY=h.y+11+m.height*d.pivot.y):(d.offsetX=h.x+5+m.width*d.pivot.x,d.offsetY=h.y+m.height*d.pivot.y);var x=new iu(n,"nodes",d,!0);"Bpmn"===x.shape.type&&x.shape.activity.subProcess.processes&&x.shape.activity.subProcess.processes.length&&(x.shape.activity.subProcess.processes=[]),f=x.dragSize,g=x.previewSize,A=y.symbolDragSize;var C=y.symbolPreview;if(x.width=f.width||A.width||g.width||C.width||x.width,x.height=f.height||A.height||g.height||C.height||x.height,"SwimLane"===x.shape.type){if(n.diagramActions|=Qr.PreventHistory,x.shape.isLane){x.children=[],e={id:"header"+Uu()},"Horizontal"===x.shape.orientation?(e.width=x.shape.lanes[0].header.width,e.height=x.shape.lanes[0].height):(e.width=x.shape.lanes[0].width,e.height=x.shape.lanes[0].header.height),e.style=x.shape.lanes[0].header.style,e.offsetX=h.x+5+e.width/2,e.offsetY=h.y+e.height/2,n.diagramActions|=Qr.PreventCollectionChangeOnDragOver,e=n.add(e),t={id:"body"+Uu()},"Horizontal"===x.shape.orientation?(t.width=x.shape.lanes[0].width-e.width,t.height=x.shape.lanes[0].height,t.offsetX=h.x+5+(x.shape.lanes[0].header.width+t.width/2),t.offsetY=h.y+t.height/2):(t.width=x.shape.lanes[0].width,t.height=x.shape.lanes[0].height-e.height,t.offsetX=h.x+5+t.width/2,t.offsetY=h.y+(x.shape.lanes[0].header.height+t.height/2)),t.style=x.shape.lanes[0].style,t=n.add(t);var S={id:"group"+Uu(),children:[e.id,t.id]};S.shape=x.shape,S.width=x.shape.lanes[0].width,S.height=x.shape.lanes[0].height,S.previewSize=x.previewSize,S.dragSize=x.dragSize,S.addInfo=x.addInfo,x=n.add(S),n.diagramActions&=~Qr.PreventCollectionChangeOnDragOver}n.diagramActions&=~Qr.PreventHistory}if(x.shape.isPhase&&((c="Horizontal"===x.shape.orientation)?(x.offsetX=h.x+5+(x.width||w.actualSize.width)/2,x.offsetY=h.y,x.shape.data="M20,"+x.height/2+" L"+(x.width-20)+","+x.height/2+"z",x.height=1):(x.offsetX=h.x+5,x.offsetY=h.y+(x.height||w.actualSize.height)/2,x.shape.data="M"+x.width/2+",20 L"+x.width/2+","+(x.height-20)+"z",x.width=1)),l=x,d.children){var B=d;i=n.getChildren(B,{},r),Jh(B,-B.offsetX,-B.offsetY,i,!0,n)}}else if(y.selectedSymbols instanceof Al){l=new Al(n,"connectors",d,!0);var P=Ar.toBounds([l.sourcePoint,l.targetPoint]),E=h.x-P.left,O=h.y-P.top;l.sourcePoint.x+=E,l.sourcePoint.y+=O,l.targetPoint.x+=E,l.targetPoint.y+=O}l.shape.isLane||(l.id+=Uu());var T={source:y,element:l,cancel:!1,diagram:n};if(v()&&(T=n.getBlazorDragEventArgs(T)),n.enterObject=l,n.enterTable=i,n.triggerEvent(Kr.dragEnter,T),l instanceof iu&&"SwimLane"===l.shape.type&&l.shape.isLane){var I=T.element,L=I.shape.lanes[0];c="Horizontal"===I.shape.orientation;var k=n.nameTable[l.children[0]],N=n.nameTable[l.children[1]];f=l.dragSize,g=l.previewSize,A=y.symbolDragSize,L.width=f.width||A.width||g.width||L.width,L.height=f.height||A.height||g.height||L.height,c?(e.width=L.header.width,e.height=L.height,t.width=L.width-e.width,t.height=L.height,t.offsetX=h.x+5+(L.header.width+N.width/2),t.offsetY=h.y+N.height/2):(e.width=L.width,e.height=L.header.height,t.width=L.width,t.height=L.height-e.height,t.offsetX=h.x+5+N.width/2,t.offsetY=h.y+(L.header.height+N.height/2)),e.offsetX=h.x+5+k.width/2,e.offsetY=h.y+k.height/2,l.width=L.width,l.height=L.height}l instanceof iu&&l.shape.isPhase&&(c?l.height=1:l.width=1),n.activeLayer.lock||T.cancel||(n.preventDiagramUpdate=!0,l.children&&n.findChild(l,i),n.preventDiagramUpdate=!0,-1!==l.zIndex&&(l.zIndex=-1),n.initObject(l,void 0,void 0,!0),n.currentSymbol=l,"SVG"!==n.mode&&n.refreshDiagramLayer(),n.commandHandler.oldSelectedObjects=ad(n),n.commandHandler.select(l),n.commandHandler.updateBlazorSelector(),n.eventHandler.mouseDown(o.event),n.eventHandler.mouseMove(o.event,o),n.preventDiagramUpdate=!1,n.updatePage(),u.style.opacity="0"),delete n.enterObject,delete n.enterTable}n.droppable.selectedSymbols=u,n.allowServerDataBinding=!0}}}},this.droppable.drop=function(e){return Mf(n,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,h,d,u;return Df(this,(function(p){switch(p.label){case 0:return this.allowServerDataBinding=!1,t="sourceElement",this.currentSymbol?(r=!1,o=this.currentSymbol instanceof Al,e.event.touches&&this.eventHandler.mouseUp(e.event),l=void 0,l={source:this.droppable[t],element:this.currentSymbol,target:this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this,cancel:!1,position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},v()?(l={source:ud(this.droppable[t]),element:nd(this.currentSymbol)===Al?{connector:ud(this.currentSymbol)}:{node:ud(this.currentSymbol)},cancel:!1,target:{},position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},this.getDropEventArgs(l),[4,this.triggerEvent(Kr.drop,l)]):[3,2]):[3,4];case 1:return l=p.sent()||l,[3,3];case 2:this.triggerEvent(Kr.drop,l),p.label=3;case 3:return h="id",(c=Xu(this.currentSymbol)).hasTarget=this.currentSymbol.hasTarget,this.removeFromAQuad(this.currentSymbol),this.removeObjectsFromLayer(this.nameTable[this.currentSymbol.id]),this.removeElements(this.currentSymbol),(this.currentSymbol.shape.isLane||this.currentSymbol.shape.isPhase)&&this.removeChildInNodes(this.currentSymbol),l.cancel&&Eh(this.currentSymbol,this),this.currentSymbol.shape.isPhase&&(r=!0,i=this.currentSymbol.shape.orientation),this.removePreviewChildren(this.currentSymbol),delete this.nameTable[this.currentSymbol.id],this.currentSymbol=null,this.protectPropertyChange(!0),l.cancel?this.clearSelectorLayer():(this.startGroupAction(),c&&(c.shape.isLane||r)&&(r&&(c.shape.isPhase=r,c.shape.orientation=i),this.eventHandler.addSwimLaneObject(c)),"Bpmn"===c.shape.type&&c.shape.annotation&&c.hasTarget&&(a=c.shape.annotation.nodeId,c.shape.annotation.id=c.id,this.addTextAnnotation(c.shape.annotation,this.nameTable[a]),c.nodeId=""),c.shape.isLane||r||(c.children&&this.addChildNodes(c),l.target&&l.target instanceof iu&&!o&&bc(this,l.target)&&Fl(l.target)?Cc(this,l.target,c):n=this.add(c,!0),(c||n)&&Ul(this)&&this.select([this.nameTable[c[h]]]))),this.protectPropertyChange(!1),s=this.nameTable[c[h]],c.hasTarget&&(c.nodeId=c.hasTarget,this.remove(c)),this.bpmnModule&&s instanceof iu&&c.processId&&(s.processId=c.processId,this.bpmnModule.dropBPMNchild(this.nameTable[s.processId],s,this)),l.cancel||this.endGroupAction(),"SVG"!==this.mode&&this.refreshDiagramLayer(),delete this.droppable[t],[3,5];case 4:l={source:ud(e.droppedElement),element:void 0,target:ud(this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this),cancel:!1,position:void 0},v()&&(l={source:ud(e.droppedElement),element:void 0,cancel:!1,position:void 0,target:{}},this.getDropEventArgs(l)),this.triggerEvent(Kr.drop,l),c=void 0,h="id",p.label=5;case 5:if("selectedSymbols",this.droppable.selectedSymbols&&this.droppable.selectedSymbols.parentNode)pt(this.droppable.selectedSymbols);else for(d=document.getElementsByClassName("e-dragclone"),u=0;u<d.length;u++)d[u].remove();return this.allowServerDataBinding=!0,[2]}}))}))},this.droppable.out=function(e){if(n.currentSymbol&&!n.eventHandler.focus){n.unSelect(n.currentSymbol),n.removeFromAQuad(n.currentSymbol),"SVG"!==n.mode&&"Native"===n.currentSymbol.shape.type&&n.removeElements(n.currentSymbol),n.removeObjectsFromLayer(n.nameTable[n.currentSymbol.id]),n.removePreviewChildren(n.currentSymbol),delete n.nameTable[n.currentSymbol.id];var t={element:ud(n.currentSymbol),diagram:n};v()&&(t=n.getBlazorDragLeaveEventArgs(t)),n.triggerEvent(Kr.dragLeave,t),"SVG"!==n.mode?n.refreshDiagramLayer():n.removeElements(n.currentSymbol),n.currentSymbol=null;n.droppable.selectedSymbols.style.opacity="1";delete n.droppable.sourceElement,n.diagramRenderer.rendererActions=n.removeConstraints(n.diagramRenderer.rendererActions,Wr.DrawSelectorBorder),n.previousSelectedObject&&n.select(n.previousSelectedObject,n.previousSelectedObject.length>1),n.previousSelectedObject=null}}},t.prototype.getBlazorDragLeaveEventArgs=function(e){return e={diagramId:this.element.id,element:nd(e.element)===Al?{connector:ud(e.element)}:{node:ud(e.element)}}},t.prototype.getDropEventArgs=function(e){if(this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode){var t=this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode;e.target=nd(t)===Al?{connector:ud(t)}:{node:ud(t)}}else e.target.diagramId=this.element.id},t.prototype.removeChildInNodes=function(e){if(e){if(e.children)for(var t=0;t<e.children.length;t++)this.removeChildInNodes(this.nameTable[e.children[t]]);var n=this.nodes.indexOf(e);-1!==n&&this.nodes.splice(n,1)}},t.prototype.getBlazorDragEventArgs=function(e){return e={source:ud(e.source),element:nd(e.element)===Al?{connector:ud(e.element)}:{node:ud(e.element)},cancel:e.cancel,diagramId:this.element.id}},t.prototype.findChild=function(e,t){for(var n,r,i=0;i<e.children.length;i++)(n=t[e.children[i]])&&(n.children&&this.findChild(n,t),n.id=n.id+Uu(),t[n.id]=n,e.children[i]=n.id,r=new iu(this,"nodes",n,!0),this.initObject(r,void 0,void 0,!0))},t.prototype.getChildren=function(e,t,n){for(var r,i=0;i<e.children.length;i++)(r=n[e.children[i]])&&(r.children&&(t=this.getChildren(r,t,n)),t[r.id]=Xu(r));return t},t.prototype.addChildNodes=function(e){for(var t,n=0;n<e.children.length;n++)(t=this.nameTable[e.children[n]])&&(t.children&&this.addChildNodes(t),this.add(t,!0))},t.prototype.moveNode=function(e){for(var t,n=this.commandHandler.getObjectLayer(e.id),r=n.zIndex,i=n.objects.length,o=0;o<this.layers.length;o++)r===this.layers[o].zIndex&&(t=this.layers[o+1]);if(i>1)this.commandHandler.moveSvgNode(e.id,n.objects[i-2]),this.commandHandler.moveSvgNode(n.objects[i-2],e.id);else if(t){var a=this.commandHandler.getLayer(this.layerZIndexTable[t.zIndex]).objects[0];a?(this.commandHandler.moveSvgNode(e.id,a),this.commandHandler.updateNativeNodeIndex(e.id,a)):this.moveObjectsUp(e,n)}else this.moveObjectsUp(e,n)},t.prototype.moveObjectsUp=function(e,t){for(var n,r=this.layers.length-1;r>=0;r--)if(n=this.layers[r],t.id!==n.id){var i=this.commandHandler.getLayer(this.layerZIndexTable[n.zIndex]).objects[n.objects.length-1];if(i){this.commandHandler.moveSvgNode(e.id,i),this.commandHandler.moveSvgNode(i,e.id);break}}},t.prototype.insertData=function(e){return this.crudOperation(e,"create",this.getNewUpdateNodes("New"))},t.prototype.updateData=function(e){return this.crudOperation(e,"update",this.getNewUpdateNodes("Update"))},t.prototype.removeData=function(e){return this.crudOperation(e,"destroy",this.getDeletedNodes())},t.prototype.crudOperation=function(e,t,n){if(e){var r=this.parameterMap(e,!(e instanceof Al));if(r){var i=e instanceof Al?this.dataSourceSettings.connectionDataSource.crudAction[t]:this.dataSourceSettings.crudAction[t];this.raiseAjaxPost(JSON.stringify(r),i)}return r}var o=n;return this.processCrudCollection(o,this.dataSourceSettings.crudAction[t],this.dataSourceSettings.connectionDataSource.crudAction[t]),o},t.prototype.processCrudCollection=function(e,t,n){if(e.nodes){var r=[],i=void 0;for(i=0;i<e.nodes.length;i++)r.push(this.parameterMap(e.nodes[i],!0));r&&r.length>0&&this.raiseAjaxPost(JSON.stringify(r),t)}if(e.connectors){r=[],i=void 0;for(i=0;i<e.connectors.length;i++)r.push(this.parameterMap(e.connectors[i],!1));r&&r.length>0&&this.raiseAjaxPost(JSON.stringify(r),n)}},t.prototype.parameterMap=function(e,t){var n,r={},i=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource;if(i.id&&(r[i.id]=e.id),i.sourcePointX&&i.sourcePointY&&(r[i.sourcePointX]=e.sourcePoint.x,r[i.sourcePointY]=e.sourcePoint.y),i.targetPointX&&i.targetPointY&&(r[i.targetPointX]=e.targetPoint.x,r[i.targetPointY]=e.targetPoint.y),i.sourceID&&(r[i.sourceID]=e.sourceID),i.targetID&&(r[i.targetID]=e.targetID),i.crudAction&&i.crudAction.customFields&&i.crudAction.customFields.length>0)for(n=0;n<i.crudAction.customFields.length;n++)r[i.crudAction.customFields[n]]=e[i.crudAction.customFields[n]];return r},t.prototype.getNewUpdateNodes=function(e){var t=[],n=[];for(var r in this.nameTable){var i=this.nameTable[r];i.status===e&&(i&&i instanceof Al?(i.status="None",n.push(i)):(i.status="None",t.push(i)))}return{nodes:t,connectors:n}},t.prototype.getDeletedNodes=function(){var e,t=[],n=[];for(e=0;e<this.crudDeleteNodes.length;e++){var r=this.crudDeleteNodes[e];r&&r.segments?n.push(r):r&&t.push(r)}return this.crudDeleteNodes=[],{nodes:t,connectors:n}},t.prototype.raiseAjaxPost=function(e,t){var n=new Z(t,"POST",!0,"application/json"),r=JSON.stringify(JSON.parse(e));n.send(r).then(),n.onSuccess=function(e){}},t.prototype.getHiddenItems=function(e){if(this.contextMenuModule){this.contextMenuModule.hiddenItems=[];for(var t=0,n=e.items;t<n.length;t++){var r=n[t];if(this.contextMenuModule.ensureItems(r,e.event),r.items&&r.items.length)for(var i=0,o=r.items;i<o.length;i++){var a=o[i];this.contextMenuModule.ensureItems(a,e.event)}}return this.contextMenuModule.hiddenItems}return[]},Nf([_t("100%")],t.prototype,"width",void 0),Nf([_t("SVG")],t.prototype,"mode",void 0),Nf([_t("100%")],t.prototype,"height",void 0),Nf([Ft({},hc)],t.prototype,"contextMenuSettings",void 0),Nf([_t(jr.Default)],t.prototype,"constraints",void 0),Nf([_t(_r.Default)],t.prototype,"tool",void 0),Nf([_t("Top")],t.prototype,"bridgeDirection",void 0),Nf([_t("transparent")],t.prototype,"backgroundColor",void 0),Nf([Ft({},yp)],t.prototype,"snapSettings",void 0),Nf([Ft({},xp)],t.prototype,"rulerSettings",void 0),Nf([Ft({},up)],t.prototype,"pageSettings",void 0),Nf([Ft({},Bf)],t.prototype,"serializationSettings",void 0),Nf([Ut([],iu)],t.prototype,"nodes",void 0),Nf([_t()],t.prototype,"drawingObject",void 0),Nf([Ut([],Al)],t.prototype,"connectors",void 0),Nf([_t([])],t.prototype,"basicElements",void 0),Nf([Ft({},Os)],t.prototype,"tooltip",void 0),Nf([Ft({},Ip)],t.prototype,"dataSourceSettings",void 0),Nf([_t()],t.prototype,"addInfo",void 0),Nf([_t()],t.prototype,"historyManager",void 0),Nf([_t()],t.prototype,"nodeTemplate",void 0),Nf([_t()],t.prototype,"annotationTemplate",void 0),Nf([_t()],t.prototype,"userHandleTemplate",void 0),Nf([_t()],t.prototype,"getNodeDefaults",void 0),Nf([_t()],t.prototype,"nodeDefaults",void 0),Nf([_t()],t.prototype,"getConnectorDefaults",void 0),Nf([_t()],t.prototype,"connectorDefaults",void 0),Nf([_t()],t.prototype,"setNodeTemplate",void 0),Nf([_t()],t.prototype,"getDescription",void 0),Nf([_t()],t.prototype,"getCustomProperty",void 0),Nf([_t()],t.prototype,"getCustomTool",void 0),Nf([_t()],t.prototype,"getCustomCursor",void 0),Nf([Ut([],Of)],t.prototype,"customCursor",void 0),Nf([_t()],t.prototype,"updateSelection",void 0),Nf([Ft({},Lf)],t.prototype,"diagramSettings",void 0),Nf([Ft({},hu)],t.prototype,"selectedItems",void 0),Nf([Ft({},pp)],t.prototype,"scrollSettings",void 0),Nf([Ft({},Np)],t.prototype,"layout",void 0),Nf([Ft({},cc)],t.prototype,"commandManager",void 0),Nf([Qt()],t.prototype,"dataLoaded",void 0),Nf([Qt()],t.prototype,"dragEnter",void 0),Nf([Qt()],t.prototype,"dragLeave",void 0),Nf([Qt()],t.prototype,"dragOver",void 0),Nf([Qt()],t.prototype,"click",void 0),Nf([Qt()],t.prototype,"historyChange",void 0),Nf([Qt()],t.prototype,"historyStateChange",void 0),Nf([Qt()],t.prototype,"doubleClick",void 0),Nf([Qt()],t.prototype,"textEdit",void 0),Nf([Qt()],t.prototype,"scrollChange",void 0),Nf([Qt()],t.prototype,"selectionChange",void 0),Nf([Qt()],t.prototype,"sizeChange",void 0),Nf([Qt()],t.prototype,"connectionChange",void 0),Nf([Qt()],t.prototype,"sourcePointChange",void 0),Nf([Qt()],t.prototype,"targetPointChange",void 0),Nf([Qt()],t.prototype,"propertyChange",void 0),Nf([Qt()],t.prototype,"positionChange",void 0),Nf([Qt()],t.prototype,"keyUp",void 0),Nf([Qt()],t.prototype,"keyDown",void 0),Nf([Qt()],t.prototype,"animationComplete",void 0),Nf([Qt()],t.prototype,"rotateChange",void 0),Nf([Qt()],t.prototype,"collectionChange",void 0),Nf([Qt()],t.prototype,"fixedUserHandleClick",void 0),Nf([Qt()],t.prototype,"onUserHandleMouseDown",void 0),Nf([Qt()],t.prototype,"onUserHandleMouseUp",void 0),Nf([Qt()],t.prototype,"onUserHandleMouseEnter",void 0),Nf([Qt()],t.prototype,"onUserHandleMouseLeave",void 0),Nf([Qt()],t.prototype,"segmentCollectionChange",void 0),Nf([Qt()],t.prototype,"onImageLoad",void 0),Nf([Qt()],t.prototype,"expandStateChange",void 0),Nf([Qt()],t.prototype,"created",void 0),Nf([Qt()],t.prototype,"mouseEnter",void 0),Nf([Qt()],t.prototype,"mouseLeave",void 0),Nf([Qt()],t.prototype,"mouseOver",void 0),Nf([Qt()],t.prototype,"contextMenuOpen",void 0),Nf([Qt()],t.prototype,"contextMenuBeforeItemRender",void 0),Nf([Qt()],t.prototype,"contextMenuClick",void 0),Nf([Qt()],t.prototype,"commandExecute",void 0),Nf([Ut([],Af)],t.prototype,"layers",void 0),Nf([Qt()],t.prototype,"drop",void 0),t}(dn),jf=(function(){function e(e){this.diagram=e}e.prototype.exportDiagram=function(e){var t,n,r,i="data",o=[],a=e.margin||{},s=e&&e.region?e.region:"Content",l=e&&e.mode?e.mode:"Download",c=this.getDiagramBounds(s,e);e.bounds&&(n=!0,c.x=e.bounds.x?e.bounds.x:c.x,c.y=e.bounds.y?e.bounds.y:c.y,c.width=e.bounds.width||c.width,c.height=e.bounds.height||c.height),a={top:void 0!==a.top?a.top:25,bottom:void 0!==a.bottom?a.bottom:25,right:void 0!==a.right?a.right:25,left:void 0!==a.left?a.left:25};this.diagram.nodes;"PageSettings"!==s&&(c.x-=a.left,c.y-=a.top,c.width+=a.left+a.right,c.height+=a.top+a.bottom);var h=e.fileName||"diagram";if("SVG"!==e.format){if(null!==(i=this.setCanvas(e,c,a,l,n,s,h)))return i}else{t=e.format,e.bounds=c,e.margin=a;var d=r=this.diagramAsSvg(e,a);if("Data"===l)return v()&&"SVG"===e.format?(new XMLSerializer).serializeToString(d):r;var u=(new XMLSerializer).serializeToString(d);o.push(u)}if("Download"===l&&null!==i)for(var p=0;p<o.length;p++){var f=new Blob([o[p]],{type:"application/octet-stream"});if("msie"===le.info.name)window.navigator.msSaveOrOpenBlob(f,h+"."+t);else{var g=Ou("a",{download:h+"."+t}),A=URL.createObjectURL(f);g.href=A;var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),g.dispatchEvent(m)}}return null},e.prototype.setCanvas=function(e,t,n,r,i,o,a){var s;e.bounds=t,e.region=o;this.setScaleValueforCanvas(e,t);var l,c=this.diagramAsCanvas({bounds:t,margin:n,region:o,scaleX:e.scaleX,scaleY:e.scaleY,scaleOffsetX:e.scaleOffsetX,scaleOffsetY:e.scaleOffsetY},i);return l=s="JPG"===e.format&&"Data"===r?c.toDataURL("image/jpeg"):c.toDataURL(),"Data"===r?s:(this.canvasMultiplePage(e,c,n,l,a),null)},e.prototype.canvasMultiplePage=function(e,t,n,r,i){var o=this,a=[],s=e.format||"JPG";if(e.multiplePage){if(e.pageHeight=e.pageHeight?e.pageHeight:this.diagram.pageSettings.height,e.pageWidth=e.pageWidth?e.pageWidth:this.diagram.pageSettings.width,e.pageHeight=e.pageHeight?e.pageHeight:t.width,e.pageWidth=e.pageWidth?e.pageWidth:t.height,n=e.margin||{},e.pageOrientation&&("Landscape"===e.pageOrientation&&e.pageHeight>e.pageWidth||"Portrait"===e.pageOrientation&&e.pageWidth>e.pageHeight)){var l=e.pageWidth;e.pageWidth=e.pageHeight,e.pageHeight=l}e.margin={top:isNaN(n.top)?0:n.top,bottom:isNaN(n.bottom)?0:n.bottom,left:isNaN(n.left)?0:n.left,right:isNaN(n.right)?0:n.right};var c=Ou("img",{id:this.diagram.element.id+"_printImage",src:r});c.onload=function(){a=o.getMultipleImage(c,e,!0),o.exportImage(a,i,s,r)}}else a=[r],this.exportImage(a,i,s,r)},e.prototype.exportImage=function(e,t,n,r){for(var i=[],o=e instanceof HTMLElement?0:e.length,a=0;a<o;a++){for(var s=e[a].replace(/^data:[a-z]*;,/,"").split(","),l=atob(s[1]),c=new ArrayBuffer(l.length),h=new Uint8Array(c),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);i.push(c)}for(var u=function(e){var r=new Blob([i[e]],{type:"application/octet-stream"});if("msie"===le.info.name)window.navigator.msSaveOrOpenBlob(r,t+"."+n);else{var o=Ou("a",{download:t+"."+n}),a=URL.createObjectURL(r);o.href=a;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),setTimeout((function(){o.dispatchEvent(s)}),5*(e+1))}},p=0;p<i.length;p++)u(p)},e.prototype.getObjectsBound=function(e){for(var t,n=0,r=this.diagram.nodes;n<r.length;n++){var i=r[n];i.visible&&(("SVG"===e.format||i instanceof Bi||i instanceof Us)&&("SVG"!==e.format||i instanceof Us)||(t=t?t.uniteRect(i.wrapper.outerBounds):i.wrapper.outerBounds))}for(var o=0,a=this.diagram.connectors;o<a.length;o++){var s=a[o];s.visible&&(t=t?t.uniteRect(s.wrapper.outerBounds):s.wrapper.outerBounds)}return t||new Ar(0,0,0,0)},e.prototype.getDiagramBounds=function(e,t){var n=this.getObjectsBound(t),r=n.left,i=n.top,o=n.right-n.left,a=n.bottom-n.top;"Content"!==e&&(this.diagram.pageSettings&&this.diagram.pageSettings.multiplePage?(r=n.left,i=n.top,this.diagram.pageSettings.width&&(r=Math.floor(r/this.diagram.pageSettings.width)*this.diagram.pageSettings.width,o=Math.ceil(n.right/this.diagram.pageSettings.width)*this.diagram.pageSettings.width-r),this.diagram.pageSettings.height&&(i=Math.floor(i/this.diagram.pageSettings.height)*this.diagram.pageSettings.height,a=Math.ceil(n.bottom/this.diagram.pageSettings.height)*this.diagram.pageSettings.height-i),0===n.width&&null!==this.diagram.pageSettings.width&&(o=this.diagram.pageSettings.width),0===n.height&&null!==this.diagram.pageSettings.height&&(a=this.diagram.pageSettings.height)):(this.diagram.pageSettings.width&&(r=0,o=this.diagram.pageSettings.width),this.diagram.pageSettings.height&&(i=0,a=this.diagram.pageSettings.height)));var s=new Ar;return s.x=r,s.y=i,s.width=o,s.height=a,s},e.prototype.setScaleValueforCanvas=function(e,t){e.scaleX=1,e.scaleY=1,e.scaleOffsetX=0,e.scaleOffsetY=0,e.pageHeight=e.pageHeight||this.diagram.pageSettings.height,e.pageWidth=e.pageWidth||this.diagram.pageSettings.width;var n=e.pageOrientation||this.diagram.pageSettings.orientation;if(n||(n="Portrait"),"Portrait"===n){if(e.pageWidth>e.pageHeight){var r=e.pageHeight;e.pageHeight=e.pageWidth,e.pageWidth=r}}else if(e.pageHeight>e.pageWidth){r=e.pageWidth;e.pageWidth=e.pageHeight,e.pageHeight=r}e.pageWidth&&e.pageHeight&&!e.multiplePage&&(e.stretch="Meet");var i=e.pageHeight||t.height,o=e.pageWidth||t.width;"Stretch"!==e.stretch&&"Meet"!==e.stretch&&"Slice"!==e.stretch||(e.scaleX=o/t.width,e.scaleY=i/t.height,"Meet"===e.stretch?(e.scaleX=e.scaleY=Math.min(e.scaleX,e.scaleY),e.scaleOffsetY=(e.pageHeight-t.height*e.scaleX)/2,e.scaleOffsetX=(e.pageWidth-t.width*e.scaleX)/2):"Slice"===e.stretch&&(e.scaleX=e.scaleY=Math.max(e.scaleX,e.scaleY)),t.width=o,t.height=i),t.x*=e.scaleX,t.y*=e.scaleY},e.prototype.diagramAsSvg=function(e,t){var n=this.diagram.createSvg(this.diagram.element.id+"_diagram_svg",e.bounds.width,e.bounds.height);document.body.appendChild(n);var r=Tu("g",{id:this.diagram.element.id+"_pageBackground"}),i=e&&e.region?e.region:"Content",o=this.getDiagramBounds(i,e),a=o.x,s=o.y,l=o.width,c=o.height;n.appendChild(r);var h={x:String(a),y:String(s),width:String(l),height:String(c)};Du(r,h),this.setTransform(r,e.bounds,t);var d=document.getElementById(this.diagram.element.id+"gradient_pattern");d&&n.appendChild(d),h={x:String(a),y:String(s),width:String(l+t.left+t.right),height:String(c+t.top+t.bottom)};var u=document.getElementById(this.diagram.element.id+"_backgroundImageLayer").cloneNode(!0);Du(u,h),n.appendChild(u),this.setTransform(u,o,t);var p=document.getElementById(this.diagram.element.id+"_backgroundLayerrect").cloneNode(!0);if(Du(p,h),n.appendChild(p),this.setTransform(p,o,t),"SVG"===this.diagram.mode){var f=void 0,g=void 0,A=gu(this.diagram.element.id);for(n.appendChild(A.getElementById(this.diagram.diagramLayer.id).cloneNode(!0)),g=0;g<n.childNodes.length;g++)(f=n.childNodes[g]).id===this.diagram.element.id+"_diagramLayer"&&this.setTransform(f,o,t)}else{r=Tu("g",{id:this.diagram.element.id+"_diagramLayer"}),n.appendChild(r),this.setTransform(r,e.bounds,t);var m=new sp("",null,!0),y=Eu(this.diagram.element.id);this.diagram.renderDiagramElements(n,m,y,!1)}return document.body.removeChild(n),n},e.prototype.setTransform=function(e,t,n){e.setAttribute("transform","translate("+(-t.x+n.left)+", "+(-t.y+n.top)+")")},e.prototype.diagramAsCanvas=function(e,t){var n=e.bounds,r=e.margin,i=e&&e.region?e.region:"Content",o=this.getDiagramBounds(i,e),a=this.diagram.pageSettings.background.color,s=op.createCanvas(this.diagram.element.id+"_diagram",e.bounds.width,e.bounds.height),l=s.getContext("2d");l.translate(-n.x,-n.y),l.save(),l.fillStyle="transparent"===this.diagram.pageSettings.background.color?"white":this.diagram.pageSettings.background.color,n="Content"===i?o:n,l.fillRect(n.x,n.y,n.width,n.height);var c=this.diagram.pageSettings.background;if(c&&c.source){o=this.getDiagramBounds(i,e);var h=new Image;h.src=c.source;var d=o.width/h.width,u=o.height/h.height,p=o.x,f=o.y,g=o.width,A=o.height,m=this.isImageExportable(c);if("None"!==c.scale&&"None"!==c.align){var y="Meet"===c.scale?Math.min(d,u):Math.max(d,u);g=y*h.width,A=y*h.height,c.align.indexOf("xmid")>-1?p+=(o.width-g)/2:c.align.indexOf("xmax")>-1&&(p=p+o.width-g),c.align.indexOf("ymid")>-1?f+=(o.height-A)/2:c.align.indexOf("ymax")>-1&&(f=f+o.height-A),"none"!==this.diagram.pageSettings.background.color&&"transparent"!==this.diagram.pageSettings.background.color||(l.fillStyle="white",l.fillRect(o.x*e.scaleX,o.y*e.scaleY,o.width*e.scaleX,o.height*e.scaleY)),m&&l.drawImage(h,p,f,y*h.width,y*h.height)}else m&&l.drawImage(h,p,f,o.width,o.height)}else l.fillStyle="transparent"===a?"white":a,l.fillRect(o.x*e.scaleX-r.left,o.y*e.scaleY-r.top,o.width*e.scaleX+r.left+r.right,e.scaleY*o.height+r.top+r.bottom);var v=this.diagram.pageSettings.background.color,b=this.diagram.pageSettings.width;b&&(l.strokeStyle="none"===v?"transparent":v,l.lineWidth=b,l.strokeRect(o.x*e.scaleX,o.y*e.scaleY,o.width*e.scaleX,o.height*e.scaleY)),l.restore();var w=Eu(this.diagram.element.id),x=new sp("",null,!1);return this.updateObjectValue(e.scaleX,e.scaleOffsetX,e.scaleOffsetY,!0),this.diagram.renderDiagramElements(s,x,w,!1,!0),this.updateObjectValue(e.scaleX,e.scaleOffsetX,e.scaleOffsetY,!1),s},e.prototype.updateWrapper=function(e,t,n,r,i){if(e&&e.length>0)for(var o=0;o<e.length;o++)e[o].children&&this.updateWrapper(e[o].children,t,n,r,i),e[o].exportScaleValue.x=t,e[o].exportScaleValue.y=t,e[o].exportScaleOffset.x=n,e[o].exportScaleOffset.y=r,e[o].isExport=i},e.prototype.updateObjectValue=function(e,t,n,r){for(var i,o=0;o<this.diagram.nodes.length;o++)i=this.diagram.nodes[o].wrapper,this.updateWrapper(i.children,e,t,n,r),i.exportScaleValue.x=e,i.exportScaleValue.y=e,i.exportScaleOffset.x=t,i.exportScaleOffset.y=n,i.isExport=r;for(var a=0;a<this.diagram.connectors.length;a++){i=this.diagram.connectors[a].wrapper;for(var s=0;s<i.children.length;s++)i.children[s].isExport=r,r&&(i.children[s].exportScaleValue.x=e,i.children[s].exportScaleValue.y=e,i.children[s].exportScaleOffset.x=t,i.children[s].exportScaleOffset.y=n)}},e.prototype.isImageExportable=function(e){var t,n=!0;if(e.source)try{var r=(t=op.createCanvas(this.diagram.element.id+"temp_canvas",100,100)).getContext("2d");r.save();var i=new Image;i.src=e.source,r.drawImage(i,0,0,100,100),r.restore(),t.toDataURL()}catch(o){n=!1}return n},e.prototype.getPrintCanvasStyle=function(e,t){var n=0,r=0,i=new nr;if(n=e.width,r=e.height,(t.pageHeight||t.pageWidth)&&(r=t.pageHeight?t.pageHeight:r,n=t.pageWidth?t.pageWidth:n),t.pageOrientation&&("Landscape"===t.pageOrientation&&r>n||"Portrait"===t.pageOrientation&&n>r)){var o=n;n=r,r=o}return i.height=r,i.width=n,i},e.prototype.getMultipleImage=function(e,t,n){var r=[],i=Ou("div",{}),o=this.getPrintCanvasStyle(e,t),a=t.margin,s=a.left,l=a.top,c=a.right,h=a.bottom,d=0,u=o.width+d,p=o.height+0,f=0,g=0;if(t&&t.multiplePage){i.style.height="auto",i.style.width="auto";var A=e.height,m=e.width,y=0,v=0,b=void 0,w=0,x=0,C=void 0,S=void 0;do{do{w=o.width,x=o.height,f+o.width>=m&&(w=m-f),g+o.height>=A&&(x=A-g),(C=(S=op.createCanvas(this.diagram.element.id+"_multiplePrint",o.width,o.height)).getContext("2d")).drawImage(e,d+f+s,0+g+l,w-c-s,x-h-l,0+s,0+l,w-c-s,x-h-l),f+o.width>=m&&(f-=f-m),b=S.toDataURL(),C.restore(),f+=u,n?r.push(b):this.printImage(i,b,y+""+v,u+"px;",p+"px;"),y++}while(f<m);v++,y=d=f=0,g+o.height>=A&&(g-=g-A),g+=p}while(g<A)}else{var B=this.getPrintCanvasStyle(e,t),P=B.width,E=B.height;(C=(S=op.createCanvas(this.diagram.element.id+"_diagram",P,E)).getContext("2d")).drawImage(e,0+s,0+l,e.width-(c+s),e.height-(l+h),0+s,0+l,P-(c+s),E-(l+h));b=S.toDataURL();C.restore(),n?r.push(b):this.printImage(i,b,0)}return n?r:i},e.prototype.printImage=function(e,t,n,r,i){var o={class:"e-diagram-print-page",style:"width:"+r+"height:"+i},a=Ou("img",o),s=Ou("div",o);ju(a,o={id:this.diagram.element.id+"_multiplePrint_img"+n,style:"float:left",src:t}),s.appendChild(a),e.appendChild(s)},e.prototype.print=function(e){e.mode="Data";var t=this.exportDiagram(e);this.printImages(t,e)},e.prototype.printImages=function(e,t){var n=this,r={id:this.diagram.element.id+"_printImage",src:e};t.margin={top:0,bottom:0,right:0,left:0};var i=Ou("img",r);i.onload=function(){var e=n.getMultipleImage(i,t),r=window.open("");null!=r&&e instanceof HTMLElement&&(r.document.write("<html><head><style> body{margin:0px;}  @media print { .e-diagram-print-page{page-break-after: left; }.e-diagram-print-page:last-child {page-break-after: avoid;}}</style><title></title></head>"),r.document.write('<BODY onload="setTimeout(function(){window.print();}, 100)">'),r.document.write("<center>"+e.innerHTML+"</center>"),r.document.close())}},e.prototype.getDiagramContent=function(e){var t=document.getElementById(this.diagram.element.id+"content"),n=t.scrollLeft,r=t.scrollTop,i=this.diagram.scrollSettings.currentZoom,o=this.diagram.scroller.horizontalOffset,a=this.diagram.scroller.verticalOffset,s=Number(String(this.diagram.width).split("%")[0])?t.clientWidth:Number(String(this.diagram.width).split("px")[0]),l=Number(String(this.diagram.height).split("%")[0])?t.clientHeight:Number(String(this.diagram.height).split("px")[0]),c=this.getDiagramBounds("",{});this.diagram.scroller.zoom(1/i);var h,d;h=c.x,d=c.y,this.diagram.scroller.transform={tx:-h,ty:-d,scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=-h,this.diagram.scroller.verticalOffset=-d,this.diagram.scroller.setSize(),this.diagram.setSize(c.width,c.height);var u=this.diagram.snapSettings.constraints;this.diagram.snapSettings.constraints=this.diagram.snapSettings.constraints&~Or.ShowLines,this.diagram.dataBind(),this.diagram.clearSelection(),e=e||document.styleSheets;for(var p="",f=0;f<e.length;f++)(e[f].href||"string"===typeof e[f])&&(p+="<link href='"+(e[f].href||e[f])+"' rel='stylesheet' />");var g=document.getElementById(this.diagram.element.id+"content").innerHTML;return g=(g=p+"<body style=\"margin: 0px; padding: 0px\"><div style='margin-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;'>"+g+"</div></body>").replace(/ transform: t/g," -webkit-transform: t"),this.diagram.setSize(s,l),this.diagram.scroller.zoom(i/this.diagram.scrollSettings.currentZoom),this.diagram.snapSettings.constraints=u,this.diagram.dataBind(),n||r?this.diagram.setOffset(n,r):(this.diagram.scroller.transform={tx:o/this.diagram.scroller.currentZoom,ty:a/this.diagram.scroller.currentZoom,scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=o,this.diagram.scroller.verticalOffset=a),this.diagram.renderSelector(!1),pd()?g.replace("url("+location.protocol+"//"+location.host+location.pathname+"#diagram_pattern ","url(#diagram_pattern)"):g},e.prototype.exportImages=function(e,t){var n=this,r=t&&t.region?t.region:"Content",i=t.margin||{};i={top:isNaN(i.top)?0:i.top,bottom:isNaN(i.bottom)?0:i.bottom,left:isNaN(i.left)?0:i.left,right:isNaN(i.right)?0:i.right};var o=this.getDiagramBounds(r,{});t.bounds&&(o.x=isNaN(t.bounds.x)?o.x:t.bounds.x,o.y=isNaN(t.bounds.y)?o.y:t.bounds.y,o.width=t.bounds.width||o.width,o.height=t.bounds.height||o.height);var a=document.createElement("img");ju(a,{src:e});var s=this;a.onload=function(){var r=op.createCanvas(s.diagram.element.id+"innerImage",o.width+(i.left+i.right),o.height+(i.top+i.bottom)),l=r.getContext("2d");if(l.fillStyle=s.diagram.pageSettings.background.color,l.fillRect(0,0,o.width+(i.left+i.right),o.height+(i.top+i.bottom)),l.drawImage(a,0,0,o.width,o.height,i.left,i.top,o.width,o.height),e=r.toDataURL(),t.printOptions)s.printImages(e,t);else{l.restore();var c=t.fileName||"diagram";n.canvasMultiplePage(t,r,i,e,c)}}},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"PrintandExport"}}(),function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"===typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,n,r){return(e=e||this.dataManager)?e.executeQuery(this,t,n,r):Hf.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return(e=e||this.dataManager)?e.executeLocal(this):Hf.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"===typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,n,r,i){t=t?t.toLowerCase():null;var o=null;return"string"===typeof e?o=new _f(e,t,n,r,i):e instanceof _f&&(o=e),this.queries.push({fn:"onWhere",e:o}),this},e.prototype.search=function(e,t,n,r,i){"string"===typeof t&&(t=[t]),n&&"none"!==n||(n="contains");var o=Hf.fnOperators[n];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:n,searchKey:e,ignoreCase:r,ignoreAccent:i,comparer:o}}),this},e.prototype.sortBy=function(e,t,n){return this.sortByForeignKey(e,t,n)},e.prototype.sortByForeignKey=function(t,n,r,i){var o,a,s=p(i)?"ascending":i;if("string"===typeof t&&Hf.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),n="descending"),n&&"string"!==typeof n||(s=n?n.toLowerCase():"ascending",n=Hf.fnSort(n)),r){o=e.filterQueries(this.queries,"onSortBy");for(var l=0;l<o.length;l++)if("string"===typeof(a=o[l].e.fieldName)){if(a===t)return this}else if(a instanceof Array)for(var c=0;c<a.length;c++)if(a[c]===t||t.toLowerCase()===a[c]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:n,direction:s}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,n){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:n||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"===typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter((function(e){return e.fn===t}))},e.filterQueryLists=function(e,t){for(var n=e.filter((function(e){return-1!==t.indexOf(e.fn)})),r={},i=0;i<n.length;i++)r[n[i].fn]||(r[n[i].fn]=n[i].e);return r},e}()),_f=function(){function e(t,n,r,i,o){return void 0===i&&(i=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"===typeof t?(this.field=t,this.operator=n.toLowerCase(),this.value=r,this.ignoreCase=i,this.ignoreAccent=o,this.isComplex=!1,this.comparer=Hf.fnOperators.processOperator(this.operator)):(t instanceof e&&r instanceof e||r instanceof Array)&&(this.isComplex=!0,this.condition=n.toLowerCase(),this.predicates=[t],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this}return e.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,n,r,i,o){return e.combine(this,t,n,r,"and",i,o)},e.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,n,r,i,o){return e.combine(this,t,n,r,"or",i,o)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],n=0,r=e.length;n<r;n++)t.push(this.fromJSONData(e[n]));return t}var i=e;return this.fromJSONData(i)},e.prototype.validate=function(e){var t,n,r=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,Hf.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var i=0;i<r.length;i++)if(n=r[i].validate(e),t){if(!n)return!1}else if(n)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var n=0;n<t.length;n++)e.push(t[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,n){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],n,t.slice(1))},e.combine=function(t,n,r,i,o,a,s){return n instanceof e?e[o](t,n):"string"===typeof n?e[o](t,new e(n,r,i,a,s)):Hf.throwError("Predicate - "+o+" : invalid arguments")},e.fromJSONData=function(t){for(var n=t.predicates||[],r=n.length,i=[],o=0;o<r;o++)i.push(this.fromJSONData(n[o]));return t.isComplex?new e(i[0],t.condition,i.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),Ff={GroupGuid:"{271bbba0-1ee7}"},Hf=function(){function e(){}return e.getValue=function(e,t){return"function"===typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return p(e)&&p(t)||null===t||void 0===t?-1:"string"===typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return p(e)&&p(t)?-1:null===t||void 0===t?1:"string"===typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var n={},r=0;r<t.length;r++)n=this.setValue(t[r],this.getObject(t[r],e),n);return n},e.select=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(this.extractFields(e[r],t));return n},e.group=function(t,n,r,i,o,a,s){i=i||1;var l=t,c="GroupGuid";if(l.GroupGuid===Ff[c]){for(var h=function(e){if(p(o))l[e].items=d.group(l[e].items,n,r,l.level+1,null,a,s),l[e].count=l[e].items.length;else{var t,i=o.filter((function(t){return t.key===l[e].key}));t=o.indexOf(i[0]),l[e].items=d.group(l[e].items,n,r,l.level+1,o[t].items,a,s),l[e].count=o[t].count}},d=this,u=0;u<l.length;u++)h(u);return l.childLevels+=1,l}var f={},g=[];g.GroupGuid=Ff[c],g.level=i,g.childLevels=0,g.records=l;for(var A=function(e){var t=m.getVal(l,e,n);if(p(a)||(t=a(t,n)),!f[t]&&(f[t]={key:t,count:0,items:[],aggregates:{},field:n},g.push(f[t]),!p(o))){var i=o.filter((function(e){return e.key===f[t].key}));f[t].count=i[0].count}f[t].count=p(o)?f[t].count+=1:f[t].count,(!s||s&&r.length)&&f[t].items.push(l[e])},m=this,y=0;y<l.length;y++)A(y);if(r&&r.length){var v=function(t){for(var n={},i=void 0,a=r,s=0;s<r.length;s++)if(i=e.aggregates[r[s].type],p(o))i&&(n[a[s].field+" - "+a[s].type]=i(g[t].items,a[s].field));else{var l=o.filter((function(e){return e.key===g[t].key}));i&&(n[a[s].field+" - "+a[s].type]=i(l[0].items,a[s].field))}g[t].aggregates=n};for(y=0;y<g.length;y++)v(y)}if(s&&g.length&&r.length)for(y=0;y<g.length;y++)g[y].items=[];return l.length&&g||l},e.buildHierarchy=function(e,t,n,r,i){var o,a={};for(r.result&&(r=r.result),r.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<r.length;o++){(a[s=this.getObject(e,r[o])]||(a[s]=[])).push(r[o])}for(o=0;o<n.length;o++){var s=this.getObject(i||e,n[o]);n[o][t]=a[s]}},e.getFieldList=function(e,t,n){if(void 0===n&&(n=""),void 0===t||null===t)return this.getFieldList(e,[],n);for(var r=e,i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];"object"!==typeof r[a]||r[a]instanceof Array?t.push(n+a):this.getFieldList(r[a],t,n+a+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var n=t,r=e.split("."),i=0;i<r.length&&null!=n;i++)n=n[r[i]];return n}},e.setValue=function(e,t,n){var r,i,o=e.toString().split("."),a=n||{},s=a,l=o.length;for(r=0;r<l;r++)i=o[r],r+1===l?s[i]=void 0===t?void 0:t:p(s[i])&&(s[i]={}),s=s[i];return a},e.sort=function(e,t,n){if(e.length<=1)return e;var r=parseInt((e.length/2).toString(),10),i=e.slice(0,r),o=e.slice(r);return i=this.sort(i,t,n),o=this.sort(o,t,n),this.merge(i,o,t,n)},e.ignoreDiacritics=function(t){return"string"!==typeof t?t:t.split("").map((function(t){return t in e.diacritics?e.diacritics[t]:t})).join("")},e.merge=function(e,t,n,r){for(var i,o=[];e.length>0||t.length>0;)i=e.length>0&&t.length>0?r?r(this.getVal(e,0,n),this.getVal(t,0,n),e[0],t[0])<=0?e:t:e[0][n]<e[0][n]?e:t:e.length>0?e:t,o.push(i.shift());return o},e.getVal=function(e,t,n){return n?this.getObject(n,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"===typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,n,r){if(t in e){var i=e[t](n,r);p(i)||(n=i)}return n},e.getAddParams=function(t,n,r){var i={};return e.callAdaptorFunction(t,"addParams",{dm:n,query:r,params:r.params,reqParams:i}),i},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(t){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,n){if("crypto"in window&&"getRandomValues"in crypto){var r=new Uint8Array(1);window.crypto.getRandomValues(r),t=r[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===n?3&t|8:t]}))},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,n,r){var i,o,a,s=0,l="string"===typeof e.getVal(t,0,n);if(t.length)for(;p(i)&&s<t.length;)i=e.getVal(t,s,n),a=t[s++];for(;s<t.length;s++)p(o=e.getVal(t,s,n))||(l&&(i=+i,o=+o),r(i,o)>0&&(i=o,a=t[s]));return a},e.distinct=function(t,n,r){r=!p(r)&&r;var i,o=[],a={};return t.forEach((function(s,l){(i="object"===typeof t[l]?e.getVal(t,l,n):t[l])in a||(o.push(r?t[l]:i),a[i]=1)})),o},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},e.aggregates={sum:function(t,n){for(var r,i=0,o="number"!==typeof e.getVal(t,0,n),a=0;a<t.length;a++)r=e.getVal(t,a,n),isNaN(r)||null===r||(o&&(r=+r),i+=r);return i},average:function(t,n){return e.aggregates.sum(t,n)/t.length},min:function(t,n){var r;return"function"===typeof n&&(r=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,r||e.fnAscending))},max:function(t,n){var r;return"function"===typeof n&&(r=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,r||e.fnDescending))},truecount:function(e,t){return new qf(e).executeLocal((new jf).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new qf(e).executeLocal((new jf).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:function(t,n,r,i){return i&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),r?e.toLowerCase(t)===e.toLowerCase(n):t===n},notequal:function(t,n,r,i){return i&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),!e.fnOperators.equal(t,n,r)},lessthan:function(t,n,r){return r?e.toLowerCase(t)<e.toLowerCase(n):(p(t)&&(t=void 0),t<n)},greaterthan:function(t,n,r){return r?e.toLowerCase(t)>e.toLowerCase(n):t>n},lessthanorequal:function(t,n,r){return r?e.toLowerCase(t)<=e.toLowerCase(n):t<=n},greaterthanorequal:function(t,n,r){return r?e.toLowerCase(t)>=e.toLowerCase(n):t>=n},contains:function(t,n,r,i){return i&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),r?!p(t)&&!p(n)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(n)):!p(t)&&!p(n)&&-1!==t.toString().indexOf(n)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,n,r,i){return i&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),r?t&&n&&e.startsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.startsWith(t,n)},endswith:function(t,n,r,i){return i&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),r?t&&n&&e.endsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.endsWith(t,n)},processSymbols:function(t){var n=e.operatorSymbols[t];return n?e.fnOperators[n]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var n=e.fnOperators[t];return n||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"===typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"===typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var n=0;n<t.length;n++)"object"===typeof t[n]&&null!==t[n]?e.parse.iterateAndReviveJson(t[n]):"string"!==typeof t[n]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[n])?t[n]=e.parse.parseJson(t[n]):t[n]=e.parse.jsonReviver("",t[n])},iterateAndReviveJson:function(t){for(var n,r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];e.startsWith(o,"__")||("object"===typeof(n=t[o])?n instanceof Array?e.parse.iterateAndReviveArray(n):n&&e.parse.iterateAndReviveJson(n):t[o]=e.parse.jsonReviver(t[o],n))}},jsonReviver:function(t,n){if("string"===typeof n){var r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n),i=e.timeZoneHandling?e.serverTimezoneOffset:null;if(r)return e.dateParse.toTimeZone(new Date(parseInt(r[1],10)),i,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var o=n.indexOf("Z")>-1||n.indexOf("z")>-1,a=n.split(/[^0-9.]/);if(o)n=e.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),e.serverTimezoneOffset,!1);else{var s=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),l=parseInt(a[6],10),c=parseInt(a[7],10);if(isNaN(l)&&isNaN(c))return s;n.indexOf("+")>-1?s.setHours(s.getHours()-l,s.getMinutes()-c):s.setHours(s.getHours()+l,s.getMinutes()+c),n=e.dateParse.toTimeZone(s,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(n=e.dateParse.addSelfOffset(n))}}return n},isJson:function(t){return"string"===typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,n){return e.isPlainObject(t)?e.parse.jsonReplacer(t,n):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},n).val:t},jsonReplacer:function(t,n){for(var r,i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if((r=t[a])instanceof Date){var s=r;null==e.serverTimezoneOffset?t[a]=e.dateParse.toTimeZone(s,null).toJSON():(s=new Date(+s+36e5*e.serverTimezoneOffset),t[a]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(s),null).toJSON())}}return t},arrayReplacer:function(t){for(var n=0;n<t.length;n++)e.isPlainObject(t[n])?t[n]=e.parse.jsonReplacer(t[n]):t[n]instanceof Date&&(t[n]=e.parse.jsonReplacer({date:t[n]}).date);return t},jsonDateReplacer:function(t,n){if("value"===t&&n){if("string"===typeof n){var r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n);if(r)n=e.dateParse.toTimeZone(new Date(parseInt(r[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var i=n.split(/[^0-9]/);n=e.dateParse.toTimeZone(new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)),null,!0)}}if(n instanceof Date)return n=e.dateParse.addSelfOffset(n),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(n),null).toJSON():(n=e.dateParse.toTimeZone(n,n.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return n}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,n,r){if(null===n)return t;var i=r?e.dateParse.toUTC(t):t;return new Date(+i-36e5*n)},toLocalTime:function(e){var t=e,n=-t.getTimezoneOffset(),r=n>=0?"+":"-",i=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())+"T"+i(t.getHours())+":"+i(t.getMinutes())+":"+i(t.getSeconds())+r+i(n/60)+":"+i(n%60)}},e}(),Uf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zf={GroupGuid:"{271bbba0-1ee7}"},Qf=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,n,r){return e},e}(),Wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf(t,e),t.prototype.processQuery=function(e,t){for(var n,r,i,o=e.dataSource.json.slice(0),a=o.length,s=!0,l={},c=0,h=[],d=0;d<t.lazyLoad.length;d++)c++,l[t.lazyLoad[d].key]=t.lazyLoad[d].value;var u={};for(d=0;d<t.queries.length;d++)"onPage"!==(r=t.queries[d]).fn&&"onGroup"!==r.fn||!t.lazyLoad.length?(n=this[r.fn].call(this,o,r.e,t),"onAggregates"===r.fn?u[r.e.field+" - "+r.e.type]=n:o=void 0!==n?n:o,"onPage"!==r.fn&&"onSkip"!==r.fn&&"onTake"!==r.fn&&"onRange"!==r.fn||(s=!1),s&&(a=o.length)):("onGroup"===r.fn&&h.push(r.e),"onPage"===r.fn&&(i=r.e));if(c){var p={query:t,lazyLoad:l,result:o,group:h,page:i},f=this.lazyLoadGroup(p);o=f.result,a=f.count}return t.isCountRequired&&(o={result:o,count:a,aggregates:u}),o},t.prototype.lazyLoadGroup=function(e){var t=0,n=this.getAggregate(e.query),r=e.result;if(p(e.lazyLoad.onDemandGroupInfo)){a=e.group[0].fieldName;t=(r=Hf.group(r,a,n,null,null,e.group[0].comparer,!0)).length;s=r;e.page&&(r=this.onPage(r,e.page,e.query)),this.formGroupResult(r,s)}else{for(var i=e.lazyLoad.onDemandGroupInfo,o=i.where.length-1;o>=0;o--)r=this.onWhere(r,i.where[o]);if(e.group.length!==i.level){var a=e.group[i.level].fieldName;r=Hf.group(r,a,n,null,null,e.group[0].comparer,!0)}t=r.length;var s=r;r=(r=r.slice(i.skip)).slice(0,i.take),e.group.length!==i.level&&this.formGroupResult(r,s)}return{result:r,count:t}},t.prototype.formGroupResult=function(e,t){if(e.length&&t.length){var n="GroupGuid";e[n]=t[n],e.childLevels=t.childLevels,e.level=t.level,e.records=t.records}return e},t.prototype.getAggregate=function(e){var t=jf.filterQueries(e.queries,"onAggregates"),n=[];if(t.length)for(var r=void 0,i=0;i<t.length;i++)r=t[i].e,n.push({type:r.type,field:Hf.getValue(r.field,e)});return n},t.prototype.batchRequest=function(e,t,n){var r,i=t.deletedRecords.length;for(r=0;r<t.addedRecords.length;r++)this.insert(e,t.addedRecords[r]);for(r=0;r<t.changedRecords.length;r++)this.update(e,n.key,t.changedRecords[r]);for(r=0;r<i;r++)this.remove(e,n.key,t.deletedRecords[r]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e},t.prototype.onAggregates=function(e,t){var n=Hf.aggregates[t.type];return e&&n&&0!==e.length?n(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&Hf.getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var n=0;n<t.fieldNames.length;n++)if(t.comparer.call(e,Hf.getObject(t.fieldNames[n],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e},t.prototype.onSortBy=function(e,t,n){if(!e||!e.length)return e;var r,i=Hf.getValue(t.fieldName,n);if(!i)return e.sort(t.comparer);if(i instanceof Array){for(var o=(i=i.slice(0)).length-1;o>=0;o--)i[o]&&(r=t.comparer,Hf.endsWith(i[o]," desc")&&(r=Hf.fnSort("descending"),i[o]=i[o].replace(" desc","")),e=Hf.sort(e,i[o],r));return e}return Hf.sort(e,i,t.comparer)},t.prototype.onGroup=function(e,t,n){if(!e||!e.length)return e;var r=this.getAggregate(n);return Hf.group(e,Hf.getValue(t.fieldName,n),r,null,null,t.comparer)},t.prototype.onPage=function(e,t,n){var r=Hf.getValue(t.pageSize,n),i=(Hf.getValue(t.pageIndex,n)-1)*r,o=i+r;return e&&e.length?e.slice(i,o):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(Hf.getValue(t.start),Hf.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,Hf.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(Hf.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?Hf.select(e,Hf.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,n,r,i){return p(i)?e.dataSource.json.push(t):e.dataSource.json.splice(i,0,t)},t.prototype.remove=function(e,t,n,r){var i,o=e.dataSource.json;for("object"!==typeof n||n instanceof Date||(n=Hf.getObject(t,n)),i=0;i<o.length&&Hf.getObject(t,o[i])!==n;i++);return i!==o.length?o.splice(i,1):null},t.prototype.update=function(e,t,n,r){var i,o,a=e.dataSource.json;for(p(t)||(o=l(t,n)),i=0;i<a.length&&(p(t)||l(t,a[i])!==o);i++);return i<a.length?d(a[i],n):null},t}(Qf),Vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf(t,e),t.prototype.processQuery=function(e,t,n){var r,i,o=this.getQueryRequest(t),a=jf.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=t.params,l=e.dataSource.url,c=null,h=this.options,d={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?(r=a.onPage,i=((i=Hf.getValue(r.pageIndex,t))-1)*(c=Hf.getValue(r.pageSize,t))):"onRange"in a&&(i=(r=a.onRange).start,c=r.end-r.start);for(var u=0;u<o.sorts.length;u++)r=Hf.getValue(o.sorts[u].e.fieldName,t),d.sorts.push(Hf.callAdaptorFunction(this,"onEachSort",{name:r,direction:o.sorts[u].e.direction},t));n&&(r=this.getFiltersFrom(n,t))&&d.filters.push(Hf.callAdaptorFunction(this,"onEachWhere",r.toJson(),t));for(u=0;u<o.filters.length;u++){var f=Hf.callAdaptorFunction(this,"onEachWhere",o.filters[u].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!p(o.filters[u].e.key)&&o.filters.length>1&&(f="("+f+")"),d.filters.push(f);for(var g=0,A="object"===typeof d.filters[u]?Object.keys(d.filters[u]):[];g<A.length;g++){var m=A[g];Hf.isNull(d[m])&&delete d[m]}}for(u=0;u<o.searches.length;u++)r=o.searches[u].e,d.searches.push(Hf.callAdaptorFunction(this,"onEachSearch",{fields:r.fieldNames,operator:r.operator,key:r.searchKey,ignoreCase:r.ignoreCase},t));for(u=0;u<o.groups.length;u++)d.groups.push(Hf.getValue(o.groups[u].e.fieldName,t));for(u=0;u<o.aggregates.length;u++)r=o.aggregates[u].e,d.aggregates.push({type:r.type,field:Hf.getValue(r.field,t)});var y={};if(this.getRequestQuery(h,t,a,d,y),Hf.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:s,reqParams:y}),t.lazyLoad.length)for(u=0;u<t.lazyLoad.length;u++)y[t.lazyLoad[u].key]=t.lazyLoad[u].value;for(var v=0,b=Object.keys(y);v<b.length;v++){m=b[v];(Hf.isNull(y[m])||""===y[m]||0===y[m].length)&&delete y[m]}h.skip in y&&h.take in y||null===c||(y[h.skip]=Hf.callAdaptorFunction(this,"onSkip",i,t),y[h.take]=Hf.callAdaptorFunction(this,"onTake",c,t));var w=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(y,Hf.parse.jsonDateReplacer),url:l,pvtData:w,type:"POST",contentType:"application/json; charset=utf-8"}:(r=this.convertToQueryString(y,t,e),{type:"GET",url:(r=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+r).length?l.replace(/\/*$/,r):l,pvtData:w})},t.prototype.getRequestQuery=function(e,t,n,r,i){var o=i;o[e.from]=t.fromTable,e.apply&&t.distincts.length&&(o[e.apply]="onDistinct"in this?Hf.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(o[e.expand]="onExpand"in this&&"onSelect"in n?Hf.callAdaptorFunction(this,"onExpand",{selects:Hf.getValue(n.onSelect.fieldNames,t),expands:t.expands},t):t.expands),o[e.select]="onSelect"in n&&!t.distincts.length?Hf.callAdaptorFunction(this,"onSelect",Hf.getValue(n.onSelect.fieldNames,t),t):"",o[e.count]=t.isCountRequired?Hf.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",o[e.search]=r.searches.length?Hf.callAdaptorFunction(this,"onSearch",r.searches,t):"",o[e.skip]="onSkip"in n?Hf.callAdaptorFunction(this,"onSkip",Hf.getValue(n.onSkip.nos,t),t):"",o[e.take]="onTake"in n?Hf.callAdaptorFunction(this,"onTake",Hf.getValue(n.onTake.nos,t),t):"",o[e.where]=r.filters.length||r.searches.length?Hf.callAdaptorFunction(this,"onWhere",r.filters,t):"",o[e.sortBy]=r.sorts.length?Hf.callAdaptorFunction(this,"onSortBy",r.sorts,t):"",o[e.group]=r.groups.length?Hf.callAdaptorFunction(this,"onGroup",r.groups,t):"",o[e.aggregates]=r.aggregates.length?Hf.callAdaptorFunction(this,"onAggregates",r.aggregates,t):"",o.param=[]},t.prototype.convertToQueryString=function(e,t,n){return""},t.prototype.processResponse=function(e,t,n,r,i,o){if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("application/json")){var a=Hf.timeZoneHandling;t&&!t.timeZoneHandling&&(Hf.timeZoneHandling=!1),e=Hf.parse.parseJson(e),Hf.timeZoneHandling=a}var s=i,l=s.pvtData||{},c=e?e.groupDs:[];if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var h=JSON.parse(s.data);if(h&&"batch"===h.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);var d={};e&&"count"in e&&(d.count=e.count),d.result=e&&e.result?e.result:e;var u=!1;if(Array.isArray(e.result)&&e.result.length){if(p(e.result[0].key)||(d.result=this.formRemoteGroupedData(d.result,1,l.groups.length-1)),n&&n.lazyLoad.length&&l.groups.length)for(var f=0;f<n.lazyLoad.length;f++)if("onDemandGroupInfo"===n.lazyLoad[f].key){var g=n.lazyLoad[f].value.level;l.groups.length===g&&(u=!0)}}return u||this.getAggregateResult(l,e,d,c,n),Hf.isNull(d.count)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}},t.prototype.formRemoteGroupedData=function(e,t,n){for(var r=0;r<e.length;r++)e[r].items.length&&Object.keys(e[r].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[r].items,t+1,n-1);var i="GroupGuid";return e[i]=zf[i],e.level=t,e.childLevels=n,e.records=e[0].items.length?this.getGroupedRecords(e,!p(e[0].items.records)):[],e},t.prototype.getGroupedRecords=function(e,t){for(var n=[],r=0;r<e.length;r++)if(t)n=n.concat(e[r].items.records);else for(var i=0;i<e[r].items.length;i++)n.push(e[r].items[i]);return n},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,n,r,i){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n[undefined],key:n[undefined]},Hf.getAddParams(this,e,r)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,n,r){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:t,table:n,action:"insert"},Hf.getAddParams(this,e,r)))}},t.prototype.remove=function(e,t,n,r,i){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{key:n,keyColumn:t,table:r,action:"remove"},Hf.getAddParams(this,e,i)))}},t.prototype.update=function(e,t,n,r,i){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:n,action:"update",keyColumn:t,key:Hf.getObject(t,n),table:r},Hf.getAddParams(this,e,i)))}},t.prototype.getFiltersFrom=function(e,t){var n,r=t.fKey,i=r,o=t.key,a=[];"object"!==typeof e[0]&&(i=null);for(var s=0;s<e.length;s++)n="object"===typeof e[0]?Hf.getObject(o||i,e[s]):e[s],a.push(new _f(r,"equal",n));return _f.or(a)},t.prototype.getAggregateResult=function(e,t,n,r,i){var o=t;if(t&&t.result&&(o=t.result),e&&e.aggregates&&e.aggregates.length){var a=e.aggregates,s=void 0,l=o,c={};t.aggregate&&(l=t.aggregate);for(var h=0;h<a.length;h++)(s=Hf.aggregates[a[h].type])&&(c[a[h].field+" - "+a[h].type]=s(l,a[h].field));n.aggregates=c}var d=Array.isArray(t.result)&&t.result.length&&!p(t.result[0].key);if(e&&e.groups&&e.groups.length&&!d){var u=e.groups;for(h=0;h<u.length;h++){p(r)||(r=Hf.group(r,u[h]));var f=jf.filterQueries(i.queries,"onGroup")[h].e;o=Hf.group(o,u[h],e.aggregates,null,r,f.comparer)}n.result=o}return n},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=jf.filterQueries(e.queries,"onSortBy"),t.groups=jf.filterQueries(e.queries,"onGroup"),t.filters=jf.filterQueries(e.queries,"onWhere"),t.searches=jf.filterQueries(e.queries,"onSearch"),t.aggregates=jf.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var n=0,r=e.params;n<r.length;n++){var i=r[n];if(t[i.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[i.key]=i.value,i.fn&&(t[i.key]=i.fn.call(e.query,i.key,e.query,e.dm)),t.params[i.key]=t[i.key]}},t}(Qf),Xf=function(e){function t(t){var n=e.call(this)||this;return n.options=u({},n.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),u(n.options,t||{}),n}return Uf(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,n,r){var i,o,a="",s=e.value,l=typeof s,c=e.field?t.getField(e.field):null;if(s instanceof Date&&(s="datetime'"+Hf.parse.replacer(s)+"'"),"string"===l&&(s="'"+(s=encodeURIComponent(s))+"'",r&&(c="cast("+c+", 'Edm.String')"),Hf.parse.isGuid(s)&&(o="guid"),e.ignoreCase&&(o||(c="tolower("+c+")"),s=s.toLowerCase())),i=Hf.odBiOperator[e.operator])return a+=c,a+=i,o&&(a+=o),a+s;if("substringof"===(i=p(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?Hf.odUniOperator[e.operator]:Hf.odv4UniOperator[e.operator])){var h=s;s=c,c=h}return a+=i+"(",a+=c+",",o&&(a+=o),a+=s+")"},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,n){for(var r=[],i=0;i<e.predicates.length;i++)r.push("("+this.onEachWhere(e.predicates[i],t,n)+")");return r.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,n){return e.isComplex?this.onComplexPredicate(e,t,n):this.onPredicate(e,t,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&Hf.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],n=0;n<e.fields.length;n++)t.push(new _f(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=_f.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var n=[];if(e.name instanceof Array)for(var r=0;r<e.name.length;r++)n.push(t.getField(e.name[r])+("descending"===e.direction?" desc":""));else n.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return n.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var n=0;n<e.length;n++)e[n]=t.getField(e[n]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,n){Hf.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,n,r,i,o){var a="odata.metadata";if(i&&"GET"===i.type&&!this.rootUrl&&e[a]){var s=e[a].split("/$metadata#");this.rootUrl=s[0],this.resourceTableName=s[1]}if(!p(e.d)){var l=n&&n.isCountRequired?e.d.results:e.d,c="__metadata";if(!p(l))for(var h=0;h<l.length;h++)p(l[h][c])||delete l[h][c]}var d=i&&i.pvtData,u=this.processBatchResponse(e,n,r,i,o);if(u)return u;var f=r&&i.getResponseHeader("DataServiceVersion"),g=null,A=f&&parseInt(f,10)||2;if(n&&n.isCountRequired){(e.__count||e["odata.count"])&&(g=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(g=e.__count||e["odata.count"])}3===A&&e.value&&(e=e.value),e.d&&(e=e.d),A<3&&e.results&&(e=e.results);var m={};return m.count=g,m.result=e,this.getAggregateResult(d,e,m,null,n),Hf.isNull(g)?m.result:{result:m.result,count:m.count,aggregates:m.aggregates}},t.prototype.convertToQueryString=function(e,t,n){var r=[],i=e.table||"";delete e.table,n.dataSource.requiresFormat&&(e.$format="json");for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];r.push(s+"="+e[s])}return r=r.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!i?r:r.length?i+"?"+r:i||""},t.prototype.localTimeReplacer=function(e,t){for(var n=0,r=p(t)?[]:Object.keys(t);n<r.length;n++){var i=r[n];t[i]instanceof Date&&(t[i]=Hf.dateParse.toLocalTime(t[i]))}return t},t.prototype.insert=function(e,t,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,n,r){var i;return i="string"!==typeof n||Hf.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+i}},t.prototype.update=function(e,t,n,r,i,o){var a;return"PATCH"!==this.options.updateType||p(o)||(n=this.compareAndRemove(n,o,t)),a="string"!==typeof n[t]||Hf.parse.isGuid(n[t])?"("+n[t]+")":"('"+n[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+a,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,n,r,i){var o=n.guid=Hf.getGuid(this.options.batchPre),a=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var s={url:n.url,key:n.key,cid:1,cSet:Hf.getGuid(this.options.changeSet)},l="--"+o+"\n";return l+="Content-Type: multipart/mixed; boundary="+s.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(t.addedRecords,s,e),l+=this.generateUpdateRequest(t.changedRecords,s,e,i?i.changedRecords:[]),l+=this.generateDeleteRequest(t.deletedRecords,s,e),l+=s.cSet+"--\n",{type:"POST",url:a,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:l+="--"+o+"--"}},t.prototype.generateDeleteRequest=function(e,t,n){if(!e)return"";var r={method:"DELETE ",url:function(e,t,n){var r=Hf.getObject(n,e[t]);return"number"===typeof r||Hf.parse.isGuid(r)?"("+r+")":r instanceof Date?"("+e[t][n].toJSON()+")":"('"+r+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,r,n)+"\n"},t.prototype.generateInsertRequest=function(e,t,n){if(!e)return"";var r={method:"POST ",url:function(e,t,n){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,r,n)},t.prototype.generateUpdateRequest=function(e,t,n,r){var i=this;if(!e)return"";e.forEach((function(e){return e=i.compareAndRemove(e,r.filter((function(n){return Hf.getObject(t.key,n)===Hf.getObject(t.key,e)}))[0],t.key)}));var o={method:this.options.updateType+" ",url:function(e,t,n){return"number"===typeof e[t][n]||Hf.parse.isGuid(e[t][n])?"("+e[t][n]+")":e[t][n]instanceof Date?"("+e[t][n].toJSON()+")":"('"+e[t][n]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,o,n)},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,n,r){for(var i="",o=0;o<e.length;o++)i+="\n"+t.cSet+"\n",i+=this.options.changeSetContent+"\n\n",i+=n.method,"POST "===n.method?i+=(r.dataSource.insertUrl||r.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?i+=(r.dataSource.updateUrl||r.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n":"DELETE "===n.method&&(i+=(r.dataSource.removeUrl||r.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n"),i+="Accept: "+this.options.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=this.options.batchChangeSetContentType+"\n",p(e[o]["@odata.etag"])?i+="\n":(i+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),i+=n.data(e,o);return i},t.prototype.processBatchResponse=function(e,t,n,r,i){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(r&&this.options.batch&&Hf.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()){var o=n.getResponseHeader("Content-Type"),a=void 0,s=void 0,l=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),(l=l.split(o)).length<2)return{};l=l[1];var c=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);c&&l.replace(c[0],"");for(var h=c?c[1]:"",d=(l=l.split(h)).length;d>-1;d--)/\bContent-ID:/i.test(l[d])&&/\bHTTP.+201/.test(l[d])&&(a=parseInt(/\bContent-ID: (\d+)/i.exec(l[d])[1],10),i.addedRecords[a]&&(s=Hf.parse.parseJson(/^\{.+\}/m.exec(l[d])[0]),u({},i.addedRecords[a],this.processResponse(s))));return i}return null},t.prototype.compareAndRemove=function(e,t,n){var r=this;return p(t)||Object.keys(e).forEach((function(i){i!==n&&"@odata.etag"!==i&&(Hf.isPlainObject(e[i])?(r.compareAndRemove(e[i],t[i]),0===Object.keys(e[i]).filter((function(e){return"@odata.etag"!==e})).length&&delete e[i]):(e[i]===t[i]||e[i]&&t[i]&&e[i].valueOf()===t[i].valueOf())&&delete e[i])})),e},t}(Vf),Yf=(function(e){function t(t){var n=e.call(this,t)||this;return n.options=u({},n.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),u(n.options,t||{}),n}Uf(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,n,r){var i="",o=t.value,a=o instanceof Date;if(n instanceof jf)for(var s=this.getQueryRequest(n),l=0;l<s.filters.length;l++)s.filters[l].e.key===t.value&&(r=!0);return i=e.prototype.onPredicate.call(this,t,n,r),a&&(i=i.replace(/datetime'(.*)'$/,"$1")),Hf.parse.isGuid(o)&&(i=i.replace("guid","").replace(/'/g,"")),i},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t=this,n={},r={},i=e.expands.slice(),o=[];return e.selects.filter((function(e){return e.indexOf(".")>-1})).forEach((function(e){var t=e.split(".");t[0]in n||(n[t[0]]=[]),n[t[0]].push(t[1])})),Object.keys(n).forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),i.forEach((function(e){r[e]=e in n?e+"("+t.options.select+"="+n[e].join(",")+")":e})),Object.keys(r).forEach((function(e){return o.push(r[e])})),o.join(",")},t.prototype.onDistinct=function(e){return"groupby(("+e.map((function(e){return Xf.getField(e)})).join(",")+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter((function(e){return-1===e.indexOf(".")})))},t.prototype.beforeSend=function(e,t,n){"POST"!==n.type&&"PUT"!==n.type&&"PATCH"!==n.type||t.setRequestHeader("Prefer","return=representation"),t.setRequestHeader("Accept",this.options.accept)},t.prototype.processResponse=function(t,n,r,i,o,a){var s="@odata.context";if(o&&"GET"===o.type&&!this.rootUrl&&t[s]){var l=t[s].split("/$metadata#");this.rootUrl=l[0],this.resourceTableName=l[1]}var c=o&&o.pvtData,h=e.prototype.processBatchResponse.call(this,t,r,i,o,a);if(h)return h;var d=null,u="@odata.count";r&&r.isCountRequired&&u in t&&(d=t[u]),t=p(t.value)?t:t.value;var f={};return f.count=d,f.result=t,this.getAggregateResult(c,t,f,null,r),Hf.isNull(d)?f.result:{result:f.result,count:d,aggregates:f.aggregates}}}(Xf),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Uf(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,n){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,n,r){return{type:"DELETE",url:e.dataSource.url+"/"+n,data:JSON.stringify(n)}},t.prototype.update=function(e,t,n,r){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(n)}},t.prototype.batchRequest=function(e,t,n){var r=this,i=n.guid=Hf.getGuid(this.options.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;for(var a=[],s=function(r,o){t.addedRecords.forEach((function(o,s){var l=function(e,t,n){return""};a.push("--"+i),a.push("Content-Type: application/http; msgtype=request",""),a.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||n.url)+l(t.addedRecords,r,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))},l=0,c=t.addedRecords.length;l<c;l++)s(l);var h=function(o,s){t.changedRecords.forEach((function(s,l){r.options.updateType;var c=function(e,t,n){return""};a.push("--"+i),a.push("Content-Type: application/http; msgtype=request",""),a.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||n.url)+c(t.changedRecords,o,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",s?JSON.stringify(s):"")}))};for(l=0,c=t.changedRecords.length;l<c;l++)h(l);var d=function(r,o){t.deletedRecords.forEach((function(o,s){var l=function(e,t,n){var r=Hf.getObject(n,e[t]);return"number"===typeof r||Hf.parse.isGuid(r)?"/"+r:r instanceof Date?"/"+e[t][n].toJSON():"/'"+r+"'"};a.push("--"+i),a.push("Content-Type: application/http; msgtype=request",""),a.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||n.url)+l(t.deletedRecords,r,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))};for(l=0,c=t.deletedRecords.length;l<c;l++)d(l);return a.push("--"+i+"--",""),{type:"POST",url:o,contentType:"multipart/mixed; boundary="+i,data:a.join("\r\n")}},t.prototype.beforeSend=function(e,t,n){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,n,r,i,o){var a=i&&i.pvtData,s=null,l={};if(i&&"post"!==i.type.toLowerCase()){var c=r&&i.getResponseHeader("DataServiceVersion"),h=c&&parseInt(c,10)||2;n&&n.isCountRequired&&(Hf.isNull(e.Count)||(s=e.Count)),h<3&&e.Items&&(e=e.Items),l.count=s,l.result=e,this.getAggregateResult(a,e,l,null,n)}return l.result=l.result||e,Hf.isNull(s)?l.result:{result:l.result,count:l.count,aggregates:l.aggregates}}}(Xf),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Uf(t,e),t.prototype.processQuery=function(e,t,n){var r=(new Vf).processQuery(e,t,n),i=Hf.parse.parseJson(r.data),o={};if(i.param)for(var a=0;a<i.param.length;a++){var s=i.param[a],l=Object.keys(s)[0];o[l]=s[l]}o.value=i;return{data:JSON.stringify(o),url:r.url,pvtData:r.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}(Vf),function(e){function t(){var t=e.call(this)||this;return c("beforeSend",Vf.prototype.beforeSend,t),t}return Uf(t,e),t.prototype.insert=function(e,t,n,r,i){return this.pvt.position=i,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:t,table:n,action:"insert"},Hf.getAddParams(this,e,r)))}},t.prototype.remove=function(t,n,r,i,o){return e.prototype.remove.call(this,t,n,r),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(u({},{key:r,keyColumn:n,table:i,action:"remove"},Hf.getAddParams(this,t,o)))}},t.prototype.update=function(e,t,n,r,i){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:n,action:"update",keyColumn:t,key:n[t],table:r},Hf.getAddParams(this,e,i)))}},t.prototype.processResponse=function(t,n,r,i,o,a,s){var l;if(t="batch"===(o?JSON.parse(o.data):t).action?Hf.parse.parseJson(t):t,"add"===this.updateType&&e.prototype.insert.call(this,n,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,n,this.updateKey,t),this.updateType=void 0,t.added)for(l=0;l<t.added.length;l++)e.prototype.insert.call(this,n,t.added[l]);if(t.changed)for(l=0;l<t.changed.length;l++)e.prototype.update.call(this,n,s.key,t.changed[l]);if(t.deleted)for(l=0;l<t.deleted.length;l++)e.prototype.remove.call(this,n,s.key,t.deleted[l]);return t},t.prototype.batchRequest=function(e,t,n,r,i){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n.url,key:n.key},Hf.getAddParams(this,e,r)))}},t.prototype.addParams=function(e){(new Vf).addParams(e)},t}(Wf)),Kf=function(e){function t(t){var n=e.call(this)||this;return n.options=u({},n.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),u(n.options,t||{}),n}return Uf(t,e),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(Vf),Gf=function(e){function t(t,n,r){var i=e.call(this)||this;i.isCrudAction=!1,i.isInsertAction=!1,p(t)||(i.cacheAdaptor=t),i.pageSize=r,i.guidId=Hf.getGuid("cacheAdaptor");window.localStorage.setItem(i.guidId,JSON.stringify({keys:[],results:[]}));var o=i.guidId;return p(n)||setInterval((function(){var e;e=Hf.parse.parseJson(window.localStorage.getItem(o));for(var t=[],r=0;r<e.results.length;r++){var i=+new Date,a=+new Date(e.results[r].timeStamp);e.results[r].timeStamp=i-a,i-a>n&&t.push(r)}for(r=0;r<t.length;r++)e.results.splice(t[r],1),e.keys.splice(t[r],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))}),n),i}return Uf(t,e),t.prototype.generateKey=function(e,t){var n=this.getQueryRequest(t),r=jf.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),i=e,o="onPage";o in r&&(i+=r[o].pageIndex),n.sorts.forEach((function(e){i+=e.e.direction+e.e.fieldName})),n.groups.forEach((function(e){i+=e.e.fieldName})),n.searches.forEach((function(e){i+=e.e.searchKey}));for(var a=0;a<n.filters.length;a++){var s=n.filters[a];if(s.e.isComplex){var l=t.clone();l.queries=[];for(var c=0;c<s.e.predicates.length;c++)l.queries.push({fn:"onWhere",e:s.e.predicates[c],filter:t.queries.filter});i+=s.e.condition+this.generateKey(e,l)}else i+=s.e.field+s.e.operator+s.e.value}return i},t.prototype.processQuery=function(e,t,n){var r,i=this.generateKey(e.dataSource.url,t),o=(r=Hf.parse.parseJson(window.localStorage.getItem(this.guidId)))?r.results[r.keys.indexOf(i)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},t.prototype.processResponse=function(e,t,n,r,i,o){if(this.isInsertAction||i&&this.cacheAdaptor.options.batch&&Hf.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,n,r,i,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var a=n?this.generateKey(t.dataSource.url,n):t.dataSource.url,s={},l=(s=Hf.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(a);for(-1!==l&&(s.results.splice(l,1),s.keys.splice(l,1)),s.results[s.keys.push(a)-1]={keys:a,result:e.result,timeStamp:new Date,count:e.count};s.results.length>this.pageSize;)s.results.splice(0,1),s.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(s)),e},t.prototype.beforeSend=function(e,t,n){!p(this.cacheAdaptor.options.batch)&&Hf.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,n,r){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,n,r)},t.prototype.insert=function(e,t,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,n)},t.prototype.remove=function(e,t,n,r){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,n,r)},t.prototype.batchRequest=function(e,t,n){return this.cacheAdaptor.batchRequest(e,t,n)},t}(Vf),qf=function(){function e(e,t,n){var r,i=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),n=n||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?r={json:e,offline:!0}:"object"===typeof e?(e.json||(e.json=[]),r={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof Yf||e.adaptor instanceof Kf)&&!e.url,requiresFormat:e.requiresFormat}):Hf.throwError("DataManager: Invalid arguments"),void 0!==r.requiresFormat||Hf.isCors()||(r.requiresFormat=!!p(r.crossDomain)||r.crossDomain),void 0===r.dataType&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=t,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=n||new Xf,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new jf),this.ready.then((function(e){i.dataSource.offline=!0,i.isDataAvailable=!0,r.json=e.result,i.adaptor=new Wf}))):this.adaptor=r.offline?new Wf:new Xf,!r.jsonp&&this.adaptor instanceof Xf&&(r.jsonp="callback"),this.adaptor=n||this.adaptor,r.enableCaching&&(this.adaptor=new Gf(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof jf||Hf.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||Hf.throwError("DataManager - executeLocal() : Json data is required to execute"),t=t||this.defaultQuery;var n=this.adaptor.processQuery(this,t);if(t.subQuery){var r=t.subQuery.fromTable,i=t.subQuery.lookups,o=t.isCountRequired?n.result:n;i&&i instanceof Array&&Hf.buildHierarchy(t.subQuery.fKey,r,o,i,t.subQuery.key);for(var a=0;a<o.length;a++)o[a][r]instanceof Array&&(o[a]=u({},{},o[a]),o[a][r]=this.adaptor.processResponse(t.subQuery.using(new e(o[a][r].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(n,this,t)},e.prototype.executeQuery=function(t,n,r,i){var o=this;"function"===typeof t&&(i=r,r=n,n=t,t=null),t||(t=this.defaultQuery),t instanceof jf||Hf.throwError("DataManager - executeQuery() : A query is required to execute");var a=new Jf,s={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!p(this.adaptor.makeRequest)||this.isCustomDataAdaptor(this.adaptor)){var l=this.adaptor.processQuery(this,t);p(this.adaptor.makeRequest)?!p(l.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(l,a,s,t):(s=e.getDeferedArgs(t,l,s),a.resolve(s)):this.adaptor.makeRequest(l,a,s,t)}else e.nextTick((function(){var n=o.executeLocal(t);s=e.getDeferedArgs(t,n,s),a.resolve(s)}));return(n||r)&&a.promise.then(n,r),i&&a.promise.then(i,i),a.promise},e.getDeferedArgs=function(e,t,n){return e.isCountRequired?(n.result=t.result,n.count=t.count,n.aggregates=t.aggregates):n.result=t,n},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,n){return u({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:n},e)},e.prototype.makeRequest=function(e,t,n,r){var i=this,o=!!r.subQuerySelector,a=function(e){n.error=e,t.reject(n)},s=function(e,r,i,o,a,s,l){n.xhr=i,n.count=r?parseInt(r.toString(),10):0,n.result=e,n.request=o,n.aggregates=s,n.actual=a,n.virtualSelectRecords=l,t.resolve(n)},l=function(e,t){var l=new Jf,c={parent:n};r.subQuery.isChild=!0;var h=i.adaptor.processQuery(i,r.subQuery,e?i.adaptor.processResponse(e):t),d=i.makeRequest(h,l,c,r.subQuery);return o||l.then((function(t){e&&(Hf.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,e,t,r.subQuery.key),s(e,t.count,t.xhr))}),a),d},c=this.extendRequest(e,(function(e,t){i.isCustomDataAdaptor(i.adaptor)&&(t=u({},i.ajaxReqOption,t)),-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&i.dateParse&&(e=Hf.parse.parseJson(e));var n=i.adaptor.processResponse(e,i,r,t.httpRequest,t),a=0,c=null,h=e.virtualSelectRecords;r.isCountRequired&&(a=n.count,c=n.aggregates,n=n.result),r.subQuery?o||l(n,t):s(n,a,t.httpRequest,t.type,e,c,h)}),a);if(this.isCustomDataAdaptor(this.adaptor)){this.ajaxReqOption=c;var h=c;this.adaptor.options.getData({data:h.data,onSuccess:h.onSuccess,onFailure:h.onFailure})}else{var d=new Z(c);d.beforeSend=function(){i.beforeSend(d.httpRequest,d)},(c=d.send()).catch((function(e){return!0})),this.requests.push(d)}if(o){var p=r.subQuerySelector.call(this,{query:r.subQuery,parent:r});p&&p.length?Promise.all([c,l(null,p)]).then((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],a=i.adaptor.processResponse(n[0],i,r,i.requests[0].httpRequest,i.requests[0]),l=0;r.isCountRequired&&(l=a.count,a=a.result);var c=i.adaptor.processResponse(n[1],i,r.subQuery,i.requests[1].httpRequest,i.requests[1]);l=0,r.subQuery.isCountRequired&&(l=c.count,c=c.result),Hf.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,a,c,r.subQuery.key),o=!1,s(a,l,i.requests[0].httpRequest)})):o=!1}return c},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var n,r=this.dataSource.headers,i=0;r&&i<r.length;i++){n=[];for(var o=0,a=Object.keys(r[i]);o<a.length;o++){var s=a[o];n.push(s),e.setRequestHeader(s,r[i][s])}}},e.prototype.saveChanges=function(e,t,n,r,i){var o=this;n instanceof jf&&(r=n,n=null);var a={url:n,key:t||this.dataSource.key},s=this.adaptor.batchRequest(this,e,a,r||new jf,i);if(this.dataSource.offline)return s;if(p(this.adaptor.doAjaxRequest)){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(s,this.adaptor.options.batchUpdate);var l=new Jf,c=new Z(s);return c.beforeSend=function(){o.beforeSend(c.httpRequest,c)},c.onSuccess=function(t,n){l.resolve(o.adaptor.processResponse(t,o,null,n.httpRequest,n,e,a))},c.onFailure=function(e){l.reject([{error:e}])},c.send().catch((function(e){return!0})),l.promise}return this.adaptor.doAjaxRequest(s)},e.prototype.insert=function(e,t,n,r){t instanceof jf&&(n=t,t=null);var i=this.adaptor.insert(this,e,t,n,r);return this.dataSource.offline?i:p(this.adaptor.doAjaxRequest)?this.doAjaxRequest(i,this.adaptor.options.addRecord):this.adaptor.doAjaxRequest(i)},e.prototype.remove=function(e,t,n,r){"object"===typeof t&&(t=Hf.getObject(e,t)),n instanceof jf&&(r=n,n=null);var i=this.adaptor.remove(this,e,t,n,r);if(this.dataSource.offline)return i;if(p(this.adaptor.doAjaxRequest)){var o=this.adaptor.options.deleteRecord;return this.doAjaxRequest(i,o)}return this.adaptor.doAjaxRequest(i)},e.prototype.update=function(e,t,n,r,i){n instanceof jf&&(r=n,n=null);var o=this.adaptor.update(this,e,t,n,r,i);if(this.dataSource.offline)return o;if(p(this.adaptor.doAjaxRequest)){var a=this.adaptor.options.updateRecord;return this.doAjaxRequest(o,a)}return this.adaptor.doAjaxRequest(o)},e.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},e.prototype.successFunc=function(e,t){this.isCustomDataAdaptor(this.adaptor)&&(t=u({},this.ajaxReqOption,t));try{Hf.parse.parseJson(e)}catch(n){e=[]}e=this.adaptor.processResponse(Hf.parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)},e.prototype.failureFunc=function(e){this.ajaxDeffered.reject([{error:e}])},e.prototype.doAjaxRequest=function(e,t){var n=this;if(e=u({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new Jf,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var r=new Z(e);r.beforeSend=function(){n.beforeSend(r.httpRequest,r)},r.onSuccess=this.successFunc.bind(this),r.onFailure=this.failureFunc.bind(this),r.send().catch((function(e){return!0}))}return this.ajaxDeffered.promise},e}(),Jf=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)},Zf=(function(){function e(){this.dataTable={}}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"DataBinding"},e.prototype.initData=function(e,t){var n,r=e.dataManager||e.dataSource||{};(n=r.data||r.json||(r.dataSource?r.dataSource.json:void 0))&&0===n.length&&r.dataSource.data&&(n=r.dataSource.data),n&&n.length&&(this.applyDataSource(e,n,t),t.trigger("dataLoaded",{diagram:v()?null:ud(t)}))},e.prototype.initSource=function(e,t){var n,r=this,i=e,o=e;if(i.dataManager instanceof qf||i.dataSource instanceof qf){var a=(o.dataManager||o.dataSource).defaultQuery||new jf;(e.dataManager||e.dataSource).executeQuery(a).then((function(i){n=i.result,t.isDestroyed||(t.protectPropertyChange(!0),r.applyDataSource(e,n,t),t.refreshDiagram(),t.protectPropertyChange(!1),t.trigger("dataLoaded",{diagram:v()?null:ud(t)}))}))}},e.prototype.applyDataSource=function(e,t,n){var r,i,o;this.dataTable={};var a,s,l=[],c=[];if(void 0!==t){for(var h=0;h<t.length;h++)void 0===(r=t[h])[e.parentId]||null===r[e.parentId]||"object"!==typeof r[e.parentId]?void 0!==l[r[e.parentId]]?l[r[e.parentId]].items.push(r):l[r[e.parentId]]={items:[r]}:l=this.updateMultipleRootNodes(r,l,e,t),e.root===r[e.id]&&(i={items:[r]});if(i)c.push(i);else for(var d=0,u=Object.keys(l);d<u.length;d++){var p=u[d];p&&"undefined"!==p&&"''"!==p&&"null"!==p||c.push(l[p])}for(var f=0;f<c.length;f++)for(var g=0;g<c[f].items.length;g++)a=c[f].items[g],o=this.applyNodeTemplate(e,a,n),n.nodes.push(o),this.dataTable[a[e.id]]=o,void 0!==(s=l[o.data[e.id]])&&this.renderChildNodes(e,s,o.id,l,n)}this.dataTable=null},e.prototype.updateMultipleRootNodes=function(e,t,n,r){for(var i,o=e[n.parentId],a=0;a<o.length;a++)t[i=o[a]]?t[i].items.push(e):t[i]={items:[e]};return t},e.prototype.applyNodeTemplate=function(e,t,n){var r={id:Uu(),data:t},i=ip(e.doBinding);i&&i(r,t,n);var o=new iu(n,"nodes",r,!0);if(Ah(o,r,n.nodeDefaults),e.dataMapSettings)for(var a=void 0,s=[],l=[],c=0;c<e.dataMapSettings.length;c++){if(-1!==e.dataMapSettings[c].property.indexOf(".")){l=this.splitString(e.dataMapSettings[c].property);for(var h=0;h<l.length;h++)-1!==l[h].indexOf("[")&&(a=l[h].indexOf("["),s=l[h].split("["));if(a)if(l[2])o[s[0]][l[0].charAt(a+1)][l[1]][l[2]]=t[e.dataMapSettings[c].field];else{var d=t[e.dataMapSettings[c].field];o[s[0]][l[0].charAt(a+1)][l[1]]=d}else l[2]?o[l[0]][l[1]][l[2]]=t[e.dataMapSettings[c].field]:o[l[0]][l[1]]=t[e.dataMapSettings[c].field]}else{var u=e.dataMapSettings[c].property;o[u=u.charAt(0).toLowerCase()+u.slice(1)]=t[e.dataMapSettings[c].field]}a=0,s=[],l=[]}return this.collectionContains(o,n,e.id,e.parentId)?this.dataTable[t[e.id]]:o},e.prototype.splitString=function(e){var t=[];t=e.split(".");for(var n=0;n<t.length;n++)t[n]=t[n].charAt(0).toLowerCase()+t[n].slice(1);return t},e.prototype.renderChildNodes=function(e,t,n,r,i){for(var o,a,s,l=0;l<t.items.length;l++){o=t.items[l],s=this.applyNodeTemplate(e,o,i);var c=!1;this.collectionContains(s,i,e.id,e.parentId)?c=!0:(this.dataTable[o[e.id]]=s,i.nodes.push(s)),this.containsConnector(i,n,s.id)||i.connectors.push(this.applyConnectorTemplate(n,s.id,i)),c||void 0!==(a=r[s.data[e.id]])&&this.renderChildNodes(e,a,s.id,r,i)}},e.prototype.containsConnector=function(e,t,n){if(""!==t&&""!==n)for(var r=0;r<e.connectors.length;r++){var i=e.connectors[r];if(void 0!==i&&i.sourceID===t&&i.targetID===n)return!0}return!1},e.prototype.collectionContains=function(e,t,n,r){var i=this.dataTable[e.data[n]];return void 0!==i&&i.data[n]===e.data[n]&&i.data[r]===e.data[r]},e.prototype.applyConnectorTemplate=function(e,t,n){var r={id:Uu(),sourceID:e,targetID:t},i=new Al(n,"connectors",r,!0);return Ah(i,r,n.connectorDefaults),i}}(),{li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"});function $f(e,t){var n={};if(p(e)||"string"===typeof e||"number"===typeof e||!p(e.isHeader))return e;for(var r=0,i=Object.keys(t);r<i.length;r++){var o=t[i[r]],a=p(o)||"string"!==typeof o?void 0:l(o,e);p(a)||(n[o]=a)}return n}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},n={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function r(e,t,n,r,o){return x(e,i(e,t,n,r,o),null,r)}function i(e,t,r,i,o){var a=[],s=u({},n,i);Zf=v(s.moduleName);for(var l=A(),c=0;c<t.length;c++)if(!p(t[c])){var h=void 0;if(s.itemCreating&&"function"===typeof s.itemCreating){var d={dataSource:t,curData:t[c],text:t[c],options:s};s.itemCreating(d)}if(h=r?y(e,t[c],void 0,null,null,[],null,l,c,i):w(e,t[c],void 0,null,null,i,o),s.itemCreated&&"function"===typeof s.itemCreated){d={dataSource:t,curData:t[c],text:t[c],item:h,options:s};s.itemCreated(d)}a.push(h)}return a}function o(r,i,o,a,s,l){var c=u({},n,o);Zf=v(c.moduleName);var g,b=u({},e.defaultMappedFields,c.fields),x=u({},t,c.ariaAttributes),C=[];a&&(x.level=a);var S,B,P=[];i&&i.length&&!p(h(i).item)&&!h(i).item.hasOwnProperty(b.id)&&(g=A());for(var E=0;E<i.length;E++){var O=$f(i[E],b);if(!p(i[E])){if(c.itemCreating&&"function"===typeof c.itemCreating){var T={dataSource:i,curData:i[E],text:O[b.text],options:c,fields:b};c.itemCreating(T)}var I=i[E];c.itemCreating&&"function"===typeof c.itemCreating&&(O=$f(i[E],b)),O.hasOwnProperty(b.id)&&!p(O[b.id])&&(g=O[b.id]);var L=[];if(c.showCheckBox&&(c.itemNavigable&&(O[b.url]||O[b.urlAttributes])?C.push(r("input",{className:Zf.check,attrs:{type:"checkbox"}})):L.push(r("input",{className:Zf.check,attrs:{type:"checkbox"}}))),!0===s)c.showIcon&&O.hasOwnProperty(b.iconCss)&&!p(O[b.iconCss])&&L.push(r("span",{className:Zf.icon+" "+O[b.iconCss]})),B=(S=y(r,I,O,b,c.itemClass,L,!(!I.hasOwnProperty("isHeader")||!I.isHeader),g,E,o)).querySelector("."+Zf.anchorWrap),c.itemNavigable&&C.length&&ct(C,S.firstElementChild);else{if((S=w(r,I,O,b,c.itemClass,o,l)).classList.add(Zf.level+"-"+x.level),S.setAttribute("aria-level",x.level.toString()),B=S.querySelector("."+Zf.anchorWrap),O.hasOwnProperty(b.tooltip)&&S.setAttribute("title",O[b.tooltip]),O.hasOwnProperty(b.htmlAttributes)&&O[b.htmlAttributes]&&f(S,O[b.htmlAttributes]),O.hasOwnProperty(b.enabled)&&!1===O[b.enabled]&&S.classList.add(Zf.disabled),O.hasOwnProperty(b.isVisible)&&!1===O[b.isVisible]&&(S.style.display="none"),O.hasOwnProperty(b.imageUrl)&&!p(O[b.imageUrl])&&!c.template){var k={src:O[b.imageUrl]};d(k,O[b.imageAttributes]);var N=r("img",{className:Zf.image,attrs:k});B?B.insertAdjacentElement("afterbegin",N):ct([N],S.firstElementChild)}if(c.showIcon&&O.hasOwnProperty(b.iconCss)&&!p(O[b.iconCss])&&!c.template){var M=r("div",{className:Zf.icon+" "+O[b.iconCss]});B?B.insertAdjacentElement("afterbegin",M):ct([M],S.firstElementChild)}L.length&&ct(L,S.firstElementChild),c.itemNavigable&&C.length&&ct(C,S.firstElementChild),m(r,O,b,i,c,S,x.level)}if(B&&ot([S],[Zf.navigable]),c.itemCreated&&"function"===typeof c.itemCreated){T={dataSource:i,curData:i[E],text:O[b.text],item:S,options:c,fields:b};c.itemCreated(T)}C=[],P.push(S)}}return P}function a(e,t,r,i,a,s){var l=u({},n,r);return x(e,o(e,t,r,i,a,s),l.listClass,r)}function s(e,t){if(t&&e){return Array.prototype.slice.call(t).indexOf(e)}}function l(e,t,n){if(void 0===n&&(n=new jf),"Ascending"===e)n.sortBy(t,"ascending",!0);else if("Descending"===e)n.sortBy(t,"descending",!0);else for(var r=0;r<n.queries.length;r++)"onSortBy"===n.queries[r].fn&&n.queries.splice(r,1);return n}function c(e,t){return new qf(e).executeLocal(t)}function h(e){for(var t={typeof:null,item:null},n=0;n<e.length;n++)if(!p(e[n]))return{typeof:typeof e[n],item:e[n]};return t}function f(e,t){var n={};d(n,t),n.class&&(ot([e],n.class.split(" ")),delete n.class),ft(e,n)}function g(e){for(var t={},n=e.attributes,r=0;r<n.length;r++)t[n[r].nodeName]=n[r].nodeValue;return t}function A(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(e,t,n,r,i,o,s){var l=t[n.child]||[],c=t[n.hasChildren];if(l.length&&(c=!0,o.classList.add(Zf.hasChild),i.processSubChild)){var h=a(e,l,i,++s);o.appendChild(h)}i.expandCollapse&&c&&!i.template&&(o.firstElementChild.classList.add(Zf.iconWrapper),("Left"===i.expandIconPosition?ct:ht)([e("div",{className:"e-icons "+i.expandIconClass})],o.querySelector("."+Zf.textContent)))}function y(e,r,i,o,a,s,l,c,h,d){var g,A,m=u({},n,d),y=u({},t,m.ariaAttributes),v=r,w=r;"string"!==typeof r&&"number"!==typeof r&&"boolean"!==typeof r&&(g=r,v="boolean"===typeof i[o.text]||"number"===typeof i[o.text]?i[o.text]:i[o.text]||"",w=i[o.value]),A=p(g)||p(i[o.id])||""===i[o.id]?c+"-"+h:c;var x=e("li",{className:(!0===l?Zf.group:Zf.li)+" "+(p(a)?"":a),id:A,attrs:""!==y.groupItemRole&&""!==y.itemRole?{role:!0===l?y.groupItemRole:y.itemRole}:{}});return g&&i.hasOwnProperty(o.enabled)&&"false"===i[o.enabled].toString()&&x.classList.add(Zf.disabled),l?x.innerText=v:(x.setAttribute("data-value",p(w)?"null":w),x.setAttribute("role","option"),g&&i.hasOwnProperty(o.htmlAttributes)&&i[o.htmlAttributes]&&f(x,i[o.htmlAttributes]),s.length&&!m.itemNavigable&&ht(s,x),g&&(i[o.url]||i[o.urlAttributes]&&i[o.urlAttributes].href)?x.appendChild(b(e,g,o,v,s,m.itemNavigable)):(s.length&&m.itemNavigable&&ht(s,x),x.appendChild(document.createTextNode(v)))),x}function v(e){return{li:"e-"+e+"-item",ul:"e-"+e+"-parent e-ul",group:"e-"+e+"-group-item",icon:"e-"+e+"-icon",text:"e-"+e+"-text",check:"e-"+e+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+e+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+e+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function b(e,t,n,r,i,o){var a,s=$f(t,n),l={href:s[n.url]};if(s.hasOwnProperty(n.urlAttributes)&&s[n.urlAttributes]&&(d(l,s[n.urlAttributes]),l.href=s[n.url]?s[n.url]:s[n.urlAttributes].href),o){a=e("a",{className:Zf.text+" "+Zf.url});var c=e("div",{className:Zf.anchorWrap});i&&i.length&&ht(i,c),c.appendChild(document.createTextNode(r)),ht([c],a)}else a=e("a",{className:Zf.text+" "+Zf.url,innerHTML:r});return f(a,l),a}function w(e,r,i,o,a,s,l){var c,h,d,f=u({},n,s),g=u({},t,f.ariaAttributes),m=r;"string"!==typeof r&&"number"!==typeof r&&(d=r,m=i[o.text]||"",c=p(i._id)?i[o.id]:i._id,h=!(!r.hasOwnProperty("isHeader")||!r.isHeader)),s&&s.enableHtmlSanitizer&&(m=m);var y=e("li",{className:(!0===h?Zf.group:Zf.li)+" "+(p(a)?"":a),attrs:""!==g.groupItemRole&&""!==g.itemRole?{role:!0===h?g.groupItemRole:g.itemRole}:{}});!0===!p(c)?y.setAttribute("data-uid",c):y.setAttribute("data-uid",A());var v="BlazId";if(s&&s.removeBlazorID&&"object"===typeof r&&r.hasOwnProperty(v)&&delete r.BlazId,h&&s&&s.groupTemplate)ht(je(s.groupTemplate)(r,l,"groupTemplate",f.groupTemplateID,!!f.isStringTemplate),y);else if(!h&&s&&s.template){ht(je(s.template)(r,l,"template",f.templateID,!!f.isStringTemplate),y)}else{var w=e("div",{className:Zf.textContent,attrs:""!==g.wrapperRole?{role:g.wrapperRole}:{}});if(d&&(i[o.url]||i[o.urlAttributes]&&i[o.urlAttributes].href))w.appendChild(b(e,d,o,m,null,f.itemNavigable));else{var x=e("span",{className:Zf.text,attrs:""!==g.itemText?{role:g.itemText}:{}});s&&s.enableHtmlSanitizer?x.innerText=m:x.innerHTML=m,w.appendChild(x)}y.appendChild(w)}return y}function x(e,r,i,o){var a=u({},n,o),s=u({},t,a.ariaAttributes),l=e("ul",{className:(Zf=v(a.moduleName)).ul+" "+(p(i)?"":i),attrs:""!==s.listRole?{role:s.listRole}:{}});return ht(r,l),l}e.createList=function(e,i,o,s,l){var c=u({},n,o),d=u({},t,c.ariaAttributes),p=h(i).typeof;return"string"===p||"number"===p?r(e,i,s,o,l):a(e,i,o,d.level,s,l)},e.createListFromArray=r,e.createListItemFromArray=i,e.createListItemFromJson=o,e.createListFromJson=a,e.getSiblingLI=function(e,t,r){if(Zf=v(n.moduleName),e&&e.length){var i,o,a=Array.prototype.slice.call(e);for(i=a[(o=t?s(t,a):!0===r?a.length:-1)+(!0===r?-1:1)];i&&(!lt(i)||i.classList.contains(Zf.disabled));)i=a[o+=!0===r?-1:1];return i}},e.indexOf=s,e.groupDataSource=function(t,n,r){void 0===r&&(r="None");var i=u({},e.defaultMappedFields,n),o=(new jf).group(i.groupBy),a=c(t,o=l(r,"key",o));t=[];for(var s=0;s<a.length;s++){var h=a[s].items,d={};d[i.text]=a[s].key,d.isHeader=!0;var p=i.text;"id"===p&&(d[p="text"]=a[s].key),d._id="group-list-item-"+(a[s].key?a[s].key.toString().trim():"undefined"),d.items=h,t.push(d);for(var f=0;f<h.length;f++)t.push(h[f])}return t},e.addSorting=l,e.getDataSource=c,e.createJsonFromElement=function t(r,i){var o=u({},n,i),a=u({},e.defaultMappedFields,o.fields),s=r.cloneNode(!0),l=[];s.classList.add("json-parent");var c=s.querySelectorAll(".json-parent>li");s.classList.remove("json-parent");for(var h=0;h<c.length;h++){for(var d=c[h],p=d.querySelector("a"),f=d.querySelector("ul"),m={},y=p?p.childNodes:d.childNodes,v=Object.keys(y),b=0;b<y.length;b++)y[Number(v[b])].hasChildNodes()||(m[a.text]=y[Number(v[b])].textContent);var w=g(d);w.id?(m[a.id]=w.id,delete w.id):m[a.id]=A(),Object.keys(w).length&&(m[a.htmlAttributes]=w),p&&(w=g(p),Object.keys(w).length&&(m[a.urlAttributes]=w)),f&&(m[a.child]=t(f,i)),l.push(m)}return l},e.renderContentTemplate=function(t,r,i,o,a,s){for(var l,c=t("ul",{className:(Zf=v(n.moduleName)).ul,attrs:{role:"presentation"}}),h=u({},n,a),d=u({},e.defaultMappedFields,o),f=je(r),g=[],m=A(),y=0;y<i.length;y++){var b=$f(i[y],d),w=i[y],x=w.isHeader;if(l="string"===typeof i[y]||"number"===typeof i[y]?w:b[d.value],h.itemCreating&&"function"===typeof h.itemCreating){var C={dataSource:i,curData:w,text:l,options:h,fields:d};h.itemCreating(C)}h.itemCreating&&"function"===typeof h.itemCreating&&(b=$f(i[y],d),l="string"===typeof i[y]||"number"===typeof i[y]?w:b[d.value]);var S=t("li",{id:m+"-"+y,className:x?Zf.group:Zf.li,attrs:{role:"presentation"}});if(x)"string"===typeof i[y]||"number"===typeof i[y]?S.innerText=w:S.innerText=b[d.text];else{var B=x?h.groupTemplateID:h.templateID;ht(f(w,s,x?"headerTemplate":"template",B,!!h.isStringTemplate),S),S.setAttribute("data-value",p(l)?"null":l),S.setAttribute("role","option")}if(h.itemCreated&&"function"===typeof h.itemCreated){C={dataSource:i,curData:w,text:l,item:S,options:h,fields:d};h.itemCreated(C)}g.push(S)}return ht(g,c),c},e.renderGroupTemplate=function(t,r,i,o,a,s){for(var l=je(t),c=u({},e.defaultMappedFields,i),h=u({},n,a),d=c.groupBy,p=0,f=o;p<f.length;p++){var g=f[p],A={};A[d]=g.textContent,g.innerHTML="",ht(l(A,s,"groupTemplate",h.groupTemplateID,!!h.isStringTemplate),g)}return o},e.generateId=A,e.generateUL=x,e.generateIcon=function(e,t,r,i){var o=u({},n,i);return Zf=v(o.moduleName),("Left"===o.expandIconPosition?ct:ht)([e("div",{className:"e-icons "+o.expandIconClass+" "+(p(r)?"":r)})],t.querySelector("."+Zf.textContent)),t}}(Fp||(Fp={}));var eg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ng="e-rtl",rg="e-overlay",ig="e-nav-right-arrow",og="e-nav-left-arrow",ag="e-scroll-nav",sg="e-scroll-device",lg="e-scroll-overlay",cg="e-scroll-right-overlay",hg="e-scroll-left-overlay",dg=function(e){function t(t,n){return e.call(this,t,n)||this}return eg(t,e),t.prototype.preRender=function(){this.browser=le.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=le.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=g("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(ng)},t.prototype.render=function(){this.touchModule=new In(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),ce.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(sg),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){p(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,r=0,i=[].slice.call(n.children);r<i.length;r++){var o=i[r];e.appendChild(o)}t.appendChild(e),n.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(sg);var n=At(".e-"+t.id+"_nav."+ag,t),r=At("."+lg,t);[].slice.call(r).forEach((function(e){ut(e)}));for(var i=0,o=[].slice.call(this.scrollItems.children);i<o.length;i++){var a=o[i];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),ut(this.scrollEle),n.length>0&&(ut(n[0]),p(n[1])||ut(n[1])),ce.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=At(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add(rg):this.element.classList.remove(rg),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),n=this.createElement("div",{className:lg+" "+cg}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i=this.createElement("div",{id:t.concat("_right"),className:r}),o=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});i.appendChild(o);var a=this.createElement("div",{className:lg+" "+hg});this.ieCheck&&i.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(i),e.insertBefore(a,e.firstChild),this.eventBinding([i])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),r=this.createElement("div",{id:t.concat("_right"),className:n});r.setAttribute("aria-disabled","false");var i=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),a=this.createElement("div",{id:t.concat("_left"),className:o+" "+rg});a.setAttribute("aria-disabled","true");var s=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});a.appendChild(s),r.appendChild(i),e.appendChild(r),e.insertBefore(a,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([r,a])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new In(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),ce.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,ag)?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){var r=this.element,i=t.classList;i.contains(ag)&&(i=t.querySelector(".e-nav-arrow").classList),this.contains(r,ng)&&this.browserCheck&&(e=-e),!this.contains(r,ng)||this.browserCheck||this.ieCheck?i.contains(ig)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):i.contains(og)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var r=.5;!function i(){var o=Math.sin(r);o<=0?window.cancelAnimationFrame(o):("Left"===e.swipeDirection?n.scrollLeft+=t*o:"Right"===e.swipeDirection&&(n.scrollLeft-=t*o),r-=.5,window.requestAnimationFrame(i))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e},t.prototype.frameScrollRequest=function(e,t,n){var r=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(At("."+lg,this.element)).forEach((function(t){e-=t.offsetWidth}));!function n(){var i,o;r.contains(r.element,ng)&&r.browserCheck?(i=-e,o=-10):(i=e,o=10),i<10?window.cancelAnimationFrame(o):(r.scrollUpdating(o,t),e-=o,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,n=e.distanceX;this.ieCheck&&this.contains(this.element,ng)&&(n=-n),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+n:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-n)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(p(e)?t:e).querySelector(".e-nav-arrow");p(e)?bt(n,[ig],[og]):bt(n,[og],[ig])}else e.classList.add(rg),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(rg),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,n=t.offsetWidth,r=this.element,i=this.element.querySelector(".e-scroll-left-nav"),o=this.element.querySelector(".e-scroll-right-nav"),a=this.element.querySelector("."+hg),s=this.element.querySelector("."+cg),l=t.scrollLeft;if(l<=0&&(l=-l),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(a=this.element.querySelector("."+cg),s=this.element.querySelector("."+hg)),a.style.width=l<40?l+"px":"40px",t.scrollWidth-Math.ceil(n+l)<40?s.style.width=t.scrollWidth-Math.ceil(n+l)+"px":s.style.width="40px"),0===l)!this.contains(r,ng)||this.browserCheck||this.ieCheck?this.arrowDisabling(i,o):this.arrowDisabling(o,i);else if(Math.ceil(n+l+.1)>=t.scrollWidth)!this.contains(r,ng)||this.browserCheck||this.ieCheck?this.arrowDisabling(o,i):this.arrowDisabling(i,o);else{var c=this.element.querySelector(".e-scroll-nav.e-overlay");c&&(c.classList.remove(rg),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(ng):this.element.classList.remove(ng)}}},tg([_t(null)],t.prototype,"scrollStep",void 0),t=tg([Wt],t)}(dn),ug=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fg="e-rtl",gg="e-overlay",Ag="e-nav-up-arrow",mg="e-nav-down-arrow",yg="e-scroll-nav",vg="e-scroll-device",bg="e-scroll-up-overlay",wg="e-scroll-down-overlay",xg=function(e){function t(t,n){return e.call(this,t,n)||this}return ug(t,e),t.prototype.preRender=function(){this.browser=le.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=le.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=g("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(fg)},t.prototype.render=function(){this.touchModule=new In(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),ce.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(vg),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),ce.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){p(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=it("div",{className:"e-vscroll-content"}),t=it("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,r=0,i=[].slice.call(n.children);r<i.length;r++){var o=i[r];e.appendChild(o)}t.appendChild(e),n.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",at([this.element],["e-vscroll",vg]);var n=At(".e-"+t.id+"_nav."+yg,t),r=At(".e-scroll-overlay",t);[].slice.call(r).forEach((function(e){ut(e)}));for(var i=0,o=[].slice.call(this.scrollItems.children);i<o.length;i++){var a=o[i];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),ut(this.scrollEle),n.length>0&&(ut(n[0]),p(n[1])||ut(n[1])),ce.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=At(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add(gg):this.element.classList.remove(gg),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),n=it("div",{className:"e-scroll-overlay "+wg}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=it("div",{id:t.concat("down"),className:r}),o=it("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});i.appendChild(o);var a=it("div",{className:"e-scroll-overlay "+bg});this.ieCheck&&i.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(i),e.insertBefore(a,e.firstChild),this.eventBinding([i])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),r=it("div",{id:t.concat("_down"),className:n});r.setAttribute("aria-disabled","false");var i=it("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),a=it("div",{id:t.concat("_up"),className:o+" "+gg});a.setAttribute("aria-disabled","true");var s=it("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});a.appendChild(s),r.appendChild(i),r.setAttribute("tabindex","0"),e.appendChild(r),e.insertBefore(a,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([r,a])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new In(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),ce.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,yg)?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){var r=t.classList;r.contains(yg)&&(r=t.querySelector(".e-nav-arrow").classList),r.contains(mg)?this.frameScrollRequest(e,"add",n):r.contains(Ag)&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var r=.5;!function i(){var o=Math.sin(r);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?n.scrollTop+=t*o:"Down"===e.swipeDirection&&(n.scrollTop-=t*o),r-=.02,window.requestAnimationFrame(i))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,n){var r=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(At(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetHeight}));!function n(){e<10?window.cancelAnimationFrame(10):(r.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,n=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+n:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-n)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(p(e)?t:e).querySelector(".e-nav-arrow");p(e)?bt(n,[mg],[Ag]):bt(n,[Ag],[mg])}else e.classList.add(gg),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(gg),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,n=t.offsetHeight,r=this.element.querySelector(".e-scroll-up-nav"),i=this.element.querySelector(".e-scroll-down-nav"),o=this.element.querySelector("."+bg),a=this.element.querySelector("."+wg),s=t.scrollTop;if(s<=0&&(s=-s),this.isDevice&&(o.style.height=s<40?s+"px":"40px",t.scrollHeight-Math.ceil(n+s)<40?a.style.height=t.scrollHeight-Math.ceil(n+s)+"px":a.style.height="40px"),0===s)this.arrowDisabling(r,i);else if(Math.ceil(n+s+.1)>=t.scrollHeight)this.arrowDisabling(i,r);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove(gg),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(fg):this.element.classList.remove(fg)}}},pg([_t(null)],t.prototype,"scrollStep",void 0),t=pg([Wt],t)}(dn);function Cg(e,t,n,r,i,o){var a,s,l=t.parentElement;if("vscroll"===r?(a=o||t.getBoundingClientRect().height,s=n.getBoundingClientRect().height):(a=t.getBoundingClientRect().width,s=n.getBoundingClientRect().width),a<s)return Sg(e,t,n,r,i,o);if(l){var c=l.getBoundingClientRect().width;return c<a?(s=c,t.style.maxWidth=c+"px",Sg(e,t,n,r,i,o)):n}return n}function Sg(e,t,n,r,i,o){var a=e("div",{className:"e-menu-"+r});return t.appendChild(a),a.appendChild(n),o?(a.style.overflow="hidden",a.style.height=o+"px"):(a.style.maxHeight=t.style.maxHeight,t.style.overflow="hidden"),"vscroll"===r?new xg({enableRtl:i},a).scrollStep=gt(".e-"+r+"-bar",t).offsetHeight/2:new dg({enableRtl:i},a).scrollStep=gt(".e-"+r+"-bar",t).offsetWidth,a}function Bg(e,t,n){if(e){var r=gt(".e-menu-parent",t);r?n&&n!==r||(e.destroy(),t.parentElement.appendChild(r),ut(t)):(e.destroy(),ut(t))}}var Pg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Og="enter",Tg="escape",Ig="e-focused",Lg="e-menu-header",kg="e-selected",Ng="e-separator",Mg="uparrow",Dg="downarrow",Rg="leftarrow",jg="rightarrow",_g="home",Fg="end",Hg="e-caret",Ug="e-menu-item",zg="e-disabled",Qg="e-menu-hide",Wg="e-icons",Vg="e-rtl",Xg="e-menu-popup",Yg="Template",Kg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pg(t,e),Eg([_t("id")],t.prototype,"itemId",void 0),Eg([_t("parentId")],t.prototype,"parentId",void 0),Eg([_t("text")],t.prototype,"text",void 0),Eg([_t("iconCss")],t.prototype,"iconCss",void 0),Eg([_t("url")],t.prototype,"url",void 0),Eg([_t("separator")],t.prototype,"separator",void 0),Eg([_t("items")],t.prototype,"children",void 0),t}(on),Gg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pg(t,e),Eg([_t(null)],t.prototype,"iconCss",void 0),Eg([_t("")],t.prototype,"id",void 0),Eg([_t(!1)],t.prototype,"separator",void 0),Eg([Ut([],t)],t.prototype,"items",void 0),Eg([_t("")],t.prototype,"text",void 0),Eg([_t("")],t.prototype,"url",void 0),t}(on),qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pg(t,e),Eg([_t("SlideDown")],t.prototype,"effect",void 0),Eg([_t(400)],t.prototype,"duration",void 0),Eg([_t("ease")],t.prototype,"easing",void 0),t}(on),Jg=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.navIdx=[],r.animation=new Gt({}),r.isTapHold=!1,r.tempItem=[],r.showSubMenuOn="Auto",r}return Pg(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:g(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=l("ej2_instances",this.element);at([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,c("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:g(this.getModuleName())}),ht([].slice.call(this.element.cloneNode(!0).children),e);var n=this.element.nextElementSibling;n?this.element.parentElement.insertBefore(e,n):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var r=this.element,i=l("ej2_instances",r),o=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),a=0,s=r.attributes.length;a<s;a++)e.setAttribute(r.attributes[a].nodeName,r.attributes[a].nodeValue);r.parentNode.insertBefore(o,r),ut(r),r=e,o.appendChild(r),c("ej2_instances",i,r),this.clonedElement=o,this.element=r,this.element.id||(this.element.id=g(this.getModuleName()))}},t.prototype.render=function(){if(this.initialize(),this.renderItems(),this.isMenu&&this.template&&v()){var e=this.element.id+Yg;Fe(e),Object.keys(De).length&&u(this.tempItem,De[e],[],!0),_e(e,Yg,this)}this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&ot([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add(Vg),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick},t.prototype.renderItems=function(){if(!this.items.length){var e=Fp.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),v()?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if(ht(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){var n=this.getWrapper();this.element.classList.contains("e-vertical")?Cg(this.createElement,n,this.element,"vscroll",this.enableRtl):Cg(this.createElement,n,this.element,"hscroll",this.enableRtl)}},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,n=At(this.target),r=0,i=n.length;r<i;r++)t=n[r],this.isMenu?ce.add(t,"click",this.menuHeaderClickHandler,this):le.isIos?new In(t,{tapHold:this.touchHandler.bind(this)}):ce.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){ce.add(this.targetElement,"scroll",this.scrollHandler,this);for(var o=0,a=ma(this.targetElement);o<a.length;o++){var s=a[o];ce.add(s,"scroll",this.scrollHandler,this)}}}le.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),ce.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),ce.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),ce.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=qt(e,{selector:"."+Ug})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:Dg,uparrow:Mg,enter:Og,leftarrow:Rg,rightarrow:jg,escape:Tg};this.isMenu&&(t.home=_g,t.end=Fg),new Sn(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){yt(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||yt(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyBoardHandler=function(e){var t="",n=e.target,r=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([Ig,kg],[yt(n,".e-"+this.getModuleName()+"-wrapper")]),r)switch(e.action){case jg:t=jg,e.action=Dg;break;case Rg:t=Rg,e.action=Mg;break;case Dg:t=Dg,e.action=jg;break;case Mg:t=Mg,e.action=""}else if(this.enableRtl)switch(e.action){case Rg:r=!0,t=Rg,e.action=jg;break;case jg:r=!0,t=jg,e.action=Rg}switch(e.action){case Dg:case Mg:case Fg:case _g:this.upDownKeyHandler(e);break;case jg:this.rightEnterKeyHandler(e);break;case Rg:this.leftEscKeyHandler(e);break;case Og:this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case Tg:this.leftEscKeyHandler(e)}r&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),n=e.action===Dg||e.action===_g?0:t.childElementCount-1,r=n,i=this.getLIByClass(t,Ig);i&&(e.action!==Fg&&e.action!==_g&&(r=this.getIdx(t,i)),i.classList.remove(Ig),e.action!==Fg&&e.action!==_g&&(e.action===Dg?r++:r--,r===(e.action===Dg?t.childElementCount:-1)&&(r=n)));var o=t.children[r];r=this.isValidLI(o,r,e.action),t.children[r].classList.add(Ig),t.children[r].focus()},t.prototype.isValidLI=function(e,t,n){var r=this.getUlByNavIdx();return(e.classList.contains(Ng)||e.classList.contains(zg)||e.classList.contains(Qg))&&(n===Dg||n===jg?t++:t--),((e=r.children[t]).classList.contains(Ng)||e.classList.contains(zg)||e.classList.contains(Qg))&&(t=this.isValidLI(e,t,n)),t},t.prototype.getUlByNavIdx=function(e){if(void 0===e&&(e=this.navIdx.length),this.isMenu){var t=[this.getWrapper()].concat([].slice.call(At("."+Xg)))[e];return p(t)?null:gt(".e-menu-parent",t)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,n=this.getUlByNavIdx(),r=this.getLIByClass(n,Ig);if(r){var i=this.getIdx(n,r),o=this.navIdx.concat(i),a=this.getItem(o);a.items.length?(this.navIdx.push(i),this.keyType="right",this.action=e.action,this.openMenu(r,a,-1,-1,e)):e.action===Og&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([kg],[this.getWrapper()]):r.classList.remove(Ig),r.classList.add(kg),t={element:r,item:a,event:e},this.trigger("select",t),this.closeMenu(null,e))}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===Tg&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t,n){var r=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var i,o,a=void 0,s=this.getWrapper(),l=void 0,c=this.getPopups(),h=!1,d=this.isMenu?c.length+1:s.childElementCount,u=this.isMenu&&1!==d?gt(".e-ul",c[d-2]):At(".e-menu-parent",s)[d-1];if(this.isMenu&&u.classList.contains("e-menu")&&((a=this.getLIByClass(u,kg))&&a.classList.remove(kg),h=!0),!h){var f=t&&t.target&&this.getLI(t.target);i=this.navIdx.length?this.getItem(this.navIdx):null,o=i?i.items:this.items,l={element:u,parentItem:this.isMenu&&v()?this.getMenuItemModel(i,e):i,items:o,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",l,(function(a){var s,l,c,h,d,g,A="",m=!a.cancel;(m||r.isCMenu)&&(r.isMenu?(s=yt(u,"."+Xg),r.hamburgerMode&&(s.parentElement.style.minHeight="",yt(u,".e-menu-item").setAttribute("aria-expanded","false")),r.unWireKeyboardEvent(s),Bg(b(s.children[0],xg),s.children[0]),(c=b(s,Aa)).hide(),A=s.id,c.destroy(),ut(s)):r.toggleAnimation(u,!1),l={element:u,parentItem:i,items:o},r.trigger("onClose",l),r.navIdx.pop()),r.updateReactTemplate();var y=r.getWrapper()&&r.getUlByNavIdx();r.isCMenu&&(r.canOpen(t.target)&&r.openMenu(null,null,r.pageY,r.pageX,t),r.isCMenu=!1),r.isMenu&&y&&A.length&&(h=new RegExp("(.*)-ej2menu-"+r.element.id+"-popup").exec(A)[1],d=y.querySelector('[id="'+h+'"]'),g=f&&y.querySelector('[id="'+f.id+'"]'));var v=f&&f.querySelectorAll(".e-menu-item");if(m&&r.hamburgerMode&&e&&!v.length)r.afterCloseMenu(t);else if(m&&!r.hamburgerMode&&r.navIdx.length&&d&&!g){var w=t&&t.target.classList.contains("e-vscroll")?yt(t.target,".e-menu-wrapper"):null;w?(w=w.querySelector(".e-menu-item"),(r.showItemOnClick||w&&r.getIndex(w.id,!0).length<=r.navIdx.length)&&r.closeMenu(r.navIdx[r.navIdx.length-1],t,!0)):r.closeMenu(r.navIdx[r.navIdx.length-1],t)}else if(m&&!n&&!e&&(r.hamburgerMode&&r.navIdx.length||1===r.navIdx.length))r.closeMenu(null,t);else if(m&&p(e)&&r.navIdx.length)r.closeMenu(null,t);else if(!m||r.isMenu||e||0!==r.navIdx.length||r.isMenusClosed)if(m&&r.isMenu&&t&&t.target&&0!==r.navIdx.length&&yt(t.target,".e-menu-parent.e-control"))r.closeMenu(0,t);else{if(!m||"right"!==r.keyType&&"click"!==r.keyType){var x=r.getUlByNavIdx(),C=r.getLIByClass(x,kg);if(C&&(C.setAttribute("aria-expanded","false"),C.classList.remove(kg),a.isFocused&&f&&(C.classList.add(Ig),C.focus())),!m&&r.hamburgerMode&&f&&"false"===f.getAttribute("aria-expanded")&&"true"===f.getAttribute("aria-haspopup")){yt(f,".e-menu-parent.e-control")?r.navIdx=[]:r.navIdx.pop(),r.navIdx.push(r.cliIdx);var S=r.getItem(r.navIdx);f.setAttribute("aria-expanded","true"),r.openMenu(f,S,-1,-1,t)}}else r.afterCloseMenu(t);r.navIdx.length<1&&("Hover"!==r.showSubMenuOn&&"Click"!==r.showSubMenuOn||(r.showItemOnClick=r.defaultOption,r.showSubMenuOn="Auto"))}else r.isMenusClosed=!0,r.closeMenu(0,t);r.removeStateWrapper()}))}}},t.prototype.updateReactTemplate=function(){if(this.isReact&&this.template&&0===this.navIdx.length){var e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}},t.prototype.getMenuItemModel=function(e,t){if(p(e))return null;p(t)&&(t=0);var n=this.getFields(t);return{text:e[n.text],id:e[n.id],items:e[n.child],separator:e[n.separator],iconCss:e[n.iconCss],url:e[n.url]}},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+Xg)).forEach((function(n){!p(n.querySelector("."+Ug))&&e.getIndex(n.querySelector("."+Ug).id,!0).length&&t.push(n)})),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&lt(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var n=this.filter.split(" "),r=0,i=n.length;r<i;r++)if(yt(e,"."+n[r])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,n,r,i,o){var a=this;void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=this.targetElement);var s=this.getWrapper();this.lItem=e;var l=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,p(n)&&(n=-1),p(r)&&(r=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&le.isDevice){s.lastChild.style.display="none";var c={text:t[this.getField("text")].toString(),iconCss:Wg+" e-previous"},h=new Gg(this.items[0],"items",c,!0),d=this.createItems([h]).children[0];d.classList.add(Lg),this.uList.insertBefore(d,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+Xg,id:e.id+"-ej2menu-"+l+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&ot([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,i,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){a.triggerBeforeOpen(e,a.uList,t,i,0,0,"menu")}),this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,s.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){a.triggerBeforeOpen(e,a.uList,t,i,n,r,"none")}),this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,i,n,r,"none"))}else this.uList=this.element,this.uList.style.zIndex=ya(o||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,i,n,r,"none");if(this.isMenu&&this.template&&v()){var u=this.element.id+Yg;if(Object.keys(De).length){var f=De[u];this.tempItem=this.tempItem.concat(f),De[u]=this.tempItem}_e(u,Yg,this)}},t.prototype.calculateIndentSize=function(e,t){var n=getComputedStyle(t),r=parseInt(n.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?r*=2:r+=r/4,e.style.textIndent=r+"px";var i=e.querySelectorAll(".e-blankicon");if(i&&i.length)for(var o=e.querySelector(".e-menu-icon"),a=getComputedStyle(o),s=parseInt(a.marginRight,10)+o.offsetWidth+r,l=0;l<i.length;l++)i[l].style.textIndent=s+"px"},t.prototype.generatePopup=function(e,t,n,r){var i=this,o=new Aa(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:r||this.enableRtl?"none":"flip",Y:"fit"},position:r&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=gt(".e-menu-vscroll",o.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=gt(".e-ul",o.element);o.element.style.maxHeight="",t.focus(),i.triggerOpen(t)}});return o},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),n=this.enableHtmlSanitizer?Mn.sanitize(this.title):this.title,r=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:n}),i=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(r),t.appendChild(i),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var t=this;if(this.hamburgerMode){var n={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1};this.trigger("beforeClose",n,(function(n){n.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))}))}},t.prototype.callFit=function(e,t,n,r,i){return Qo(e,null,{X:t,Y:n},{top:r,left:i})},t.prototype.triggerBeforeOpen=function(e,t,n,r,i,o,a){var s,l=this,c=e?n[this.getField("children",this.navIdx.length-1)]:this.items,h={element:t,items:c,parentItem:this.isMenu&&v()?this.getMenuItemModel(n,this.navIdx.length-1):n,event:r,cancel:!1,top:i,left:o,showSubMenuOn:"Auto"},d=a;this.trigger("beforeOpen",h,(function(i){switch(d){case"menu":if(l.hamburgerMode||("Auto"!==i.showSubMenuOn&&(l.showItemOnClick=!l.defaultOption,l.showSubMenuOn=i.showSubMenuOn),l.top=i.top,l.left=i.left),l.popupWrapper.style.display="block",l.hamburgerMode||(l.popupWrapper.style.maxHeight=l.popupWrapper.getBoundingClientRect().height+"px",l.enableScrolling&&Cg(l.createElement,l.popupWrapper,l.uList,"vscroll",l.enableRtl),l.checkScrollOffset(r)),l.hamburgerMode||l.left||l.top)l.popupObj.collision={X:"none",Y:"none"};else{if(l.popupObj.refreshPosition(l.lItem,!0),l.left=parseInt(l.popupWrapper.style.left,10),l.top=parseInt(l.popupWrapper.style.top,10),l.enableRtl&&(l.left=l.isNestedOrVertical?l.left-l.popupWrapper.offsetWidth-l.lItem.parentElement.offsetWidth+2:l.left-l.popupWrapper.offsetWidth+l.lItem.offsetWidth),s=Wo(l.popupWrapper,null,l.left,l.top),(l.isNestedOrVertical||l.enableRtl)&&(s.indexOf("right")>-1||s.indexOf("left")>-1)){l.popupObj.collision.X="none";var o=yt(l.lItem,".e-"+l.getModuleName()+"-wrapper").offsetWidth;l.left=l.enableRtl?ko(l.lItem,l.isNestedOrVertical?"right":"left","top").left:l.left-l.popupWrapper.offsetWidth-o+2}((s=Wo(l.popupWrapper,null,l.left,l.top)).indexOf("left")>-1||s.indexOf("right")>-1)&&(l.left=l.callFit(l.popupWrapper,!0,!1,l.top,l.left).left),l.popupWrapper.style.left=l.left+"px"}l.popupWrapper.style.display="";break;case"none":l.top=i.top,l.left=i.left;break;case"hamburger":i.cancel||(l.element.classList.remove("e-hide-menu"),l.triggerOpen(l.element))}if("hamburger"!==d)if(i.cancel)l.isMenu?(l.popupObj.destroy(),ut(l.popupWrapper)):t.className.indexOf("e-ul")>-1&&ut(t),l.navIdx.pop();else if(l.isMenu)if(l.hamburgerMode)l.popupWrapper.style.top=l.top+"px",l.popupWrapper.style.left="0px",l.toggleAnimation(l.popupWrapper);else{l.setBlankIconStyle(l.popupWrapper),l.wireKeyboardEvent(l.popupWrapper),qt(l.popupWrapper,{selector:"."+Ug}),l.popupWrapper.style.left=l.left+"px",l.popupWrapper.style.top=l.top+"px";var a="None"!==l.animationSettings.effect?{name:l.animationSettings.effect,duration:l.animationSettings.duration,timingFunction:l.animationSettings.easing}:null;l.popupObj.show(a,l.lItem)}else l.setBlankIconStyle(l.uList),l.setPosition(l.lItem,l.uList,l.top,l.left),l.toggleAnimation(l.uList);if("right"===l.keyType){var c=l.getUlByNavIdx();if(e.classList.remove(Ig),l.isMenu&&1===l.navIdx.length&&l.removeLIStateByClass([kg],[l.getWrapper()]),e.classList.add(kg),l.action===Og){var h={element:e,item:n,event:r};l.trigger("select",h)}e.focus(),c=l.getUlByNavIdx();var u=l.isValidLI(c.children[0],0,l.action);c.children[u].classList.add(Ig),c.children[u].focus()}}))},t.prototype.setBlankIconStyle=function(e){var t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(t.length){var n=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)"),r=n.querySelector(".e-menu-icon");if(r){var i=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},o=getComputedStyle(r),a=parseInt(o.fontSize,10);parseInt(o.width,10)&&parseInt(o.width,10)>a&&(a=parseInt(o.width,10));var s=a+parseInt(o[i.margin],10)+parseInt(getComputedStyle(n)[i.padding],10)+"px";t.forEach((function(e){e.style[i.padding]=s}))}}},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var n=p(e)?this.element:yt(e.target,"."+Ug),r=gt(".e-hscroll-bar",t);r.scrollLeft>n.offsetLeft&&(r.scrollLeft-=r.scrollLeft-n.offsetLeft);var i=r.scrollLeft+r.offsetWidth,o=n.offsetLeft+n.offsetWidth;i<o&&(r.scrollLeft+=o-i)}},t.prototype.setPosition=function(e,t,n,r){var i="px";if(this.toggleVisiblity(t),t===this.element||r>-1&&n>-1){if((s=Wo(t,null,r,n)).indexOf("right")>-1&&(r-=t.offsetWidth),s.indexOf("bottom")>-1)if((n=(a=this.callFit(t,!1,!0,n,r)).top-20)<0){var o=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;o>-1&&(n=o)}if((s=Wo(t,null,r,n)).indexOf("left")>-1)r=(a=this.callFit(t,!0,!1,n,r)).left}else if(le.isDevice)n=Number(this.element.style.top.replace(i,"")),r=Number(this.element.style.left.replace(i,""));else{var a;n=(a=ko(e,this.enableRtl?"left":"right","top")).top,r=a.left;var s,l=(s=Wo(t,null,this.enableRtl?r-t.offsetWidth:r,n)).indexOf("left")>-1||s.indexOf("right")>-1;l&&(r=(a=ko(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||l)&&(r=this.enableRtl&&l?r:r-t.offsetWidth),s.indexOf("bottom")>-1&&(n=(a=this.callFit(t,!1,!0,n,r)).top)}this.toggleVisiblity(t,!1),t.style.top=n+i,t.style.left=r+i},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,n=this.navIdx?this.navIdx.length:0,r=this.getFields(n);if(v()&&this.template&&e.length&&e[0].properties){var i=[];e.forEach((function(e,t){i.push({}),i[t][r.text]=e[r.text],e[r.id]||(e[r.id]=g("menuitem")),i[t][r.id]=e[r.id],i[t][r.iconCss]=e[r.iconCss],i[t][r.url]=e[r.url],i[t][r.child]=e[r.child],i[t][r.separator]=e[r.separator]})),e=i}var o=this.hasField(e,this.getField("iconCss",n)),a={showIcon:o,moduleName:"menu",fields:r,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[r.id]]||(e.curData[e.fields[r.id]]=g("menuitem")),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},t.isMenu&&!e.curData[t.getField("separator",n)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]),""===e.curData[e.fields[r.iconCss]]&&(e.curData[e.fields[r.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",n)]&&(e.item.classList.add(Ng),e.item.removeAttribute("role")),!o||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",n)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var r=t.createElement("span",{className:Wg+" "+Hg});e.item.appendChild(r),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),t.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"));var i={item:e.curData,element:e.item};t.trigger("beforeItemRender",i)}};this.setProperties({items:this.items},!0),this.isMenu&&(a.templateID=this.element.id+Yg);var s=Fp.createList(this.createElement,e,a,!this.template,this);return s.setAttribute("tabindex","0"),this.isMenu&&s.setAttribute("role","menu"),s},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var n=this.getLI(t),r=n?yt(n,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),i=this.getWrapper(),o=new RegExp("-ej2menu-(.*)-popup"),a=!1;if(r){if((""!==r.id?o.exec(r.id)[1]:r.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([Ig,kg],[this.getWrapper()]),!this.navIdx.length)return;a=!0}n&&yt(n,".e-"+this.getModuleName()+"-wrapper")&&!a?(this.removeLIStateByClass([Ig],this.isMenu?[r].concat(this.getPopups()):[r]),this.removeLIStateByClass([Ig],this.isMenu?[i].concat(this.getPopups()):[i]),n.classList.add(Ig),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!a&&this.removeLIStateByClass([Ig],[r].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===r||yt(t,".e-"+this.getModuleName()+"-popup")||n&&(!n||this.getIndex(n.id,!0).length)||"Hover"===this.showSubMenuOn?a&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([Ig],[r]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=yt(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([Ig,kg],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var n,r=function(r){e.forEach((function(e){(n=gt("."+e,t[r]))&&n.classList.remove(e)}))},i=0;i<t.length;i++)r(i)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var n=this.fields[e];return"string"===typeof n?n:n[t]?n[t].toString():n[n.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n][t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){yt(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),n=e.target,r=this.cli=this.getLI(n),i=new RegExp("-ej2menu-(.*)-popup"),o=r?yt(r,".e-"+this.getModuleName()+"-wrapper"):null,a=r&&o&&(this.isMenu?this.getIndex(r.id,!0).length>0:t.firstElementChild.id===o.firstElementChild.id);if(le.isDevice&&this.isMenu&&(this.removeLIStateByClass([Ig],[t].concat(this.getPopups())),this.mouseDownHandler(e)),r&&o&&this.isMenu){var s=o.id?i.exec(o.id)[1]:o.querySelector(".e-menu-parent").id;if(this.element.id!==s)return}if(a&&"click"===e.type&&!r.classList.contains(Lg)){this.setLISelected(r);var l=this.getIndex(r.id,!0),c={element:r,item:this.getItem(l),event:e};this.trigger("select",c)}if(a&&("mouseover"===e.type||le.isDevice||this.showItemOnClick)){var h=void 0;if(r.classList.contains(Lg))h=t.children[this.navIdx.length-1],this.toggleAnimation(h),(u=this.getLIByClass(h,kg))&&u.classList.remove(kg),ut(r.parentNode),this.navIdx.pop();else if(!r.classList.contains(Ng)){this.showSubMenu=!0;var d=r.parentNode;if(this.cliIdx=this.getIdx(d,r),this.isMenu||!le.isDevice){var u,p=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),yt(d,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,d);if(this.navIdx[p]===this.cliIdx&&(this.showSubMenu=!1),p!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu))(u=this.getLIByClass(d,kg))&&u.classList.remove(kg),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(r),this.closeMenu(p+1,e),this.showItemOnClick&&this.setLISelected(r)}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===n.tagName&&this.navIdx.length&&yt(n,".e-menu-vscroll")){var f=yt(n,"."+Xg),g=Array.prototype.indexOf.call(this.getPopups(),f)+1;g<this.navIdx.length&&(this.closeMenu(g+1,e),f&&this.removeLIStateByClass([Ig,kg],[f]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===n.tagName&&(this.isMenu?!n.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(n.querySelector("."+Ug).id,!0).length:n.parentElement===t)||(r||this.removeLIStateByClass([kg],[t]),r&&r.querySelector("."+Hg)||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){var t;if(this.showSubMenu){t=this.showItemOnClick&&0===this.navIdx.length?yt(e.target,".e-menu-parent.e-control"):yt(this.element,".e-menu-parent.e-control");var n=this.navIdx.concat(this.cliIdx),r=this.getItem(n);if(r&&r[this.getField("children",n.length-1)]&&r[this.getField("children",n.length-1)].length?(("mouseover"===e.type||le.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,r,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){var i=this.getUlByNavIdx(),o=this.getLIByClass(i,kg);o&&(o.setAttribute("aria-expanded","false"),o.classList.remove(kg))}}this.keyType=""},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,kg);t&&t.classList.remove(kg),this.isMenu||e.classList.remove(Ig),e.classList.add(kg)},t.prototype.getLIByClass=function(e,t){for(var n=0,r=e.children.length;n<r;n++)if(e.children[n].classList.contains(t))return e.children[n];return null},t.prototype.getItemIndex=function(e,t){var n;n="string"===typeof e?e:e.id;var r=!1!==t;return this.getIndex(n,r)},t.prototype.setItem=function(e,t,n){var r=t||e.id,i=!1!==n,o=this.getIndex(r,i),a=this.getItem(o);a.iconCss=e.iconCss,a.id=e.id,a.text=e.text,a.url=e.url,a.separator=e.separator,a.items=e.items},t.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,n=0;n<e.length;n++)t=t[e[n]][this.getField("children",n)];return t},t.prototype.setItems=function(e,t){var n=this.getItems(t);n.splice(0,n.length);for(var r=0;r<e.length;r++)n.splice(r,0,e[r])},t.prototype.getIdx=function(e,t,n){void 0===n&&(n=!0);var r=Array.prototype.indexOf.call(e.querySelectorAll("li"),t);return r=this.isMenu&&this.template&&v()?Array.prototype.indexOf.call(e.querySelectorAll(t.tagName),t):Array.prototype.indexOf.call(e.children,t),n&&e.children[0].classList.contains(Lg)&&r--,r},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:yt(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,t=0,n=0;n<this.navIdx.length&&(e=e[n].items);n++){t++;var r=this.getUlByNavIdx(t);if(!r)break;this.updateItem(r,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var n=this,r=this.getWrapper(),i=function(i){switch(i){case"cssClass":t.cssClass&&at([r],t.cssClass.split(" ")),e.cssClass&&ot([r],e.cssClass.split(" "));break;case"enableRtl":r.classList.toggle(Vg);break;case"showItemOnClick":o.unWireEvents(),o.showItemOnClick=e.showItemOnClick,o.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var a;o.element.classList.contains("e-vertical")?Cg(o.createElement,r,o.element,"vscroll",o.enableRtl):Cg(o.createElement,r,o.element,"hscroll",o.enableRtl),o.getPopups().forEach((function(e){a=gt(".e-ul",e),Cg(n.createElement,e,a,"vscroll",n.enableRtl)}))}else{var s=r.children[0];o.element.classList.contains("e-vertical")?Bg(b(s,xg),s):Bg(b(s,dg),s),r.style.overflow="",r.appendChild(o.element),o.getPopups().forEach((function(e){Bg(b(s=e.children[0],xg),s),e.style.overflow=""}))}break;case"items":var l=void 0,c=void 0,h=void 0;if(Object.keys(t.items).length){var d=Object.keys(e.items);for(u=0;u<d.length;u++)(c=o.getChangedItemIndex(e,[],Number(d[u]))).length<=o.getWrapper().children.length&&(l=c.pop(),h=o.getItems(c),o.insertAfter([h[l]],h[l].text),o.removeItem(h,c,l),o.setItems(h,c)),c.length=0}else{o.updateItem(o.element,o.items);for(var u=1,p=r.childElementCount;u<p;u++)ut(r.lastElementChild);o.isMenu&&v()?o.updateItemsByNavIdx():o.navIdx=[]}}},o=this,a=0,s=Object.keys(e);a<s.length;a++){i(s[a])}},t.prototype.updateItem=function(e,t){v()?e=this.removeChildElement(e):e.innerHTML="",[].slice.call(this.createItems(t).children).forEach((function(t){e.appendChild(t)}))},t.prototype.getChangedItemIndex=function(e,t,n){t.push(n);var r=Object.keys(e.items[n]).pop();if("items"===r){var i=e.items[n],o=Object.keys(i.items).pop();o&&this.getChangedItemIndex(i,t,Number(o))}else"isParentArray"===r&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,n){e.splice(n,1);var r=this.getWrapper().children;t.length<r.length&&ut(r[t.length].children[n])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var n=void 0,r=void 0,i=At(e),o=0,a=i.length;o<a;o++)n=i[o],this.isMenu?ce.remove(n,"click",this.menuHeaderClickHandler):le.isIos?(r=b(n,In))&&r.destroy():ce.remove(n,"contextmenu",this.cmenuHandler);if(!this.isMenu){ce.remove(this.targetElement,"scroll",this.scrollHandler);for(var s=0,l=ma(this.targetElement);s<l.length;s++){var c=l[s];ce.remove(c,"scroll",this.scrollHandler)}}}le.isDevice||(ce.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),ce.remove(document,"mousedown",this.delegateMouseDownHandler)),ce.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=b(e,Sn);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var n,r,i=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){i.hamburgerMode?(r=e.element.parentElement,e.element.style.position="absolute",n=r.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",r.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){i.hamburgerMode&&(r.style.minHeight=n+e.element.offsetHeight+"px")},end:function(e){i.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",r.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),i.triggerOpen(e.element.children[0])):i.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,n={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",n)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+Ig))e.querySelector("."+Ig).focus();else{var n=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];n?n.querySelector("."+kg).focus():this.element.focus()}else if(e===this.element){var r=this.getLIByClass(this.element,Ig);r&&r.classList.remove(Ig);var i=this.getLIByClass(this.element,kg);i&&i.classList.remove(kg),e.style.display="none"}else ut(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return yt(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,n,r,i,o){var a;void 0===n&&(n=this.items),void 0===r&&(r=[]),void 0===i&&(i=!1),void 0===o&&(o=0),o=i?o+1:0;for(var s=0,l=n.length;s<l;s++){if(a=n[s],(t?a[this.getField("itemId",o)]:a[this.getField("text",o)])===e){r.push(s);break}if(a[this.getField("children",o)]&&a[this.getField("children",o)].length){if(-1!==(r=this.getIndex(e,t,a[this.getField("children",o)],r,!0,o))[r.length-1]){r.unshift(s);break}s!==l-1&&r.pop()}else s===l-1&&r.push(-1)}return i||-1!==r[0]?r:[]},t.prototype.enableItems=function(e,t,n){var r,i,o;void 0===t&&(t=!0);for(var a,s=zg,l=0;l<e.length;l++){if(o=this.getIndex(e[l],n),this.navIdx.length){if(1!==o.length){a=!1;for(var c=0,h=o.length-1;c<h;c++)if(o[c]!==this.navIdx[c]){a=!0;break}if(a)continue}}else if(1!==o.length)continue;i=o.pop(),(r=this.getUlByNavIdx(o.length))&&(t?this.isMenu?(r.children[i].classList.remove(s),r.children[i].removeAttribute("aria-disabled")):le.isDevice&&!r.classList.contains("e-contextmenu")?r.children[i+1].classList.remove(s):r.children[i].classList.remove(s):this.isMenu?(r.children[i].classList.add(s),r.children[i].setAttribute("aria-disabled","true")):le.isDevice&&!r.classList.contains("e-contextmenu")?r.children[i+1].classList.add(s):r.children[i].classList.add(s))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,n){for(var r,i,o,a=0;a<e.length;a++)i=(o=this.getIndex(e[a],n)).pop(),(r=this.getUlByNavIdx(o.length))&&(t?le.isDevice&&!r.classList.contains("e-contextmenu")?r.children[i+1].classList.add(Qg):r.children[i].classList.add(Qg):le.isDevice&&!r.classList.contains("e-contextmenu")?r.children[i+1].classList.remove(Qg):r.children[i].classList.remove(Qg))},t.prototype.removeItems=function(e,t){for(var n,r,i,o=0;o<e.length;o++)n=(r=this.getIndex(e[o],t)).pop(),i=this.getItems(r),this.removeItem(i,r,n)},t.prototype.insertAfter=function(e,t,n){this.insertItems(e,t,n)},t.prototype.insertBefore=function(e,t,n){this.insertItems(e,t,n,!1)},t.prototype.insertItems=function(e,t,n,r){var i,o,a,s,l;void 0===r&&(r=!0);for(var c=0;c<e.length;c++){o=(a=this.getIndex(t,n)).pop(),s=this.getItems(a),l=new Gg(s[0],"items",e[c],!0),s.splice(r?o+1:o,0,l);var h=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(a.length<h.length){o=r?o+1:o,i=this.createItems(s).children[o];var d=this.isMenu?gt(".e-menu-parent",h[a.length]):h[a.length];d.insertBefore(i,d.children[o])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),v()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)ot([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var n=this.clonedElement.nextElementSibling;n&&n!==t?this.clonedElement.parentElement.insertBefore(this.element,n):this.clonedElement.parentElement.appendChild(this.element),v()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",ht([].slice.call(this.clonedElement.children),this.element),ut(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(ut(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):ut(t),e.prototype.destroy.call(this),this.template&&this.clearTemplate(["template"])}},Eg([Qt()],t.prototype,"beforeItemRender",void 0),Eg([Qt()],t.prototype,"beforeOpen",void 0),Eg([Qt()],t.prototype,"onOpen",void 0),Eg([Qt()],t.prototype,"beforeClose",void 0),Eg([Qt()],t.prototype,"onClose",void 0),Eg([Qt()],t.prototype,"select",void 0),Eg([Qt()],t.prototype,"created",void 0),Eg([_t("")],t.prototype,"cssClass",void 0),Eg([_t(0)],t.prototype,"hoverDelay",void 0),Eg([_t(!1)],t.prototype,"showItemOnClick",void 0),Eg([_t("")],t.prototype,"target",void 0),Eg([_t("")],t.prototype,"filter",void 0),Eg([_t(null)],t.prototype,"template",void 0),Eg([_t(!1)],t.prototype,"enableScrolling",void 0),Eg([_t(!1)],t.prototype,"enableHtmlSanitizer",void 0),Eg([Ft({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},Kg)],t.prototype,"fields",void 0),Eg([Ut([],Gg)],t.prototype,"items",void 0),Eg([Ft({duration:400,easing:"ease",effect:"SlideDown"},qg)],t.prototype,"animationSettings",void 0),t=Eg([Wt],t)}(dn),Zg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},eA=function(e){function t(t,n){return e.call(this,t,n)||this}return Zg(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||g("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),ft(this.element,{role:"context menu",tabindex:"0"}),this.element.style.zIndex=ya(this.element).toString()},t.prototype.open=function(t,n,r){e.prototype.openMenu.call(this,null,null,t,n,null,r)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,n){e.prototype.onPropertyChanged.call(this,t,n);for(var r=0,i=Object.keys(t);r<i.length;r++){switch(i[r]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(n.target),this.wireEvents()}}},t.prototype.getModuleName=function(){return"contextmenu"},$g([_t("")],t.prototype,"target",void 0),$g([_t("")],t.prototype,"filter",void 0),$g([Ut([],Gg)],t.prototype,"items",void 0),t=$g([Wt],t)}(Jg),tA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},nA=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rA=".e-diagramcontent",iA="e-copy",oA="e-paste",aA="e-undo",sA="e-redo",lA="e-cut",cA="e-group",hA="e-ungroup",dA="e-bringfront",uA="e-sendback",pA="e-bringforward",fA="e-sendbackward",gA="e-order";(function(){function e(e,t){this.defaultItems={},this.disableItems=[],this.hiddenItems=[],this.localeText=this.setLocaleKey(),this.parent=e,this.serviceLocator=t,this.addEventListener()}e.prototype.addEventListener=function(){this.parent.isDestroyed||this.parent.on("initial-load",this.render,this)},e.prototype.removeEventListener=function(){this.parent.isDestroyed||this.parent.off("initial-load",this.render)},e.prototype.render=function(){if(this.l10n=this.serviceLocator.getService("localization"),!v()){this.element=Ou("ul",{id:this.parent.element.id+"_contextMenu"}),this.parent.element.appendChild(this.element);var e="#"+this.parent.element.id;this.contextMenu=new eA({items:this.getMenuItems(),enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,locale:this.parent.locale,target:e,select:this.contextMenuItemClick.bind(this),beforeOpen:this.contextMenuBeforeOpen.bind(this),onOpen:this.contextMenuOpen.bind(this),beforeItemRender:this.BeforeItemRender.bind(this),onClose:this.contextMenuOnClose.bind(this),cssClass:"e-diagram-menu",animationSettings:{effect:"None"}}),this.contextMenu.appendTo(this.element)}},e.prototype.getMenuItems=function(){var e=[],t=[],n=[];if(!this.parent.contextMenuSettings.showCustomMenuOnly){for(var r=0,i=this.getDefaultItems();r<i.length;r++){var o=i[r];-1!==o.toLocaleLowerCase().indexOf("group")?"grouping"!==o.toLocaleLowerCase()&&n.push(this.buildDefaultItems(o)):-1!==o.toLocaleLowerCase().indexOf("order")?"order"!==o.toLocaleLowerCase()&&t.push(this.buildDefaultItems(o)):e.push(this.buildDefaultItems(o))}var a;if(n.length>0)(a=this.buildDefaultItems("grouping")).items=n,e.push(a);if(t.length>0)(a=this.buildDefaultItems("order")).items=t,e.push(a)}if(this.parent.contextMenuSettings.items)for(var s=0,l=this.parent.contextMenuSettings.items;s<l.length;s++){var c=l[s];e.push(c)}return e},e.prototype.contextMenuOpen=function(){this.isOpen=!0},e.prototype.BeforeItemRender=function(e){this.parent.trigger("contextMenuBeforeItemRender",e)},e.prototype.contextMenuItemClick=function(e){document.getElementById(this.parent.element.id+"content").focus(),this.parent.trigger("contextMenuClick",e);var t=this.getKeyFromId(e.item.id);if(!e.cancel)switch(t){case"cut":this.parent.cut();break;case"copy":this.parent.copy();break;case"undo":this.parent.undo();break;case"redo":this.parent.redo();break;case"paste":this.parent.paste();break;case"selectAll":this.parent.selectAll();break;case"group":this.parent.group();break;case"unGroup":this.parent.unGroup();break;case"bringToFrontOrder":this.parent.bringToFront();break;case"moveForwardOrder":this.parent.moveForward();break;case"sendToBackOrder":this.parent.sendToBack();break;case"sendBackwardOrder":this.parent.sendBackward()}},e.prototype.contextMenuOnClose=function(e){e.items.length>0&&e.items[0].parentObj instanceof eA&&this.updateItemStatus()},e.prototype.getLocaleText=function(e){return this.l10n.getConstant(this.localeText[e])},e.prototype.updateItemStatus=function(){this.contextMenu.showItems(this.hiddenItems,!0),this.contextMenu.enableItems(this.disableItems,!1,!0),this.hiddenItems=[],this.disableItems=[],this.isOpen=!1},e.prototype.ensureItems=function(e,t){var n=this.getKeyFromId(e.id);this.defaultItems[n];-1!==this.getDefaultItems().indexOf(n)&&e.target&&(t||this.parent.checkMenu)&&!this.ensureTarget(e)&&this.hiddenItems.push(e.id)},e.prototype.refreshItems=function(){this.updateItems(),this.contextMenu.refresh()},e.prototype.updateItems=function(){for(var e=!0,t=0;t<this.parent.contextMenuSettings.items.length;t++){for(var n=this.parent.contextMenuSettings.items[t],r=0;r<this.contextMenu.items.length;r++)this.contextMenu.items[r].text===this.parent.contextMenuSettings.items[t].text&&(e=!1);e&&this.contextMenu.insertAfter([n],this.contextMenu.items[this.contextMenu.items.length-1].text)}},e.prototype.contextMenuBeforeOpen=function(e){return tA(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,h;return nA(this,(function(d){switch(d.label){case 0:for(this.parent.checkMenu||-1===window.navigator.userAgent.indexOf("Linux")&&-1===window.navigator.userAgent.indexOf("X11")||(this.parent.checkMenu=e.cancel=!0),this.parent.checkMenu&&(this.hiddenItems=[]),(t=e).hiddenItems=[],n=0,r=e.items;n<r.length;n++)if(h=r[n],this.ensureItems(h,e.event),h.items.length)for(i=0,o=h.items;i<o.length;i++)a=o[i],this.ensureItems(a,e.event);return this.eventArgs=e.event,v()?[4,this.parent.trigger(hi,t)]:[3,2];case 1:return"string"===typeof(t=d.sent()||t)&&(t=JSON.parse(t)),[3,3];case 2:this.parent.trigger(hi,t),d.label=3;case 3:for(s=!0,this.hiddenItems=this.hiddenItems.concat(t.hiddenItems),this.contextMenu.enableItems(this.disableItems,!1,!0),l=this,c=0;c<e.items.length;c++)h=e.items[c],l.hiddenItems.indexOf(h.id)>-1&&l.contextMenu.hideItems([h.id],!0);for(c=0;c<l.contextMenu.items.length;c++)h=l.contextMenu.items[c],-1===l.hiddenItems.indexOf(h.id)&&(s=!1,l.contextMenu.showItems([h.id],!0));return s&&(t.cancel=s,this.hiddenItems=[]),this.parent.selectedItems.nodes.length&&this.parent.selectedItems.nodes[0].isPhase&&(e.cancel=!0),[2]}}))}))},e.prototype.ensureTarget=function(e){var t=this.parent.selectedItems.nodes.length+this.parent.selectedItems.connectors.length,n=!1;switch(this.getKeyFromId(e.id)){case"undo":n=!(!this.parent.historyManager||!this.parent.historyManager.canUndo);break;case"redo":n=!(!this.parent.historyManager||!this.parent.historyManager.canRedo);break;case"paste":n=!!this.parent.commandHandler.clipboardData.clipObject;break;case"selectAll":n=!!(this.parent.nodes.length+this.parent.connectors.length);break;case"grouping":n=!!(t>1||this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"group":n=t>1;break;case"unGroup":n=!!(this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"cut":case"copy":case"order":case"bringToFrontOrder":case"moveForwardOrder":case"sendToBackOrder":case"sendBackwardOrder":n=!!t}return n},e.prototype.destroy=function(){v()||(this.contextMenu.destroy(),pt(this.element)),this.removeEventListener()},e.prototype.getModuleName=function(){return"contextMenu"},e.prototype.generateID=function(e){return this.parent.element.id+"_contextMenu_"+e},e.prototype.getKeyFromId=function(e){return e.replace(this.parent.element.id+"_contextMenu_","")},e.prototype.buildDefaultItems=function(e){var t;switch(e){case"copy":t={target:rA,iconCss:iA};break;case"cut":t={target:rA,iconCss:lA};break;case"paste":t={target:rA,iconCss:oA};break;case"undo":t={target:rA,iconCss:aA};break;case"redo":t={target:rA,iconCss:sA};break;case"grouping":t={target:rA};break;case"group":t={target:rA,iconCss:cA};break;case"unGroup":t={target:rA,iconCss:hA};break;case"order":t={target:rA,iconCss:gA};break;case"bringToFrontOrder":t={target:rA,iconCss:dA};break;case"moveForwardOrder":t={target:rA,iconCss:pA};break;case"sendToBackOrder":t={target:rA,iconCss:uA};break;case"sendBackwardOrder":t={target:rA,iconCss:fA};break;case"selectAll":t={target:rA}}return this.defaultItems[e]={text:this.getLocaleText(e),id:this.generateID(e),target:t.target,iconCss:t.iconCss?"e-icons "+t.iconCss:""},this.defaultItems[e]},e.prototype.getDefaultItems=function(){return["copy","cut","paste","undo","redo","selectAll","grouping","group","unGroup","order","bringToFrontOrder","moveForwardOrder","sendToBackOrder","sendBackwardOrder"]},e.prototype.setLocaleKey=function(){return{copy:"Copy",cut:"Cut",paste:"Paste",undo:"Undo",redo:"Redo",selectAll:"SelectAll",grouping:"Grouping",group:"Group",unGroup:"UnGroup",order:"Order",bringToFrontOrder:"BringToFront",moveForwardOrder:"MoveForward",sendToBackOrder:"SendToBack",sendBackwardOrder:"SendBackward"}}})(),function(){function e(){this.annotationObjects={}}Object.defineProperty(e.prototype,"textAnnotationConnectors",{get:function(){for(var e=[],t=0,n=Object.keys(this.annotationObjects);t<n.length;t++)for(var r=n[t],i=this.annotationObjects[r],o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];e.push(i[s].connector)}return e},enumerable:!0,configurable:!0}),e.prototype.getTextAnnotationConn=function(e){var t=[];if("Bpmn"===e.shape.type&&0!==e.shape.annotations.length)for(var n=this.annotationObjects[e.id],r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];t.push(n[o].connector)}return t},e.prototype.getSize=function(e,t){var n=new nr(e.width,e.height);if(void 0===n.width||void 0===n.height){if(t instanceof wi||(n.width=n.width||50,n.height=n.height||50),t.actualSize.width&&t.actualSize.height)return t.actualSize;t.measure(new nr),n.width=n.width||t.desiredSize.width,n.height=n.height||t.desiredSize.height,void 0!==e.maxWidth&&(n.width=Math.min(n.width,e.maxWidth)),void 0!==e.maxHeight&&(n.height=Math.min(n.height,e.maxHeight)),void 0!==e.minWidth&&(n.width=Math.max(n.width,e.minWidth)),void 0!==e.minHeight&&(n.height=Math.max(n.height,e.minHeight))}return n},e.prototype.initBPMNContent=function(e,t,n){var r=(v(),t.shape),i=v()?t.shape.bpmnShape:t.shape.shape;if("Event"===i&&(e=this.getBPMNEventShape(t,r.event)),"Gateway"===i&&(e=this.getBPMNGatewayShape(t)),"DataObject"===i&&(e=this.getBPMNDataObjectShape(t)),"Message"!==i&&"DataSource"!==i||(e=this.getBPMNShapes(t)),"Activity"===i&&(e=this.getBPMNActivityShape(t)),"TextAnnotation"===i&&(e=this.renderBPMNTextAnnotation(n,t,e)),r.annotations.length>0){for(var o=0;o<r.annotations.length&&r.annotations[o].text;o++)e.children.push(this.getBPMNTextAnnotation(t,n,r.annotations[o],e));e.style.strokeDashArray="2 2 6 2"}return e},e.prototype.getBPMNShapes=function(e){var t=new wi;this.setStyle(t,e),0!==(e.constraints&Mr.Shadow)&&(t.shadow=e.shadow);var n=AA(v()?e.shape.bpmnShape:e.shape.shape);return t.data=n,t.id=e.id+"_"+(v()?e.shape.bpmnShape:e.shape.shape),void 0!==e.width&&void 0!==e.height&&(t.width=e.width,t.height=e.height),t},e.prototype.getBPMNGatewayShape=function(e){var t=new mi,n=new wi;n.id=e.id+"_0_gateway",n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.data="M 40 20 L 20 40 L 0 20 L 20 0 L 40 20 Z",this.setStyle(n,e);var r=new wi;r.id=e.id+"_1_gatewayType",r.style.opacity=e.style.opacity,r.style.strokeColor=e.style.strokeColor,r.horizontalAlignment="Center",r.verticalAlignment="Center",r.relativeMode="Object";var i=e.shape.gateway,o=yA(i.type);"EventBased"===i.type||"ExclusiveEventBased"===i.type||"ParallelEventBased"===i.type?r.style.fill="white":r.style.fill="black",r.data=o,t.style.fill="transparent",t.style.strokeColor="transparent",t.style.strokeWidth=0,t.children=[n,r];var a=this.getSize(e,n);return this.setSizeForBPMNGateway(e.shape.gateway,t,a.width,a.height),t},e.prototype.getBPMNDataObjectShape=function(e){var t=new mi,n=e.shape.dataObject,r=new wi;r.id=e.id+"_0_dataobj",r.data="M29.904,5 L7.853,5 L7.853,45 L42.147,45 L42.147,17.242,L29.932,5,L29.932,17.242,L42.147,17.242";var i=this.getSize(e,r);r.width=i.width,r.height=i.height,this.setStyle(r,e);var o=new wi;o.id=e.id+"_1_type",o.width=25,o.height=20,o.margin.left=5,o.margin.top=5,o.data="M 3 9.4 l 6 0 v 2.4 l 3.6 -4 L 9 4 v 2.5 H 3 V 9.4 Z",o.style.opacity=e.style.opacity;var a=new wi;switch(a.id=e.id+"_2_collection",a.width=7.5,a.height=15,a.style.fill="black",a.visible=!0,a.horizontalAlignment="Center",a.verticalAlignment="Bottom",a.relativeMode="Object",a.style.opacity=e.style.opacity,a.data="M 0 0 L 0.1 0 L 0.1 2 L 0 2 Z M 0.4 0 L 0.6 0 L 0.6 2 L0.4 2 Z M 0.9 0 L 1 0 L 1 2 L 0.9 2 Z",n.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}return!1===n.collection&&(a.visible=!1),t.style.fill="transparent",t.style.strokeColor="transparent",t.style.strokeWidth=0,t.children=[r,o,a],t},e.prototype.getBPMNTaskShape=function(e){var t=e.shape.activity.task,n=new mi,r=new di;r.cornerRadius=10;var i=this.getSize(e,r);r.id=e.id+"_0_task",r.width=i.width,r.height=i.height,this.setStyle(r,e),void 0!==t.call&&!0===t.call&&(r.style.strokeWidth=4),n.width=i.width,n.height=i.height;var o,a=this.getTaskChildCount(e),s=12*a,l=i.width/2-s;o=1===a?l+8:l+8*(a-1);var c=new wi;"Receive"===t.type||"Send"===t.type?(c.width=18,c.height=16):(c.width=20,c.height=20),c.id=e.id+"_1_tasktType",c.margin.left=5,c.margin.top=5;var h=vA(t.type);if(c.data=h,c.style.fill="transparent",c.style.opacity=e.style.opacity,n.style.fill="transparent",n.style.strokeColor="transparent",n.style.strokeWidth=0,n.children=[r,c],"Service"===t.type){var d=new wi;d.id=e.id+"_1_taskTypeService",d.data=h,d.margin.left=c.margin.left+9,d.margin.top=c.margin.top+9,d.style.fill="white",d.style.opacity=e.style.opacity,n.children.push(d)}var u=t.loop,p=new wi,f=bA(u);p.data=f,p.style.fill="black",p.visible="None"!==u,1===a&&(o=l+9),p.margin.left=o,!0===p.visible&&(o+=20),p.width=12,p.height=12,p.margin.bottom=5,p.id=e.id+"_2_loop",p.horizontalAlignment="Left",p.verticalAlignment="Bottom",p.setOffsetWithRespectToBounds(0,1,"Fraction"),p.relativeMode="Point",p.style.fill="transparent",c.style.opacity=e.style.opacity,n.children.push(p);var g=new wi;return g=this.getBPMNCompensationShape(e,g),!0===t.compensation?g.visible=!0:g.visible=!1,1===a&&(o=l+9),g.margin.left=o-3,o+=18,n.children.push(g),n},e.prototype.getBPMNEventShape=function(e,t,n,r){var i,o,a,s,l=new mi;r=r||e.id;var c="M164.1884,84.6909000000001C156.2414,84.6909000000001,149.7764,78.2259000000001,149.7764,70.2769000000001C149.7764,62.3279000000001,156.2414,55.8629000000001,164.1884,55.8629000000001C172.1354,55.8629000000001,178.6024,62.3279000000001,178.6024,70.2769000000001C178.6024,78.2259000000001,172.1354,84.6909000000001,164.1884,84.6909000000001",h=e.shape.event;if((!v()&&"Event"===e.shape.shape||v()&&"Event"===e.shape.bpmnShape)&&(i=h.event,o=h.trigger),a=t.width,s=t.height,n)a=a||20,s=s||20;else if(void 0===t.width||void 0===t.height){var d=new wi;d.data=c;var u=this.getSize(e,d);a=u.width,s=u.height}var p=e.shape.activity;if(!v()&&"Activity"===e.shape.shape||v()&&"Activity"===e.shape.bpmnShape){p.subProcess;i=t.event,o=t.trigger}var f=new wi;f.data=c,f.id=r+"_0_event",f.width=a,f.height=s,f.horizontalAlignment="Center",f.verticalAlignment="Center",f.relativeMode="Object",this.setStyle(f,e);var g=new wi;g.data=c,g.id=r+"_1_event",g.style.gradient=e.style.gradient,g.horizontalAlignment="Center",g.verticalAlignment="Center",g.relativeMode="Object",g.style.strokeColor=e.style.strokeColor,g.style.opacity=e.style.opacity;var A=new wi,m=mA(o);switch(A.data=m,A.id=r+"_2_trigger",A.horizontalAlignment="Center",A.verticalAlignment="Center",A.relativeMode="Object",A.style.strokeColor=e.style.strokeColor,A.style.opacity=e.style.opacity,i){case"Start":g.visible=!1;break;case"NonInterruptingStart":f.style.strokeDashArray="2 3",g.visible=!1;break;case"Intermediate":f.style.fill=e.style.fill,f.style.gradient=null;break;case"NonInterruptingIntermediate":f.style.fill=e.style.fill,f.style.gradient=null,f.style.strokeDashArray="2 3",g.style.strokeDashArray="2 3";break;case"ThrowingIntermediate":case"End":f.style.fill="End"!==i||"white"!==e.style.fill?e.style.fill:"black",f.style.gradient=null,A.style.fill="black",A.style.strokeColor="white"}return l.style.fill="transparent",l.style.strokeColor="transparent",l.style.strokeWidth=0,l.children=[f,g,A],this.setSizeForBPMNEvents(h,l,a,s),l},e.prototype.setEventVisibility=function(e,t){var n=e.shape.event.event,r=t[0],i=t[1];t[2];switch(n){case"Start":i.visible=!1;break;case"NonInterruptingStart":r.style.strokeDashArray="2 3",i.visible=!1}},e.prototype.setSubProcessVisibility=function(e){var t=e.shape.activity.subProcess,n=t.events.length,r="Transaction"===e.shape.activity.subProcess.type?2:0,i=e.wrapper.children[0].children[0];if(!1===t.adhoc&&(i.children[3+r+n].visible=!1),!1===t.compensation&&(i.children[4+r+n].visible=!1),n>0)for(var o=0;o<n;o++)this.setEventVisibility(e,i.children[2+o].children)},e.prototype.getBPMNSubProcessShape=function(e){var t,n,r,i=new mi,o=new wi,a=(new mi,new wi),s=e.shape.activity,l=s.subProcess,c=this.getSubprocessChildCount(e),h=new di;h.id=e.id+"_0_Subprocess",h.style.fill="transparent",h.cornerRadius=10;var d=this.getSize(e,h);h.width=d.width,h.height=d.height,i.children=[h],"Transaction"===s.subProcess.type&&this.getBPMNSubProcessTransaction(e,e.shape,i);var u=12*c,p=d.width/2;r=1===c?p-6:p-u/2-4*(c-1)/2,this.setStyle(h,e),0!==(e.constraints&Mr.Shadow)&&(i.shadow=e.shadow);var f=new wi;if(f.id=e.id+"_0_collapsed",f.width=12,f.height=12,f.style.fill="black",f.style.strokeColor=e.style.strokeColor,f.margin.bottom=5,f.horizontalAlignment="Left",f.verticalAlignment="Bottom",f.setOffsetWithRespectToBounds(0,1,"Fraction"),f.relativeMode="Point",f.data=AA("collapsedShape"),f.margin.left=r,!0!==l.collapsed||l.processes?f.visible=!1:f.visible=!0,!0===f.visible&&(r+=18),i.children.push(f),"Event"===l.type){h.style.strokeWidth=1,h.style.strokeDashArray="2 2",t=l.events;for(var g=0;g<t.length;g++)n=t[g],this.getBPMNSubEvent(n,e,i)}1===c&&(r=p+8),(a=this.getBPMNSubProcessLoopShape(e)).margin.left=r,!0===a.visible&&(r+=16),i.children.push(a),h.id=e.id+"_boundary","Default"===l.boundary&&(h.style.strokeWidth=1,h.style.strokeDashArray="1 0"),"Call"===l.boundary&&(h.style.strokeWidth=4,h.style.strokeDashArray="1 0"),"Event"===l.boundary&&(h.style.strokeWidth=1,h.style.strokeDashArray="2 2"),1===c&&(r=p+8),(o=this.getBPMNAdhocShape(e,o,l)).margin.left=r,!0===o.visible&&(r+=16),i.children.push(o);var A=new wi;return!0===l.compensation?A.visible=!0:A.visible=!1,1===c&&(r=p+8),(A=this.getBPMNCompensationShape(e,A)).margin.left=r,!0===A.visible&&(r+=16),i.children.push(A),i.style.strokeColor="transparent",i.style.strokeWidth=0,i.style.fill="transparent",i},e.prototype.getBPMNSubEvent=function(e,t,n,r){n.children=n.children||[];var i=this.getBPMNEventShape(t,e,!0,r);this.getBPMNSubprocessEvent(t,i,e),i.id=r||t.id+"_subprocessEvents",i.width=e.width||20,i.height=e.height||20,i.setOffsetWithRespectToBounds(e.offset.x,e.offset.y,"Fraction"),i.relativeMode="Point",i.margin=e.margin,i.horizontalAlignment=e.horizontalAlignment,i.verticalAlignment=e.verticalAlignment,i.style.fill="transparent",i.style.strokeColor="transparent",i.style.strokeWidth=0,n.children.push(i)},e.prototype.getBPMNSubProcessTransaction=function(e,t,n){var r=n.children[0].width,i=n.children[0].height,o=new di;o.margin={left:3,right:0,top:3,bottom:0},o.id=e.id+"_0_Subprocess_innnerRect",o.cornerRadius=10,o.width=r-6,o.height=i-6,n.children.push(o);var a=new mi;a.id=e.id+"_transaction_events",a.style.gradient=e.style.gradient;var s=t.activity.subProcess.transaction;this.getBPMNSubEvent(s.success,e,a,e.id+"_success"),this.getBPMNSubEvent(s.cancel,e,a,e.id+"_cancel"),this.getBPMNSubEvent(s.failure,e,a,e.id+"_failure"),this.updateDiagramContainerVisibility(a.children[0],s.success.visible),this.updateDiagramContainerVisibility(a.children[1],s.cancel.visible),this.updateDiagramContainerVisibility(a.children[2],s.failure.visible),a.float=!0,a.width=r,a.height=i,a.style.fill=a.style.strokeColor="transparent",n.children.push(a)},e.prototype.getBPMNSubProcessLoopShape=function(e){var t,n,r=e.shape.activity,i=new wi;return n=bA(t=r.subProcess.loop),i.visible="None"!==t,i.id=e.id+"_loop",i.data=n,i.style.fill="black",i.width=12,i.height=12,i.horizontalAlignment="Left",i.verticalAlignment="Bottom",i.setOffsetWithRespectToBounds(0,1,"Fraction"),i.relativeMode="Point",i.margin.bottom=5,i.style.fill="transparent",i.style.strokeColor=e.style.strokeColor,i},e.prototype.drag=function(e,t,n,r){var i=r.nameTable[e.processId];e.margin.top+n>=0&&r.nodePropertyChange(e,{},{margin:{top:e.margin.top+n}}),e.margin.left+t>=0&&r.nodePropertyChange(e,{},{margin:{left:e.margin.left+t}});var o=this.getChildrenBound(i,e.id,r);this.updateSubProcessess(o,e,r),i.wrapper.measure(new nr(void 0,void 0)),i.wrapper.arrange(i.wrapper.desiredSize),r.refreshCanvasLayers(),r.updateSelector(),this.updateDocks(e,r)},e.prototype.dropBPMNchild=function(e,t,n){if(t&&"Bpmn"===t.shape.type&&"Bpmn"===e.shape.type&&(!v()&&"TextAnnotation"!==t.shape.shape||v()&&"TextAnnotation"!==t.shape.bpmnShape)){var r=n.nameTable[e.id].shape.activity.subProcess;if(n.currentSymbol&&"Bpmn"===e.shape.type&&!r.collapsed)return void(t.processId=e.id);if(r.processes=r.processes||[],r.processes&&-1===r.processes.indexOf(t.id)&&!r.collapsed){r.processes.push(t.id);var i=Xu(t),o=n.nameTable[t.id].wrapper,a=n.nameTable[e.id].wrapper;o.margin.top=o.offsetY-o.actualSize.height/2-(e.offsetY-e.actualSize.height/2),o.margin.left=o.offsetX-o.actualSize.width/2-(e.offsetX-e.actualSize.width/2),o.margin.top=o.margin.top<0?0:o.margin.top,o.margin.left=o.margin.left<0?0:o.margin.left,n.nameTable[t.id].processId=e.id,a.children.push(n.nameTable[t.id].wrapper);var s=this.getChildrenBound(e,t.id,n);this.updateSubProcessess(s,t,n),a.measure(new nr(void 0,void 0)),a.arrange(a.desiredSize),n.refreshCanvasLayers(),n.updateSelector();for(var l=[],c=(l=l.concat(t.outEdges,t.inEdges)).length-1;c>=0;c--)-1===n.bpmnModule.textAnnotationConnectors.indexOf(n.nameTable[l[c]])&&n.remove(n.nameTable[l[c]]);var h={type:"PositionChanged",undoObject:{nodes:[i]},redoObject:{nodes:[Xu(t)]},category:"Internal"};n.addHistoryEntry(h),"SVG"===n.mode&&t.zIndex<e.zIndex&&(n.updateProcesses(t),this.updateSubprocessNodeIndex(t,n,e)),this.updateDocks(t,n)}}},e.prototype.updateIndex=function(e,t){var n=t,r=e.getIndex(n,n.id);e.nodes.splice(Number(r),1),n.zIndex=e.nodes[e.nodes.length-1].zIndex+1,e.nodes.push(n)},e.prototype.updateSubprocessNodeIndex=function(e,t,n){if(e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)for(var r=0;r<e.shape.activity.subProcess.processes.length;r++){this.updateIndex(t,e);var i=e.shape.activity.subProcess.processes[r];if(t.nameTable[i].shape.activity.subProcess.processes.length>0)this.updateSubprocessNodeIndex(t.nameTable[i],t,n);else{var o=t.nameTable[e.shape.activity.subProcess.processes[r]];this.updateIndex(t,o)}}else this.updateIndex(t,e)},e.prototype.updateDocks=function(e,t){if("Bpmn"===e.shape.type&&e.shape.activity.subProcess.processes&&!e.shape.activity.subProcess.collapsed)for(var n=0,r=e.shape.activity.subProcess.processes;n<r.length;n++){var i=r[n],o=t.nameTable[i];o&&(t.updateConnectorEdges(o),o.wrapper.measure(new nr(o.wrapper.width,o.wrapper.height)),o.wrapper.arrange(o.wrapper.desiredSize),o.shape.activity.subProcess.processes&&o.shape.activity.subProcess.processes.length&&this.updateDocks(o,t))}},e.prototype.removeBpmnProcesses=function(e,t){var n=t.nameTable[e.processId];if("Bpmn"===e.shape.type&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)for(var r=(i=e.shape.activity.subProcess.processes).length-1;r>=0;r--)t.remove(t.nameTable[i[r]]);if(n){t.removeDependentConnector(e);var i=n.shape.activity.subProcess.processes;this.removeChildFromBPMN(n.wrapper,e.id);var o=i.indexOf(e.id);i.splice(o,1)}},e.prototype.removeChildFromBPMN=function(e,t){for(var n=0,r=e.children;n<r.length;n++){var i=r[n];i.id===t?e.children.splice(e.children.indexOf(i),1):i.children&&this.removeChildFromBPMN(i,t)}},e.prototype.removeProcess=function(e,t){var n=t.nameTable[e];if(n){var r=t.nameTable[n.processId];if(r&&"Bpmn"===r.shape.type){var i=r.shape.activity.subProcess.processes;t.removeDependentConnector(n),this.removeChildFromBPMN(r.wrapper,e);var o=i.indexOf(e);i.splice(o,1),n.processId="",t.refreshDiagramLayer(),t.updateSelector()}}},e.prototype.addProcess=function(e,t,n){e.id=e.id||Uu();var r=e.id,i=n.nameTable[r];i||n.add(e),e.processId=t;var o=n.nameTable[t],a=o.shape.activity.subProcess;if(i&&o&&"Bpmn"===o.shape.type&&"Bpmn"===i.shape.type&&a.processes){i.processId=t;var s=o.shape.activity.subProcess.processes;if(s.indexOf(r)<0&&s.push(r),o.wrapper.children.push(i.wrapper),o.wrapper.measure(new nr),o.wrapper.arrange(o.wrapper.desiredSize),n.bpmnModule.updateDocks(o,n),n.refreshDiagramLayer(),"SVG"===n.mode&&i.shape&&i.shape.activity&&!i.shape.activity.subProcess.processes)Au(t+"_groupElement").appendChild(Au(e.id+"_groupElement"))}},e.prototype.getChildrenBound=function(e,t,n){var r,i=e.shape.activity.subProcess.processes;if(i&&i.length)for(var o=0,a=i;o<a.length;o++){var s=a[o];t!==s&&(r=r?n.nameTable[s].wrapper.bounds.uniteRect(r):n.nameTable[s].wrapper.bounds)}return r||n.nameTable[t].wrapper.bounds},e.prototype.updateSubProcessess=function(e,t,n){var r,i,o,a,s=n.nameTable[t.processId],l={x:.5,y:.5};s.wrapper.bounds.left+t.margin.left+t.width>s.wrapper.bounds.right&&(o=!0),s.wrapper.bounds.top+t.margin.top+t.height>s.wrapper.bounds.bottom&&(a=!0),o&&(l.x=0),a&&(l.y=0);var c=s.wrapper.actualSize;o&&(r=(t.wrapper.margin.left+t.wrapper.bounds.width)/c.width),a&&(i=(t.wrapper.margin.top+t.wrapper.bounds.height)/c.height),(r>0||i>0)&&n.commandHandler.scale(n.nameTable[t.processId],r||1,i||1,l)},e.prototype.getBPMNCompensationShape=function(e,t){return t.id=e.id+"_0_compensation",t.width=12,t.height=12,t.margin.bottom=5,t.style.fill="transparent",t.style.strokeColor=e.style.strokeColor,t.horizontalAlignment="Left",t.verticalAlignment="Bottom",t.relativeMode="Object",t.data="M 22.462 18.754 l -6.79 3.92 l 6.79 3.92 V 22.89 l 6.415 3.705 v -7.841 l -6.415 3.705 V 18.754 Z M 28.331 19.701 v 5.947 l -5.149 -2.973 L 28.331 19.701 Z M 21.916 25.647 l -5.15 -2.973 l 5.15 -2.973 V 25.647 Z M 22.275 12.674 c -5.513 0 -9.999 4.486 -9.999 9.999 c 0 5.514 4.486 10.001 9.999 10.001 c 5.514 0 9.999 -4.486 9.999 -10.001 C 32.274 17.16 27.789 12.674 22.275 12.674 Z M 22.275 32.127  c -5.212 0 -9.453 -4.241 -9.453 -9.454 c 0 -5.212 4.241 -9.453 9.453 -9.453 c 5.212 0 9.453 4.241 9.453 9.453 C 31.728 27.887 27.487 32.127 22.275 32.127 Z",t},e.prototype.getBPMNActivityShape=function(e){var t,n=new mi,r=e.shape.activity,i=r.activity,o=r.subProcess;r.activity;return"Task"===i&&(t=this.getBPMNTaskShape(e)),"SubProcess"===i&&o&&(t=this.getBPMNSubProcessShape(e)),t.id=i+e.id,n.children=[t],n.style.fill="transparent",n.style.strokeColor="transparent",n.style.strokeWidth=0,n},e.prototype.getBPMNSubprocessEvent=function(e,t,n){var r,i;if(0!==n.annotations.length)for(var o=0;o<n.annotations.length;o++){var a=n.annotations[o];(r=e.initAnnotationWrapper(a)).width=n.width,r.height=n.height,t.children.push(r)}if(0!==n.ports.length)for(o=0;o<n.ports.length;o++){var s=n.ports[o];i=e.initPortWrapper(s),t.children.push(i)}},e.prototype.getBPMNAdhocShape=function(e,t,n){return t.id=e.id+"_0_adhoc",t.width=12,t.height=8,t.style.fill="black",t.style.strokeColor=e.style.strokeColor,t.margin.bottom=5,t.horizontalAlignment="Left",t.verticalAlignment="Bottom",t.relativeMode="Object",t.data="M 49.832 76.811 v -2.906 c 0 0 0.466 -1.469 1.931 -1.5 c 1.465 -0.031 2.331 1.219 2.897 1.688 s 1.06 0.75 1.526 0.75 c 0.466 0 1.548 -0.521 1.682 -1.208 s 0.083 3.083 0.083 3.083 s -0.76 0.969 -1.859 0.969 c -1.066 0 -1.865 -0.625 -2.464 -1.438 s -1.359 -0.998 -2.064 -0.906 C 50.598 75.467 49.832 76.811 49.832 76.811 Z",n&&!0===n.adhoc?t.visible=!0:t.visible=!1,t},e.prototype.getBPMNTextAnnotation=function(e,t,n,r){n.id=n.id||Uu(),n.nodeId=e.id;var i=new mi,o=new wi,a=new gi;o.id=e.id+"_"+n.id+"_path",o.width=n.width,o.height=n.height,o.relativeMode="Object",a.id=e.id+"_"+n.id+"_text",a.content=n.text;var s=e.style;a.style={fontSize:s.fontSize,italic:s.italic,gradient:null,opacity:s.opacity,bold:s.bold,textWrapping:s.textWrapping,color:s.color,fill:"white",fontFamily:s.fontFamily,whiteSpace:s.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:s.strokeDashArray,textAlign:s.textAlign,textDecoration:s.textDecoration},a.horizontalAlignment="Center",a.verticalAlignment="Center",a.relativeMode="Object",a.margin={left:5,right:5,top:5,bottom:5},i.offsetX=e.offsetX+n.length*Math.cos(n.angle*(Math.PI/180)),i.offsetY=e.offsetY+n.length*Math.sin(n.angle*(Math.PI/180)),i.float=!0,i.transform=Fr.Self,i.id=e.id+"_textannotation_"+n.id,i.style.strokeColor="transparent",i.margin={left:10,right:10,top:10,bottom:10},i.relativeMode="Object",i.rotateAngle=0,i.children=[o,a];var l=new iu(e.shape,"annotations",{id:i.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);l.ports=[{id:o.id+"_port",shape:"Square",offset:{x:0,y:.5}}],l.offsetX=i.offsetX,l.offsetY=i.offsetY,l.text=n.text,l.angle=n.angle,l.length=n.length,l.width=n.width,l.height=n.height,l.wrapper=i,i.children.push(l.initPortWrapper(l.ports[0]));var c=new Ar(0,0,0,0),h=e.width||e.minWidth||0,d=e.height||e.minHeight||0;void 0!==h&&void 0!==d&&(c=new Ar(e.offsetX-h/2,e.offsetY-d/2,h,d)),this.setAnnotationPath(c,i,{x:l.offsetX,y:l.offsetY},l,n.length,n.angle);var u={id:e.id+"_"+n.id+"_connector",constraints:kr.Default&~(kr.DragTargetEnd|kr.Drag),sourceID:e.id,targetID:i.id,targetDecorator:{shape:"None"}},p=new Al(e.shape,"annotations",u,!0);p.targetPortID=l.ports[0].id,p.init(t),p.wrapper.float=!1,p.wrapper.transform=Fr.Self,r.children.push(p.wrapper),p.zIndex=1e4;var f=this.annotationObjects[e.id];f||(f={}),f[n.id]||(f[n.id]={});return f[n.id].node=l,f[n.id].connector=p,this.annotationObjects[e.id]=f,t.initObject(l,void 0,!1),l.zIndex=1e4,i},e.prototype.renderBPMNTextAnnotation=function(e,t,n){t.id=t.id||Uu();var r=new mi,i=new wi,o=new gi;i.id="_"+t.id+"_path",i.width=t.width,i.height=t.height,i.relativeMode="Object",o.id=t.id+"_text",o.content=t.shape.annotation.text;var a=t.style;o.style={fontSize:a.fontSize,italic:a.italic,gradient:null,opacity:a.opacity,bold:a.bold,textWrapping:a.textWrapping,color:a.color,fill:"white",fontFamily:a.fontFamily,whiteSpace:a.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:a.strokeDashArray,textAlign:a.textAlign,textDecoration:a.textDecoration},o.horizontalAlignment="Left",o.verticalAlignment="Center",o.relativeMode="Object",o.margin={left:5,right:5,top:5,bottom:5},r.offsetX=t.offsetX+t.shape.annotation.length*Math.cos(t.shape.annotation.angle*(Math.PI/180)),r.offsetY=t.offsetY+t.shape.annotation.length*Math.sin(t.shape.annotation.angle*(Math.PI/180)),r.float=!0,r.id=t.id+"_textannotation_"+t.id,r.style.strokeColor="transparent",r.margin={left:10,right:10,top:10,bottom:10},r.relativeMode="Object",r.rotateAngle=0,r.children=[i,o];var s=new iu(t.shape,"annotations",{id:r.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);s.ports=[{id:i.id+"_port",shape:"Square",offset:{x:0,y:.5}}],s.offsetX=r.offsetX,s.offsetY=r.offsetY,s.shape&&s.shape.annotation&&(s.text=t.shape.annotation.text,s.angle=t.shape.annotation.angle,s.length=t.shape.annotation.length),s.width=t.width,s.height=t.height,s.wrapper=r,r.children.push(s.initPortWrapper(s.ports[0]));var l=new Ar(0,0,0,0),c=t.width||0,h=t.height||0;return void 0!==c&&void 0!==h&&(l=new Ar(t.offsetX-c/2,t.offsetY-h/2,c,h)),this.setAnnotationPath(l,r,{x:s.offsetX,y:s.offsetY},s,t.length,t.angle),r},e.prototype.getTextAnnotationWrapper=function(e,t){if(e&&"Bpmn"===e.shape.type){if("TextAnnotation"===(v()?e.shape.bpmnShape:e.shape.shape))return e.wrapper.children[1];if(this.annotationObjects[e.id]&&this.annotationObjects[e.id][t]){var n=this.annotationObjects[e.id][t].node;return this.getTextAnnotationWrapper(n,t)}}return null},e.prototype.addAnnotation=function(e,t,n){var r=e.wrapper.children[0],i=e.shape;t.nodeId=e.id;var o=new Xd(i,"annotations",t,!0);return i.annotations.push(o),r.children.push(this.getBPMNTextAnnotation(e,n,t,r)),e.wrapper.measure(new nr),e.wrapper.arrange(e.wrapper.desiredSize),this.annotationObjects[e.id][t.id].connector},e.prototype.clearAnnotations=function(e,t){var n=e.shape;if(n.annotations.length)for(var r=n.annotations.length-1;r>=0;r--){var i=n.annotations[r];this.removeAnnotationObjects(e,i,t)}delete this.annotationObjects[e.id]},e.prototype.checkAndRemoveAnnotations=function(e,t){if("Bpmn"===e.shape.type)if(!v()&&"TextAnnotation"===e.shape.shape||v()&&"TextAnnotation"===e.shape.bpmnShape)for(var n=e.id.split("_"),r=n[n.length-1],i=n[n.length-3]||n[0],o=t.nameTable[i],a=o.shape,s=0,l=a.annotations;s<l.length;s++){var c=l[s];if(c.id===r)if(-1!==a.annotations.indexOf(c))return t.removeDependentConnector(e),this.removeAnnotationObjects(o,c,t),!0}else e.shape.annotations&&e.shape.annotations.length&&this.clearAnnotations(e,t);return!1},e.prototype.removeAnnotationObjects=function(e,t,n){var r=e.shape,i=r.annotations.indexOf(t);if(-1!==i){if(!(n.diagramActions&Qr.UndoRedo)&&!(n.diagramActions&Qr.Group)){var o={type:"CollectionChanged",changeType:"Remove",undoObject:Xu(t),redoObject:Xu(t),category:"Internal"};n.addHistoryEntry(o)}r.annotations.splice(i,1);var a=this.annotationObjects[e.id];if(a&&a[t.id]){var s=a[t.id].node,l=a[t.id].connector;n.removeElements(s),n.removeElements(l);var c=e.wrapper.children[0];i=c.children.indexOf(s.wrapper),c.children.splice(i,1),i=c.children.indexOf(l.wrapper),c.children.splice(i,1),n.removeFromAQuad(s),n.removeFromAQuad(l),delete n.nameTable[s.id],delete n.nameTable[l.id],delete a[t.id]}}},e.prototype.setAnnotationPath=function(e,t,n,r,i,o){var a,s,l=this.getAnnotationPathAngle(n,e),c="",h=t.children[0],d=t.children[2],u=t.children[1];h.horizontalAlignment="Stretch",h.verticalAlignment="Stretch",u.margin.left=u.margin.right=5,u.margin.top=u.margin.bottom=5,0===l?(c="M10,20 L0,20 L0,0 L10,0",h.width=10,h.horizontalAlignment="Left",d.setOffsetWithRespectToBounds(0,.5,"Fraction"),u.margin.top=u.margin.bottom=10,a=e.middleRight,s={x1:e.right,y1:e.top,x2:e.right,y2:e.bottom}):180===l?(c="M0,0 L10,0 L10,20 L0,20",h.width=10,h.horizontalAlignment="Right",d.setOffsetWithRespectToBounds(1,.5,"Fraction"),u.margin.top=u.margin.bottom=10,a=e.middleLeft,s={x1:e.left,y1:e.top,x2:e.left,y2:e.bottom}):90===l?(c="M20,10 L20,0 L0,0 L0,10",h.height=10,h.verticalAlignment="Top",d.setOffsetWithRespectToBounds(.5,0,"Fraction"),u.margin.left=u.margin.right=10,a=e.bottomCenter,s={x1:e.right,y1:e.bottom,x2:e.left,y2:e.bottom}):(c="M0,0 L0,10 L20,10 L20,0",h.height=10,h.verticalAlignment="Bottom",d.setOffsetWithRespectToBounds(.5,1,"Fraction"),u.margin.left=u.margin.right=10,a=e.topCenter,s={x1:e.right,y1:e.top,x2:e.left,y2:e.top});var p=e.center;a=mo(s,[p,or.transform(n,o,Math.max(e.width,e.height))],0,p),h.data=c,void 0!==i&&void 0!==o&&(a=or.transform(a,o,i),t.offsetX=r.offsetX=a.x,t.offsetY=r.offsetY=a.y)},e.prototype.isBpmnTextAnnotation=function(e,t){if(this.annotationObjects){var n=e.parentId,r=e.id,i=t.nameTable[n];return i&&"Bpmn"===i.shape.type&&this.annotationObjects[n]&&this.annotationObjects[n][r]?i:null}return null},e.prototype.updateTextAnnotationContent=function(e,t,n,r){var i=t.parentId,o=t.id;if(this.annotationObjects[i]&&this.annotationObjects[i][o])for(var a=0,s=e.shape.annotations;a<s.length;a++){var l=s[a];if(l.id===o){l.text=n;var c=this.annotationObjects[i][o].node.wrapper.children[1];c.content=n,c.visible=!0,e.wrapper.measure(new nr),e.wrapper.arrange(e.wrapper.desiredSize)}}},e.prototype.updateQuad=function(e,t){var n,r=e.shape.annotations;if(r&&r.length>0)for(var i=0;i<r.length;i++)n=this.annotationObjects[e.id][r[i].id].node,t.updateQuad(n)},e.prototype.updateTextAnnotationProp=function(e,t,n){if("Bpmn"===e.shape.type){var r=e.shape.annotations;if(r&&r.length>0)for(var i=0;i<e.wrapper.children[0].children.length;i++)for(var o=0;o<r.length;o++){var a=e.wrapper.children[0].children[i].id.split("_");if(a[a.length-1]===r[o].id){var s=this.annotationObjects[e.id][r[o].id].node,l=this.annotationObjects[e.id][r[o].id].connector,c=(Po(l.targetPoint,e.wrapper.bounds,e.wrapper.bounds),l.sourcePoint);c={x:l.sourcePoint.x+e.offsetX-t.offsetX,y:l.sourcePoint.y+e.offsetY-t.offsetY},c=or.transform(c,r[o].angle,r[o].length),e.wrapper.children[0].children[i].offsetX=s.offsetX=c.x,e.wrapper.children[0].children[i].offsetY=s.offsetY=c.y,n.updateQuad(s)}}}},e.prototype.getSubprocessChildCount=function(e){var t=0,n=e.shape.activity.subProcess,r=n.loop;return void 0!==r&&"None"!==r&&t++,void 0!==n.compensation&&!0===n.compensation&&t++,void 0!==n.collapsed&&!0===n.collapsed&&t++,void 0!==n.adhoc&&!0===n.adhoc&&t++,t},e.prototype.getTaskChildCount=function(e){var t=0,n=e.shape.activity.task;return void 0!==n.compensation&&!0===n.compensation&&t++,void 0!==n.loop&&"None"!==n.loop&&t++,t},e.prototype.setStyle=function(e,t){e.style.fill=t.style.fill,e.style.strokeColor=t.style.strokeColor,e.style.strokeWidth=t.style.strokeWidth,e.style.strokeDashArray=t.style.strokeDashArray,e.style.opacity=t.style.opacity,e.style.gradient=t.style.gradient,0!==(t.constraints&Mr.Shadow)&&(e.shadow=t.shadow)},e.prototype.updateBPMN=function(e,t,n,r){var i=e.shape||{},o=n.wrapper.children[0],a=n.shape.shape||n.shape.bpmnShape,s=void 0!==e.width||void 0!==e.height;if((v()&&"Gateway"===i.bpmnShape||"Gateway"===i.shape)&&i.gateway)n.wrapper.children[0]=this.getBPMNGatewayShape(n);else if((v()&&"DataObject"===i.bpmnShape||"DataObject"===i.shape)&&i.dataObject)n.wrapper.children[0]=this.getBPMNDataObjectShape(n);else if((v()&&"Activity"===i.bpmnShape||"Activity"===i.shape)&&i.activity)n.wrapper.children[0]=this.getBPMNActivityShape(n);else if((v()&&"Event"===i.bpmnShape||"Event"===n.shape.bpmnShape||"Event"===i.shape)&&i.event){var l=i.event;n.wrapper.children[0]=this.getBPMNEventShape(n,l)}else v()&&"Message"===i.bpmnShape||"Message"===i.shape||v()&&"DataSource"===i.bpmnShape||"DataSource"===i.shape?n.wrapper.children[0]=this.getBPMNShapes(n):void 0!==i.gateway||"Gateway"===a&&s?this.updateBPMNGateway(n,e):void 0!==i.dataObject||"DataObject"===a&&s?this.updateBPMNDataObject(n,e,t):void 0!==i.activity||"Activity"===a&&s?this.updateBPMNActivity(n,e,t,r):(void 0!==i.event||"Event"===a&&s)&&this.updateBPMNEvent(n,e,t);if(n.wrapper.children[0].id=n.wrapper.children[0].id||o.id,e.style&&(Nh(e.style,o instanceof pi?!v()&&"Activity"===n.shape.shape||v()&&"Activity"===n.shape.bpmnShape?o.children[0].children[0]:o.children[0]:o),e.style&&e.style.strokeColor&&o.children.length>0))if((!v()&&"Activity"===n.shape.shape||v()&&"Activity"===n.shape.bpmnShape)&&"SubProcess"===n.shape.activity.activity){var c=o.children[0];this.updateBPMNStyle(c,e.style.strokeColor)}else(!v()&&"Gateway"===n.shape.shape||v()&&"Gateway"===n.shape.bpmnShape||!v()&&"Event"===n.shape.shape||v()&&"Event"===n.shape.bpmnShape)&&this.updateBPMNStyle(o,e.style.strokeColor)},e.prototype.updateBPMNStyle=function(e,t){for(var n=0;n<e.children.length;n++){Nh({strokeColor:t},e.children[n])}},e.prototype.updateBPMNGateway=function(e,t){var n=e.shape,r=e.wrapper.children[0];if(n){Nh(e.style,r.children[0]);var i=yA(n.gateway.type);r.children[1].data=i}void 0===t.width&&void 0===t.height||this.setSizeForBPMNGateway(e.shape.gateway,r,t.width||e.width,t.height||e.height)},e.prototype.updateBPMNDataObject=function(e,t,n){var r=t.shape,i=e.wrapper.children[0];if(r){var o=i.children[1],a=i.children[2];if(void 0!==t.style&&(Nh(t.style,i.children[0]),o.style.opacity=e.style.opacity,a.style.opacity=e.style.opacity),r.dataObject){switch(r.dataObject.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}"None"===n.shape.dataObject.type&&(o.visible=!0),void 0!==t.shape.dataObject.collection&&(a.visible=r.dataObject.collection)}}void 0===t.width&&void 0===t.height||this.setSizeForBPMNDataObjects(e.shape.dataObject,i,t.width||e.width,t.height||e.height)},e.prototype.getEvent=function(e,t,n,r,i,o){switch(n){case"Start":i.visible=!1,r.style.strokeDashArray="",o.style.fill="white",o.style.strokeColor="black",r.style.fill="white";break;case"NonInterruptingStart":r.style.strokeDashArray="2 3",o.style.fill="white",r.style.fill="white",o.style.strokeColor="black",i.visible=!1;break;case"Intermediate":r.style.strokeDashArray="",r.style.fill="white",i.style.strokeDashArray="",r.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",this.updateEventVisibility(t,i);break;case"NonInterruptingIntermediate":r.style.fill="white",r.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",r.style.strokeDashArray="2 3",i.style.strokeDashArray="2 3",this.updateEventVisibility(t,i);break;case"ThrowingIntermediate":case"End":r.style.fill="End"!==n?"white":"black",r.style.strokeDashArray="",i.style.strokeDashArray="",r.style.gradient=null,o.style.fill="black",this.updateEventVisibility(t,i),o.style.strokeColor=e.style.fill}},e.prototype.updateEventVisibility=function(e,t){e.shape.activity&&e.shape.activity.subProcess&&e.shape.activity.subProcess.events&&void 0!==e.shape.activity.subProcess.events[0]&&void 0!==e.shape.activity.subProcess.events[0].event?"NonInterruptingStart"!==e.shape.activity.subProcess.events[0].event&&"Start"!==e.shape.activity.subProcess.events[0].event||(t.visible=!0):void 0!==e.shape.event&&("NonInterruptingStart"!==e.shape.event.event&&"Start"!==e.shape.event.event||(t.visible=!0))},e.prototype.updateBPMNEvent=function(e,t,n){var r,i=t.shape,o=e.wrapper.children[0];if(i){var a=o.children[0],s=o.children[1],l=o.children[2];void 0!==t.style&&(Nh(e.style,o.children[0]),void 0===t.style.opacity&&void 0===t.style.strokeColor||(s.style.opacity=e.style.opacity,s.style.strokeColor=e.style.strokeColor));var c=i.event.event;r=i.event.trigger,void 0!==c&&this.getEvent(e,n,c,a,s,l),void 0!==r&&this.updateBPMNEventTrigger(e,t)}void 0===t.width&&void 0===t.height&&void 0===r||this.setSizeForBPMNEvents(e.shape.event,o,t.width||e.width,t.height||e.height)},e.prototype.updateBPMNEventTrigger=function(e,t){var n=e.shape,r=e.wrapper.children[0].children[2];r.canMeasurePath=!0,!t.style||void 0===t.style.strokeColor&&void 0===t.style.opacity||Nh(e.style,r);var i=mA(n.event.trigger);r.data=i},e.prototype.updateBPMNActivity=function(e,t,n,r){var i=t.shape,o=e.wrapper.children[0],a=this.getSize(e,o.children[0].children[0]);if(i){var s=n.shape.activity.activity,l=e.shape.activity.activity;if("SubProcess"!==s&&"Task"!==s||"SubProcess"!==l&&"Task"!==l){if("Task"===l&&void 0!==i.activity.task){this.updateBPMNActivityTask(e,t);var c=this.getTaskChildCount(e),h=void 0,d=12*c,u=a.width/2-d;h=1===c?u+8:u+8*(c-1),void 0!==i.activity.task.loop&&this.updateBPMNActivityTaskLoop(e,t,h,c,u,2)}"SubProcess"===l&&void 0!==i.activity.subProcess&&this.updateBPMNActivitySubProcess(e,t,n,r)}else r.removeElements(e),e.wrapper.children[0]=this.getBPMNActivityShape(e);this.setSizeForBPMNActivity(e.shape.activity,o,t.width||a.width,t.height||a.height,e)}void 0===t.width&&void 0===t.height||this.setSizeForBPMNActivity(e.shape.activity,o,t.width||a.width,t.height||a.height,e)},e.prototype.updateBPMNActivityTask=function(e,t){for(var n=t.shape,r=e.wrapper.children[0].children[0],i=n.activity.task,o=0;o<r.children.length;o++){if(r.children[o].id===e.id+"_1_taskTypeService")r.children.splice(o,1),(s=document.getElementById(e.id+"_1_taskTypeService")).parentNode.removeChild(s)}if("Receive"===i.type||"Send"===i.type?r.children[1].height=14:r.children[1].height=20,void 0!==i.type){var a=vA(i.type);if(r.children[1].data=a,"Service"===i.type){for(o=0;o<r.children.length;o++){var s;if(r.children[o].id===e.id+"_1_tasktType")r.children.splice(o,1),(s=document.getElementById(e.id+"_1_tasktType")).parentNode.removeChild(s)}var l=new wi;l.id=e.id+"_1_tasktType",l.margin.left=5,l.margin.top=5,l.data=a,l.style.fill="transparent",l.style.opacity=e.style.opacity,l.width=20,l.height=20,r.children.splice(1,0,l);var c=new wi;c.id=e.id+"_1_taskTypeService",c.data=a,c.margin.left=r.children[1].margin.left+9,c.margin.top=r.children[1].margin.top+9,c.style.fill="white",c.style.opacity=e.style.opacity,r.children.splice(2,0,c)}}void 0!==n.activity.task.call&&(!1!==n.activity.task.call?r.children[0].style.strokeWidth=4:r.children[0].style.strokeWidth=1),void 0!==n.activity.task.compensation&&(!0===n.activity.task.compensation?r.children[3].visible=!0:r.children[3].visible=!1)},e.prototype.updateBPMNActivityTaskLoop=function(e,t,n,r,i,o){var a,s,l=t.shape,c=e.wrapper.children[0].children[0],h=l.activity,d=0;if(void 0!==h.subProcess){var u=h.subProcess;d="Transaction"===h.subProcess.type?2:0,s=bA(a=u.loop),c.children[2+d].data=s,c.children[2+d].visible="None"!==a}else void 0!==h.task&&void 0!==h.task.loop&&(s=bA(h.task.loop),c.children[2].data=s,c.children[2].visible="None"!==h.task.loop);this.updateChildMargin(c,r,i,n,o+d)},e.prototype.updateChildMargin=function(e,t,n,r,i){if(1===t)for(var o=i;o<e.children.length;o++)2!==o&&!0===e.children[o].visible&&(e.children[o].margin.left=r,r=n+8);else{r=n+8*(t-1);for(o=i;o<e.children.length;o++)2!==o&&!0===e.children[o].visible&&(e.children[o].margin.left=r,r+=20)}},e.prototype.updateBPMNActivitySubProcess=function(e,t,n,r){var i,o=t.shape,a=e.wrapper.children[0],s=this.getSize(e,a.children[0].children[0]),l=o.activity.subProcess,c=this.getSubprocessChildCount(e),h=12*c,d=s.width/2-h;i=1===c?d+8:d+8*(c-1),Nh(e.style,a.children[0].children[0]),void 0!==l.events&&this.updateBPMNSubProcessEvent(e,t,n,r),void 0!==l.adhoc&&this.updateBPMNSubProcessAdhoc(e,n,l,i,c,d),void 0!==l.boundary&&this.updateBPMNSubProcessBoundary(e,l),void 0!==l.collapsed&&this.updateBPMNSubProcessCollapsed(e,n,l,i,c,d,r),void 0!==l.compensation&&this.updateBPMNSubProcessCompensation(e,n,l,i,c,d),void 0!==l.loop&&this.updateBPMNSubProcessLoop(e,n,l,i,c,d),void 0!==l.transaction&&this.updateBPMNSubProcessTransaction(e,t,n,r)},e.prototype.updateBPMNSubProcessEvent=function(e,t,n,r){for(var i=t.shape,o=e.wrapper.children[0],a=o.children[0],s=(o.children[0].children.length,i.activity.subProcess),l=0,c=Object.keys(s.events);l<c.length;l++){var h=c[l],d=Number(h),u=a.children[d+2],p=e.shape.activity.subProcess.events[d];this.updateBPMNSubEvent(e,s.events[d],p,u,t,n,r)}},e.prototype.updateBPMNSubEvent=function(e,t,n,r,i,o,a){var s,l,c=e.wrapper.children[0],h=i.shape,d=r.children[0],u=r.children[1],p=r.children[2];if(i.style&&(void 0===i.style.strokeColor&&void 0===i.style.opacity||(c.children[0].children[1].style.strokeColor=i.style.strokeColor,c.children[0].children[1].style.opacity=i.style.opacity)),void 0!==h.activity.subProcess&&(s=t.event,l=t.trigger),void 0!==s&&this.getEvent(i,o,s,d,u,p),void 0!==l){i.style&&Nh(i.style,c.children[0]);var f=mA(l);r.children[2].data=f}if(void 0===t.height&&void 0===t.width||this.getEventSize(t,r),void 0!==t.id&&(r.id=t.id),void 0!==t.margin&&(r.margin=t.margin),void 0!==t.horizontalAlignment&&(r.horizontalAlignment=t.horizontalAlignment),void 0!==t.verticalAlignment&&(r.verticalAlignment=t.verticalAlignment),void 0!==t.offset&&(r.setOffsetWithRespectToBounds(n.offset.x,n.offset.y,"Fraction"),r.relativeMode="Point"),void 0!==t.annotations){var g=void 0,A=c.children[0].children[2];r.children[3]&&r.children.length>3&&(g=r.children[3],a.updateAnnotation(t.annotations[0],g,A))}if(void 0!==t.ports){var m=void 0,y=c.children[0].children[2];r.children[4]&&r.children.length>4&&(m=r.children[4],a.updatePort(t.ports[0],m,y))}void 0!==t.visible&&this.updateDiagramContainerVisibility(r,t.visible)},e.prototype.updateBPMNSubProcessTransaction=function(e,t,n,r){var i,o=t.shape.activity.subProcess.transaction,a=e.wrapper.children[0].children[0].children[2];void 0!==o.success&&(i=e.shape.activity.subProcess.transaction.success,this.updateBPMNSubEvent(e,o.success,i,a.children[0],t,n,r)),void 0!==o.cancel&&(i=e.shape.activity.subProcess.transaction.cancel,this.updateBPMNSubEvent(e,o.cancel,i,a.children[1],t,n,r)),void 0!==o.failure&&(i=e.shape.activity.subProcess.transaction.failure,this.updateBPMNSubEvent(e,o.failure,i,a.children[2],t,n,r));for(var s=0,l=e.outEdges;s<l.length;s++){var c=l[s],h=r.nameTable[c];switch(h.sourcePortID){case"success":o.success&&void 0!==o.success.visible&&r.connectorPropertyChange(h,{},{sourcePortID:"success"});break;case"cancel":o.cancel&&void 0!==o.cancel.visible&&r.connectorPropertyChange(h,{},{sourcePortID:"cancel"});break;case"failure":o.failure&&void 0!==o.failure.visible&&r.connectorPropertyChange(h,{},{sourcePortID:"failure"})}}},e.prototype.getEventSize=function(e,t){void 0!==e.height&&(t.height=e.height,t.children[0].height=e.height,t.children[1].height=.85*e.height,t.children[2].height=.54*e.height),void 0!==e.width&&(t.width=e.width,t.children[0].width=e.width,t.children[1].width=.85*e.width,t.children[2].width=.54*e.width)},e.prototype.updateBPMNSubProcessAdhoc=function(e,t,n,r,i,o){e.shape;var a=e.wrapper.children[0].children[0],s="Transaction"===e.shape.activity.subProcess.type?2:0;!1===n.adhoc?a.children[3+s].visible=!1:a.children[3+s].visible=!0,this.updateChildMargin(a,i,o,r,3+s)},e.prototype.updateBPMNSubProcessBoundary=function(e,t){e.shape;var n=e.wrapper.children[0].children[0].children[0];"Default"===t.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="1 0"),"Call"===t.boundary&&(n.style.strokeWidth=4,n.style.strokeDashArray="1 0"),"Event"===t.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="2 2")},e.prototype.updateElementVisibility=function(e,t,n){if(e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)for(var r=e.shape.activity.subProcess.processes,i=r.length-1;i>=0;i--){var o=n.nameTable[r[i]];o.visible=t,n.updateElementVisibility(o.wrapper,o,t),t&&((!v()&&"Event"===o.shape.shape||v()&&"Event"===o.shape.bpmnShape)&&this.setEventVisibility(o,o.wrapper.children[0].children),"SubProcess"===o.shape.activity.activity&&this.setSubProcessVisibility(o));for(var a=o.inEdges.concat(o.outEdges),s=a.length-1;s>=0;s--){var l=n.nameTable[a[s]];l.visible=t,n.updateElementVisibility(l.wrapper,l,t)}}t&&((!v()&&"Event"===e.shape.shape||v()&&"Event"===e.shape.bpmnShape)&&this.setEventVisibility(e,e.wrapper.children[0].children),"SubProcess"===e.shape.activity.activity&&this.setSubProcessVisibility(e),"Task"===e.shape.activity.activity&&(!v()&&"Activity"===e.shape.shape||v()&&"Activity"===e.shape.bpmnShape)&&"None"===e.shape.activity.subProcess.loop&&(e.wrapper.children[0].children[0].children[3].visible=!1))},e.prototype.updateBPMNSubProcessCollapsed=function(e,t,n,r,i,o,a){var s=e.shape.activity.subProcess.events.length,l=e.wrapper.children[0].children[0],c="Transaction"===e.shape.activity.subProcess.type?3:1;!1===n.collapsed?(this.updateElementVisibility(e,!0,a),l.children[c+s].visible=!1):(this.updateElementVisibility(e,!1,a),l.children[c+s].visible=!0),this.updateChildMargin(l,i,o,r,3+s)},e.prototype.updateBPMNSubProcessCompensation=function(e,t,n,r,i,o){var a=e.wrapper.children[0].children[0],s="Transaction"===e.shape.activity.subProcess.type?2:0;!1===n.compensation?a.children[4+s].visible=!1:a.children[4+s].visible=!0,this.updateChildMargin(a,i,o,r,4+s)},e.prototype.updateBPMNSubProcessLoop=function(e,t,n,r,i,o){this.updateBPMNActivityTaskLoop(e,e,r,i,o,1)},e.prototype.updateBPMNConnector=function(e,t,n,r){var i=n.shape;return void 0!==i.sequence&&(e=this.getSequence(e,t,n,r)),void 0!==i.association&&(e=this.getAssociation(e,t,n,r)),void 0!==i.message&&(e=this.getMessage(e,t,n,r)),e},e.prototype.getSequence=function(e,t,n,r){if("Normal"===n.shape.sequence&&(r.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}}}),e.wrapper.children[3].visible=!1),"Default"===n.shape.sequence){r.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}});var i=new wi,o=(new wi,void 0);i=e.getSegmentElement(e,i);for(var a=e.intermediatePoints,s=0;s<a.length-1;s++)length+=e.distance(a[s],a[s+1]),o=e.findPath(a[s],a[s+1]);e.wrapper.children[3].data=o[0],e.wrapper.children[3].id=e.id+"_"+n.shape.sequence,e.wrapper.children[3].offsetX=o[1].x,e.wrapper.children[3].offsetY=o[1].y,e.wrapper.children[3].rotateAngle=45,e.wrapper.children[3].transform=Fr.Self}return"Conditional"===n.shape.sequence&&(r.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"Diamond",width:20,height:10,style:{fill:"white"}}}),e.wrapper.children[3].visible=!1),e},e.prototype.getAssociation=function(e,t,n,r){return"Default"===n.shape.association&&r.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}}),"Directional"===n.shape.association&&r.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"2 2"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}}),"BiDirectional"===n.shape.association&&r.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"2 2"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"Arrow",width:5,height:10,style:{fill:"white"}}}),e},e.prototype.getMessage=function(e,t,n,r){var i,o;if("Default"===t.shape.message){if(void 0!==n.shape.message){if("InitiatingMessage"===n.shape.message||"NonInitiatingMessage"===n.shape.message){var a=new wi;a=e.getSegmentElement(e,a);for(var s=e.intermediatePoints,l=0;l<s.length-1;l++){length+=e.distance(s[l],s[l+1]);var c=.5*length;length>=c&&(i=uo(s[l],s[l+1]),o=or.transform(s[l],i,c))}}e.wrapper.children[3].id=e.id+"_"+n.shape.message,e.wrapper.children[3].width=25,e.wrapper.children[3].height=15,e.wrapper.children[3].data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.wrapper.children[3].horizontalAlignment="Center",e.wrapper.children[3].verticalAlignment="Center",e.wrapper.children[3].transform=Fr.Self,e.wrapper.children[3].style.fill="NonInitiatingMessage"===n.shape.message?"lightgrey":"white",e.wrapper.children[3].offsetX=o.x,e.wrapper.children[3].offsetY=o.y}}else"NonInitiatingMessage"===t.shape.message&&"InitiatingMessage"===t.shape.message||("Default"!==n.shape.message?e.wrapper.children[3].style.fill="NonInitiatingMessage"===n.shape.message?"lightgrey":"white":e.wrapper.children[3].visible=!1);return e},e.prototype.setSizeForBPMNEvents=function(e,t,n,r){t.children[0].width=n,t.children[0].height=r;var i=t.children[1];i.width=.85*n,i.height=.85*r;var o=t.children[2];"Message"===e.trigger?(o.width=.54*n,o.height=.4*r):(o.width=.5*n,o.height=.5*r)},e.prototype.updateAnnotationDrag=function(e,t,n,r){var i=e.id.split("_");if("textannotation"===i[1])for(var o=void 0,a=0;a<e.inEdges.length;a++){var s=t.nameTable[e.inEdges[a]];s&&(o=t.nameTable[s.sourceID]);var l={x:e.offsetX+n,y:e.offsetY+r},c=s.sourcePoint,h=or.findLength(l,c),d=or.findAngle(c,l);if(o.shape.annotations)for(var u=0;u<o.shape.annotations.length;u++)if(o.shape.annotations[u].id===i[i.length-1])return o.shape.annotations[u].length=h,o.shape.annotations[u].angle=d,this.setAnnotationPath(o.wrapper.bounds,e.wrapper,l,e),!1}return!!e.processId&&(this.drag(e,n,r,t),!0)},e.prototype.getAnnotationPathAngle=function(e,t){var n=0;switch(Po(e,t,t)){case"Right":n=0;break;case"Left":n=180;break;case"Bottom":n=90;break;case"Top":n=270}return n},e.prototype.setSizeForBPMNGateway=function(e,t,n,r){t.children[0].width=n,t.children[0].height=r,t.children[1].width=.45*n,t.children[1].height=.45*r},e.prototype.setSizeForBPMNDataObjects=function(e,t,n,r){t.children[0].width=n,t.children[0].height=r},e.prototype.setSizeForBPMNActivity=function(e,t,n,r,i){t.children[0].width=n,t.children[0].height=r,t.children[0].children[0].width=n,t.children[0].children[0].height=r,"Transaction"===e.subProcess.type&&(t.children[0].children[1].width=Math.max(n-6,1),t.children[0].children[1].height=Math.max(r-6,1),t.children[0].children[2].width=n,t.children[0].children[2].height=r);var o,a,s=new di,l=this.getSize(i,s),c=12*(a="Task"===e.activity?this.getTaskChildCount(i):this.getSubprocessChildCount(i)),h=(n||l.width)/2;o=1===a?h-6:h-c/2-4*(a-1)/2;for(var d=0;d<t.children[0].children.length;d++)t.children[0].children[d].visible&&(t.children[0].children[d].id.indexOf("_loop")>-1||t.children[0].children[d].id.indexOf("_0_compensation")>-1||t.children[0].children[d].id.indexOf("_0_adhoc")>-1||t.children[0].children[d].id.indexOf("_0_collapsed")>-1)&&(t.children[0].children[d].margin.left=o,o+=t.children[0].children[d].actualSize.width+4)},e.prototype.updateDiagramContainerVisibility=function(e,t){if(e instanceof pi)for(var n=0;n<e.children.length;n++)this.updateDiagramContainerVisibility(e.children[n],t);e.visible=t},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Bpmn"}}();function AA(e){return wA[e.toString()]}function mA(e){return xA[e.toString()]}function yA(e){return CA[e.toString()]}function vA(e){return SA[e.toString()]}function bA(e){return BA[e.toString()]}var wA={Event:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Message:"M0,0L19.8,12.8L40,0L0,0L0,25.5L40,25.5L40,0z",DataSource:"M 0 10.6 c 0 5.9 16.8 10.6 37.5 10.6 S 75 16.4 75 10.6 v 0 v 68.9 v -0.1 C 75 85.3 58.2 90 37.5 90 S 0 85.3 0 79.4 l 0 0.1 V 56 V 40.6 L 0 10.6 C 0 4.7 16.8 0 37.5 0 S 75 4.7 75 10.6 S 58.2 21.2 37.5 21.2S 0 16.5 0 10.6 l 0 6.7 v -0.2 c 0 5.9 16.8 10.6 37.5 10.6 S 75 22.9 75 17.1 v 6.8 v -0.1 c 0 5.9 -16.8 10.6 -37.5 10.6 S 0 29.6 0 23.8",SubProcess:"M100,100 h200 a20,20 0 0 1 20,20 v200 a20,20 0 0 1 -20,20 h-200 a20,20 0 0 1 -20,-20 v-200 a20,20 0 0 1 20,-20 z",collapsedShape:"M 8.13789 15 H 0 V 0 H 8.13789 V 15 Z M 0.625991 13.75 H 7.51189 V 1.25 H 0.625991 V 13.75 Z M 2.18095 7.03125 L 5.95631 7.03125 L 5.95631 7.46875 L 2.18095 7.46875 Z M 3.8342 3.73 L 4.30369 3.73 L 4.30369 11.2687 L 3.8342 11.2687 Z"},xA={Message:"M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",Timer:"M40,20c0,8.654-5.496,16.024-13.189,18.81C24.685,39.58,22.392,40,20,40C8.954,40,0,31.046,0,20S8.954,0,20,0S40,8.954,40,20z M20,0 L20,2.583 L20,5.283 M10.027,2.681L11.659,5.507 L12.669,7.257 M2.731,9.989 L6.014,11.885 L7.307,12.631 M0.067,19.967 L2.667,19.967 L5.35,19.967M2.748,29.939 L5.731,28.217 L7.323,27.298 M10.056,37.236 L11.292,35.095 L12.698,32.66 M20.033,39.9 L20.033,36.417 L20.033,34.617M30.006,37.219 L28.893,35.292 L27.364,32.643 M37.302,29.911 L34.608,28.355 L32.727,27.269M39.967,19.933 L37.417,19.933 L34.683,19.933 M37.286,9.961 L34.583,11.521 L32.71,12.602 M29.977,2.664 L28.653,4.957 L27.336,7.24 M22.104,8.5 L19.688,20 L24.75,20 L31.604,20 L24.75,20 L19.688,20z",Error:"M 23.77 18.527 l -7.107 27.396 l 8.507 -17.247 L 36.94 40.073 l 6.394 -25.997 l -8.497 15.754 L 23.77 18.527 Z",Escalation:"M 30.001 8.098 L 11.842 43.543 l 18.159 -18.882 l 18.162 18.882 L 30.001 8.098 Z ",Cancel:"M 3.5 16 L 0 12.6 L 4.6 8 L 0 3.5 L 3.4 0 L 8 4.6 l 4.5 -4.5 L 16 3.5 L 11.5 8 l 4.5 4.5 l -3.4 3.5 L 8 11.4 L 3.5 16 Z",Compensation:"M 25.7086 0 L 0 25 L 25.7086 50 V 26.3752 L 50 50 V 0 L 25.7086 23.6248 V 0 Z ",Conditional:"M 0 0 H 16 V 16 H 0 z M 1.14 3.2 H 14.85 M 1.14 6.4 H 14.85 M 1.14 9.6 H 14.85 M 1.14 12.8 H 14.85",Link:"M 32.014 19.258 v 5.992 H 9.373 v 9.504 h 22.641 v 5.988 L 50.622 30 L 32.014 19.258 Z",Signal:"M 50 50 H 0 L 25.0025 0 L 50 50 Z",Terminate:"M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",Multiple:"M 17.784 48.889 H 42.21 l 7.548 -23.23 L 29.997 11.303 L 10.236 25.658 L 17.784 48.889 Z",Parallel:"M 27.276 49.986 h 5.58 v -17.15 h 17.146 V 27.17 h -17.15 l 0.004 -17.15 h -5.58 l -0.004 17.15 H 9.994 v 5.666 h 17.278 L 27.276 49.986 Z"},CA={None:"",Exclusive:"M 11.196 29.009 l 6.36 -9.712 l -5.764 -8.899 h 4.393 l 3.732 5.979 l 3.656 -5.979 h 4.354 l -5.789 9.039l 6.36 9.572 h -4.532 l -4.126 -6.437 l -4.139 6.437 H 11.196 Z",Inclusive:"M 20.323 31.333 c -6.625 0 -12.015 -5.39 -12.015 -12.015 s 5.39 -12.015 12.015 -12.015 s 12.016 5.39 12.016 12.015 S 26.948 31.333 20.323 31.333 Z M 20.323 9.303 c -5.522 0 -10.015 4.493 -10.015 10.015 s 4.492 10.015 10.015 10.015 s 10.016 -4.493 10.016 -10.015 S 25.846 9.303 20.323 9.303 Z",Parallel:"M 18.394 29.542 v -8.833 H 9.626 v -3.691 h 8.768 V 8.251 h 3.734 v 8.767 h 8.768 v 3.691 h -8.768 v 8.833 H 18.394 Z",Complex:"M29.198,19.063L23.089,19.063L27.794,14.358L26.38,12.944L21.223,18.101L21.223,10.443L19.223,10.443L19.223,17.976L14.022,12.776L12.608,14.19L17.48,19.063L10.365,19.063L10.365,21.063L18.261,21.063L12.392,26.932L13.806,28.346L19.223,22.929L19.223,30.225L21.223,30.225L21.223,22.805L25.925,27.507L27.339,26.093L22.309,21.063L29.198,21.063z",EventBased:"M 20.322 29.874 c -5.444 0 -9.873 -4.43 -9.873 -9.874 s 4.429 -9.874 9.873 -9.874 s 9.874 4.429 9.874 9.874 S 25.767 29.874 20.322 29.874 Z M 20.322 32.891 c -7.107 0 -12.89 -5.783 -12.89 -12.891 c 0 -7.107 5.782 -12.89 12.89 -12.89 c 7.108 0 12.891 5.783 12.891 12.89 C 33.213 27.108 27.431 32.891 20.322 32.891 Z M 24.191 25.386 h -7.984 l -2.469 -7.595 l 6.461 -4.693 l 6.461 4.693 L 24.191 25.386 Z",ExclusiveEventBased:"M 30 15 C 30 23.28 23.28 30 15 30 S 0 23.28 0 15 S 6.72 0 15 0 S 30 6.72 30 15 z M 15 5 L 5 12.5 L 8 22.5 H 22 L 25 12.5 z",ParallelEventBased:"M 35 17.5 C 35 27.16 27.16 35 17.5 35 S 0 27.16 0 17.5 S 7.84 0 17.5 0 S 35 7.84 35 17.5 z M 14.58 5.83 V 14.58 H 5.83 V 20.42 H 14.58 V 29.17 H 20.42 V 20.42 H 29.17 V 14.58 H 20.42 V 5.83 z"},SA={None:"",Service:"M 32.699 20.187 v -4.005 h -3.32 c -0.125 -0.43 -0.292 -0.83 -0.488 -1.21 l 2.373 -2.375 l -2.833 -2.83 l -2.333 2.333 c -0.44 -0.253 -0.9 -0.448 -1.387 -0.595 v -3.32 h -4.003 v 3.32 c -0.46 0.137 -0.890.322 -1.3 0.537 l -2.285 -2.275 l -2.833 2.83 l 2.285 2.278 c -0.235 0.42 -0.41 0.847 -0.547 1.307 h -3.33 v 4.005 h 3.33 c 0.148 0.488 0.343 0.955 0.588 1.395 l -2.325 2.325 l 2.822 2.832 l 2.373 -2.382 c 0.392 0.205 0.792 0.37 1.212 0.497 v 3.33 h 4.003 v -3.33 c 0.46 -0.138 0.89 -0.323 1.3 -0.547 l 2.43 2.432 l 2.822 -2.832 l -2.42 -2.422 c 0.222 -0.41 0.4 -0.85 0.535-1.297 H 32.699 Z M 22.699 21.987 c -2.1 0 -3.803 -1.703 -3.803 -3.803 c 0 -2.1 1.703 -3.803 3.803 -3.803 c 2.1 0 3.803 1.703 3.803 3.803 C 26.502 20.285 24.8 21.987 22.699 21.987 Z",Receive:"M 12.217 12.134 v 13.334 h 20 V 12.134 H 12.217 Z M 30.44 13.007 l -8.223 5.35 l -8.223 -5.35 H 30.44 Z M 13.09 24.594 V 13.459 l 9.127 5.94 l 9.127 -5.94 v 11.135 H 13.09 Z",Send:"M 45.7256 3.16055 L 25 23.4017 L 4.27442 3.16055 H 45.7256 Z M 47.8963 46.8413 H 2.10375 V 4.80813 L 25 27.1709 L 47.8963 4.80813 V 46.8413 Z",InstantiatingReceive:"M 16.306 17.39 v 8.79 h 13.198 v -8.79 H 16.306 Z M 28.375 17.946 l -5.47 3.558 l -5.47 -3.558 H 28.375 Z M 28.948 25.625 H 16.861 v -7.389 l 6.043 3.931 l 6.043 -3.931 V 25.625 Z M 22.905 11.785c -5.514 0 -9.999 4.486 -9.999 10 c 0 5.514 4.485 10 9.999 10 s 9.999 -4.486 9.999 -10 C 32.904 16.272 28.419 11.785 22.905 11.785 Z M 22.905 31.239 c -5.212 0 -9.453 -4.241 -9.453 -9.454c 0 -5.212 4.241 -9.453 9.453 -9.453 s 9.452 4.241 9.452 9.453 C 32.357 26.998 28.117 31.239 22.905 31.239 Z",Manual:"M 13.183 15.325 h 2.911 c 0.105 0 0.207 -0.043 0.281 -0.117 c 0.078 -0.074 0.117 -0.176 0.117 -0.281c 0 -0.753 0.718 -1.362 1.596 -1.362 h 2.579 c -0.117 0.227 -0.191 0.48 -0.195 0.757 c 0 0.433 0.168 0.851 0.46 1.144 c 0.008 0.004 0.015 0.011 0.019 0.015 c -0.289 0.285 -0.475 0.691 -0.479 1.148 c 0 0.433 0.168 0.846 0.46 1.139 c 0.011 0.012 0.023 0.02 0.035 0.032 c -0.301 0.281 -0.491 0.694 -0.495 1.155 c 0 0.432 0.168 0.847 0.46 1.143c 0.265 0.266 0.612 0.414 0.975 0.414 h 0.839 c 0.027 0.004 0.051 0.012 0.074 0.012 h 8.443 c 0.352 0 0.636 0.344 0.636 0.761 c 0 0.414 -0.285 0.753 -0.636 0.753 h -6.687 c -0.019 0 -0.035 -0.008 -0.051 -0.008h -2.27 c -0.121 -0.835 -0.667 -1.187 -1.795 -1.187 h -2.158 c -0.223 0 -0.402 0.18 -0.402 0.403c 0 0.219 0.179 0.398 0.402 0.398 h 2.158 c 0.972 0 1.019 0.203 1.019 0.784 c 0 0.219 0.179 0.399 0.402 0.399 c 0.008 0 0.016 -0.004 0.027 -0.004 c 0.028 0.004 0.055 0.016 0.082 0.016 h 2.56 c 0.34 0.015 0.616 0.343 0.616 0.752c 0 0.418 -0.285 0.757 -0.636 0.761 h -0.004 h -6.442 c -0.878 0 -1.595 -0.639 -1.595 -1.427 v -0.683 c 0 -0.109 -0.043 -0.211 -0.114 -0.285 c -0.078 -0.074 -0.179 -0.117 -0.285 -0.117 h -0.004 l -2.989 0.027 c -0.223 0 -0.398 0.184 -0.398 0.402 c 0 0.219 0.179 0.395 0.398 0.395 h 0.004 l 2.591 -0.02 v 0.282 c 0 1.229 1.073 2.223 2.391 2.223 h 3.895 c 0.004 0 0.007 0.004 0.011 0.004 h 2.536 c 0.792 0 1.436 -0.698 1.436 -1.561 c 0 -0.273 -0.07 -0.53 -0.188 -0.752 h 5.49 c 0.792 0 1.436 -0.695 1.436 -1.553 c 0 -0.858 -0.644 -1.557 -1.436 -1.557h -3.566 c 0.121 -0.226 0.199 -0.487 0.199 -0.768 c 0 -0.468 -0.195 -0.882 -0.495 -1.167c 0.301 -0.285 0.495 -0.698 0.495 -1.163 c 0 -0.456 -0.191 -0.866 -0.483 -1.152 c 0.293 -0.285 0.483 -0.694 0.483 -1.151c 0 -0.858 -0.647 -1.557 -1.439 -1.557 h -8.373 c -1.167 0 -2.142 0.757 -2.352 1.76 l -2.548 -0.004 c -0.219 0 -0.399 0.18 -0.399 0.403 C 12.784 15.145 12.964 15.325 13.183 15.325 L 13.183 15.325 Z M 21.907 19.707 c -0.191 0 -0.328 -0.094 -0.41 -0.176 c -0.144 -0.145 -0.226 -0.355 -0.226 -0.577 c 0.003 -0.418 0.289 -0.753 0.643 -0.753 h 4.468 c 0.008 0 0.015 -0.004 0.027 -0.008 h 0.051 c 0.351 0 0.636 0.344 0.636 0.761 c 0 0.414 -0.286 0.753 -0.636 0.753 H 21.907 Z M 27.097 16.629 c 0 0.414 -0.286 0.753 -0.64 0.753 h -4.464 c -0.004 0 -0.004 0 -0.004 0 h -0.082c -0.191 0 -0.328 -0.098 -0.414 -0.18 c -0.14 -0.145 -0.222 -0.352 -0.222 -0.573 c 0 -0.413 0.285 -0.749 0.631 -0.753h 3.434 c 0 0 0 0 0.004 0 h 1.116 c 0.008 0 0.012 -0.004 0.02 -0.004 C 26.819 15.887 27.097 16.215 27.097 16.629L 27.097 16.629 Z M 27.097 14.322 c 0 0.41 -0.278 0.737 -0.62 0.749 c -0.008 0 -0.012 0 -0.016 0 h -3.637 c -0.008 0 -0.015 0.004 -0.023 0.004 h -0.886 c -0.004 0 -0.008 0 -0.012 0 c -0.187 0 -0.324 -0.094 -0.406 -0.176c -0.144 -0.144 -0.226 -0.355 -0.226 -0.577 c 0.003 -0.414 0.293 -0.753 0.643 -0.753 h 4.468 c 0.008 0 0.015 -0.004 0.027 -0.004 h 0.051 C 26.811 13.565 27.097 13.905 27.097 14.322 L 27.097 14.322 Z M 27.097 14.322",BusinessRule:"M 32.844 13.245 h -0.089 v 0 H 13.764 v -0.015 h -1.009 v 16.989 h 0.095 v 0.011 h 19.716 v -0.011 h 0.278 V 13.245 Z M 31.844 14.229 v 4.185 h -18.08 v -4.185 H 31.844 Z M 18.168 25.306 v 3.938 h -4.404 v -3.938 H 18.168 Z M 13.764 24.322 v -4.923 h 4.404 v 4.923 H 13.764 Z M 19.177 25.306 h 12.667 v 3.938 H 19.177 V 25.306 Z M 19.177 24.322v -4.923 h 12.667 v 4.923 H 19.177 Z",User:"M 21.762 21.935 c 2.584 0 4.687 -2.561 4.687 -5.703 c 0 -3.147 -2.103 -5.703 -4.687 -5.703 c -1.279 0 -2.475 0.61-3.363 1.721 c -0.855 1.071 -1.327 2.484 -1.324 3.983 C 17.075 19.374 19.178 21.935 21.762 21.935 L 21.762 21.935 ZM 21.762 11.779 c 1.894 0 3.436 1.995 3.436 4.452 c 0 2.453 -1.541 4.452 -3.436 4.452 c -1.895 0 -3.44 -1.999 -3.44 -4.452C 18.323 13.774 19.864 11.779 21.762 11.779 L 21.762 11.779 Z M 25.699 21.309 c -0.348 0 -0.626 0.277 -0.626 0.626 c 0 0.344 0.277 0.622 0.626 0.622 c 2.136 0 3.875 1.74 3.875 3.879 c 0 0.272 -0.227 0.498 -0.501 0.498 H 14.447 c -0.274 0 -0.497 -0.223 -0.497 -0.498 c 0 -2.139 1.736 -3.879 3.872 -3.879 c 0.344 0 0.625 -0.277 0.625 -0.622 c 0 -0.348 -0.28 -0.626-0.625 -0.626 c -2.826 0 -5.124 2.297 -5.124 5.126 c 0 0.965 0.784 1.749 1.748 1.749 h 14.626 c 0.964 0 1.748 -0.7841.748 -1.749 C 30.822 23.606 28.524 21.309 25.699 21.309 L 25.699 21.309 Z M 22.217 9.832 c 0.448 -0.263 0.924 -0.396 1.419 -0.396 c 1.895 0 3.436 1.995 3.436 4.452 c 0 0.439 -0.048 0.873 -0.143 1.284 c -0.08 0.336 0.128 0.672 0.464 0.751 c 0.048 0.012 0.098 0.019 0.143 0.019 c 0.284 0 0.541 -0.195 0.608 -0.483 c 0.119 -0.506 0.18 -1.034 0.18 -1.571c 0 -3.147 -2.102 -5.703 -4.687 -5.703 c -0.711 0 -1.419 0.198 -2.054 0.573 c -0.296 0.174 -0.397 0.559 -0.219 0.855C 21.536 9.911 21.921 10.009 22.217 9.832 L 22.217 9.832 Z M 27.697 18.81 c -0.345 0 -0.626 0.277 -0.626 0.622 c 0 0.348 0.281 0.626 0.626 0.626 c 2.137 0 3.75 1.782 3.75 3.918 c 0 0.07 -0.013 0.141 -0.043 0.205 c -0.14 0.314 0.0030.684 0.318 0.823 c 0.082 0.037 0.167 0.055 0.253 0.055 c 0.241 0 0.466 -0.141 0.57 -0.373 c 0.101 -0.226 0.153 -0.464 0.153-0.714 C 32.699 21.15 30.523 18.81 27.697 18.81 L 27.697 18.81 Z M 27.697 18.81",Script:"M 22.453 15.04 c 0 0 -1.194 -3.741 2.548 -3.774 c 0 0 2.497 0.126 1.766 4.321 c -0.008 0.043 -0.015 0.086 -0.024 0.13c -0.806 4.323 -2.516 8.42 -3.193 10.581 h 3.904 c 0 0 0.983 4.581 -2.549 4.968 H 13.292 c 0 0 -3.097 -1.42 -1.517 -5.323 l 3 -10.839 H 11.84 c 0 0 -1.129 -2.902 1.709 -3.806 l 11.425 -0.032 l -0.73 0.355 l -1.193 1.726 L 22.453 15.04 Z M 22.409 12.597 c 0 0 -0.242 0.483 -0.278 0.98 h -9.098 c 0 0 -0.06 -0.871 0.714 -1.041 L 22.409 12.597 Z M 26.341 27.734c 0 0 -0.13 2.678 -2.226 1.871 c 0 0 -0.823 -0.565 -0.758 -1.855 L 26.341 27.734 Z M 22.905 15.008 c 0 0 0.653 -0.258 0.709-1.501 c 0 0 0.145 -1.144 1.483 -0.693 c 0 0 0.808 0.355 0.259 2.404 c 0 0 -2.226 8.5 -3.032 10.339 c 0 0 -1.064 2.646 0.096 4.226 h -8.581 c 0 0 -1.806 -0.452 -0.741 -3.613 c 0 0 2.935 -9.549 3.193 -11.162 L 22.905 15.008 Z"},BA={None:"",Standard:"M 52.002 73.379 c -2.494 -2.536 -6.55 -2.534 -9.043 0 c -1.208 1.228 -1.874 2.861 -1.874 4.598 c 0 1.225 0.337 2.395 0.957 3.411 l -1.167 1.186 l 2.071 0.458 l 2.071 0.458 l -0.45 -2.106 l -0.45 -2.106 l -1.292 1.314c -1.119 -2.065 -0.842 -4.709 0.877 -6.458 c 2.084 -2.119 5.475 -2.117 7.557 0 c 2.083 2.119 2.083 5.565 0 7.685c -0.976 0.992 -2.272 1.557 -3.65 1.59 l 0.025 1.068 c 1.65 -0.041 3.2 -0.716 4.368 -1.903 c 1.208 -1.228 1.874 -2.861 1.874 -4.597 C 53.875 76.24 53.209 74.607 52.002 73.379 Z",ParallelMultiInstance:"M 51.5,69.5 L52.5,69.5 L52.5,84.5 L51.5 84.5 Z M 46.5,69.5 L47.5,69.5 L47.5,84.5 L46.5 84.5 Z M 41.5,69.5 L42.5,69.5 L42.5,84.5 L41.5 84.5 Z  ",SequenceMultiInstance:"M 40.375,71.5 L 55.375,71.5 L 55.375,72.5 L 40.375,72.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,81.5 L 55.375,81.5L 55.375,82.5 L 40.375,82.5 Z"},PA=(function(){function e(){}e.prototype.updateBridging=function(e,t){var n,r=[];if(e.bridges=[],function(e,t){return e.constraints&kr.Bridging?e.constraints&kr.Bridging:e.constraints&kr.InheritBridging?t.constraints&jr.Bridging:0}(e,t)){var i=this.getPoints(e);n=Ar.toBounds(i);for(var o=e.bridgeSpace,a=t.bridgeDirection,s=-1,l=t.connectors,c=0;c<l.length;c++){var h=l[c];if(e&&h&&e.id!==h.id){var d=this.getPoints(h),u=Ar.toBounds(d);if(this.intersectsRect(n,u)){var p=this.intersect(i,d,!1,a,!0);if(p.length>0)for(var f=0;f<p.length;f++){var g=0,A=0,m=0,y=0,v=this.getLengthAtFractionPoint(e,p[f]);if(-1!==v.pointIndex){A=v.lengthFractionIndex,g=v.fullLength,m=v.segmentIndex,y=v.pointIndex;var b=this.getPointAtLength(A-o/2,i),w=this.getPointAtLength(A+o/2,i);(A+o/2)/g,this.isEmptyPoint(w)&&(w=b);var x=void 0,C=e.sourcePoint;x="Straight"===e.type?e.targetPoint:e.intermediatePoints[y];var S=this.angleCalculation(C,x);if(r.length){var B,P=e.sourcePoint,E=Math.abs(this.lengthCalculation(P,w)),O=-1;s=-1;for(var T=0;T<r[m].bridges.length;T++){s++;var I=r[m].bridges[T];if(E<Math.abs(this.lengthCalculation(P,I.endPoint))){O=s;break}}if(O>=0)(B=this.createSegment(b,w,S,a,y,e,t)).target=h.id,r[m].bridges.splice(O,0,B),r[m].bridges.join(),r[m].bridgeStartPoint.splice(O,0,b),r[m].bridgeStartPoint.join(),r[m].segmentIndex=m;else(B=this.createSegment(b,w,S,a,y,e,t)).target=h.id,r[m].bridges.push(B),r[m].bridgeStartPoint.push(b),r[m].segmentIndex=m}else if(!isNaN(b.x)&&!isNaN(b.y)&&!this.isEmptyPoint(w)){var L=this.createSegment(b,w,S,a,y,e,t),k={bridges:[],bridgeStartPoint:[],segmentIndex:m};L.target=h.id;var N=[];N.push(b),[].push(w),r[m]=k,r[m].bridges.push(L),r[m].bridgeStartPoint=N,r[m].segmentIndex=m}}}}}}0!==r.length&&this.firstBridge(r,e,o)}},e.prototype.firstBridge=function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],o=1;o<i.bridges.length;o++)if(or.findLength(i.bridges[o].endPoint,i.bridges[o-1].endPoint)<n){i.bridges[o-1].endPoint=i.bridges[o].endPoint;var a=i.bridges[o-1],s=this.createBridgeSegment(a.startPoint,a.endPoint,a.angle,n,a.sweep);i.bridges[o-1].path=s,i.bridges.splice(o,1),i.bridgeStartPoint.splice(o,1),o--}t.sourcePoint;for(var l=0;l<i.bridges.length;l++){(a=i.bridges[l]).endPoint,t.bridges.push(a)}}},e.prototype.createSegment=function(e,t,n,r,i,o,a){var s={angle:0,endPoint:{x:0,y:0},target:"",path:"",segmentPointIndex:-1,startPoint:{x:0,y:0},sweep:1,rendered:!1},l=this.sweepDirection(n,r,o,a),c=this.createBridgeSegment(e,t,n,o.bridgeSpace,l);return s.path=c,s.startPoint=e,s.endPoint=t,s.angle=n,s.segmentPointIndex=i,s.sweep=l,s},e.prototype.createBridgeSegment=function(e,t,n,r,i){return"A "+r/2+" "+r/2+" "+n+" , 1 "+i+" "+t.x+","+t.y},e.prototype.sweepDirection=function(e,t,n,r){var i,o=Math.abs(e);switch(t){case"Top":case"Bottom":i=1,o>=0&&o<=90&&(i=0);break;case"Left":case"Right":i=1,e<0&&e>=-180&&(i=0)}return"Right"!==t&&"Bottom"!==t||(i=0===i?1:0),i},e.prototype.getPointAtLength=function(e,t){for(var n,r=0,i={x:0,y:0},o=0;o<t.length;o++){var a=t[o];if(n){var s=this.lengthCalculation(n,a);if(r+s>e){var l=e-r,c=or.findAngle(n,a),h=l*Math.cos(c*Math.PI/180),d=l*Math.sin(c*Math.PI/180);i={x:n.x+h,y:n.y+d};break}r+=s,n=a}else n=a}return i},e.prototype.getPoints=function(e){var t=[];if(e.intermediatePoints&&("Straight"===e.type||"Orthogonal"===e.type))for(var n=0;n<e.intermediatePoints.length;n++)t.push(e.intermediatePoints[n]);return t},e.prototype.intersectsRect=function(e,t){return t.x<e.x+e.width&&e.x<t.x+t.width&&t.y<e.y+e.height&&e.y<t.y+t.height},e.prototype.intersect=function(e,t,n,r,i){n&&t.length>=2&&(t.splice(0,1),t.splice(0,1));for(var o=[],a=0;a<e.length-1;a++){var s=this.inter1(e[a],e[a+1],t,i,r);if(s.length>0)for(var l=0;l<s.length;l++)o.push(s[l]);n&&t.length>=1&&t.splice(0,1)}return o},e.prototype.inter1=function(e,t,n,r,i){for(var o=[],a=0;a<n.length-1;a++){var s=vh(e,t,n[a],n[a+1]);if(!this.isEmptyPoint(s)){var l=this.angleCalculation(e,t),c=this.angleCalculation(n[a],n[a+1]);switch(l=this.checkForHorizontalLine(l),c=this.checkForHorizontalLine(c),i){case"Left":case"Right":l>c&&o.push(s);break;case"Top":case"Bottom":l<c&&o.push(s)}l===c&&r&&o.push(s)}}return o},e.prototype.checkForHorizontalLine=function(e){var t=Math.abs(e);return t>90?180-t:t},e.prototype.isEmptyPoint=function(e){return 0===e.x&&0===e.y},e.prototype.getLengthAtFractionPoint=function(e,t){for(var n=100,r=-1,i=0,o=-1,a=0,s=0,l=e.sourcePoint,c=l,h=[],d=0;d<e.intermediatePoints.length;d++){var u=e.intermediatePoints[d];h.push(u)}for(var p=0;p<h.length;p++){var f=h[p],g=this.getSlope(f,l,t,e);g<n&&(n=g,s=i+this.lengthCalculation(t,c),o=a,r=p),i+=or.findLength(f,l),l=f,c=f}return a++,{lengthFractionIndex:s,fullLength:i,segmentIndex:o,pointIndex:r}},e.prototype.getSlope=function(e,t,n,r){var i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),a=(n.y-e.y)/(t.y-e.y),s=(n.x-e.x)/(t.x-e.x);if(!isFinite(a)||!isFinite(s)||isNaN(a)||isNaN(s)){if(e.x===t.x){if(e.y===t.y)return 1e4;if(e.y>n.y&&n.y>t.y||e.y<n.y&&n.y<t.y)return Math.abs(e.x-n.x)}else if(e.y===t.y&&(e.x>n.x&&n.x>t.x||e.x<n.x&&n.x<t.x))return Math.abs(e.y-n.y)}else if((e.x>=n.x&&n.x>=t.x||e.x<=n.x&&n.x<=t.x||i<3)&&(e.y>=n.y&&n.y>=t.y||e.y<=n.y&&n.y<=t.y||o<3))return Math.abs(a-s);return 1e4},e.prototype.angleCalculation=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)*(180/Math.PI)},e.prototype.lengthCalculation=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Bridging"}}(),function(){function e(e){this.line=[],this.diagram=e}e.prototype.canSnap=function(){return 0!==(this.diagram.snapSettings.constraints&(Or.SnapToObject|Or.SnapToLines))},e.prototype.getWrapperObject=function(e,t){if(e.nodes&&e.nodes.length>0&&(this.diagram.snapSettings.constraints&Or.SnapToLines||this.diagram.snapSettings.constraints&Or.SnapToObject))for(var n=0;n<e.nodes.length;n++)return("SwimLane"===e.nodes[n].shape.type||e.nodes[n].isLane||""!==e.nodes[n].parentId&&t[e.nodes[n].parentId]&&t[e.nodes[n].parentId].isLane)&&t.helper?t.helper.wrapper:e.wrapper;return e.wrapper},e.prototype.snapPoint=function(e,t,n,r,i,o,a){var s=this.diagram.snapSettings,l=this.diagram.scroller.currentZoom,c={x:0,y:0},h=Vu(this.getWrapperObject(t,e.nameTable)),d={snapped:!1,offset:0},u={snapped:!1,offset:0};if(this.diagram.snapSettings.constraints&Or.SnapToObject){var p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("id","_SnappingLines"),p.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(p),this.snapObject(e,t,p,d,u,i,o===a)}var f=h.x+i.x,g=h.y+i.y,A=h.x+h.width+i.x,m=h.y+h.height+i.y,y=s.verticalGridlines.scaledIntervals,v=this.round(A,y,l),b=this.round(f,y,l);y=s.horizontalGridlines.scaledIntervals;var w=this.round(g,y,l),x=this.round(m,y,l),C=h.x+h.width,S=h.y+h.height;return d.snapped?this.diagram.snapSettings.constraints&Or.SnapToObject?c.x=d.offset:c.x=a.x-o.x:this.diagram.snapSettings.constraints&Or.SnapToVerticalLines?Math.abs(i.x)>=1&&(n?Math.abs(v-C)>Math.abs(b-h.x)?c.x+=b-h.x:c.x+=v-C:Math.abs(v-C)<Math.abs(b-h.x)?c.x+=v-C:c.x+=b-h.x):c.x=a.x-o.x,u.snapped?c.y=u.offset:this.diagram.snapSettings.constraints&Or.SnapToHorizontalLines?Math.abs(i.y)>=1&&(r?Math.abs(x-S)>Math.abs(w-h.y)?c.y+=w-h.y:c.y+=x-S:Math.abs(x-S)<Math.abs(w-h.y)?c.y+=x-S:c.y+=w-h.y):c.y=a.y-o.y,c},e.prototype.round=function(e,t,n){n=1===n?Math.pow(2,Math.floor(Math.log(n)/Math.log(2))):n;var r=0,i=0;for(i=0;i<t.length;i++)r+=t[i];var o=e%(r/=n),a=Math.floor(Math.abs(e)/r)*r;if(a!==e)if(e>=0)for(i=0;i<t.length;i++){if(o<=t[i]/n)return a+(o<t[i]/(2*n)?0:t[i]/n);a+=t[i]/n,o-=t[i]/n}else for(a*=-1,i=t.length-1;i>=0;i--){if(Math.abs(o)<=t[i]/n)return a-(Math.abs(o)<t[i]/(2*n)?0:t[i]/n);a-=t[i]/n,o+=t[i]/n}return e},e.prototype.snapObject=function(e,t,n,r,i,o,a){var s,l,c,h=null,d=this.diagram.scroller,u=this.diagram.snapSettings,p=[],f=[],g=[],A=[],m=Vu(this.getWrapperObject(t,e.nameTable)),y=e.scroller.currentZoom,v=-d.horizontalOffset,b=-d.verticalOffset,w=u.snapObjectDistance/y,x=new Ar(0,0,d.viewPortWidth,d.viewPortHeight),C=new Ar(v/y,m.y-w-5,x.width/y,m.height+2*w+10),S=new Ar(m.x-w-5,b/y,m.width+2*w+10,x.height/y);x=new Ar(v/y,b/y,x.width/y,x.height/y);var B,P,E,O=this.findNodes(e.spatialSearch,t,S,x),T=e.nameTable;for(B=0;B<O.length;B++)P=O[B],this.canBeTarget(e,P)&&(this.diagram.nameTable[P.id]instanceof Al||!this.canConsider(T,t,P)||((E=P.bounds).height+E.y<o.y+m.y?g.push({obj:P,distance:Math.abs(m.y+o.y-E.y-E.height)}):E.y>m.y+o.y+m.height&&A.push({obj:P,distance:Math.abs(m.y+o.y+m.height-E.y)}),(null==h||h>Math.abs(E.y-m.y-o.y))&&(Math.abs(E.x+E.width/2-(m.x+m.width/2+o.x))<=w?(l=this.createSnapObject(E,m,"centerX"),h=Math.abs(E.y-m.y)):Math.abs(E.x+E.width-(m.x+m.width+o.x))<=w?(l=this.createSnapObject(E,m,"right"),h=Math.abs(E.y-m.y)):Math.abs(E.x-(m.x+o.x))<=w?(l=this.createSnapObject(E,m,"left"),h=Math.abs(E.y-m.y)):Math.abs(E.x-(m.x+m.width+o.x))<=w?(l=this.createSnapObject(E,m,"rightLeft"),h=Math.abs(E.y-m.y)):Math.abs(E.x+E.width-(m.x+o.x))<=w&&(l=this.createSnapObject(E,m,"leftRight"),h=Math.abs(E.y-m.y)))));O=this.findNodes(e.spatialSearch,t,C,x);for(var I=0;I<O.length;I++)P=O[I],this.canBeTarget(e,P)&&(this.diagram.nameTable[P.id]instanceof Al||!this.canConsider(T,t,P)||((E=P.bounds).x+E.width<m.x+o.x&&(p[p.length]={obj:P,distance:Math.abs(m.x+o.x-E.x-E.width)}),E.x>m.x+o.x+m.width&&(f[f.length]={obj:P,distance:Math.abs(m.x+o.x+m.width-E.x)}),(null==s||s>Math.abs(E.x-m.x-o.x))&&(Math.abs(E.y+E.height/2-(m.y+m.height/2+o.y))<=w?(c=this.createSnapObject(E,m,"centerY"),s=Math.abs(E.x-m.x)):Math.abs(E.y-m.y-o.y)<=w?(c=this.createSnapObject(E,m,"top"),s=Math.abs(E.x-m.x)):Math.abs(E.y+E.height-(m.y+m.height+o.y))<=w?(c=this.createSnapObject(E,m,"bottom"),s=Math.abs(E.x-m.x)):Math.abs(E.y+E.height-m.y-o.y)<=w?(c=this.createSnapObject(E,m,"topBottom"),s=Math.abs(E.x-m.x)):Math.abs(E.y-(m.y+m.height+o.y))<=w&&(c=this.createSnapObject(E,m,"bottomTop"),s=Math.abs(E.x-m.x)))));this.createGuidelines(e,l,c,n,r,i,a),r.snapped||this.createHSpacingLines(e,n,t,p,f,r,i,a,o,w),i.snapped||this.createVSpacingLines(e,n,t,g,A,r,i,a,o,w)},e.prototype.snapConnectorEnd=function(e){var t=this.diagram.snapSettings,n=this.diagram.scroller.currentZoom;return t.constraints&Or.SnapToLines&&(e.x=this.round(e.x,t.verticalGridlines.scaledIntervals,n),e.y=this.round(e.y,t.horizontalGridlines.scaledIntervals,n)),e},e.prototype.canBeTarget=function(e,t){return t=this.diagram.nameTable[t.id],!_p(this.diagram,t,!1)},e.prototype.snapSize=function(e,t,n,r,i,o,a,s){var l,c,h,d,u=this.diagram.snapSettings,p=this.diagram.scroller,f=Vu(a.wrapper),g=e.nameTable,A=[],m=[],y=e.scroller.currentZoom,v=-p.horizontalOffset,b=-p.verticalOffset,w=u.snapObjectDistance/y,x=new Ar(0,0,p.viewPortWidth,p.viewPortHeight),C=new Ar(v/y,(f.y-5)/y,x.width/y,(f.height+10)/y),S=new Ar((f.x-5)/y,b/y,(f.width+10)/y,x.height/y);x=new Ar(v/y,b/y,x.width/y,x.height/y);var B,P,E,O=[],T=this.findNodes(e.spatialSearch,a,S,x,O);for(B=0;B<T.length;B++)P=T[B],!this.canConsider(g,a,P)||this.diagram.nameTable[P.id]instanceof Al||(E=P.bounds,(null==l||l>Math.abs(E.y-f.y))&&(t.left?Math.abs(f.x+i-E.x)<=w?(h=this.createSnapObject(E,f,"left"),l=Math.abs(E.y-f.y)):Math.abs(f.x+i-E.x-E.width)<=w&&(h=this.createSnapObject(E,f,"leftRight"),l=Math.abs(E.y-f.y)):t.right&&(Math.abs(f.x+i+f.width-E.x-E.width)<=w?(h=this.createSnapObject(E,f,"right"),l=Math.abs(E.y-f.y)):Math.abs(f.x+i+f.width-E.x)<=w&&(h=this.createSnapObject(E,f,"rightLeft"),l=Math.abs(E.y-f.y)))));T=this.findNodes(e.spatialSearch,a,C,x);for(var I=0;I<T.length;I++){var L=T[I];if(this.canConsider(g,a,L)&&!(this.diagram.nameTable[L.id]instanceof Al)){var k=L.bounds;(null==c||c>Math.abs(k.x-f.x))&&(n.top?Math.abs(f.y+o-k.y)<=w?(d=this.createSnapObject(k,f,"top"),c=Math.abs(k.x-f.x)):Math.abs(f.y+o-k.y-k.height)<=w&&(d=this.createSnapObject(k,f,"topBottom"),c=Math.abs(k.x-f.x)):n.bottom&&(Math.abs(f.y+f.height+o-k.y-k.height)<=w?(d=this.createSnapObject(k,f,"bottom"),c=Math.abs(k.x-f.x)):Math.abs(f.y+f.height+o-k.y)<=w&&(d=this.createSnapObject(k,f,"bottomTop"),c=Math.abs(k.x-f.x))))}}for(B=0;B<O.length;B++)if(P=O[B],this.canConsider(g,a,P)){var N=P.bounds,M=t.left?-i:i,D=Math.abs(f.width+M-N.width),R=void 0;D<=w&&(R=t.left?-N.width+f.width:N.width-f.width,A[A.length]={source:P,difference:D,offset:R}),M=n.top?-o:o;var j=Math.abs(f.height+M-N.height);j<=w&&(R=n.top?-N.height+f.height:N.height-f.height,m[m.length]={source:P,difference:j,offset:R})}if(!e.getTool)this.createGuidelines(e,h,d,r,t,n,s);!t.snapped&&A.length>0&&(t.left||t.right)&&this.addSameWidthLines(e,r,A,t,s,a),!n.snapped&&m.length>0&&(n.top||n.bottom)&&this.addSameHeightLines(e,r,m,n,s,a)},e.prototype.snapTop=function(e,t,n,r,i,o,a,s){var l,c=i;t.top=!0,e.left=e.right=!1;var h=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Or.SnapToObject&&!o.rotateAngle&&(l=s.y-s.height*o.pivot.y+i-(o.offsetY-o.height*o.pivot.y),this.snapSize(this.diagram,e,t,n,r,l,this.diagram.selectedItems,a)),t.snapped)c=i-l+t.offset;else if(this.diagram.snapSettings.constraints&Or.SnapToHorizontalLines){var d=s.y-s.height*o.pivot.y,u=d+i;c=this.round(u,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,h)-d}return c},e.prototype.snapRight=function(e,t,n,r,i,o,a,s){var l,c=r;e.right=!0,t.top=t.bottom=!1;var h=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Or.SnapToObject&&!o.rotateAngle&&(l=s.x+s.width*(1-o.pivot.x)+r-(o.offsetX+o.width*(1-o.pivot.x)),this.snapSize(this.diagram,e,t,n,l,i,this.diagram.selectedItems,a)),e.snapped)c=r-l+e.offset;else if(this.diagram.snapSettings.constraints&Or.SnapToVerticalLines){var d=s.x+s.width*(1-o.pivot.x),u=d+r;c=this.round(u,this.diagram.snapSettings.verticalGridlines.scaledIntervals,h)-d}return c},e.prototype.snapLeft=function(e,t,n,r,i,o,a,s){var l=r,c=0;e.left=!0,t.top=t.bottom=!1;var h=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Or.SnapToObject&&!o.rotateAngle&&(c=s.x-s.width*o.pivot.x+r-(o.offsetX-o.width*o.pivot.x),this.snapSize(this.diagram,e,t,n,c,i,this.diagram.selectedItems,a)),e.snapped)l=r-c+e.offset;else if(this.diagram.snapSettings.constraints&Or.SnapToVerticalLines){var d=s.x-s.width*o.pivot.x,u=d+r;l=this.round(u,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,h)-d}return l},e.prototype.snapBottom=function(e,t,n,r,i,o,a,s){var l=i;t.bottom=!0,e.left=e.right=!1;var c=this.diagram.scroller.currentZoom,h=0;this.diagram.snapSettings.constraints&Or.SnapToObject&&!o.rotateAngle&&(h=s.y+s.height*(1-o.pivot.y)+i-(o.offsetY+o.height*(1-o.pivot.y)),this.snapSize(this.diagram,e,t,n,r,h,this.diagram.selectedItems,a));Vu(o instanceof gi||o instanceof Us?o:o.wrapper);if(t.snapped)l=i-h+t.offset;else if(this.diagram.snapSettings.constraints&Or.SnapToHorizontalLines){var d=s.y+s.height*(1-o.pivot.y),u=d+i;l=this.round(u,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,c)-d}return l},e.prototype.createGuidelines=function(e,t,n,r,i,o,a){return t&&(i.offset=t.offsetX,i.snapped=!0,a||(t.type,this.renderAlignmentLines(t.start,t.end,r,e.scroller.transform))),n&&(o.offset=n.offsetY,o.snapped=!0,a||(n.type,this.renderAlignmentLines(n.start,n.end,r,e.scroller.transform))),r},e.prototype.renderAlignmentLines=function(e,t,n,r){e={x:(e.x+r.tx)*r.scale,y:(e.y+r.ty)*r.scale},t={x:(t.x+r.tx)*r.scale,y:(t.y+r.ty)*r.scale};var i={stroke:"#07EDE1",strokeWidth:1,startPoint:{x:e.x,y:e.y},endPoint:{x:t.x,y:t.y},fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:Uu()},o=0;for(this.line.push(i),o=0;o<this.line.length;o++)this.diagram.diagramRenderer.drawLine(n,this.line.pop())},e.prototype.createHSpacingLines=function(e,t,n,r,i,o,a,s,l,c){var h=0;this.sortByDistance(r,"distance",!0),this.sortByDistance(i,"distance",!0);var d,u,p,f,g,A=[];if(d=e.selectedObject.helperObject?Vu(e.selectedObject.helperObject.wrapper):Vu(n.wrapper),r.length>0&&(A[A.length]=r[0],h=(u=r[0].obj.bounds).y,r.length>1?(f=r[1].obj.bounds,g=u.x-f.x-f.width,Math.abs(g-r[0].distance)<=c?h=this.findEquallySpacedNodesAtLeft(r,g,h,A):g=r[0].distance):g=r[0].distance),this.sortByDistance(A,"distance"),A[A.length]={obj:n,distance:0},h=d.y<h||!h?d.y:h,i.length>0){var m=void 0;if(h=(p=i[0].obj.bounds).y<h?p.y:h,i.length>1&&(m=(f=i[1].obj.bounds).x-p.x-p.width),r.length>0)if(Math.abs(i[0].distance-r[0].distance)<=c){var y=Math.abs(i[0].distance-r[0].distance)/2;i[0].distance<r[0].distance?g-=y:g+=y,A[A.length]=i[0]}else 1===r.length&&(u=void 0,A.splice(0,1),A[A.length]=i[0],g=m);else g=m,A[A.length]=i[0];i.length>1&&p.x+p.width<f.x&&(h=this.findEquallySpacedNodesAtRight(i,m,h,A,c))}if(A.length>2){this.addHSpacingLines(e,t,A,s,h);var v=0;s&&(v=l.x),u?o.offset=g-Math.abs(d.x+v-u.x-u.width)+v:p&&(o.offset=Math.abs(d.x+d.width+v-p.x)-g+v),o.snapped=!0}},e.prototype.createVSpacingLines=function(e,t,n,r,i,o,a,s,l,c){var h=0;this.sortByDistance(r,"distance",!0),this.sortByDistance(i,"distance",!0);var d,u,p,f,g,A=[],m=Vu(n.wrapper);if(r.length>0&&(A[A.length]=r[0],h=(d=r[0].obj.bounds).x+d.width,r.length>1?(p=r[1].obj.bounds,f=d.y-p.y-p.height,Math.abs(f-r[0].distance)<=c?h=this.findEquallySpacedNodesAtTop(r,f,h,A):f=r[0].distance):f=r[0].distance),this.sortByDistance(A,"distance"),A[A.length]={obj:n,distance:0},h=m.x+m.width>h||!h?m.x+m.width:h,i.length>0){if(h=(u=i[0].obj.bounds).x+u.width>h?u.x+u.width:h,i.length>1&&(g=(p=i[1].obj.bounds).y-u.y-u.height),r.length>0)if(Math.abs(i[0].distance-r[0].distance)<=c){var y=Math.abs(i[0].distance-r[0].distance)/2;i[0].distance<r[0].distance?f-=y:f+=y,A[A.length]=i[0]}else 1===r.length&&(d=void 0,A.splice(0,1),A[A.length]=i[0],f=g);else f=g,A[A.length]=i[0];i.length>1&&p.y>u.y+u.height&&(h=this.findEquallySpacedNodesAtBottom(i,g,h,A,c))}if(A.length>2){this.addVSpacingLines(e,t,A,s,h);var v=0;s&&(v=l.y),d?a.offset=f-Math.abs(m.y+v-d.y-d.height)+v:u&&(a.offset=Math.abs(m.y+m.height+v-u.y)-f+v),a.snapped=!0}},e.prototype.addHSpacingLines=function(e,t,n,r,i){var o,a,s;if(!r)for(o=0;o<n.length-1;o++){var l=n[o].obj instanceof hu?Vu(n[o].obj.wrapper):n[o].obj.bounds,c=n[o+1].obj instanceof hu?Vu(n[o+1].obj.wrapper):n[o+1].obj.bounds;a={x:l.x+l.width,y:i-15},s={x:c.x,y:i-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform)}},e.prototype.addVSpacingLines=function(e,t,n,r,i){var o,a;if(!r)for(var s=0;s<n.length-1;s++){var l=n[s].obj instanceof hu?Vu(n[s].obj.wrapper):n[s].obj.bounds,c=n[s+1].obj instanceof hu?Vu(n[s+1].obj.wrapper):n[s+1].obj.bounds;o={x:i+15,y:l.y+l.height},a={x:i+15,y:c.y},this.renderSpacingLines(o,a,t,this.getAdornerLayerSvg(),e.scroller.transform)}},e.prototype.addSameWidthLines=function(e,t,n,r,i,o){this.sortByDistance(n,"offset");var a,s,l,c=Vu(o.wrapper),h=n[0],d=h.source.bounds,u=[];for(u.push(n[0]),l=1;l<n.length;l++)n[l].source.bounds.width===d.width&&u.push(n[l]);if(!i)for(a={x:c.x+h.offset,y:c.y-15},s={x:c.x+c.width+h.offset,y:c.y-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform),l=0;l<u.length;l++)a={x:(c=u[l].source.bounds).x,y:c.y-15},s={x:c.x+c.width,y:c.y-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform);r.offset=h.offset,r.snapped=!0},e.prototype.addSameHeightLines=function(e,t,n,r,i,o){this.sortByDistance(n,"offset");var a,s,l,c=Vu(o.wrapper),h=n[0],d=h.source.bounds,u=[];for(u.push(n[0]),l=0;l<n.length;l++)n[l].source.bounds.height===d.height&&u.push(n[l]);if(!i)for(a={x:c.x+c.width+15,y:c.y+h.offset},s={x:c.x+c.width+15,y:c.y+h.offset+c.height},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform),l=0;l<u.length;l++)a={x:(c=u[l].source.bounds).x+c.width+15,y:c.y},s={x:c.x+c.width+15,y:c.y+c.height},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform);r.offset=h.offset,r.snapped=!0},e.prototype.renderSpacingLines=function(e,t,n,r,i){var o,a,s=new wi,l={};e={x:(e.x+i.tx)*i.scale,y:(e.y+i.ty)*i.scale},t={x:(t.x+i.tx)*i.scale,y:(t.y+i.ty)*i.scale},e.x===t.x?(o="M"+(e.x-5)+" "+(e.y+5)+"L"+e.x+" "+e.y+"L"+(e.x+5)+" "+(e.y+5)+"zM"+(t.x-5)+" "+(t.y-5)+" L"+t.x+" "+t.y+" L"+(t.x+5)+" "+(t.y-5)+"z",a={startPoint:{x:e.x-8,y:e.y-1},endPoint:{x:e.x+8,y:e.y-1},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:Uu()},s.data=o,l.data=s.data,l.angle=0,l.pivotX=0,l.pivotY=0,l.x=0,l.y=0,l.height=0,l.width=1,l.id=Uu(),this.diagram.diagramRenderer.drawPath(n,l),this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop()),a={startPoint:{x:t.x-8,y:t.y+1},endPoint:{x:t.x+8,y:t.y+1},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:this.getAdornerLayerSvg().id+"spacing"},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())):(o="M"+(e.x+5)+" "+(e.y+5)+" L"+e.x+" "+e.y+" L"+(e.x+5)+" "+(e.y-5)+"zM"+(t.x-5)+" "+(t.y-5)+" L"+t.x+" "+t.y+" L"+(t.x-5)+" "+(t.y+5)+"z",s.data=o,l.data=o,l.angle=0,l.pivotX=0,l.pivotY=0,l.x=0,l.y=0,l.height=0,l.width=1,l.id=Uu(),this.diagram.diagramRenderer.drawPath(n,l),a={visible:!0,opacity:1,id:Uu(),startPoint:{x:e.x-1,y:e.y-8},endPoint:{x:e.x-1,y:e.y+8},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop()),a={width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:Uu(),startPoint:{x:t.x+1,y:t.y-8},endPoint:{x:t.x+1,y:t.y+8},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0"},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())),a={startPoint:{x:e.x,y:e.y},endPoint:{x:t.x,y:t.y},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:Uu()},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())},e.prototype.createSnapObject=function(e,t,n){var r;switch(n){case"left":r={start:{x:e.x,y:Math.min(e.y,t.y)},end:{x:e.x,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x-t.x,offsetY:0,type:"sideAlign"};break;case"right":r={type:"sideAlign",start:{x:e.x+e.width,y:Math.min(e.y,t.y)},offsetX:e.x+e.width-t.x-t.width,offsetY:0,end:{x:e.x+e.width,y:Math.max(e.y+e.height,t.y+t.height)}};break;case"top":r={offsetY:e.y-t.y,offsetX:0,type:"sideAlign",start:{x:Math.min(e.x,t.x),y:e.y},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y}};break;case"bottom":r={type:"sideAlign",offsetY:e.y+e.height-t.y-t.height,offsetX:0,end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height},start:{x:Math.min(e.x,t.x),y:e.y+e.height}};break;case"topBottom":r={start:{x:Math.min(e.x,t.x),y:e.y+e.height},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height},offsetY:e.y+e.height-t.y,offsetX:0,type:"sideAlign"};break;case"bottomTop":r={start:{x:Math.min(e.x,t.x),y:e.y},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y},offsetY:e.y-t.y-t.height,offsetX:0,type:"sideAlign"};break;case"leftRight":r={start:{x:e.x+e.width,y:Math.min(e.y,t.y)},end:{x:e.x+e.width,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x+e.width-t.x,offsetY:0,type:"sideAlign"};break;case"rightLeft":r={start:{x:e.x,y:Math.min(e.y,t.y)},end:{x:e.x,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x-t.x-t.width,offsetY:0,type:"sideAlign"};break;case"centerX":r={start:{x:e.x+e.width/2,y:Math.min(e.y,t.y)},end:{x:e.x+e.width/2,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x+e.width/2-(t.x+t.width/2),offsetY:0,type:"centerAlign"};break;case"centerY":r={start:{x:Math.min(e.x,t.x),y:e.y+e.height/2},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height/2},offsetY:e.y+e.height/2-(t.y+t.height/2),offsetX:0,type:"centerAlign"}}return r},e.prototype.snapAngle=function(e,t){var n=this.diagram.snapSettings.snapAngle,r=t%(n||0);return r>=n/2?t+n-r:t-r},e.prototype.canConsider=function(e,t,n){return!this.diagram.selectedItems.nodes.length||this.diagram.selectedItems.nodes[0].id!==n.id},e.prototype.findNodes=function(e,t,n,r,i){for(var o,a,s=[],l=e.findQuads(i?r:n),c=0;c<l.length;c++){var h=l[c];if(h.objects.length>0)for(var d=0;d<h.objects.length;d++)o=h.objects[d],this.diagram.nameTable[o.id]instanceof Al||!o.visible||"SwimLane"===this.diagram.nameTable[o.id].shape.type||this.diagram.nameTable[o.id].isLane||this.diagram.nameTable[o.id].isPhase||this.diagram.nameTable[o.id].isHeader||"helper"==o.id||(a=Vu(o),-1===s.indexOf(o)&&this.intersectsRect(n,a)&&s.push(o),i&&i.indexOf(o)&&this.intersectsRect(r,a)&&i.push(o))}return s},e.prototype.intersectsRect=function(e,t){return t.x<e.x+e.width&&e.x<t.x+t.width&&t.y<e.y+e.height&&e.y<t.y+t.height},e.prototype.getAdornerLayerSvg=function(){return this.diagram.diagramRenderer.adornerSvgLayer},e.prototype.removeGuidelines=function(e){var t=this.getAdornerLayerSvg().getElementById("_SnappingLines"),n=this.getAdornerLayerSvg().getElementById("pivotLine");t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n)},e.prototype.sortByDistance=function(e,t,n){var r,i,o;if(n)for(r=0;r<e.length;r++)for(i=r+1;i<e.length;i++)e[r][t]>e[i][t]&&(o=e[r],e[r]=e[i],e[i]=o);else for(r=0;r<e.length;r++)for(i=r+1;i<e.length;i++)e[r][t]<e[i][t]&&(o=e[r],e[r]=e[i],e[i]=o)},e.prototype.findEquallySpacedNodesAtLeft=function(e,t,n,r){var i,o,a,s;for(s=1;s<e.length&&(i=e[s-1].obj.bounds,o=e[s].obj.bounds,a=i.x-o.x-o.width,Math.abs(a-t)<=1);s++)r[r.length]=e[s],o.y<n&&(n=o.y);return n},e.prototype.findEquallySpacedNodesAtRight=function(e,t,n,r,i){var o,a,s,l,c=e[0].distance;if(Math.abs(t-c)<=i)for(var h=0;h<e.length-1&&(o=e[h].obj,a=e[h+1].obj.bounds,s=o.bounds,l=a.x-s.x-s.width,Math.abs(l-t)<=1);h++)r[r.length]=e[h+1],s.y<n&&(n=s.y);return n},e.prototype.findEquallySpacedNodesAtTop=function(e,t,n,r){for(var i,o,a,s=1;s<e.length&&(i=e[s-1].obj.bounds,o=e[s].obj.bounds,a=i.y-o.y-o.height,Math.abs(a-t)<=1);s++)r[r.length]=e[s],o.x+o.width>n&&(n=o.x+o.width);return n},e.prototype.findEquallySpacedNodesAtBottom=function(e,t,n,r,i){var o,a,s,l,c=e[0].distance;if(Math.abs(t-c)<=i)for(var h=0;h<e.length-1&&(o=e[h].obj,a=e[h+1].obj.bounds,s=o.bounds,l=a.y-s.y-s.height,Math.abs(l-t)<=1);h++)r[r.length]=e[h+1],s.x+s.width>n&&(n=s.x+s.width);return n},e.prototype.getLayer=function(){var e;return this.diagram.snapSettings.constraints&Or.SnapToObject&&((e=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id","_SnappingLines"),e.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(e)),e},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Snapping"}}(),function(){function e(){this.groupUndo=!1,this.childTable=[],this.historyCount=0,this.hasGroup=!1,this.groupCount=0}e.prototype.initHistory=function(e){e.historyManager={canRedo:!1,canUndo:!1,currentEntry:null,push:e.addHistoryEntry.bind(e),undo:Function,redo:Function,startGroupAction:e.startGroupAction.bind(e),endGroupAction:e.endGroupAction.bind(e),canLog:null,undoStack:[],redoStack:[],stackLimit:e.historyManager?e.historyManager.stackLimit:void 0}},e.prototype.addHistoryEntry=function(e,t){var n=null;if(t.historyManager.canLog&&!0===t.historyManager.canLog(e).cancel)return;if(t.historyManager&&t.historyManager.canUndo&&t.historyManager.currentEntry&&((n=t.historyManager.currentEntry).next?n.previous&&(n.next.previous=null,n.next=e,e.previous=n):(n.next=e,e.previous=n)),t.historyManager.currentEntry=e,t.historyManager.stackLimit){if("StartGroup"===e.type||"EndGroup"===e.type){var r="EndGroup"===e.type;this.setEntryLimit(r)}this.hasGroup||0!==this.groupCount||(this.historyCount<t.historyManager.stackLimit?this.historyCount++:this.applyLimit(t.historyManager.currentEntry,t.historyManager.stackLimit,t))}this.getHistoryList(t),t.historyManager.canUndo=!0,t.historyManager.canRedo=!1},e.prototype.applyLimit=function(e,t,n,r){if(e&&e.previous){if("StartGroup"===e.type||"EndGroup"===e.type){var i="StartGroup"===e.type;this.setEntryLimit(i)}this.hasGroup||0!==this.groupCount||t--,0===t?(r&&this.limitHistoryStack(e.previous,n),n.historyManager.stackLimit<this.historyCount&&(this.historyCount=n.historyManager.stackLimit),delete e.previous):e.previous&&this.applyLimit(e.previous,t,n,r)}this.groupCount=0},e.prototype.clearHistory=function(e){var t=e.historyManager;t.currentEntry=void 0,t.canUndo=!1,t.canRedo=!1,this.historyCount=0,this.groupCount=0,e.historyManager.undoStack=[],e.historyManager.redoStack=[]},e.prototype.setEntryLimit=function(e){e?this.groupCount--:this.groupCount++,this.hasGroup=e?!e:e},e.prototype.limitHistoryStack=function(e,t){"StartGroup"!==e.type&&"EndGroup"!==e.type&&(this.removeFromStack(t.historyManager.undoStack,e),this.removeFromStack(t.historyManager.redoStack,e)),e.previous&&this.limitHistoryStack(e.previous,t)},e.prototype.removeFromStack=function(e,t){if(e.length)for(var n=0;n<=e.length;n++)if(e[n].undoObject===t.undoObject&&e[n].redoObject===t.redoObject){e.splice(n,1);break}},e.prototype.undo=function(e){var t=this.getUndoEntry(e),n=0;if(t)if("Internal"===t.category)"EndGroup"===t.type?(n++,this.groupUndo=!0,v()&&(e.blazorActions|=Pr.GroupingInProgress)):this.undoEntry(t,e),this.groupUndo&&(this.undoGroupAction(t,e,n),this.groupUndo=!1);else{v()||e.historyManager.undo(t);var r={entryType:"undo",oldValue:t.undoObject,newValue:t.redoObject};v()&&(r={entryType:"undo",oldValue:this.getHistoryChangeEvent(t.undoObject,t.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(t.redoObject,t.blazorHistoryEntryType)}),e.triggerEvent(Kr.historyStateChange,r)}},e.prototype.getHistoryChangeEvent=function(e,t){var n={};switch(t){case"Node":n.node=e;break;case"Connector":n.connector=e;break;case"Selector":n.selector=e;break;case"Diagram":n.diagram=e;break;case"ShapeAnnotation":n.shapeAnnotation=e;break;case"PathAnnotation":n.pathAnnotation=e;break;case"PortObject":n.pointPortModel=e;break;case"Object":n.object=e}return n},e.prototype.getHistoryList=function(e){var t,n,r=[],i=[],o=e.historyManager.currentEntry;for(o=e.historyManager.currentEntry,e.historyManager.canUndo||0===e.historyManager.undoStack.length?this.getHistroyObject(r,o):this.getHistroyObject(i,o);o&&o.previous;)t=o.previous,this.getHistroyObject(r,t),o=o.previous;for(o=e.historyManager.currentEntry;o&&o.next;)n=o.next,this.getHistroyObject(i,n),o=o.next;e.historyManager.undoStack=r,e.historyManager.redoStack=i},e.prototype.getHistroyObject=function(e,t){t&&"StartGroup"!==t.type&&"EndGroup"!==t.type&&e.push({redoObject:t.redoObject?t.redoObject:null,undoObject:t.undoObject?t.undoObject:null,type:t.type?t.type:null,category:t.category?t.category:null})},e.prototype.undoGroupAction=function(e,t,n){for(;0!==n;)this.undoEntry(e,t),"StartGroup"===(e=this.getUndoEntry(t)).type?n--:"EndGroup"===e.type&&n++;n=0},e.prototype.undoEntry=function(e,t){var n,r;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&"LabelCollectionChanged"!==e.type&&(n=e.undoObject,r=e.undoObject),"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.undoStack.length>0){var i=t.historyManager.undoStack.splice(0,1);t.historyManager.redoStack.splice(0,0,i[0]),r=e.undoObject}switch(t.protectPropertyChange(!0),t.diagramActions|=Qr.UndoRedo,v()&&e.previous&&"StartGroup"===e.previous.type&&(t.blazorActions&=~Pr.GroupingInProgress),e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(n,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(n,t,e);break;case"RotationChanged":this.recordRotationChanged(n,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(n,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!1);break;case"CollectionChanged":if(e&&e.next&&"AddChildToGroupNode"===e.next.type&&"Insert"===e.next.changeType){var o=t.getObject(e.next.undoObject.id);t.insertValue(Xu(o),!0)}if(e.isUndo=!0,this.recordCollectionChanged(e,t),e.isUndo=!1,e&&e.next&&"AddChildToGroupNode"===e.next.type&&"Insert"===e.next.changeType)(o=t.getObject(e.next.undoObject.id)).wrapper.measure(new nr),o.wrapper.arrange(o.wrapper.desiredSize),t.updateDiagramObject(o);break;case"LabelCollectionChanged":e.isUndo=!0,this.recordLabelCollectionChanged(e,t),e.isUndo=!1;break;case"PortCollectionChanged":e.isUndo=!0,this.recordPortCollectionChanged(e,t),e.isUndo=!1;break;case"Group":this.unGroup(e,t);break;case"UnGroup":this.group(e,t);break;case"SegmentChanged":this.recordSegmentChanged(n,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!1);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!1);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!1);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!1);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!1,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!1,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!1);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":e.isUndo=!0,this.recordLaneOrPhaseCollectionChanged(e,t,!1),e.isUndo=!1;break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(e,t,!1);break;case"AddChildToGroupNode":this.recordAddChildToGroupNode(e,t,!1)}if(t.diagramActions&=~Qr.UndoRedo,t.protectPropertyChange(!1),t.historyChangeTrigger(e,"Undo"),r){var a=this.checkNodeObject(r,t);if(a){var s=ip(t.updateSelection);s&&s(a,t)}}},e.prototype.checkNodeObject=function(e,t){var n;if(e.id)n=t.nameTable[e.id];else if(e.nodes&&e.nodes.length>0||e.connectors&&e.connectors.length>0)for(var r=0,i=e.nodes.length>0?e.nodes:e.connectors;r<i.length;r++)n=i[r],n=t.nameTable[n.id];else{var o=e.nodes?e.nodes:e.connectors;if(o)for(var a=0,s=Object.keys(o);a<s.length;a++){var l=s[a],c=Number(l);n=e.nodes?t.nodes[c]:t.connectors[c]}}return n},e.prototype.group=function(e,t){t.add(e.undoObject)},e.prototype.unGroup=function(e,t){e.redoObject=Xu(e.undoObject);var n=e.undoObject;t.commandHandler.unGroup(n)},e.prototype.ignoreProperty=function(e){return"zIndex"===e||"wrapper"===e||"parentObj"===e||"controlParent"===e},e.prototype.getProperty=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e&&(this.ignoreProperty(i)||(t[i]instanceof Object?this.getProperty(e[i],t[i]):e[i]=t[i]))}},e.prototype.recordLaneOrPhaseCollectionChanged=function(e,t,n){var r=e.redoObject,i=e.undoObject;if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))t.remove(r);else if(r.isPhase){var o=t.nameTable[r.parentId];t.addPhases(o,[i])}else{var a=Qc(o=t.nameTable[r.parentId],r);t.addLanes(o,[i],a)}t.clearSelection()},e.prototype.recordAnnotationChanged=function(e,t,n){var r=n?e.redoObject:e.undoObject;if(t.canEnableBlazorObject){var i=Xu(t.nameTable[r.id]);t.insertValue(i,i instanceof iu)}var o=Vh(r,e.objectId),a=t.commandHandler.getAnnotationChanges(t.nameTable[r.id],o),s=t.nameTable[r.id],l=Vh(s,e.objectId);l.offset=o.offset,l.margin=o.margin,l.width=o.width,l.height=o.height,l.rotateAngle=o.rotateAngle,l.margin=o.margin,s instanceof iu?t.nodePropertyChange(s,{},a):t.connectorPropertyChange(s,{},a)},e.prototype.recordChildCollectionChanged=function(e,t,n){var r=n?e.redoObject:e.undoObject,i=t.nameTable[r.parentId],o=t.nameTable[r.id];i?Cc(t,i,o,!n,"AddNodeToLane"===e.historyAction):(o.parentId&&((i=t.nameTable[o.parentId]).children.splice(i.children.indexOf(o.id),1),i.wrapper.children.splice(i.wrapper.children.indexOf(o.wrapper),1)),r.parentId&&""!==r.parentId&&((i=t.nameTable[r.parentId]).children.push(r.id),i.wrapper.children.push(o.wrapper)),o.parentId=r.parentId,t.removeElements(o),t.updateDiagramObject(o))},e.prototype.recordStackPositionChanged=function(e,t,n){var r=n?e.redoObject:e.undoObject;if(r.source){var i=t.nameTable[r.source.parentId];i&&(r.target?(i.wrapper.children.splice(r.targetIndex,1),i.wrapper.children.splice(r.sourceIndex,0,r.source.wrapper)):void 0!==r.sourceIndex?(t.nameTable[r.source.id]||t.add(r.source),i.wrapper.children.splice(r.sourceIndex,0,t.nameTable[r.source.id].wrapper),t.nameTable[r.source.id].parentId=i.id):(i.wrapper.children.splice(i.wrapper.children.indexOf(t.nameTable[r.source.id].wrapper),1),t.nameTable[r.source.id].parentId=""),n&&"UmlClassifier"===i.shape.type&&t.remove(r.source),i.wrapper.measure(new nr),i.wrapper.arrange(i.wrapper.desiredSize),t.updateDiagramObject(i),t.updateSelector())}},e.prototype.recordGridSizeChanged=function(e,t,n,r){var i=n?e.redoObject:e.undoObject,o=n?e.undoObject:e.redoObject;if(i.parentId){var a=t.nameTable[i.parentId],s=t.nameTable[i.id],l=a.wrapper.bounds.x,c=a.wrapper.bounds.y;if("SwimLane"===a.shape.type){var h=a.wrapper.children[0],d=a.shape.padding;zc(t,o,a,i),r?(h.updateRowHeight(i.rowIndex,i.wrapper.actualSize.height,!0,d),a.height=a.wrapper.height=h.height):(h.updateColumnWidth(i.columnIndex,i.wrapper.actualSize.width,!0,d),a.width=a.wrapper.width=h.width,i.isPhase&&(s.maxWidth=s.wrapper.maxWidth=i.wrapper.actualSize.width)),Mc(a);var u=l-a.wrapper.bounds.x,p=c-a.wrapper.bounds.y;t.drag(a,u,p),t.clearSelection(),t.updateDiagramObject(a)}}},e.prototype.recordLanePositionChanged=function(e,t,n){var r=n?e.redoObject:e.undoObject;if(r.source){var i=t.nameTable[r.source.parentId];i&&"SwimLane"===i.shape.type&&(Uc(t,r.target,r.source),t.clearSelection())}},e.prototype.recordPortChanged=function(e,t,n){var r=n?e.redoObject.nodes[0]:e.undoObject.nodes[0];if(t.canEnableBlazorObject){var i=Xu(t.nameTable[r.id]);t.insertValue(i,!0)}var o=Xh(r,e.objectId),a=t.commandHandler.getPortChanges(t.nameTable[r.id],o),s=t.nameTable[r.id];Xh(s,e.objectId).offset=o.offset,t.nodePropertyChange(s,{},a),s.parentId&&t.updateConnectorEdges(t.nameTable[s.parentId])},e.prototype.recordPropertyChanged=function(e,t,n){var r=e.redoObject,i=e.undoObject;if(v())for(var o=0,a=Object.keys(i);o<a.length;o++){var s=void 0;switch(a[o]){case"nodes":for(var l=0,c=Object.keys(i.nodes);l<c.length;l++){var h=c[l];t.canEnableBlazorObject&&(s=Xu(t.nodes[Number(h)]),t.insertValue(s,!0))}break;case"connectors":for(var d=0,u=Object.keys(i.connectors);d<u.length;d++){h=u[d];t.canEnableBlazorObject&&(s=Xu(t.connectors[Number(h)]),t.insertValue(s,!1))}}}this.getProperty(t,n?r:i),n?t.onPropertyChanged(r,i):t.onPropertyChanged(i,r),t.diagramActions=t.diagramActions|Qr.UndoRedo},e.prototype.recordOrderCommandChanged=function(e,t,n){var r=e.redoObject,i=e.undoObject;t.commandHandler.orderCommands(n,n?r:i,e.type),t.diagramActions=t.diagramActions|Qr.UndoRedo},e.prototype.recordAddChildToGroupNode=function(e,t,n){var r=t.nameTable[e.undoObject.id],i=t.nameTable[e.objectId];n&&"Insert"===e.changeType&&t.addChildToGroup(r,i.id)},e.prototype.recordSegmentChanged=function(e,t){var n,r=0;if(e.connectors&&e.connectors.length>0)for(r=0;r<e.connectors.length;r++)n=e.connectors[r],this.segmentChanged(n,t)},e.prototype.segmentChanged=function(e,t){var n=t.nameTable[e.id];n.segments=e.segments,t.commandHandler.updateEndPoint(n)},e.prototype.recordPositionChanged=function(e,t){var n,r,i=0;if(e.nodes&&e.nodes.length>0)for(i=0;i<e.nodes.length;i++)n=e.nodes[i],this.positionChanged(n,t);if(e.connectors&&e.connectors.length>0)for(i=0;i<e.connectors.length;i++)r=e.connectors[i],this.connectionChanged(r,t)},e.prototype.positionChanged=function(e,t){var n=t.nameTable[e.id];if(e.processId&&!n.processId&&t.addProcess(e,e.processId),!e.processId&&n.processId&&t.removeProcess(e.id),n.processId){var r=e.margin.left-n.margin.left,i=e.margin.top-n.margin.top;t.drag(n,r,i)}else{if(n.parentId){var o=t.nameTable[n.parentId];o.isLane&&(e.wrapper.offsetX=e.width/2+(o.wrapper.bounds.x+e.margin.left),e.wrapper.offsetY=e.height/2+(o.wrapper.bounds.y+e.margin.top))}r=e.wrapper.offsetX-n.offsetX,i=e.wrapper.offsetY-n.offsetY;t.drag(n,r,i)}t.bpmnModule&&t.bpmnModule.updateDocks(n,t)},e.prototype.recordSizeChanged=function(e,t,n){var r,i,o=0;if(e&&e.nodes&&e.nodes.length>0)for(o=0;o<e.nodes.length;o++)if((i=e.nodes[o]).children&&!i.container)for(var a=t.commandHandler.getAllDescendants(i,[]),s=0;s<a.length;s++){var l=n.childTable[a[s].id];nd(l)===iu?(this.sizeChanged(l,t,n),this.positionChanged(l,t)):this.connectionChanged(l,t,n)}else this.sizeChanged(i,t),this.positionChanged(i,t);if(e&&e.connectors&&e.connectors.length>0){var c=e.connectors;for(o=0;o<c.length;o++)r=c[o],this.connectionChanged(r,t)}},e.prototype.sizeChanged=function(e,t,n){var r=t.nameTable[e.id],i=e.wrapper.actualSize.width/r.wrapper.actualSize.width,o=e.wrapper.actualSize.height/r.wrapper.actualSize.height;n&&n.childTable&&(n.childTable[e.id]=Xu(r)),t.scale(r,i,o,{x:e.wrapper.offsetX/r.wrapper.offsetX,y:e.wrapper.offsetY/r.wrapper.offsetY})},e.prototype.recordRotationChanged=function(e,t,n){var r,i,o=0,a=t.selectedItems;if(a.rotateAngle=e.rotateAngle,a&&a.wrapper&&(a.wrapper.rotateAngle=e.rotateAngle),e&&e.nodes&&e.nodes.length>0)for(o=0;o<e.nodes.length;o++)r=e.nodes[o],this.rotationChanged(r,t),this.positionChanged(r,t);if(e&&e.connectors&&e.connectors.length>0)for(o=0;o<e.connectors.length;o++)i=e.connectors[o],this.connectionChanged(i,t)},e.prototype.rotationChanged=function(e,t){var n=t.nameTable[e.id];t.rotate(n,e.rotateAngle-n.rotateAngle)},e.prototype.recordConnectionChanged=function(e,t){var n=e.connectors[0];n.sourceID&&t.nameTable[n.sourceID]&&t.insertValue(t.nameTable[n.sourceID],!0),n.targetID&&t.nameTable[n.targetID]&&t.insertValue(t.nameTable[n.targetID],!0),this.connectionChanged(n,t)},e.prototype.connectionChanged=function(e,t,n){var r,i=t.nameTable[e.id];e.sourcePortID!==i.sourcePortID&&(t.removePortEdges(t.nameTable[i.sourceID],i.sourcePortID,i.id,!1),i.sourcePortID=e.sourcePortID,t.connectorPropertyChange(i,{},{sourcePortID:e.sourcePortID})),e.targetPortID!==i.targetPortID&&(t.removePortEdges(t.nameTable[i.targetID],i.targetPortID,i.id,!0),i.targetPortID=e.targetPortID,t.connectorPropertyChange(i,{},{targetPortID:e.targetPortID})),e.sourceID!==i.sourceID&&(""===e.sourceID?Fh((r=t.nameTable[i.sourceID]).outEdges,e.id):((r=t.nameTable[e.sourceID]).outEdges.push(e.id),t.updatePortEdges(r,e,!1)),i.sourceID=e.sourceID,t.connectorPropertyChange(i,{},{sourceID:e.sourceID})),e.targetID!==i.targetID&&(""===e.targetID?Fh((r=t.nameTable[i.targetID]).inEdges,e.id):((r=t.nameTable[e.targetID]).inEdges.push(e.id),t.updatePortEdges(r,e,!0)),i.targetID=e.targetID,t.connectorPropertyChange(i,{},{targetID:e.targetID})),n&&n.childTable&&(n.childTable[e.id]=Xu(i));var o=e.sourcePoint.x-i.sourcePoint.x,a=e.sourcePoint.y-i.sourcePoint.y;0===o&&0===a||t.dragSourceEnd(i,o,a);var s=e.targetPoint.x-i.targetPoint.x,l=e.targetPoint.y-i.targetPoint.y;0===s&&0===l||t.dragTargetEnd(i,s,l),t.updateSelector(),"SVG"!==t.mode&&t.refreshDiagramLayer()},e.prototype.recordCollectionChanged=function(e,t){var n=e.undoObject;if(e&&e.changeType){if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))n.nodeId?t.remove(t.nameTable[n.nodeId+"_textannotation_"+n.id]):(t.remove(n),t.clearSelectorLayer());else{if(t.clearSelectorLayer(),n.parentId){var r=t.nameTable[n.parentId];r?t.addChild(r,n):t.add(n)}else n.nodeId?t.addTextAnnotation(n,t.nameTable[n.nodeId]):t.nameTable[n.id]||(n&&n.shape&&"SwimLane"===n.shape.type&&e.isUndo&&Zc(n,void 0,void 0,void 0,void 0,!0),t.add(n));n.processId&&t.nameTable[n.processId]&&t.addProcess(n,n.processId)}"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordLabelCollectionChanged=function(e,t){var n=e.undoObject,r=e.redoObject,i=t.nameTable[r.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removeLabels(i,[n]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addLabels(i,[n])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordPortCollectionChanged=function(e,t){var n=e.undoObject,r=e.redoObject,i=t.nameTable[r.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removePorts(i,[n]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addPorts(i,[n])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.redo=function(e){var t=this.getRedoEntry(e),n=0;if(t)if("Internal"===t.category)"StartGroup"===t.type?(n++,this.groupUndo=!0,v()&&(e.blazorActions|=Pr.GroupingInProgress)):this.redoEntry(t,e),this.groupUndo&&(this.redoGroupAction(t,e,n),this.groupUndo=!1);else{v()||e.historyManager.redo(t);var r={entryType:"redo",oldValue:t.redoObject,newValue:t.undoObject};v()&&(r={entryType:"redo",oldValue:this.getHistoryChangeEvent(t.redoObject,t.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(t.undoObject,t.blazorHistoryEntryType)}),e.triggerEvent(Kr.historyStateChange,r)}},e.prototype.redoGroupAction=function(e,t,n){for(;0!==n;)this.redoEntry(e,t),"EndGroup"===(e=this.getRedoEntry(t)).type?n--:"StartGroup"===e.type&&n++;n=0},e.prototype.redoEntry=function(e,t){var n,r;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&(n=e.redoObject,r=e.redoObject),t.diagramActions|=Qr.UndoRedo,"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.redoStack.length>0){var i=t.historyManager.redoStack.splice(0,1);t.historyManager.undoStack.splice(0,0,i[0]),r=e.redoObject}switch(t.protectPropertyChange(!0),v()&&e.next&&"EndGroup"===e.next.type&&(t.blazorActions&=~Pr.GroupingInProgress),e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(n,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(n,t,e);break;case"RotationChanged":this.recordRotationChanged(n,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(n,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!0);break;case"CollectionChanged":this.recordCollectionChanged(e,t);break;case"LabelCollectionChanged":this.recordLabelCollectionChanged(e,t);break;case"PortCollectionChanged":this.recordPortCollectionChanged(e,t);break;case"Group":this.group(e,t);break;case"UnGroup":this.unGroup(e,t);break;case"SegmentChanged":this.recordSegmentChanged(n,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!0);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!0);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!0);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!0);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!0,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!0,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!0);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":this.recordLaneOrPhaseCollectionChanged(e,t,!0);break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(e,t,!0);break;case"AddChildToGroupNode":this.recordAddChildToGroupNode(e,t,!0)}if(t.protectPropertyChange(!1),t.diagramActions&=~Qr.UndoRedo,t.historyChangeTrigger(e,"Redo"),r){var o=this.checkNodeObject(r,t);if(o){var a=ip(t.updateSelection);a&&a(o,t)}}},e.prototype.getUndoEntry=function(e){var t,n=null,r=e.historyManager;return r.canUndo&&(n=r.currentEntry,(t=r.currentEntry.previous)?(r.currentEntry=t,r.canRedo||(r.canRedo=!0)):(r.canRedo=!0,r.canUndo=!1)),n},e.prototype.getRedoEntry=function(e){var t,n=null,r=e.historyManager;return r.canRedo&&((t=r.currentEntry.previous||r.canUndo?r.currentEntry.next:r.currentEntry)&&(r.currentEntry=t,r.canUndo||(r.canUndo=!0),t.next||(r.canRedo=!1,r.canUndo=!0)),n=r.currentEntry),n},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"UndoRedo"}}(),function(){function e(){this.protectChange=!1}e.prototype.expand=function(e,t,n,r){var i=this,o={},a=0;if(r.realActions=r.realActions|Vr.AnimationClick,o[0]=setInterval((function(){return a++,i.layoutAnimation(t,o,6===a,r,n)}),20),n.isExpanded){var s=.2;this.protectChange=r.isProtectedOnChange,r.protectPropertyChange(!1);var l={};if(e){this.updateOpacity(n,s,r);l[0]=setInterval((function(){r.allowServerDataBinding=!1,s<=1?i.updateOpacity(n,s,r):clearInterval(l[0]),s+=.2,r.allowServerDataBinding=!0}),20)}}},e.prototype.layoutAnimation=function(e,t,n,r,i){if(!n)for(var o=0;o<e.objects.length;o++){var a=r.nameTable[e.objects[o].id];a.offsetX+=e.objects[o].differenceX/5,a.offsetY+=e.objects[o].differenceY/5}if(n){clearInterval(t[0]),r.realActions=r.realActions&~Vr.AnimationClick,r.refreshCanvasLayers(),r.protectPropertyChange(!0),r.triggerEvent(Kr.animationComplete,void 0),r.organizationalChartModule.isAnimation=!1,r.layout.fixedNode="",r.protectPropertyChange(this.protectChange);var s={element:ud(Xu(i)),state:!!i.isExpanded};r.triggerEvent(Kr.expandStateChange,s),r.lineRoutingModule&&r.constraints&jr.LineRouting&&r.resetSegments()}},e.prototype.updateOpacity=function(e,t,n){for(var r=0;r<e.outEdges.length;r++){var i=n.nameTable[e.outEdges[r]],o=n.nameTable[i.targetID];i.style.opacity=t;for(var a=0;a<i.wrapper.children.length;a++)i.wrapper.children[a].style.opacity=t,o.style.opacity=t,o.wrapper instanceof pi&&n.updateNodeProperty(o.wrapper,void 0,t);this.updateOpacity(o,t,n)}},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"LayoutAnimate"}}(),function(){function e(){this.size=20,this.intermediatePoints=[],this.gridCollection=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.considerWalkable=[]}e.prototype.lineRouting=function(e){var t=e.connectors.length;if(this.renderVirtualRegion(e),t>0)for(var n=0;n<t;n++){var r=e.connectors[n];"Orthogonal"===r.type&&r.visible&&this.refreshConnectorSegments(e,r,!0)}},e.prototype.renderVirtualRegion=function(e,t){var n=this.size;(e.spatialSearch.pageTop<0||e.spatialSearch.pageLeft<0)&&(n=this.size+this.size/2);var r=e.spatialSearch.pageRight+n,i=e.spatialSearch.pageBottom+n,o=e.spatialSearch.pageLeft-n,a=e.spatialSearch.pageTop-n;if(o=o<0?o-20:0,a=a<0?a-20:0,t&&(this.width!==r-o||this.height!==i-a||this.diagramStartX!==o||this.diagramStartY!==a)||void 0===t){this.width=r-o,this.height=i-a,this.diagramStartX=o,this.diagramStartY=a,this.gridCollection=[],this.noOfRows=this.width/this.size,this.noOfCols=this.height/this.size;for(var s=this.size,l=this.diagramStartX<0?this.diagramStartX:0,c=this.diagramStartY<0?this.diagramStartY:0,h=0;h<this.noOfCols;h++){for(var d=0;d<this.noOfRows;d++){0===h&&this.gridCollection.push([0]);var u={x:l,y:c,width:s,height:s,gridX:d,gridY:h,walkable:!0,tested:void 0,nodeId:[]};this.gridCollection[d][h]=u,l+=s}l=this.diagramStartX<0?this.diagramStartX:0,c+=s}}var p=this.findNodes(e.nodes);this.updateNodesInVirtualRegion(p)},e.prototype.findNodes=function(e){for(var t,n=[],r=0;r<e.length;r++)"SwimLane"===(t=e[r]).shape.type||t.isLane||t.isPhase||t.isHeader||!t.visible||n.push(t);return n},e.prototype.updateNodesInVirtualRegion=function(e){for(var t=this.size,n=this.diagramStartX<0?this.diagramStartX:0,r=this.diagramStartY<0?this.diagramStartY:0,i=0;i<this.noOfCols;i++){for(var o=0;o<this.noOfRows;o++){var a=this.gridCollection[o][i],s=new Ar(n,r,this.size,this.size),l=void 0,c=void 0;for(a.walkable=!0,a.tested=void 0,a.nodeId=[],c=0;c<e.length;c++)e[c].wrapper.bounds&&(l=this.intersectRect(s,e[c].wrapper.bounds)),l&&(a.nodeId.push(e[c].id),a.walkable=!1,""!==e[c].parentId&&(a.parentNodeId=e[c].parentId));n+=t}n=this.diagramStartX<0?this.diagramStartX:0,r+=t}},e.prototype.intersectRect=function(e,t){return!(t.left>=e.right||t.right<=e.left||t.top>=e.bottom||t.bottom<=e.top)},e.prototype.findEndPoint=function(e,t,n){var r,i;if(t&&""!==e.sourcePortID||!t&&""!==e.targetPortID){i=Po(r=t?{x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY}:{x:e.targetPortWrapper.offsetX,y:e.targetPortWrapper.offsetY},void 0,t?e.sourceWrapper.bounds:e.targetWrapper.bounds);var o=t?e.sourcePortWrapper.bounds:e.targetPortWrapper.bounds;r=n?"Top"===i?{x:o.topCenter.x,y:o.topCenter.y}:"Left"===i?{x:o.middleLeft.x,y:o.middleLeft.y}:"Right"===i?{x:o.middleRight.x,y:o.middleRight.y}:{x:o.bottomCenter.x,y:o.bottomCenter.y}:{x:o.center.x,y:o.center.y}}else r=t&&this.startNode||!t&&this.targetNode?t?{x:this.startNode.wrapper.offsetX,y:this.startNode.wrapper.offsetY}:{x:this.targetNode.wrapper.offsetX,y:this.targetNode.wrapper.offsetY}:t?{x:e.sourcePoint.x,y:e.sourcePoint.y}:{x:e.targetPoint.x,y:e.targetPoint.y};return r},e.prototype.refreshConnectorSegments=function(e,t,n){var r,i,o,a,s,l,c,h,d,u,p,f=t.sourceID,g=t.targetID,A=t.sourcePortID,m=t.targetPortID;if(function(e,t){var n=0;return e.constraints&kr.LineRouting?n=e.constraints&kr.LineRouting:e.constraints&kr.InheritLineRouting&&(n=t.constraints&jr.LineRouting),n}(t,e)){this.startNode=e.nameTable[f],this.targetNode=e.nameTable[g],this.intermediatePoints=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.startGrid=void 0,this.targetGrid=void 0;for(var y=0;y<this.noOfCols;y++)for(var v=0;v<this.noOfRows;v++)this.gridCollection[v][y].tested=this.gridCollection[v][y].parent=void 0,this.gridCollection[v][y].previousDistance=this.gridCollection[v][y].afterDistance=void 0,this.gridCollection[v][y].totalDistance=void 0;r=this.findEndPoint(t,!0),i=this.findEndPoint(t,!1);for(y=0;y<this.noOfRows;y++)for(v=0;v<this.noOfCols;v++){o=this.gridCollection[y][v];var b=new Ar(o.x,o.y,o.width,o.height);if(!b.containsPoint(r)||this.startGrid||-1===o.nodeId.indexOf(f)&&""!==f||(this.startGrid=(A&&this.startGrid,o)),!b.containsPoint(i)||this.targetGrid||-1===o.nodeId.indexOf(g)&&""!==g||(this.targetGrid=(m&&this.targetGrid,o)),!A&&this.startNode){var w=this.startNode.wrapper.bounds;b.containsPoint(w.topCenter)&&!a&&(a=o),b.containsPoint(w.middleLeft)&&!l&&(l=o),b.containsPoint(w.middleRight)&&!c&&(c=o),b.containsPoint(w.bottomCenter)&&!s&&(s=o)}if(!m&&this.targetNode){w=this.targetNode.wrapper.bounds;b.containsPoint(w.topCenter)&&!d&&(d=o),b.containsPoint(w.middleLeft)&&!p&&(p=o),b.containsPoint(w.middleRight)&&!h&&(h=o),b.containsPoint({x:w.bottomCenter.x,y:w.bottomCenter.y})&&!u&&(u=o)}}this.findEdgeBoundary(A,l,c,a,s,!0),this.findEdgeBoundary(m,p,h,d,u,!1),this.startGrid.totalDistance=0,this.startGrid.previousDistance=0,this.intermediatePoints.push({x:this.startGrid.gridX,y:this.startGrid.gridY}),this.startArray.push(this.startGrid),this.checkObstacles(t,e,p,h,d,u);e:for(;this.startArray.length>0;){var x=this.startArray.pop();for(y=0;y<this.targetGridCollection.length;y++){var C=this.targetGridCollection[y];if(x.gridX===C.gridX&&x.gridY===C.gridY){if(this.getIntermediatePoints(x),this.updateConnectorSegments(e,this.intermediatePoints,this.gridCollection,t,n)){this.considerWalkable=[];break e}this.targetGridCollection.splice(this.targetGridCollection.indexOf(C),1),x=this.startArray.pop()}}this.findPath(x)}}},e.prototype.checkChildNodes=function(e,t){var n=!1,r=!1;if(e.nodeId.length>=1&&!t)for(var i=0;i<e.nodeId.length;i++){for(var o=e.nodeId[i],a=0;a<e.nodeId.length;a++)this.targetNode.parentId===e.nodeId[a]&&(r=!0);n=!r&&this.targetNode.id===o}else 1===e.nodeId.length&&(n=!0);return n},e.prototype.findEdgeBoundary=function(e,t,n,r,i,o){var a,s=o?this.sourceGridCollection:this.targetGridCollection;if(!e&&(o?this.startNode:this.targetNode)){for(var l=t.gridX;l<=n.gridX;l++)a=this.gridCollection[l][t.gridY],(this.checkChildNodes(a,o)&&(l===t.gridX||l===n.gridX)||l!==t.gridX&&l!==n.gridX)&&s.push(a);for(l=r.gridY;l<=i.gridY;l++)a=this.gridCollection[r.gridX][l],(this.checkChildNodes(a,o)&&(l===r.gridY||l===i.gridY)||l!==r.gridY&&l!==i.gridY)&&-1===s.indexOf(a)&&s.push(a)}else s.push(o?this.startGrid:this.targetGrid)},e.prototype.checkObstacles=function(e,t,n,r,i,o){var a,s=this.findNearestNeigbours(this.startGrid,this.gridCollection,!0);0===s.length&&(""!==e.sourcePortID?"Top"===(a=Po({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},void 0,e.sourceWrapper.bounds))?this.resetGridColl(this.startGrid,"top",!0):"Right"===a?this.resetGridColl(this.startGrid,"right",!0):"Bottom"===a?this.resetGridColl(this.startGrid,"bottom",!0):this.resetGridColl(this.startGrid,"left",!0):(this.resetGridColl(this.startGrid,"top",!0),this.resetGridColl(this.startGrid,"right",!0),this.resetGridColl(this.startGrid,"bottom",!0),this.resetGridColl(this.startGrid,"left",!0)));0===(s=this.findNearestNeigbours(this.targetGrid,this.gridCollection,!1)).length&&(""!==e.targetPortID?"Top"===(a=Po({x:e.targetPortWrapper.offsetX,y:e.targetPortWrapper.offsetY},void 0,e.targetWrapper.bounds))?this.resetGridColl(this.targetGrid,"top",!0):"Right"===a?this.resetGridColl(this.targetGrid,"right",!0):"Bottom"===a?this.resetGridColl(this.targetGrid,"bottom",!0):this.resetGridColl(this.targetGrid,"left",!0):(this.resetGridColl(this.targetGrid,"top",!1),this.resetGridColl(this.targetGrid,"right",!1),this.resetGridColl(this.targetGrid,"bottom",!1),this.resetGridColl(this.targetGrid,"left",!1)));if(this.targetGridCollection.length>0&&this.targetGridCollection[0].nodeId.length>1)for(var l=0;l<=1;l++){for(var c=this.targetGridCollection[l].gridX,h=this.targetGridCollection[l].gridY,d=this.targetGridCollection[l].nodeId,u=void 0,p=0;p<d.length;p++)if(this.targetNode.id!=d[p]){u=d[p];break}var f=void 0,g=void 0,A=void 0;t.nameTable[this.targetNode.id]&&(f=t.nameTable[this.targetNode.id].wrapper),t.nameTable[u]&&(g=t.nameTable[u].wrapper),f&&g&&(A=this.contains(g.bounds,f.bounds));for(var m=void 0,y=0;y<d.length;y++)this.targetNode.parentId===d[y]&&(m=!0);if(!this.gridCollection[c][h].walkable&&A&&!m){var v=void 0,b=void 0;v=this.getEndvalue(n,"left"),b=n.gridX-v.gridX,this.changeValue(n,b,"left"),b=(v=this.getEndvalue(r,"right")).gridX-r.gridX,this.changeValue(r,b,"right"),v=this.getEndvalue(i,"top"),b=i.gridY-v.gridY,this.changeValue(i,b,"top"),v=this.getEndvalue(o,"bottom"),b=o.gridY-v.gridY,this.changeValue(o,b,"top")}}},e.prototype.contains=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.top<=t.top&&e.bottom>=t.bottom},e.prototype.getEndvalue=function(e,t){return this.gridCollection[e.gridX][e.gridY].walkable?e:"left"===t?this.getEndvalue(this.gridCollection[e.gridX-1][e.gridY],t):"right"===t?this.getEndvalue(this.gridCollection[e.gridX+1][e.gridY],t):"top"===t?this.getEndvalue(this.gridCollection[e.gridX][e.gridY-1],t):"bottom"===t?this.getEndvalue(this.gridCollection[e.gridX][e.gridY+1],t):e},e.prototype.changeValue=function(e,t,n){var r;e.walkable||this.considerWalkable.push(e);for(var i=0;i<=t;i++)"left"===n?r=this.gridCollection[e.gridX-i][e.gridY]:"right"===n?r=this.gridCollection[e.gridX+i][e.gridY]:"top"===n?r=this.gridCollection[e.gridX][e.gridY-i]:"bottom"===n&&(r=this.gridCollection[e.gridX][e.gridY+i]),r.walkable||this.considerWalkable.push(r)},e.prototype.getIntermediatePoints=function(e){var t;for(this.intermediatePoints=[];e;)this.intermediatePoints.push({x:e.gridX,y:e.gridY}),e=e.parent;this.intermediatePoints.reverse(),this.intermediatePoints[0].x===this.intermediatePoints[1].x?this.intermediatePoints[0].y<this.intermediatePoints[1].y?(t=this.neigbour(this.startGrid,"bottom",void 0,!0),this.intermediatePoints[0].y+=t-1):(t=this.neigbour(this.startGrid,"top",void 0,!0),this.intermediatePoints[0].y-=t-1):this.intermediatePoints[0].x<this.intermediatePoints[1].x?(t=this.neigbour(this.startGrid,"right",void 0,!0),this.intermediatePoints[0].x+=t-1):(t=this.neigbour(this.startGrid,"left",void 0,!0),this.intermediatePoints[0].x-=t-1)},e.prototype.updateConnectorSegments=function(e,t,n,r,i){var o,a,s,l,c,h,d,u,p,f=[],g=[],A=r.targetWrapper,m=r.sourceWrapper,y=this.findEndPoint(r,!0);""===r.targetPortID&&r.targetWrapper||(a=this.findEndPoint(r,!1,!0));for(var v=0;v<t.length;v++)s=(c=n[t[v].x][t[v].y]).x+c.width/2,l=c.y+c.height/2,g.push({x:s,y:l}),v>=1&&(u=g[g.length-2].x!==g[g.length-1].x?g[g.length-2].x>g[g.length-1].x?"Left":"Right":g[g.length-2].y>g[g.length-1].y?"Top":"Bottom"),v>=2&&p===u&&g.splice(g.length-2,1),p=u;for(var b=0;b<g.length-1;b++)g[b].x!==g[b+1].x?(0===b&&""===r.sourcePortID&&m&&(y=g[b].x>g[b+1].x?m.bounds.middleLeft:m.bounds.middleRight),b===g.length-2&&""===r.targetPortID&&A&&(a=g[b].x>g[b+1].x?A.bounds.middleRight:A.bounds.middleLeft),0===b&&y&&(g[b].x=y.x,g[b].y=g[b+1].y=y.y),b===g.length-2&&a&&(a.x-g[b+1].x<0&&Math.abs(a.x-g[b].x)<r.targetDecorator.width+1&&(g[b].x=g[b-1].x-=this.size/2),a.x-g[b+1].x>0&&Math.abs(a.x-g[b].x)<r.targetDecorator.width+1&&(g[b].x=g[b-1].x+=this.size/2),g[b+1].x=a.x,g[b].y=g[b+1].y=a.y)):(0===b&&m&&(y=g[b].y>g[b+1].y?m.bounds.topCenter:m.bounds.bottomCenter),b===g.length-2&&""===r.targetPortID&&A&&(a=g[b].y>g[b+1].y?A.bounds.bottomCenter:A.bounds.topCenter),0===b&&y&&(g[b].y=y.y,g[b].x=g[b+1].x=y.x),b===g.length-2&&a&&(a.y-g[b+1].y<0&&Math.abs(a.y-g[b].y)<r.targetDecorator.height+1&&(g[b].y=g[b-1].y-=this.size/2),a.y-g[b+1].y>0&&Math.abs(a.y-g[b].y)<r.targetDecorator.width+1&&(g[b].y=g[b-1].y+=this.size/2),g[b+1].y=a.y,g[b].x=g[b+1].x=a.x));for(b=0;b<g.length-1;b++)g[b].x!==g[b+1].x?g[b].x>g[b+1].x?(h="Left",d=g[b].x-g[b+1].x):(h="Right",d=g[b+1].x-g[b].x):g[b].y>g[b+1].y?(h="Top",d=g[b].y-g[b+1].y):(h="Bottom",d=g[b+1].y-g[b].y),o={type:"Orthogonal",length:d,direction:h},f.push(o);var w=f[f.length-1];return 1===f.length&&(w.length-=20),w.length<10&&2===f.length&&(f.pop(),f[0].length-=20,w=f[0]),(("Top"===w.direction||"Bottom"===w.direction)&&w.length>r.targetDecorator.height+1||("Right"===w.direction||"Left"===w.direction)&&w.length>r.targetDecorator.width+1)&&(r.segments=f,i&&e.connectorPropertyChange(r,{},{type:"Orthogonal",segments:f}),!0)},e.prototype.findPath=function(e){for(var t,n=[],r=this.findNearestNeigbours(e,this.gridCollection,!0),i=0;i<r.length;i++)if(null!==(t=this.findIntermediatePoints(r[i].gridX,r[i].gridY,e.gridX,e.gridY,this.targetGrid.gridX,this.targetGrid.gridY))){var o=this.gridCollection[t.x][t.y],a=this.octile(Math.abs(t.x-e.gridX),Math.abs(t.y-e.gridY)),s=e.previousDistance+a;o.previousDistance&&!(o.previousDistance>s)||t.x===e.gridX&&t.y===e.gridY||(n.push(t),o.previousDistance=s,o.afterDistance=o.afterDistance||this.manhattan(Math.abs(t.x-this.targetGrid.gridX),Math.abs(t.y-this.targetGrid.gridY)),o.totalDistance=o.previousDistance+o.afterDistance,o.parent=e)}if(n.length>0)for(i=0;i<n.length;i++){o=this.gridCollection[n[i].x][n[i].y];-1===this.startArray.indexOf(o)&&this.startArray.push(o)}this.sorting(this.startArray)},e.prototype.sorting=function(e){for(var t=!1;!t;){t=!0;for(var n=1;n<e.length;n+=1)if(e[n-1].totalDistance<e[n].totalDistance){t=!1;var r=e[n-1];e[n-1]=e[n],e[n]=r}}return e},e.prototype.octile=function(e,t){var n=Math.SQRT2-1;return t>e?n*e+t:n*t+e},e.prototype.manhattan=function(e,t){return e+t},e.prototype.findNearestNeigbours=function(e,t,n){var r=[],i=e.parent;if(i){var o=(e.gridX-i.gridX)/Math.max(Math.abs(e.gridX-i.gridX),1),a=(e.gridY-i.gridY)/Math.max(Math.abs(e.gridY-i.gridY),1);0!==o?(this.isWalkable(e.gridX,e.gridY-1,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX][e.gridY-1])&&r.push(t[e.gridX][e.gridY-1]),this.isWalkable(e.gridX,e.gridY+1,!0)&&this.sourceGridCollection.indexOf(t[e.gridX][e.gridY+1])&&r.push(t[e.gridX][e.gridY+1]),this.isWalkable(e.gridX+o,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX+o][e.gridY])&&r.push(t[e.gridX+o][e.gridY])):0!==a&&(this.isWalkable(e.gridX-1,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX-1][e.gridY])&&r.push(t[e.gridX-1][e.gridY]),this.isWalkable(e.gridX+1,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX+1][e.gridY])&&r.push(t[e.gridX+1][e.gridY]),this.isWalkable(e.gridX,e.gridY+a,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX][e.gridY+a])&&r.push(t[e.gridX][e.gridY+a]))}else this.neigbour(e,"top",r,n),this.neigbour(e,"right",r,n),this.neigbour(e,"bottom",r,n),this.neigbour(e,"left",r,n);return r},e.prototype.neigbour=function(e,t,n,r){for(var i,o=1;o>0;){var a="top"===t||"bottom"===t?e.gridX:"left"===t?e.gridX-o:e.gridX+o,s="right"===t||"left"===t?e.gridY:"top"===t?e.gridY-o:e.gridY+o;if((i=this.gridCollection[a][s])&&(r&&-1===this.sourceGridCollection.indexOf(i)||!r&&-1===this.targetGridCollection.indexOf(i)))return n&&this.isWalkable(a,s)&&n.push(i),o;if(!(a>0&&s>0))break;o++}return null},e.prototype.resetGridColl=function(e,t,n){for(var r,i=1;i>0;){var o="top"===t||"bottom"===t?e.gridX:"left"===t?e.gridX-i:e.gridX+i,a="right"===t||"left"===t?e.gridY:"top"===t?e.gridY-i:e.gridY+i;if((r=this.gridCollection[o][a])&&(n&&-1===this.sourceGridCollection.indexOf(r)||!n&&-1===this.targetGridCollection.indexOf(r))){if(this.isWalkable(o,a))break;var s=this.gridCollection[o][a];this.considerWalkable.push(s)}if(!(o>0&&a>0))break;"top"===t||"left"===t?i--:i++}return null},e.prototype.isWalkable=function(e,t,n){if(e>=0&&e<this.noOfRows&&t>=0&&t<this.noOfCols){var r=this.gridCollection[e][t];if(r&&(r.walkable||(1===r.nodeId.length||2===r.nodeId.length&&r.parentNodeId||-1!==this.considerWalkable.indexOf(r))&&(-1!==this.sourceGridCollection.indexOf(r)||-1!==this.targetGridCollection.indexOf(r)||-1!==this.considerWalkable.indexOf(r)))&&(n&&!r.parent||!n))return!0}return!1},e.prototype.findIntermediatePoints=function(e,t,n,r,i,o){for(var a=e-n,s=t-r,l=e,c=t,h=0;h<this.targetGridCollection.length;h++)if(e===this.targetGridCollection[h].gridX&&t===this.targetGridCollection[h].gridY)return{x:e,y:t};if(!this.isWalkable(e,t))return null;var d=this.gridCollection[e][t];if(d.tested)return{x:e,y:t};if(d.tested=!0,0!==a&&(a=a>0?1:-1,this.isWalkable(l,c-1)&&!this.isWalkable(l-a,c-1)||this.isWalkable(l,c+1)&&!this.isWalkable(l-a,c+1)))return{x:e,y:t};if(0!==s){if(s=s>0?1:-1,this.isWalkable(l-1,c)&&!this.isWalkable(l-1,c-s)||this.isWalkable(l+1,c)&&!this.isWalkable(l+1,c-s))return{x:e,y:t};if(this.findIntermediatePoints(l+1,c,l,c,i,o)||this.findIntermediatePoints(l-1,c,l,c,i,o))return{x:e,y:t}}return this.findIntermediatePoints(l+a,c+s,l,c,i,o)},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"LineRouting"}}(),function(){function e(){}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"LineDistribution"},e.prototype.initLineDistribution=function(e,t){var n="Bottom";if(this.diagram=t,"DifferentPoint"===t.layout.connectionPointOrigin||t.layout.enableRouting){var r="Top";"BottomToTop"===e.orientation?(n="Top",r="Bottom"):"RightToLeft"===e.orientation?(n="Left",r="Right"):"LeftToRight"===e.orientation&&(n="Right",r="Left");var i=t.nodes;if(i.length>0)for(var o=0;o<i.length;o++){var a=t.nameTable[i[o].id];this.addDynamicPortandDistrrbuteLine(e,a,n,r,t)}}},e.prototype.ObstacleSegment=function(e){return e.direction=hd(e.startpt,e.endpt),e.distance=or.findLength(e.startpt,e.endpt),e.orientation="Left"===e.direction||"Right"===e.direction?"horizontal":"vertical",e.id=e.id,"horizontal"===e.orientation?(e.coord=e.startpt.y,"Left"===e.direction?(e.start=e.endpt.x,e.end=e.startpt.x):(e.start=e.startpt.x,e.end=e.endpt.x)):(e.coord=e.startpt.x,"Top"===e.direction?(e.start=e.endpt.y,e.end=e.startpt.y):(e.start=e.startpt.y,e.end=e.endpt.y)),e},e.prototype.distributeLines=function(e,t){for(var n="LeftToRight"===e.orientation||"RightToLeft"===e.orientation,r="obstaclePointCollection",i=(n?e.horizontalSpacing:e.verticalSpacing)-8-10,o=[],a=[],s=t.connectors,l=0;l<s.length;l++){for(var c=s[l],h=[],d=0;d<c.segments.length;d++)for(var u=c.segments[d],p=0;p<u.points.length;p++){var f=u.points[p];0!==h.length&&or.equals(f,h[h.length-1])||h.push(f)}for(var g=[],A=1;A<h.length;A++){var m=this.ObstacleSegment({startpt:h[A-1],endpt:h[A],id:c.id});g.push(m)}var y={wrapper:c,segments:g},v=[];if(n)for(d=0;d<y.segments.length;d++){"vertical"===(m=y.segments[d]).orientation&&v.push(m)}else for(var d=0;d<y.segments.length;d++){"horizontal"===(m=y.segments[d]).orientation&&v.push(m)}for(A=0;A<v.length;A++){var b=v[A];this.containsValue(o,b.coord)||o.push({key:b.coord,value:[]});var w=void 0;for(p=0;p<o.length;p++){d=o[p].key;if(Number(d)===b.coord){w=p;break}}o[w].value.push(b)}a.push(y)}for(var x=[],C=0;C<o.length;C++){var S=o[C],B=S.value;B.sort();var P=void 0;P=[];w=0;var E=Number.MIN_VALUE;P.push([]);for(var O=0;O<B.length;O++){b=B[O];!(P[w].length>0)||E>=b.start?(P[w].push(b),E=Math.max(E,P[w][P[w].length-1].end)):(w++,P.push([]),P[w].push(b),E=P[w][P[w].length-1].end)}for(O=0;O<P.length;O++){var T=P[O],I=[];for(A=0;A<T.length;A++){(M=T[A]).start&&I.push(M)}var L=n?"Bottom":"Right",k=[];for(A=0;A<I.length;A++){(M=I[A]).direction===L&&k.push(M)}var N=[];for(A=0;A<I.length;A++){var M;(M=I[A]).direction!==L&&N.push(M)}var D=[];if(k.length>0){var R=k[0].start;for(A=0;A<N.length;)N[A].end>R?(D.push(N[A]),N.splice(A,1)):A++}var j=[];j=this.updateSegmentRow(D,j);var _=[];_=[],_=this.updateSegmentRow(N,_),k.reverse(),_=this.updateSegmentRow(k,_),j[j.length-1].length>0||j.splice(j.length-1,1),_[_.length-1].length>0||_.splice(_.length-1,1);var F=[];if(D.length>0&&(I[0].direction===D[0].direction||I[I.length-1].direction===D[D.length-1].direction)){F=_;for(var H=0;H<j.length;H++){var U=j[H];F[F.length]=U}}else{F=j;for(H=0;H<_.length;H++){U=_[H];F[F.length]=U}}if(F.length>1){var z=1;"BottomToTop"!==e.orientation&&"RightToLeft"!==e.orientation||(z=-1);var Q=S.key-z*i/2,W=i/F.length;for(l=0;l<F.length;l++){var V=Q+l*W*z;for(H=0;H<F[l].length;H++){(b=F[l][H]).coord=V,this.containsValue(x,b.coord)||x.push({key:b.coord,value:[]});var X=void 0;for(p=0;p<x.length;p++){if(x[p].key===b.coord){X=p;break}}x[X].value.push(b)}}}}}for(C=0;C<a.length;C++){for(y=a[C],h=[],l=0;l<y.segments.length;l++)0===l?h.push(this.getObstacleStartPoint(y.segments[l])):n?"vertical"===y.segments[l].orientation&&(h[h.length-1]=this.getObstacleStartPoint(y.segments[l])):n||"horizontal"===y.segments[l].orientation&&(h[h.length-1]=this.getObstacleStartPoint(y.segments[l])),h.push(this.getObstacleEndPoint(y.segments[l]));y.wrapper[r]=[];for(A=0;A<h.length;A++){var Y=h[A];(0===A||A>0&&!or.equals(Y,h[A-1]))&&y.wrapper[r].push(this.getPointvalue(Y.x,Y.y))}this.resetConnectorPoints(y.wrapper,t)}},e.prototype.inflate=function(e,t,n){return e.x-=t,e.y-=n,e.width+=2*t,e.height+=2*n,e},e.prototype.updateConnectorPoints=function(e,t,n,r,i){var o=r,a="LeftToRight"===i||"RightToLeft"===i,s=e;if(s.length>2){var l=or.transform(s[0],or.findAngle(s[0],s[1]),t),c=or.transform(l,or.findAngle(s[1],s[2]),or.findLength(s[1],s[2]));if(s.splice(1,2,l,c),null!=n){var h=s.length,d=or.transform(s[h-1],or.findAngle(s[h-1],s[h-2]),t);for(s.splice(h-1,0,d);2<s.length-2;)s.splice(2,1);var u=n;this.inflate(o,o.width,o.height);var p=[];p[0]=this.getPointvalue(u.x,o.y),p[1]=this.getPointvalue(u.x,o.y+o.height);var f=[];f[0]=this.getPointvalue(o.x,s[1].y),f[1]=this.getPointvalue(o.x+o.width,s[1].y);var g=[];g[0]=this.getPointvalue(o.x,d.y),g[1]=this.getPointvalue(o.x+o.width,d.y),a&&(p[0]=this.getPointvalue(o.x,u.y),p[1]=this.getPointvalue(o.x+o.width,u.y),f[0]=this.getPointvalue(s[1].x,o.y),f[1]=this.getPointvalue(s[1].x,o.y+o.height),g[0]=this.getPointvalue(d.x,o.y),f[1]=this.getPointvalue(d.x,o.y+o.height));var A=[vh(p[0],p[1],f[0],f[1])],m=[vh(p[0],p[1],g[0],g[1])];m.length>0&&s.splice(2,0,m[0]),A.length>0&&s.splice(2,0,A[0])}}for(var y=1;y<s.length-1;)or.equals(s[y-1],s[y])||or.findAngle(s[y-1],s[y])===or.findAngle(s[y],s[y+1])?s.splice(y,1):y++;return s},e.prototype.resetConnectorPoints=function(e,t){var n="obstaclePointCollection";if(e.segments[0].points&&e.segments[0].points.length>0&&e[n]){var r=e;r.sourcePoint=e[n][0],r.targetPoint=e[n][e[n].length-1];var i=void 0;i=[];for(var o=0;o<e[n].length-1;o++){var a=e[n][o],s=e[n][o+1],l=dd(a,s),c=hd(a,s);o===e[n].length-2&&("RightToLeft"===t.layout.orientation&&"Left"===c||"LeftToRight"===t.layout.orientation&&"Right"===c||"TopToBottom"===t.layout.orientation&&"Bottom"===c||"BottomToTop"===t.layout.orientation&&"Top"===c)&&(l/=2);var h=new ol(e,"segments",{type:"Orthogonal"},!0);h.length=l,h.direction=c,i.push(h)}r.segments=i,r.type="Orthogonal",t.connectorPropertyChange(r,{},{type:"Orthogonal",segments:r.segments})}},e.prototype.getObstacleEndPoint=function(e){return"horizontal"===e.orientation?"Left"===e.direction?this.getPointvalue(e.start,e.coord):this.getPointvalue(e.end,e.coord):"Top"===e.direction?this.getPointvalue(e.coord,e.start):this.getPointvalue(e.coord,e.end)},e.prototype.getObstacleStartPoint=function(e){return"horizontal"===e.orientation?"Left"===e.direction?this.getPointvalue(e.end,e.coord):this.getPointvalue(e.start,e.coord):"Top"===e.direction?this.getPointvalue(e.coord,e.end):this.getPointvalue(e.coord,e.start)},e.prototype.updateSegmentRow=function(e,t){var n=0;t.length>0||(t[0]=[]);for(var r=0;r<e.length;r++)for(var i=e[r];n<t.length;){if(n===t.length-1&&(t[n+1]=[]),!(t[n].length>0)||t[n][t[n].length-1].end<i.start){t[n].push(i);break}n++}return t},e.prototype.portOffsetCalculation=function(e,t,n,r){"Top"===n&&(e.offset={x:(r+1)*(1/(t+1)),y:0}),"Bottom"===n&&(e.offset={x:(r+1)*(1/(t+1)),y:1}),"Left"===n&&(e.offset={x:0,y:(r+1)*(1/(t+1))}),"Right"===n&&(e.offset={x:1,y:(r+1)*(1/(t+1))})},e.prototype.addDynamicPortandDistrrbuteLine=function(e,t,n,r,i){if(t.ports&&t.ports.length>0){var o=t.ports;i.removePorts(t,o)}t.ports;var a=t.outEdges,s=t.inEdges;this.initPort(a,i,t,n,!1),this.initPort(s,i,t,r,!0)},e.prototype.initPort=function(e,t,n,r,i){for(var o=0;o<=e.length-1;o++){var a=t.nameTable[e[o]];a.obstaclePointCollection=[];var s=Xh(n,i?a.targetPortID:a.sourcePortID),l=r;void 0===s&&((s=new Ti(n,"ports","",!0)).id=Uu()+"_LineDistribution",i?a.targetPortID=s.id:a.sourcePortID=s.id),this.portOffsetCalculation(s,e.length,l,o),n.ports.push(s);var c=n.initPortWrapper(n.ports[n.ports.length-1]);n.wrapper.children.push(c),t.connectorPropertyChange(a,i?{targetPortID:""}:{sourcePortID:""},i?{targetPortID:s.id}:{sourcePortID:s.id})}},e.prototype.shiftMatrixCells=function(e,t,n,r,i){if(0!==e){for(var o=i.matrix[t.level].value,a=o.indexOf(t),s=a;s<o.length;s++)o[s].offset+=e;if(n)if(t.visitedChildren.length>0)this.shiftMatrixCells(e,t.visitedChildren[0],!0,t,i);else{s=1;for(var l=null;a+s<o.length;){var c=o[a+s];if(null!=r&&this.containsValue(c.visitedParents,r)){if(!(c.visitedChildren.length>0)){s++;continue}l=c}break}null!=l&&this.shiftMatrixCells(e,l.visitedChildren[0],!0,l,i)}}},e.prototype.arrangeMatrix=function(e,t,n){var r=n.model.layout,i="LeftToRight"===r.orientation||"RightToLeft"===r.orientation?r.verticalSpacing:r.horizontalSpacing,o=n.matrix[e.level].value,a=o.indexOf(e);if(e.visitedParents.length>0&&(1===e.visitedParents.length&&(e.initialOffset=e.offset),a+1<o.length&&o[a+1].visitedParents.length>0&&!this.containsValue(e.visitedParents,t)))return e.visitedParents.push(t),void t.ignoredChildren.push(e);if(e.children.length>0){for(var s=0;s<e.children.length;s++){var l=e.children[s];this.containsValue(e.visitedChildren,l)||(this.arrangeMatrix(l,e,n),e.visitedChildren.push(l))}if(e.visitedChildren.length>0){var c=e.visitedChildren.slice();for(s=0;s<e.ignoredChildren.length;s++)c.splice(0,1),e.visitedChildren.splice(0,1);if(c.length>0){var h=e.visitedChildren[0],d=e.visitedChildren[e.visitedChildren.length-1],u=(h.offset-h.size/2+(d.offset+d.size/2))/2;u<e.offset?this.shiftMatrixCells(e.offset-u,h,!0,e,n):u>e.offset&&this.shiftMatrixCells(u-e.offset,e,!1,null,n)}}}else{var p=e.offset;if(a>0){var f=o[a-1];p=f.offset+f.size/2+i+e.size/2}this.shiftMatrixCells(p-e.offset,e,!1,null,n)}this.containsValue(e.visitedParents,t)||e.visitedParents.push(t)},e.prototype.getFixedTerminalPoint=function(){return null},e.prototype.setAbsoluteTerminalPoint=function(e,t,n){t?(null==n.absolutePoints&&(n.absolutePoints=[]),0===n.absolutePoints.length?n.absolutePoints.push(e):n.absolutePoints[0]=e):null==n.absolutePoints?(n.absolutePoints=[],n.absolutePoints.push(null),n.absolutePoints.push(e)):1===n.absolutePoints.length?n.absolutePoints.push(e):n.absolutePoints[n.absolutePoints.length-1]=e},e.prototype.updateFixedTerminalPoint=function(e,t){this.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(),t,e)},e.prototype.updateFixedTerminalPoints=function(e,t){this.updateFixedTerminalPoint(e,!0),this.updateFixedTerminalPoint(e,!1)},e.prototype.updatePoints=function(e,t){if(null!=e){var n=[];n.push(e.absolutePoints[0]);for(var r=0;r<t.length;r++)if(null!=t[r]){var i=t[r];n.push(i)}var o=e.absolutePoints;n.push(o[o.length-1]),e.absolutePoints=n}},e.prototype.updateFloatingTerminalPoint=function(e,t,n,r){this.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(e,t,n,r),r,e)},e.prototype.getNextPoint=function(e,t,n){var r=e.absolutePoints,i=null;if(null!=r&&r.length>=2){var o=r.length;i=r[n?Math.min(1,o-1):Math.max(0,o-2)]}return i},e.prototype.getCenterX=function(e){return e.offsetX?e.offsetX+e.width:e.x+e.width},e.prototype.getCenterY=function(e){return e.offsetY?e.offsetY+e.height:e.y+e.height},e.prototype.getPerimeterBounds=function(e){return e.wrapper.outerBounds},e.prototype.getPerimeterFunction=function(e,t,n){var r=this.getCenterX(e),i=this.getCenterY(e),o=t.x-r,a=t.y-i,s=Math.atan2(a,o),l=this.getPointvalue(0,0),c=Math.PI,h=Math.PI/2-s,d=Math.atan2(e.height,e.width);return s<-c+d||s>c-d?(l.x=e.x,l.y=i-e.width*Math.tan(s)/2):s<-d?(l.y=e.y,l.x=r-e.height*Math.tan(h)/2):s<d?(l.x=e.x+e.width,l.y=i+e.width*Math.tan(s)/2):(l.y=e.y+e.height,l.x=r+e.height*Math.tan(h)/2),n&&(t.x>=e.x&&t.x<=e.x+e.width?l.x=t.x:t.y>=e.y&&t.y<=e.y+e.height&&(l.y=t.y),t.x<e.x?l.x=e.x:t.x>e.x+e.width&&(l.x=e.x+e.width),t.y<e.y?l.y=e.y:t.y>e.y+e.height&&(l.y=e.y+e.height)),l},e.prototype.getPerimeterPoint=function(e,t,n){var r=null;if(null!=e&&null!=t){var i=this.getPerimeterBounds(e);(i.width>0||i.height>0)&&(r=this.getPointvalue(t.x,t.y),r=this.getPerimeterFunction(i,r,n))}return r},e.prototype.getFloatingTerminalPoint=function(e,t,n,r){t=t;var i=this.getNextPoint(e,n,r);return this.getPerimeterPoint(t,i,1)},e.prototype.updateFloatingTerminalPoints=function(e,t,n){var r=e.absolutePoints,i=r[0];null==r[r.length-1]&&null!=n&&this.updateFloatingTerminalPoint(e,n,t,!1),null==i&&null!=t&&this.updateFloatingTerminalPoint(e,t,n,!0)},e.prototype.getConnectorPoints=function(e,t){this.updateFixedTerminalPoints(e,t),this.updatePoints(e,e.geometry.points),this.updateFloatingTerminalPoints(e,t.nameTable[e.sourceID],t.nameTable[e.targetID]),e.absolutePoints[0].y=e.sourcePoint.y,e.absolutePoints[e.absolutePoints.length-1].y=e.targetPoint.y},e.prototype.adjustSegmentPoints=function(e,t,n){"TopToBottom"!==n.layout.orientation&&"BottomToTop"!==n.layout.orientation||(e[0].x=t[0].x,e[1].x=t[1].x,e[e.length-1].x=t[t.length-1].x,e[e.length-2].x=t[t.length-2].x,"TopToBottom"===n.layout.orientation?(e[e.length-2].y=e[e.length-1].y-n.layout.verticalSpacing/2,e[1].y=e[0].y+n.layout.verticalSpacing/2):(e[1].y=e[0].y-n.layout.verticalSpacing/2,e[e.length-2].y=e[e.length-1].y+n.layout.verticalSpacing/2),e[2].y=e[1].y,e[e.length-3].y=e[e.length-2].y),"RightToLeft"!==n.layout.orientation&&"LeftToRight"!==n.layout.orientation||(e[0]=t[0],e[1]=t[1],e[e.length-1]=t[t.length-1],e[e.length-2]=t[t.length-2],"RightToLeft"===n.layout.orientation&&(e[1].x=e[0].x-n.layout.verticalSpacing/2),"LeftToRight"===n.layout.orientation&&(e[1].x=e[0].x+n.layout.verticalSpacing/2),e[2].x=e[1].x,"RightToLeft"===n.layout.orientation&&(e[e.length-2].x=e[e.length-1].x+n.layout.verticalSpacing/2),"LeftToRight"===n.layout.orientation&&(e[e.length-2].x=e[e.length-1].x-n.layout.verticalSpacing/2),e[e.length-3].x=e[e.length-2].x)},e.prototype.updateConnectorSegmentPoints=function(e,t){if(e.length>1)if("TopToBottom"===t.layout.orientation||"BottomToTop"===t.layout.orientation)for(var n=1;n<e.length-1;n+=2)e[n].y===e[n+1].y||"TopToBottom"!==t.layout.orientation&&"BottomToTop"!==t.layout.orientation||(e[n+1].y=e[n].y);else{var r=!1;for(n=e.length-1;n>1;n=n-=2)"RightToLeft"===t.layout.orientation||"LeftToRight"===t.layout.orientation?r?(e[n-2].x=e[n-1].x,r=!1):(e[n-1].x=e[n-2].x,r=!0):e[n+1].x=e[n].x}},e.prototype.updateConnectorSegmentPoint=function(e,t){for(var n=[],r=0;r<e.absolutePoints.length-1;r++){var i=e.absolutePoints[r],o=e.absolutePoints[r+1],a=dd(i,o),s=hd(i,o);r===e.absolutePoints.length-2&&("TopToBottom"===t.layout.orientation&&"Bottom"===s||"RightToLeft"===t.layout.orientation&&"Left"===s||"LeftToRight"===t.layout.orientation&&"Right"===s||"BottomToTop"===t.layout.orientation&&"Top"===s)&&(a/=2);var l=new ol(e,"segments",{type:"Orthogonal"},!0);l.length=a,l.direction=s,n.push(l)}e.segments=n,e.type="Orthogonal",t.connectorPropertyChange(e,{},{type:"Orthogonal",segments:e.segments})},e.prototype.resetConnectorSegments=function(e){for(var t=e.segments,n=t.length;n>1;n--)t.splice(n-1,1)},e.prototype.resetRoutingSegments=function(e,t,n){if(e.levelSkip){this.getConnectorPoints(e,t);var r=e.absolutePoints;this.updateConnectorSegmentPoints(r,t),this.adjustSegmentPoints(r,n,t),this.updateConnectorSegmentPoint(e,t)}},e.prototype.arrangeElements=function(e,t){var n=e.model.layout,r="LeftToRight"===t.orientation||"RightToLeft"===t.orientation?n.verticalSpacing:n.horizontalSpacing;this.groupLayoutCells(e),this.createMatrixCells(e);for(var i=0;i<e.matrix.length;i++)for(var o=e.matrix[i].key,a=e.matrix[o].value,s=1;s<a.length;s++){var l=a[s],c=a[s-1];l.offset+=c.offset+c.size/2+r+l.size/2}for(i=0;i<e.matrix[0].value.length;i++){var h=e.matrix[0].value[i];this.arrangeMatrix(h,null,e)}for(var d=0;d<e.matrix.length;d++){var u=e.matrix[d].value;for(s=0;s<u.length;s++){if((l=u[s]).visitedParents.length>1){var p=l.visitedParents[0],f=l.visitedParents[l.visitedParents.length-1],g=this.findParentVertexCellGroup(p),A=this.findParentVertexCellGroup(f);p!==g&&g.offset<p.offset&&(p=g),f!==A&&A.offset>f.offset&&(f=g);var m=(p.offset+f.offset)/2,y=l.initialOffset,v=l.offset;v!==y&&(m>=y&&m<=v?this.translateMatrixCells(m-l.offset,l):m<y&&this.translateMatrixCells(y-l.offset,l))}}}this.setXYforMatrixCell(e)},e.prototype.findParentVertexCellGroup=function(e){return e.cells[0]?e:e.parents.length>0?this.findParentVertexCellGroup(e.parents[0]):e},e.prototype.setXYforMatrixCell=function(e){for(var t=e.model.layout,n="LeftToRight"===t.orientation||"RightToLeft"===t.orientation,r=n?t.verticalSpacing:t.horizontalSpacing,i=0;i<e.matrix.length;i++)for(var o=e.matrix[i].value,a=0;a<o.length;a++)for(var s=o[a],l=s.offset-s.size/2,c=0;c<s.cells.length;c++){var h=s.cells[c],d=this.getType(h.type);if("internalVertex"===d){var u=h,p=u.cell.geometry.width,f=u.cell.geometry.height;u.cell.geometry=n?new Ar(e.rowOffset[s.level]-p/2,l,p,f):new Ar(l,e.rowOffset[s.level]-f/2,p,f),l+=(n?f:p)+r}else if("internalEdge"===d){var g=h,A=s.visitedParents[0];if(A)for(var m=0;m<A.visitedChildren.length;m++){for(var y=A.visitedChildren[m],v=[],b=0;b<y.cells.length;b++){var w=y.cells[b];"internalVertex"===this.getType(w.type)&&v.push(w)}if(v.length>0){!0;break}}for(b=0;b<g.edges.length;b++){var x=g.edges[b],C=this.getPointvalue(l+.5,e.rowOffset[s.level]);if(n&&(C=this.getPointvalue(e.rowOffset[s.level],l+.5)),this.containsValue(this.getEdgeMapper(),x)){var S=void 0;for(m=0;m<this.getEdgeMapper().length;m++)if(this.getEdgeMapper()[m].key===x){S=m;break}this.getEdgeMapper()[S].value.push(C)}l+=6}l+=r}}},e.prototype.getEdgeMapper=function(){return this.edgeMapper},e.prototype.setEdgeMapper=function(e){this.edgeMapper.push(e)},e.prototype.translateMatrixCells=function(e,t){if(0!==e&&(t.offset+=e,t.visitedChildren.length>0))for(var n=0;n<t.visitedChildren.length;n++){var r=t.visitedChildren[n];this.translateMatrixCells(e,r)}},e.prototype.groupLayoutCells=function(e){for(var t=e.model.ranks,n=t.length-1;n>=0;n--){for(var r=[],i=0;i<t[n].length;i++){var o=t[n][i];"internalVertex"===this.getType(o.type)&&r.push(t[n][i])}for(var a=[],s=0;s<t[n].length;s++){o=t[n][s];"internalEdge"===this.getType(o.type)&&a.push(o)}for(;r.length>1;){for(var l=r[0],c=this.selectIds(l.connectsAsTarget,!0),h=this.selectIds(l.connectsAsSource,!1);r.length>1;){var d=r[1],u=this.selectIds(d.connectsAsTarget,!0),p=this.selectIds(d.connectsAsSource,!1),f=this.compareLists(c,u),g=this.compareLists(h,p);if(!f||!g)break;this.updateMutualSharing(r[0],d.id),this.updateMutualSharing(r[1],l.id),r.splice(1,1)}r.splice(0,1)}for(;a.length>1;){var A=a[0],m=A.source,y=A.target;if(null!=m.identicalSibiling){for(var v=[],b=0;b<a.length;b++){var w=a[b];w.target===y&&v.push(w)}for(b=0;b<v.length;b++){var x=v[b];this.containsValue(m.identicalSibiling,x.source.id)&&(x.source.identicalSibiling=null)}A.source.identicalSibiling=null}a.splice(0,1)}}},e.prototype.getType=function(e){return"internalVertex"===e?"internalVertex":"internalEdge"},e.prototype.selectIds=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t?n.push(i.source.id):n.push(i.target.id)}return n},e.prototype.compareLists=function(e,t){var n=e.slice(),r=t.slice();if(n.length===r.length){if(0===n.length)return!0;for(var i=!0,o=0;o<r.length;o++)for(var a=r[o],s=o;s<n.length;s++)if(n[s]!==a){i=!1;break}return i}return!1},e.prototype.updateMutualSharing=function(e,t){null!=e.identicalSibiling||(e.identicalSibiling=[]),e.identicalSibiling.push(t)},e.prototype.matrixCellGroup=function(e){return e.level=e.level,e.parents=e.parents,e.children=e.children,e.visitedChildren=e.visitedChildren,e.visitedParents=e.visitedParents,e.ignoredChildren=e.ignoredChildren,e.cells=e.cells,e.offset=e.offset,e.initialOffset=e.initialOffset,e},e.prototype.getPointvalue=function(e,t){return{x:Number(e)||0,y:Number(t)||0}},e.prototype.containsValue=function(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t||e[n]===t)return!0;return!1},e.prototype.createMatrixCells=function(e){for(var t=e.model.layout,n="LeftToRight"===t.orientation||"RightToLeft"===t.orientation,r=n?t.verticalSpacing:t.horizontalSpacing,i=n?t.horizontalSpacing:t.verticalSpacing,o=e.model.ranks,a=[],s=-i,l=o.length-1;l>=0;l--){var c=0,h=o.length-1-l,d=o[l].slice(),u=[];e.matrix.push({key:h,value:u});var p=[];for(a.push({index:h,value:p});d.length>0;){var f=d[0],g=this.matrixCellGroup({level:h,parents:[],children:[],visitedParents:[],visitedChildren:[],ignoredChildren:[],cells:[],size:0,offset:0,initialOffset:0});u.push(g);var A=this.getType(f.type);if("internalVertex"===A){if(g.cells.push(f),null!=f.identicalSibiling)for(var m=0;m<d.length;m++){var y=d[m];if("internalVertex"===this.getType(y.type)&&this.containsValue(f.identicalSibiling,y.id)&&(g.cells.push(y),g.cells.length>f.identicalSibiling.length))break}for(m=0;m<g.cells.length;m++){y=g.cells[m];if("internalVertex"===this.getType(y.type)){var v=y.cell.geometry;if(g.size+=n?v.height:v.width,c=Math.max(c,n?v.width:v.height),p.push({key:y.id,value:g}),y.connectsAsTarget.length>0)for(var b=0;b<y.connectsAsTarget.length;b++){var w=y.connectsAsTarget[b],x=null;if(this.containsValue(a[h-1].value,w.ids)?x=w.ids:this.containsValue(a[h-1].value,w.source.id)&&(x=w.source.id),null!=x){for(var C=a[h-1].value,S=void 0,B=0;B<C.length;B++)if(C[B].key===x){S=C[B].value;break}this.containsValue(g.parents,S)||g.parents.push(S),this.containsValue(S.children,g)||S.children.push(g)}}d.reverse(),d.pop(),d.reverse()}}g.size+=(g.cells.length-1)*r}else if("internalEdge"===A){g.cells.push(f);for(m=0;m<g.cells.length;m++){var P=g.cells[m];if("internalEdge"===this.getType(P.type)&&null!=P.edges){var E=-5;for(b=0;b<P.edges.length;b++)E+=6;g.size+=E}p.push({key:P.ids,value:g});x=null;if(this.containsValue(a[h-1].value,P.ids)?x=P.ids:this.containsValue(a[h-1].value,P.source.id)&&(x=P.source.id),null!=x){var O=a[h-1].value;for(S=void 0,B=0;B<O.length;B++)if(O[B].key===x){S=O[B].value;break}this.containsValue(g.parents,S)||g.parents.push(S),this.containsValue(S.children,g)||S.children.push(g)}d.reverse(),d.pop(),d.reverse()}g.size+=(g.cells.length-1)*r}}e.rowOffset.push(s+c/2+i),s+=c+i}},e.prototype.updateLayout=function(e,t,n,r,i,o){var a=(e.x-t.width)/2-t.x,s=(e.y-t.height)/2-t.y;a=Math.round(a),s=Math.round(s);for(var l=[],c=new Ar(t.x+a,t.y+s,t.width,t.height),h=n.margin,d="RightToLeft"===r.orientation||"LeftToRight"===r.orientation?r.horizontalSpacing:r.verticalSpacing,u=0;u<i.length;u++){var p=i[u];if(null!=p.outEdges&&p.outEdges.length>0)for(var f=p.outEdges.length,g=0;g<f;g++){if((L=o[p.outEdges[g]]).pointCollection=[],f>1){for(var A=d/2,m=null,y=void 0,v=this.getEdgeMapper(),b=0;b<v.length;b++)if(v[b].key===L){y=b;break}if(v[y].value.length>0){var w=v[y].value[0],x=w.x+h.left,C=w.y+h.top,S=x,B=C;"BottomToTop"===r.orientation?B=t.height-C:"RightToLeft"===r.orientation&&(S=t.width-x),S+=a,B+=s,m=this.getPointvalue(S,B)}for(var P=[],E=0;E<L.segments.length;E++){var O=L.segments[E].points;for(var T in O)P.push(O[T])}P=this.updateConnectorPoints(P,A,m,c,r.orientation);for(var I=0;I<P.length;I++){O=P[I];L.pointCollection.push(this.getPointvalue(O.x,O.y))}this.resetConnectorPoints(L,this.diagram)}l.push(L)}if(null!=p.inEdges&&p.inEdges.length>1)for(f=p.inEdges.length,v=this.getEdgeMapper(),g=0;g<f;g++){var L=o[p.inEdges[g]];if(this.containsValue(l,L)||(L.pointCollection=[]),f>1){A=d/2,m=null,y=void 0,b=void 0;for(b=0;b<v.length;b++)if(v[b].key===L){y=b;break}if(v[y].value.length>0&&!this.containsValue(l,L)){var k=v[b].value[0],N=k.x+h.left,M=k.y+h.top;S=N,B=M;"BottomToTop"===r.orientation?B=t.height-M:"RightToLeft"===r.orientation&&(S=t.width-N),S+=a,B+=s,m=this.getPointvalue(S,B)}for(P=[],I=0;I<L.segments.length;I++){O=L.segments[I].points;for(var T in O)P.push(O[T])}P.reverse(),(P=this.updateConnectorPoints(P,A,m,c,n.orientation)).reverse(),L.pointCollection=[];for(I=0;I<P.length;I++){O=P[I];L.pointCollection.push(this.getPointvalue(O.x,O.y))}this.resetConnectorPoints(L,this.diagram)}}}}}(),function(){function e(){this.isAnimation=!1}return e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"OrganizationalChart"},e.prototype.updateLayout=function(e,t,n,r,i,o){var a={type:n.type,nameTable:t,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},orientation:n.orientation,horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,verticalAlignment:n.verticalAlignment,horizontalAlignment:n.horizontalAlignment,fixedNode:n.fixedNode,getLayoutInfo:ip(n.getLayoutInfo),layoutInfo:n.layoutInfo,margin:n.margin,bounds:n.bounds,objects:[],root:n.root};return this.doLayout(a,e,r,i,o),a},e.prototype.doLayout=function(e,t,n,r,i){var o,a,s=[];for(e.nameTable[e.root]&&e.firstLevelNodes.push(e.nameTable[e.root]),a=0;a<t.length;a++)if(!(o=t[a]).excludeFromLayout&&((e.graphNodes[o.id]=this.setUpLayoutInfo(e,o)).tree.hasSubTree=!1,!e.nameTable[e.root]&&(!o.inEdges||!o.inEdges.length))){o.parentId||o.processId||s.push(o),o.data&&String(o.data[r])===e.root&&e.firstLevelNodes.push(o)}for(0===e.firstLevelNodes.length&&(e.firstLevelNodes=s),a=0;a<e.firstLevelNodes.length;a++)o=e.firstLevelNodes[a],this.updateEdges(e,o,1,i,t);if(e.firstLevelNodes.length>0){e.rootNode=e.firstLevelNodes[0];var l=0,c=0,h=void 0,d=void 0,u=void 0,p=void 0,f=void 0;for(a=0;a<e.firstLevelNodes.length;a++){f=this.updateTree(e,l,c,e.firstLevelNodes[a],0,e.firstLevelNodes[a-1]);var g=e.graphNodes[e.firstLevelNodes[a].id];f.y=Math.min(f.y,g.y),f.x=Math.min(f.x,g.x),-1!==e.orientation.indexOf("Left")?c=f.right+e.horizontalSpacing:l=f.right+e.horizontalSpacing,0===a?(h=f.x,p=f.y,u=f.right,d=f.bottom):(h=Math.min(h,f.x),p=Math.min(p,f.y),u=Math.max(u,f.right),d=Math.max(d,f.bottom))}for(this.updateAnchor(e,{x:h,y:p,right:u,bottom:d},n),a=0;a<e.firstLevelNodes.length;a++)this.updateNodes(e,e.firstLevelNodes[a],0);for(a=0;a<e.firstLevelNodes.length;a++)this.updateConnectors(e,e.firstLevelNodes[a],1)}},e.prototype.getBounds=function(e){var t=e.offsetX-e.actualSize.width*e.pivot.x,n=e.offsetY-e.actualSize.height*e.pivot.y;return new Ar(t,n,e.actualSize.width,e.actualSize.height)},e.prototype.updateTree=function(e,t,n,r,i,o,a){var s,l,c={},h=this.getDimensions(e,r,t,n,i);c=e.graphNodes[r.id],e.maxLevel=Math.max(e.maxLevel,i),s=i;var d=this.hasChild(e,r);if(d||c.tree.assistants.length){var u=void 0,p=void 0,f=void 0,g=void 0,A=void 0,m=void 0;m=h.y+h.height+e.verticalSpacing,c.tree.assistants.length&&(s=(l=this.setDepthSpaceForAssitants(e,r,m,h.height,i,e.verticalSpacing)).level,m=l.bottom),c.tree.assistants.length||"Horizontal"===c.tree.orientation||(m=h.y+h.height+e.verticalSpacing/2),c.tree.children.length&&(u="Horizontal"!==c.tree.orientation||"Balanced"===c.tree.type&&1!==c.tree.children.length?"Balanced"===c.tree.type?this.updateHorizontalTreeWithMultipleRows(e,r,o,h.x,m,s):this.updateVerticalTree(e,r,h.x,m,s,a):this.updateHorizontalTree(e,r,o,h.x,m,s)),c.y&&c.y>h.y||(c.y=h.y),c.mid&&(t=c.mid),c.tree.assistants.length&&(A=void 0!==t?t:h.x,g=this.setBreadthSpaceForAssistants(e,r,h,A,m,i),d||(t=((p=u=g).x+p.right)/2-h.width/2,u=p),f=g?g.canMoveBy:void 0),c.x=t,c.translate||(c.treeWidth=u.right-u.x);var y={layout:e,shape:r,shapeBounds:{x:t,y:h.y,right:t+h.width,bottom:h.y+h.height},treeBounds:u,dim:h,level:i};return this.translateSubTree(y,f,void 0!==o,a),c.firstChild&&"string"!==typeof c.firstChild&&(c.firstChild.x+=c.subTreeTranslation),r.treeBounds=u,u}return r.treeBounds=this.updateLeafNode(e,r,o,h,i,a),r.treeBounds},e.prototype.updateLeafNode=function(e,t,n,r,i,o){var a=e.graphNodes[t.id];a.x=r.x,a.y&&a.y>r.y||(a.y=r.y,a.maxLevel=Math.max(i,a.maxLevel||0));var s={x:r.x,y:r.y,right:r.x+r.width,bottom:r.y+r.height};a.maxLevel=Math.max(a.maxLevel||0,i);var l={layout:e,shape:t,shapeBounds:s,treeBounds:s,dim:r,level:i};return this.translateSubTree(l,void 0,void 0!==n,o),{x:a.x,y:a.y,right:a.x+r.width,bottom:a.y+r.height}},e.prototype.setUpLayoutInfo=function(e,t){var n={subTreeTranslation:0};return"OrganizationalChart"===e.type?n.tree={orientation:"Vertical",type:"Alternate",offset:20,enableRouting:!0}:n.tree={orientation:"Horizontal",type:"Center",enableRouting:!0},n.tree.children=[],n.tree.assistants=[],n.tree.level=0,n.translate=!0,n},e.prototype.translateSubTree=function(e,t,n,r){var i=e.layout,o=e.shape,a=e.shapeBounds,s=e.treeBounds,l=e.level,c=e.dim,h=i.graphNodes[o.id],d=i.nameTable[h.firstChild?h.firstChild.child:h.tree.children[0]],u=d?i.graphNodes[d.id]:null,p=this.hasChild(i,o),f=this.findIntersectingLevels(i,a,l,h.actualLevel),g=this.findIntersectingLevels(i,s,l,h.actualLevel),A=[];f.length&&h.translate?(h.intersect=f,this.spaceLeftFromPrevSubTree(i,o,a),h.canMoveBy=h.diff,void 0!==t&&(h.canMoveBy=Math.min(t,h.canMoveBy)),d&&void 0!==u.canMoveBy&&(u.canMoveBy>=h.canMoveBy&&(h.translated=!0),h.canMoveBy=Math.min(h.canMoveBy,u.canMoveBy)),n&&(h.x-=h.canMoveBy,h.subTreeTranslation-=h.canMoveBy,p&&(this.shiftSubordinates(i,g,h.canMoveBy),s.x=Math.min(s.x,h.x),s.right=Math.max(s.right,h.x+c.width),s.bottom=Math.max(s.bottom,h.y+c.height),s.x-=h.canMoveBy,s.right-=h.canMoveBy),d&&u.canMoveBy>h.canMoveBy?h.canMoveBy=u.canMoveBy-h.canMoveBy:d&&void 0!==h.canMoveBy&&(h.canMoveBy=0))):(p&&(s.x=Math.min(s.x,a.x),s.right=Math.max(s.right,a.x+c.width),s.bottom=Math.max(s.bottom,h.y+c.height)),h.translate||(h.canMoveBy=0,h.subTreeTranslation=0)),r||(a={x:h.x,y:c.y,right:h.x+c.width,bottom:c.y+c.height},A.push({rBounds:a}),this.updateRearBounds(i,o,A,l))},e.prototype.updateRearBounds=function(e,t,n,r,i){var o,a,s,l,c=!0,h={};t&&(i=(h=e.graphNodes[t.id]).intersect,c=!h.tree.children.length&&!h.tree.assistants.length);var d=n[0].rBounds,u=n[n.length-1].rBounds;if(i&&i.length){for(l=(o=e.levels[i[0]].rBounds).bottom,o.y<d.y&&(o.bottom=d.y,n.splice(0,0,{rBounds:o})),l>u.bottom?n.push({rBounds:{x:o.x,right:o.right,y:d.bottom,bottom:l}}):(o=e.levels[i[i.length-1]].rBounds,c&&o.bottom>u.bottom&&(o.y=u.bottom,n.push({rBounds:o}))),a=i[0],s=n.length-1;s>=0;s--)e.levels.splice(a,0,n[s]);a+=n.length,e.levels.splice(a,i.length)}else for(a=this.findLevel(e,n[n.length-1].rBounds,r),s=n.length-1;s>=0;s--)e.levels.splice(a,0,n[s])},e.prototype.shiftSubordinates=function(e,t,n){var r;if(0!==n)for(r=0;r<t.length;r++)e.levels[t[r]].rBounds&&(e.levels[t[r]].rBounds.x-=n,e.levels[t[r]].rBounds.right-=n)},e.prototype.setDepthSpaceForAssitants=function(e,t,n,r,i,o){var a,s,l,c,h=e.graphNodes[t.id],d={};for(c=n,s=0;s<h.tree.assistants.length;s++)(d=e.graphNodes[h.tree.assistants[s]])&&(d.tree.children=d.tree.assistants=[],d.y=n,a=(l=e.nameTable[h.tree.assistants[s]]).actualSize.height,-1!==e.orientation.indexOf("Left")&&(a=l.actualSize.width),c=n+a+o/2,e.maxLevel=i+1,s%2===1&&s!==h.tree.assistants.length-1&&(n=c,i++));return{level:e.maxLevel,bottom:n+a+o}},e.prototype.setBreadthSpaceForAssistants=function(e,t,n,r,i,o){var a,s,l,c,h,d,u,p={},f=e.graphNodes[t.id],g=o,A={x:0,y:0,right:0,bottom:0};for(c=0;c<f.tree.assistants.length;c++)(p=e.graphNodes[f.tree.assistants[c]])&&(a=(l=e.nameTable[f.tree.assistants[c]]).actualSize.width,-1!==e.orientation.indexOf("Left")&&(a=l.actualSize.height),h=c%2===0?r+n.width/2-20-a:r+n.width/2+20,s=this.updateTree(e,h,p.y,e.nameTable[f.tree.assistants[c]],g+1),this.hasChild(e,t)||(0===c?A=s:this.uniteRects(A,s)),c%2===0&&p.prevBounds&&(d=void 0===d?p.canMoveBy:Math.min(d,p.canMoveBy)),c%2!==1&&c!==f.tree.assistants.length-1||(u=this.findIntersectingLevels(e,s,g+1),this.updateRearBounds(e,null,[{rBounds:s}],g+1,u),g++));return A&&(A.canMoveBy=d),A},e.prototype.getDimensions=function(e,t,n,r,i){var o,a;if(o=t.actualSize.width,a=t.actualSize.height,-1!==e.orientation.indexOf("Left")){if(!i){var s=n;n=r,r=s}a=t.actualSize.width,o=t.actualSize.height}return{x:n,y:r,width:o,height:a}},e.prototype.hasChild=function(e,t){var n=e.graphNodes[t.id];return n?n.tree.children&&n.tree.children.length:0},e.prototype.updateHorizontalTree=function(e,t,n,r,i,o){var a=this.getDimensions(e,t,r,i,o),s={},l=(s=e.graphNodes[t.id]).tree.type,c=o,h=0;h=r;var d,u,p,f,g,A,m,y,v,b,w,x,C,S,B,P=i;e.levels.slice(0,e.levels.length);if(this.hasChild(e,t)){var E=-1!==e.orientation.indexOf("Left");for(C=0;C<s.tree.children.length;C++){d=(p=e.nameTable[s.tree.children[C]]).actualSize.width,u=p.actualSize.height,g=E?u:d,A=E?d:u;e.levels[c+1]&&e.levels[c+1].rBounds;if(f=this.updateTree(e,h,P,p,c+1,e.nameTable[s.tree.children[C-1]]),S=e.graphNodes[p.id],s.maxLevel=Math.max(s.maxLevel||0,S.maxLevel||0),y={x:S.x,y:S.y,right:S.x+g,bottom:S.y+A},0===C&&(m={x:Math.min(S.x,f.x),y:Math.min(S.y,f.y),right:f.right,bottom:f.bottom},B=S),x?(x.x=y.x,x.y=y.y,y.right>x.right&&(x.right=y.right),x.bottom=y.bottom):x=y,0===C&&(s.firstChild={x:S.x,canMoveBy:S.canMoveBy,child:p.id}),this.hasChild(e,p))if(!s.firstChild||s.firstChild.x>=S.firstChild.x){S.firstChild&&s.firstChild.canMoveBy<S.canMoveBy&&(w=s.firstChild.canMoveBy,S.canMoveBy=w,e.graphNodes[s.firstChild.child].canMoveBy=w,s.firstChild.canMoveBy=w);var O=void 0!==w?w:S.canMoveBy;s.firstChild={x:S.firstChild.x,canMoveBy:O,child:p.id}}else S.firstChild&&S.translated&&s.firstChild.canMoveBy>S.canMoveBy&&(s.firstChild.canMoveBy=e.graphNodes[s.firstChild.child].canMoveBy=S.canMoveBy);v=v?Math.max(S.maxLevel,v):S.maxLevel,this.uniteRects(m,f),h=0!==C&&!this.hasChild(e,p)&&S.subTreeTranslation<0?f.right-S.subTreeTranslation+e.horizontalSpacing:f.right+e.horizontalSpacing}isNaN(b)||(B.canMoveBy=b),s.mid=(B.x+x.right)/2-a.width/2,"Left"===l?s.mid=y.right-a.width:"Right"===l&&(s.mid=r)}return m},e.prototype.updateHorizontalTreeWithMultipleRows=function(e,t,n,r,i,o){var a,s,l,c,h,d,u,p,f,g,A,m=this.getDimensions(e,t,r,i,o),y=e.graphNodes[t.id],v=(y.tree.type,o),b=r,w=i,x=(e.levels.slice(0,e.levels.length),0);if(this.hasChild(e,t)){var C=-1!==e.orientation.indexOf("Left"),S=void 0,B=this.splitChildrenInRows(e,t),P=5===y.tree.children.length&&3===B[0].length,E=[],O=[];P?O=B:this.splitRows(B,E,O);var T={leftTree:E,rows:B,rightTree:O,dimensions:m},I=this.updateLeftTree(e,T,t,r,w,v);h=T.bounds;var L=void 0,k=(I||0)+(void 0!==I?e.horizontalSpacing/2:0);void 0!==I&&(y.mid=k-m.width/2,L=I+e.horizontalSpacing),w=i;var N=void 0;for(N=[],f=0;f<O.length;f++)for(b=B[f].length%2===1&&f===O.length-1||P?r:L||r,0!==f&&(w=N[f-1].bottom+e.verticalSpacing),p=0;p<O[f].length;p++)d=(a=e.nameTable[O[f][p]]).actualSize.width,u=a.actualSize.height,c=C?u:d,C?d:u,(s=e.graphNodes[a.id]).actualLevel=v+1+f,0===p&&E[f]&&E[f].length&&(s.translate=!1),P&&1===f&&(0===p&&g+c+e.horizontalSpacing<=A&&(S=!0,b=g-c/2),S&&1===p&&(b=A-c/2)),l=this.updateTree(e,b,w,a,v+1,e.nameTable[O[f][p-1]]),P&&p<=2&&0===f&&1===p&&(g=l.x-e.horizontalSpacing/2,A=l.x+c+e.horizontalSpacing/2),0===p?N[f]={x:l.x,y:l.y,right:l.right,bottom:l.bottom}:this.uniteRects(N[f],l),h||(h={x:N[f].x,y:N[f].y,right:N[f].right,bottom:N[f].bottom}),this.uniteRects(h,N[f]),b=l.right+e.horizontalSpacing,(!y.firstChild||(f===O.length-1&&B[f].length%2===1||P)&&0===p&&void 0!==s.canMoveBy&&x>s.canMoveBy)&&(x=Math.min(x,s.canMoveBy||0),y.firstChild={x:s.x,child:a.id,canMoveBy:s.canMoveBy}),T.leftCenter=g,T.rightCenter=A,T.align=S,T.level=v,T.rightBounds=N,this.alignRowsToCenter(e,f,t,T,L)}return h},e.prototype.updateLeftTree=function(e,t,n,r,i,o){for(var a,s,l,c,h,d=t.leftTree,u=e.graphNodes[n.id],p=[],f=-1!==e.orientation.indexOf("Left"),g=0;g<d.length&&d[g].length;g++){a=r,p[g-1]&&(i=p[g-1].bottom+e.verticalSpacing);for(var A=0;A<d[g].length;A++){var m=e.nameTable[d[g][A]],y=(f?m.actualSize.height:m.actualSize.width,f?m.actualSize.width:m.actualSize.height,e.graphNodes[m.id]);y.actualLevel=o+1+g,c=this.updateTree(e,a,i,m,o+1,e.nameTable[d[g][A-1]]),0===A?p[g]={x:c.x,y:c.y,right:c.right,bottom:c.bottom}:this.uniteRects(p[g],c),0===g&&0===A?(s=y.canMoveBy,u.firstChild={x:y.x,child:m.id,canMoveBy:y.canMoveBy}):0===A&&void 0!==y.canMoveBy&&s>y.canMoveBy&&(s=Math.min(s,y.canMoveBy||0),u.firstChild={x:y.x,child:m.id,canMoveBy:y.canMoveBy}),a=c.right+e.horizontalSpacing}l=0===g?p[g].right:Math.max(l,p[g].right)}for(g=0;g<d.length&&d[g].length;g++){if(l!==p[g].right){var v=l-p[g].right;for(A=0;A<d[g].length;A++){e.nameTable[d[g][A]];e.graphNodes[d[g][A]].x+=v}}0===g?h={x:p[0].x,y:p[0].y,right:p[0].right,bottom:p[0].bottom}:this.uniteRects(h,p[g])}return t.bounds=h,l},e.prototype.alignRowsToCenter=function(e,t,n,r,i){var o,a,s,l=e.graphNodes[n.id],c=r.rows,h=r.rightTree,d=r.leftCenter,u=r.rightCenter,p=r.align,f=r.rightBounds,g=r.dimensions,A=r.level,m=5===l.tree.children.length&&3===c[0].length;if(m&&1===t&&(o=f[0].right-f[0].x>=f[1].right-f[1].x?0:1),t===c.length-1&&(c[t].length%2===1||m&&1===t)){a=h[t][Math.floor(h[t].length/2)];var y=e.nameTable[a],v=e.graphNodes[a].x,b=e.graphNodes[a].y,w=this.getDimensions(e,y,v,b,A+1);s=void 0,!p&&m?(1===o&&(t=0),s=(f[o].x+f[o].right)/2-(f[t].x+f[t].right)/2,0===t&&(l.mid+=s)):m||void 0===i||(s=i-e.horizontalSpacing/2-(v+w.width/2)),void 0!==s&&this.updateRearBoundsOfTree(e,h[t],s,g),m&&(l.mid=(u+d)/2+(0===t?s:0)-g.width/2),void 0===l.mid&&e.graphNodes[a]&&(l.mid=v),p=!1,t++}},e.prototype.updateRearBoundsOfTree=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=e.graphNodes[t[i]];if(o.x+=n,o.canMoveBy+=n,i===t.length-1){var a={x:o.x,y:o.y,right:o.x+r.width,bottom:o.y+r.height},s=this.findIntersectingLevels(e,a,o.actualLevel);this.updateRearBounds(e,null,[{rBounds:a}],o.actualLevel,s)}}},e.prototype.splitRows=function(e,t,n){for(var r=0;r<e.length;r++){t[r]=[],n[r]=[];var i=void 0;if(i=e[r].length,e[r].length%2!==1){i=Math.ceil(e[r].length/2);for(var o=0;o<i;o++)t[r].push(e[r][o])}for(var a=t[r].length;a<e[r].length;a++)n[r].push(e[r][a])}},e.prototype.updateVerticalTree=function(e,t,n,r,i,o){var a,s,l,c,h,d,u,p,f,g,A,m,y,v,b=e.graphNodes[t.id],w=e.nameTable[b.tree.children[0]],x=-1!==e.orientation.indexOf("Left"),C="Left"===b.tree.type?-1:0,S=n,B=r,P=i,E=[],O=[];for(A=0;A<b.tree.children.length;A++){if("Alternate"===b.tree.type&&(y=A%2===0&&b.tree.children.length>2?"Left":"Right",C=A%2===0&&b.tree.children.length>2?-1:0),S=n+this.findOffset(e,t,b,y),a=e.nameTable[b.tree.children[A]],c=x?a.actualSize.height:a.actualSize.width,h=x?a.actualSize.width:a.actualSize.height,l=this.updateTree(e,S+C*c,B,a,i+1,void 0,!0),p={x:(s=e.graphNodes[a.id]).x,y:s.y,right:s.x+c,bottom:s.y+h},0===A?(this.uniteRects(l,p),u=l):this.uniteRects(u,l),!s.prevBounds||"Alternate"===b.tree.type&&A%2===1&&b.tree.children.length>2||(v=void 0!==v?Math.min(s.canMoveBy,v):s.canMoveBy),b.maxLevel=Math.max(b.maxLevel||0,s.maxLevel||0),"Alternate"===b.tree.type&&b.tree.children.length>2&&A%2===0?(0!==A&&(B=d.bottom+e.verticalSpacing/2),O.push({rBounds:p}),s.levelBounds&&(O=O.concat(s.levelBounds))):(B="Alternate"===b.tree.type&&b.tree.children.length>2?Math.max(l.bottom,d.bottom)+e.verticalSpacing/2:l.bottom+e.verticalSpacing/2,i=b.maxLevel,E.push({rBounds:p}),g?this.uniteRects(g,p):g={x:s.x,y:s.y,right:s.x+c,bottom:s.y+h},s.levelBounds&&(E=E.concat(s.levelBounds))),0===A&&(b.firstChild={x:s.x,canMoveBy:s.canMoveBy,child:a.id}),this.hasChild(e,a))if(!b.firstChild||b.firstChild.x>=s.firstChild.x){if(s.firstChild&&b.firstChild.canMoveBy<s.canMoveBy){var T=b.firstChild.canMoveBy;s.canMoveBy=T,e.graphNodes[b.firstChild.child].canMoveBy=T,b.firstChild.canMoveBy=T}b.firstChild={x:s.firstChild.x,canMoveBy:void 0!==v?v:s.canMoveBy,child:a.id}}else s.firstChild&&s.translated&&b.firstChild.canMoveBy>s.canMoveBy&&(b.firstChild.canMoveBy=e.graphNodes[b.firstChild.child].canMoveBy=s.canMoveBy);d=p}return o?b.levelBounds=E:("Alternate"===b.tree.type&&b.tree.children.length>2&&(f={x:O[0].rBounds.x,y:O[0].rBounds.y,right:O[O.length-1].rBounds.right,bottom:O[O.length-1].rBounds.bottom},m=this.findIntersectingLevels(e,f,P+1),this.updateRearBounds(e,null,O,P+1,m)),m=this.findIntersectingLevels(e,g||u,P+1),this.updateRearBounds(e,null,g?E:[{rBounds:u}],P+1,m)),isNaN(v)||(e.graphNodes[w.id].canMoveBy=v),b.childBounds=u,b.mid=n,u},e.prototype.splitChildrenInRows=function(e,t){var n,r=e.graphNodes[t.id];n=4;var i,o=[];i=r.tree.children.length;var a=this.extend(r.tree.children);if(r.tree.rows){r.tree.children.length;var s=r.tree.rows;n=s%2===0?s:s-1}else 3===r.tree.children.length||4===r.tree.children.length?n=2:5===r.tree.children.length&&(n=3);for(;i>0;)o[o.length]=a.splice(0,n),(i-=n)<n&&(i%2===0?n=i:1!==i&&(n=i-1),i<n&&(n=i));return o},e.prototype.extend=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},e.prototype.findOffset=function(e,t,n,r){var i=0,o=-1!==e.orientation.indexOf("Left")?t.actualSize.height:t.actualSize.width,a=r||n.tree.type;switch(i=n.tree.offset||20,"Alternate"===n.tree.type&&i>=e.horizontalSpacing&&(i=e.horizontalSpacing/2),a){case"Left":i=o/2-i;break;case"Right":i+=o/2}return i},e.prototype.uniteRects=function(e,t){e.x=Math.min(e.x,t.x),e.right=Math.max(e.right,t.right),e.bottom=Math.max(e.bottom,t.bottom)},e.prototype.spaceLeftFromPrevSubTree=function(e,t,n){for(var r,i,o=e.graphNodes[t.id],a=e.horizontalSpacing,s=0;s<o.intersect.length;s++)i=e.levels[o.intersect[s]].rBounds,r=n.x-(i.right+a),(void 0===o.diff||r<o.diff)&&(o.diff=r,o.prevBounds=e.levels[o.intersect[s]].rBounds)},e.prototype.findIntersectingLevels=function(e,t,n,r){var i={x:t.x,y:t.y,right:t.right,bottom:t.bottom};i.y-=e.verticalSpacing/2,i.bottom+=e.verticalSpacing/2;var o,a,s=[];a=void 0!==r?r:n,o=e.levels[a]?e.levels[a].rBounds:null;do{if(o&&(i.y<o.y&&i.bottom>o.y||i.y<o.bottom&&o.bottom<i.bottom||i.y>=o.y&&i.bottom<=o.bottom||i.y<o.y&&i.bottom>o.bottom)){s.splice(0,0,a)}else if(o&&o.bottom<i.y)break;a--,o=e.levels[a]?e.levels[a].rBounds:null}while(a>=0);a=(void 0!==r?r:n)+1,o=e.levels[a]?e.levels[a].rBounds:null;do{if(o&&(i.y<o.y&&i.bottom>o.y||i.y<o.bottom&&o.bottom<i.bottom||i.y>=o.y&&i.bottom<=o.bottom||i.y<o.y&&i.bottom>o.bottom))s.push(a);else if(o&&o.y>i.bottom)break;a++,o=e.levels[a]?e.levels[a].rBounds:null}while(a<=e.levels.length);return s},e.prototype.findLevel=function(e,t,n){var r,i,o=t;for(r=0,i=e.levels[r]?e.levels[r].rBounds:null;r<e.levels.length;){if(i&&o.bottom<i.y)return r;r++,i=e.levels[r]?e.levels[r].rBounds:null}return r},e.prototype.getParentNode=function(e,t){return e.nameTable[e.nameTable[t.inEdges[0]].sourceID]},e.prototype.updateEdges=function(e,t,n,r,i){var o,a=e.graphNodes[t.id];if(t.outEdges&&t.outEdges.length&&(t.isExpanded||r===Qr.Render))for(o=0;o<t.outEdges.length;o++){var s=e.nameTable[e.nameTable[t.outEdges[o]].targetID];s&&!s.excludeFromLayout&&(-1===a.tree.children.indexOf(s.id)&&a.tree.children.push(s.id),s.outEdges&&s.outEdges.length&&s.isExpanded&&(a.tree.hasSubTree=!0),this.updateEdges(e,s,n+1,r,i))}a.tree.level=n,a.tree.hasSubTree&&(a.tree.orientation="Horizontal",a.tree.type="Center"),(e.getLayoutInfo||e.layoutInfo)&&"OrganizationalChart"===e.type&&(e.getLayoutInfo?e.getLayoutInfo(t,a.tree):function(e,t,n,r){var i;if(t)for(var o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];if(i=t[s],"getAssistantDetails"===s){if(r.data.Role===t[s].root)for(var l=t[s].assistants,c=0;c<l.length;c++)for(var h=0;h<n.length;h++)n[h].data.Role===l[c]&&(e.assistants.push(n[h].id),e.children.splice(0,1))}else i&&(e[s]=t[s])}!e.hasSubTree&&t.canEnableSubTree&&(e.orientation=r.layoutInfo.orientation,e.type=r.layoutInfo.type,r.layoutInfo.offset!==e.offset&&void 0!==r.layoutInfo.offset&&(e.offset=r.layoutInfo.offset)),r.layoutInfo.hasSubTree=e.hasSubTree}(a.tree,e.layoutInfo,i,t),"Balanced"===a.tree.type&&a.tree.hasSubTree&&(a.tree.type="Center",a.tree.orientation="Horizontal")),e.level&&"Alternate"!==a.tree.type&&n>=e.level&&(a.tree.hasSubTree=!1)},e.prototype.updateAnchor=function(e,t,n){var r,i,o=0,a=0,s=0,l=0,c=new Ar(0,0,n.x,n.y),h=e.bounds?e.bounds:c,d=e.orientation;if(e.fixedNode){o=(i=e.nameTable[e.fixedNode]).actualSize.width,a=i.actualSize.height,e.anchorX=i.offsetX,e.anchorY=i.offsetY;var u=i.pivot;for(e.anchorX+="RightToLeft"===e.orientation?o*u.x:-o*u.x,e.anchorY+="BottomToTop"===e.orientation?a*u.y:-a*u.y,r=i,s=0;r.inEdges.length;)r=this.getParentNode(e,r),s+=e.graphNodes[r.id].subTreeTranslation||0;-1!==e.orientation.indexOf("Left")?(l=e.graphNodes[i.id].y,"LeftToRight"===d?e.anchorX-=l:e.anchorX+=l,e.anchorY-=e.graphNodes[i.id].x+s):(l=e.graphNodes[i.id].y,e.anchorX-=e.graphNodes[i.id].x+s,"TopToBottom"===d?e.anchorY-=l:e.anchorY+=l)}else if("TopToBottom"===d||"BottomToTop"===d){switch(e.horizontalAlignment){case"Left":e.anchorX=h.x-t.x+e.margin.left;break;case"Right":e.anchorX=h.x+h.width-e.margin.right-t.right;break;case"Auto":case"Center":e.anchorX=h.x+h.width/2-(t.x+t.right)/2}switch(e.verticalAlignment){case"Auto":case"Top":var p;p=h.y+e.margin.top,e.anchorY="TopToBottom"===d?p:t.bottom+p;break;case"Bottom":var f;f=h.y+h.height-e.margin.bottom,e.anchorY="TopToBottom"===d?f-t.bottom:f;break;case"Center":var g=void 0;g=h.y+h.height/2,e.anchorY="TopToBottom"===e.orientation?g-(t.y+t.bottom)/2:g+(t.y+t.bottom)/2}}else{switch(e.horizontalAlignment){case"Auto":case"Left":var A;A=h.x+e.margin.left,e.anchorX="LeftToRight"===d?A:t.bottom+A;break;case"Right":var m;m=h.x+h.width-e.margin.right,e.anchorX="LeftToRight"===d?m-t.bottom:m;break;case"Center":g=void 0;g=h.width/2+h.x,e.anchorX="LeftToRight"===e.orientation?g-(t.y+t.bottom)/2:g+(t.y+t.bottom)/2}switch(e.verticalAlignment){case"Top":e.anchorY=h.y+e.margin.top-t.x;break;case"Auto":case"Center":e.anchorY=h.y+h.height/2-(t.right+t.x)/2;break;case"Bottom":e.anchorY=h.y+h.height-e.margin.bottom-t.right}}},e.prototype.updateConnectors=function(e,t,n){var r,i,o,a=e.graphNodes[t.id];if(t.outEdges.length)for(r=0;r<t.outEdges.length;r++)if((o=e.nameTable[t.outEdges[r]]).points=[],i=e.nameTable[o.targetID],o.visible){if(o.visited=!0,e.getConnectorSegments)e.getConnectorSegments(o);else a&&-1!==a.tree.children.indexOf(o.targetID)&&(o.segments=[],"OrganizationalChart"===e.type&&"Orthogonal"===o.type&&this.updateSegments(e,o,t,i,r));i&&(i.isExpanded||this.hasChild(e,i))&&this.updateConnectors(e,i,n+1)}if(a&&a.tree.assistants.length)for(r=0;r<a.tree.assistants.length;r++)i=e.nameTable[a.tree.assistants[r]],o=e.nameTable[i.inEdges[0]],this.get3Points(e,t,i,o),(i.isExpanded||this.hasChild(e,i))&&this.updateConnectors(e,i,n+1)},e.prototype.updateSegments=function(e,t,n,r,i){var o=e.graphNodes[n.id];o.tree.assistants.length?this.updateSegmentsForHorizontalOrientation(e,n,r,t):"Horizontal"===o.tree.orientation&&"Balanced"===o.tree.type?this.updateSegmentsForBalancedTree(e,t,n,r,i):"Horizontal"===o.tree.orientation?this.updateSegmentsForHorizontalOrientation(e,n,r,t):o.tree.offset<5?this.get5Points(e,n,r,t):this.get3Points(e,n,r,t)},e.prototype.updateSegmentsForBalancedTree=function(e,t,n,r,i){var o,a=e.graphNodes[n.id];if(5===a.tree.children.length&&i>2){o=a.tree.children[1],isNaN(e.graphNodes[o].treeWidth)&&(e.graphNodes[o].treeWidth=e.nameTable[o].actualSize.width);var s=3!==i?1:-1;if(-1!==e.orientation.indexOf("Left"))e.nameTable[o].offsetY-e.graphNodes[o].treeWidth/2-e.verticalSpacing*s/2;else e.nameTable[o].offsetX,e.graphNodes[o].treeWidth,e.horizontalSpacing;this.getSegmentsForMultipleRows(e,n,r,t)}else a.tree.children.length>5?i<4||i<a.tree.rows?this.getSegmentsForMultipleRows(e,n,r,t):this.updateSegmentsForHorizontalOrientation(e,n,r,t):4===a.tree.children.length?i<2||i<a.tree.rows?this.getSegmentsForMultipleRows(e,n,r,t):this.updateSegmentsForHorizontalOrientation(e,n,r,t):this.getSegmentsForMultipleRows(e,n,r,t)},e.prototype.get3Points=function(e,t,n,r){var i=[],o=this.getBounds(t),a=this.getBounds(n);if(-1!==e.orientation.indexOf("Top")){var s=0===e.orientation.indexOf("Top")?o.bottomCenter:o.topCenter,l=t.offsetX>n.offsetX?a.middleRight:a.middleLeft;i.push(s,{x:o.bottomCenter.x,y:l.y},l)}else{s=0===e.orientation.indexOf("Left")?o.middleRight:o.middleLeft,l=t.offsetY>n.offsetY?a.bottomCenter:a.topCenter;i.push(s,{x:a.bottomCenter.x,y:o.middleRight.y},l)}this.getSegmentsFromPoints(i,r)},e.prototype.get5Points=function(e,t,n,r){var i,o,a,s,l=[],c=this.getBounds(t),h=this.getBounds(n);-1!==e.orientation.indexOf("Top")?(i=t.offsetY<n.offsetY?c.bottomCenter:c.topCenter,s=e.verticalSpacing/4*(t.offsetY<n.offsetY?1:-1),a=e.horizontalSpacing/2*(t.offsetX>n.offsetX?1:-1),o=t.offsetX>n.offsetX?h.middleRight:h.middleLeft,l.push(i,{x:i.x,y:i.y+s},{x:o.x+a,y:i.y+s},{x:o.x+a,y:o.y},o)):(i=t.offsetX>n.offsetX?c.middleLeft:c.middleRight,o=t.offsetY>n.offsetY?h.bottomCenter:h.topCenter,a=e.horizontalSpacing/4*(t.offsetX<n.offsetX?1:-1),s=e.verticalSpacing/2*(t.offsetY>n.offsetY?1:-1),l.push(i,{x:i.x+a,y:i.y},{x:i.x+a,y:i.y+s},{x:o.x,y:i.y+s},o)),this.getSegmentsFromPoints(l,r)},e.prototype.getSegmentsFromPoints=function(e,t){for(var n,r=[],i=0;i<e.length-2;i++)(n=new ol(t,"segments",{type:"Orthogonal"},!0)).direction=or.direction(e[i],e[i+1]),n.length=or.distancePoints(e[i],e[i+1]),r.push(n);t.segments=r},e.prototype.getSegmentsForMultipleRows=function(e,t,n,r){var i,o,a=[],s=this.getBounds(n),l=this.getBounds(t);switch(e.orientation){case"TopToBottom":i={x:l.bottomCenter.x,y:l.bottomCenter.y+e.verticalSpacing/4},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(l.bottomCenter,i),o.length=or.distancePoints(l.bottomCenter,i),a.push(o);break;case"BottomToTop":i={x:l.bottomCenter.x,y:l.topCenter.y-e.verticalSpacing/4},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(l.topCenter,i),o.length=or.distancePoints(l.topCenter,i),a.push(o);break;case"LeftToRight":if(i={x:l.middleRight.x+e.verticalSpacing/4,y:l.middleRight.y},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(l.middleRight,i),o.length=or.distancePoints(l.middleRight,i),a.push(o),s.center.y!==l.center.y){var c={x:l.middleRight.x+e.verticalSpacing/4,y:s.middleLeft.y};(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(i,c),o.length=or.distancePoints(i,c),a.push(o)}break;case"RightToLeft":if(i={x:l.middleLeft.x-e.verticalSpacing/4,y:l.middleRight.y},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(l.middleLeft,i),o.length=or.distancePoints(l.middleLeft,i),a.push(o),s.center.y!==l.center.y){var h={x:l.middleLeft.x-e.verticalSpacing/4,y:s.middleLeft.y};(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(h,h),o.length=or.distancePoints(h,h),a.push(o)}}r.segments=a},e.prototype.updateSegmentsForHorizontalOrientation=function(e,t,n,r){var i,o,a=[],s=this.getBounds(t),l=this.getBounds(n);switch(e.orientation){case"TopToBottom":i={x:s.bottomCenter.x,y:l.topCenter.y-e.verticalSpacing/2},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(s.bottomCenter,i),o.length=or.distancePoints(s.bottomCenter,i),a.push(o);break;case"BottomToTop":i={x:s.topCenter.x,y:l.bottomCenter.y+e.verticalSpacing/2},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(s.topCenter,i),o.length=or.distancePoints(s.topCenter,i),a.push(o);break;case"LeftToRight":if(i={x:l.middleLeft.x-e.verticalSpacing/2,y:s.middleRight.y},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(s.middleRight,i),o.length=or.distancePoints(s.middleRight,i),a.push(o),l.center.y!==s.center.y){var c={x:l.middleLeft.x-e.verticalSpacing/2,y:l.middleLeft.y};(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(i,c),o.length=or.distancePoints(i,c),a.push(o)}break;case"RightToLeft":if(i={x:l.middleRight.x+e.verticalSpacing/2,y:s.middleRight.y},(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(s.middleLeft,i),o.length=or.distancePoints(s.middleLeft,i),a.push(o),l.center.y!==s.center.y){var h={x:l.middleRight.x+e.verticalSpacing/2,y:l.middleLeft.y};(o=new ol(r,"segments",{type:"Orthogonal"},!0)).direction=or.direction(i,h),o.length=or.distancePoints(i,h),a.push(o)}}return r.segments=a,[]},e.prototype.updateNodes=function(e,t,n,r,i,o){var a,s,l,c,h,d;if(t&&!t.excludeFromLayout){l=t.actualSize.width,c=t.actualSize.height,h=e.anchorX,d=e.anchorY,"LeftToRight"===e.orientation?(h+=e.graphNodes[t.id].y+l/2,d+=e.graphNodes[t.id].x+n+c/2):"RightToLeft"===e.orientation?(h-=e.graphNodes[t.id].y+l/2,d+=e.graphNodes[t.id].x+n+c/2):"TopToBottom"===e.orientation?(h+=e.graphNodes[t.id].x+n+l/2,d+=e.graphNodes[t.id].y+c/2):(h+=e.graphNodes[t.id].x+n+l/2,d-=e.graphNodes[t.id].y+c/2),e.graphNodes&&(h+=i=i||0,d+=o=o||0,this.isAnimation||(t.offsetX=h,t.offsetY=d));var u={id:t.id,differenceX:h-t.offsetX,differenceY:d-t.offsetY};e.objects.push(u);var p=[];if(this.hasChild(e,t))for(a=0;a<e.graphNodes[t.id].tree.children.length;a++)s=e.nameTable[e.graphNodes[t.id].tree.children[a]],this.updateNodes(e,s,n+(e.graphNodes[t.id].subTreeTranslation||0),r,i,o),p.push(s);if(e.graphNodes[t.id].tree.assistants.length)for(a=0;a<e.graphNodes[t.id].tree.assistants.length;a++)s=e.nameTable[e.graphNodes[t.id].tree.assistants[a]],this.updateNodes(e,s,n+(e.graphNodes[t.id].subTreeTranslation||0),null,i,o)}},e}()),EA=(function(){function e(){this.isAnimation=!1}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"MindMapChart"},e.prototype.updateLayout=function(e,t,n,r,i,o){var a=this.checkRoot(e,n,i,o,t);if(a)n.fixedNode=a;else for(var s=0,l=e;s<l.length;s++){if(!(A=l[s]).excludeFromLayout&&(!A.inEdges||!A.inEdges.length)){n.fixedNode=A.id;break}}var c=t[n.fixedNode],h=this.findFirstLevelNodes(c,n,t),d=[],u=[],p=ip(n.getBranch);p=p||ip(this.getBranch);for(var f=0,g=h;f<g.length;f++){var A,m=p(A=g[f],h);"Left"===(m=A&&A.branch?A.branch:m)?d.push(A):u.push(A)}var y=new Ar(0,0,r.x,r.y);t[n.fixedNode].offsetX=y.x+y.width/2,t[n.fixedNode].offsetY=y.y+y.height/2,d.length&&this.updateMindMapBranch(e,u,t,n,r,i,"Left"),u.length&&this.updateMindMapBranch(e,d,t,n,r,i,"Right")},e.prototype.checkRoot=function(e,t,n,r,i){for(var o=0,a=e;o<a.length;o++){var s=a[o];if(!s.excludeFromLayout){if(s.data&&(s.data[n].toString()===r||s.data[n].toString()===t.root))return s.id;if(!s.data&&s.id===t.root)return s.id}}return""},e.prototype.updateMindMapBranch=function(e,t,n,r,i,o,a){var s={type:"HierarchicalTree",horizontalSpacing:r.verticalSpacing,verticalSpacing:r.horizontalSpacing,verticalAlignment:r.verticalAlignment,horizontalAlignment:r.horizontalAlignment,fixedNode:r.fixedNode,getLayoutInfo:ip(r.getLayoutInfo),layoutInfo:r.layoutInfo,margin:r.margin,root:r.fixedNode};s.orientation="Left"===a?"LeftToRight":"RightToLeft",this.excludeFromLayout(t,n,!0),(new PA).updateLayout(e,n,s,i,o),this.excludeFromLayout(t,n,!1)},e.prototype.getBranch=function(e,t){return t.indexOf(e)%2===0?"Left":"Right"},e.prototype.excludeFromLayout=function(e,t,n){for(var r=0,i=e;r<i.length;r++){t[i[r].id].excludeFromLayout=n}},e.prototype.findFirstLevelNodes=function(e,t,n){var r=[];if(e&&e.outEdges.length)for(var i=0,o=e.outEdges;i<o.length;i++){var a=o[i];r.push(n[n[a].targetID])}return r}}(),function(){function e(){}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"RadialTree"},e.prototype.updateLayout=function(e,t,n,r){var i={type:n.type,nameTable:t,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},layoutNodes:[],orientation:n.orientation,horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,verticalAlignment:n.verticalAlignment,horizontalAlignment:n.horizontalAlignment,fixedNode:n.fixedNode,margin:n.margin,bounds:n.bounds,objects:[],root:n.root};this.doLayout(i,e,t,r)},e.prototype.doLayout=function(e,t,n,r){for(var i,o=0;o<t.length;o++)(i=t[o]).excludeFromLayout||(e.graphNodes[i.id]=this.setUpLayoutInfo(e,i),i.inEdges&&i.inEdges.length||e.firstLevelNodes.push(i));e.root&&n[e.root]?e.centerNode=n[e.root]:e.firstLevelNodes.length&&(e.centerNode=e.firstLevelNodes[0],e.root=e.centerNode.id),e.centerNode&&(this.updateEdges(e,e.centerNode,0,n),this.depthFirstAllignment(e,e.centerNode,0,0),this.populateLevels(e),this.transformToCircleLayout(e),this.updateAnchor(e,r),this.updateNodes(e,e.centerNode,n))},e.prototype.updateEdges=function(e,t,n,r){var i=e.graphNodes[t.id];e.layoutNodes.push(i),i.level=n,i.visited=!0,e.maxLevel=Math.max(e.maxLevel,n);for(var o=0;o<t.outEdges.length;o++){var a=r[r[t.outEdges[o]].targetID];a.excludeFromLayout||a.visited||(i.children.push(a),this.updateEdges(e,a,n+1,r))}},e.prototype.depthFirstAllignment=function(e,t,n,r){var i,o=e.graphNodes[t.id];if(o.children.length){r+=300;for(var a=0;a<o.children.length;a++)n=(i=this.depthFirstAllignment(e,o.children[a],n,r)).x,r=i.y;o.children=o.children.sort((function(t,n){return e.graphNodes[t.id].x-e.graphNodes[n.id].x}));var s=e.graphNodes[o.children[0].id].min,l=e.graphNodes[o.children[o.children.length-1].id].max;if(o.x=s+(l-s)/2,n=l+e.horizontalSpacing,o.segmentOffset=l+e.horizontalSpacing,o.x-=o.width/2,o.y-=o.height/2,o.min=s,o.max=l,o.x<s&&o.visited){o.x=s,n=o.x+o.width/2-(l-s)/2,o.visited=!1;for(a=0;a<o.children.length;a++)i=this.depthFirstAllignment(e,o.children[a],n,r);o.visited=!0,n=o.x+o.width+e.horizontalSpacing}n=n<(l=e.graphNodes[o.children[o.children.length-1].id].segmentOffset)?l:n,r-=300,o.y=r}else o.x=n,o.y=r,o.min=n,o.max=n+o.width,n+=o.width+e.horizontalSpacing;return{x:n,y:r}},e.prototype.populateLevels=function(e){var t=[],n=Math.min.apply(Math,e.layoutNodes.map((function(e){return e.x}))),r=Math.max.apply(Math,e.layoutNodes.map((function(t){return t.x+t.width+e.horizontalSpacing})))-n;e.levels=[];for(var i=function(i){var o={};t=(t=e.layoutNodes.filter((function(e){return e.level===i?e:null}))).sort((function(e,t){return e.x-t.x})),o.min=t[0].x,o.max=t[t.length-1].x+t[t.length-1].width+e.horizontalSpacing,o.actualCircumference=0,o.height=0;for(var a=0;a<t.length;a++)t[a].height>o.height&&(o.height=t[a].height),o.actualCircumference+=Math.max(t[a].width,t[a].height),a!==t.length-1&&(o.actualCircumference+=e.horizontalSpacing);o.circumference=o.max-o.min,o.actualCircumference<o.circumference&&(o.circumference=(o.circumference+o.actualCircumference)/2),o.radius=o.circumference/(2*Math.PI)+o.height,o.nodes=[],i>1&&e.levels[i-1].radius+e.levels[i-1].height>=o.radius&&(o.radius=e.levels[i-1].radius+e.levels[i-1].height);for(var s=0;s<t.length;s++)t[s].ratio=Math.abs(t[s].x+t[s].width/2-n)/r,o.nodes.push(t[s]);e.levels.push(o)},o=0;o<=e.maxLevel;o++)i(o)},e.prototype.transformToCircleLayout=function(e){var t=e.graphNodes[e.centerNode.id];t.x=0,t.y=0;for(var n=1;n<e.levels.length;n++)for(var r=0;r<e.levels[n].nodes.length;r++){var i=e.levels[n].nodes[r];i.x=Math.cos(360*i.ratio*Math.PI/180)*(e.levels[n].radius+e.verticalSpacing*n),i.y=Math.sin(360*i.ratio*Math.PI/180)*(e.levels[n].radius+e.verticalSpacing*n),e.anchorX=Math.min(e.anchorX,i.x),e.anchorY=Math.min(e.anchorY,i.y)}},e.prototype.updateAnchor=function(e,t){e.anchorX=e.centerNode.offsetX||t.x/2,e.anchorY=e.centerNode.offsetY||t.y/2},e.prototype.updateNodes=function(e,t,n){var r=e.graphNodes[t.id],i=r.x+e.anchorX,o=r.y+e.anchorY;t.offsetX+=i,t.offsetY+=o;for(var a=0;a<r.children.length;a++){var s=r.children[a];this.updateNodes(e,n[s.id],n)}},e.prototype.setUpLayoutInfo=function(e,t){var n={};return n.name=t.id,n.x=0,n.y=0,n.min=0,n.max=0,n.width=t.actualSize.width,n.height=t.actualSize.height,n.children=[],n.level=0,n.ratio=0,n.visited=!1,n}}(),function(){function e(e){this.velocityX=0,this.velocityY=0,this.nodes=[],this.graphNode=e;var t=TA(this.graphNode);this.location=t.center,this.nodes=[],e.treeInfo.parents||(e.treeInfo.parents=[]),e.treeInfo.children||(e.treeInfo.children=[]),this.nodes=e.treeInfo.parents.concat(e.treeInfo.children)}return e.prototype.applyChanges=function(){this.graphNode.treeInfo.center=this.location},e}()),OA=(function(){function e(){this.cdCOEF=.442,this.cfMAXVELOCITY=50,this.cnMAXITERACTION=1e3,this.cnSPRINGLENGTH=100,this.mszMaxForceVelocity={width:this.cfMAXVELOCITY,height:this.cfMAXVELOCITY},this.springLength=0,this.springFactor=this.cdCOEF,this.maxIteration=this.cnMAXITERACTION,this.springLength=this.cnSPRINGLENGTH}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"SymmetricalLayout"},e.prototype.doGraphLayout=function(e){var t=this.selectedNode;t.treeInfo.Bounds=e.getModelBounds(e.nodes);var n=t.treeInfo.GraphNodes,r=this.convertGraphNodes(n),i=r.length;i=Math.min(this.maxIteration,i*i*i),this.preLayoutNodes(r,t.treeInfo.Bounds);for(var o=0,a=i;o<a;o++)this.makeSymmetricLayout(r),this.appendForces(r);this.resetGraphPosition(r,t)},e.prototype.preLayoutNodes=function(e,t){for(var n=Math.max(t?t.width:25,t?t.height:25),r=n/2,i=n/2,o=2*Math.PI/e.length,a=o,s=0;s<e.length;s++){var l=e[s];this.getForceNode(l).location={x:r+n*Number(Math.cos(a).toFixed(2)),y:i+n*Number(Math.sin(a).toFixed(2))},a-=o}},e.prototype.doLayout=function(e){this.selectedNode=e.selectedNode,this.doGraphLayout(e)},e.prototype.makeSymmetricLayout=function(e){for(var t,n,r=0;r<e.length;r++){for(var i=e[r],o=(t=this.getForceNode(i)).nodes,a=0;a<o.length;a++){IA((f=o[a]).id,e)&&this.calcNodesForce(t,this.getForceNode(f))}for(var s=0,l=o.length;s<l&&!(l<2);s++){var c=this.getForceNode(o[s]),h=s+1>=l?this.getForceNode(o[0]):this.getForceNode(o[s+1]),d=360/o.length/2*Math.PI/180,u=2*this.springLength*Math.sin(d);this.calcRelatesForce(c,h,u)}for(var p=0;p<e.length;p++){var f;IA((f=e[p]).id,o)||f.id===i.id||(n=this.getForceNode(f),this.updateNeigbour(t,n))}}},e.prototype.appendForces=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=(t=this.getForceNode(r)).location;i.x+=Math.min(t.velocityX,this.mszMaxForceVelocity.width),i.y+=Math.min(t.velocityY,this.mszMaxForceVelocity.height),t.velocityX=0,t.velocityY=0,t.location=i}},e.prototype.resetGraphPosition=function(e,t){for(var n,r={width:Number.MAX_VALUE,height:Number.MAX_VALUE},i=null,o=0;o<e.length;o++){n=e[o];var a={x:(i=this.getForceNode(n)).location.x-n.actualSize.width/2,y:i.location.y-n.actualSize.height/2};r.width=Math.min(r.width,a.x),r.height=Math.min(r.height,a.y)}for(o=0;o<e.length;o++){n=e[o],(a=(i=this.getForceNode(n)).location).x-=r.width-(t.treeInfo.location?t.treeInfo.location.x:0),a.y-=r.height-(t.treeInfo.location?t.treeInfo.location.y:0),i.location=a,i.applyChanges()}},e.prototype.convertGraphNodes=function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(e[i]){var o=e[i],a=new EA(o);o.treeInfo.tag=a,t.push(o)}}return t},e.prototype.getForceNode=function(e){return e.treeInfo.tag},e.prototype.updateNeigbour=function(e,t){if(null!=t&&null!=e){var n=this.pointDistance(e.location,t.location),r=this.lineAngle(e.location,t.location),i=.9*this.springLength;n<i&&this.calcForce(n,i,r,t)}},e.prototype.lineAngle=function(e,t){var n=0,r=t.x-e.x,i=t.y-e.y;return 0===r?n=i<=0?3*Math.PI/2:Math.PI/2:0===i?n=r<0?Math.PI:0:(n=Math.atan(i/r),r<0&&i>0||r<0&&i<0?n=Math.PI+n:r>0&&i<0&&(n=2*Math.PI+n)),n},e.prototype.pointDistance=function(e,t){var n=0,r=t.x-e.x,i=t.y-e.y,o=r*r+i*i;return o>0&&(n=Math.sqrt(o)),n},e.prototype.calcRelatesForce=function(e,t,n){var r=this.pointDistance(e.location,t.location),i=this.lineAngle(e.location,t.location);r<n&&this.calcForce(r,n,i,t)},e.prototype.updateLayout=function(e,t,n,r,i,o){(new OA).updateLayout(e,t,n,r,i,o)},e.prototype.calcNodesForce=function(e,t){var n=this.pointDistance(e.location,t.location),r=this.lineAngle(e.location,t.location);(n>this.springLength||n<this.springLength)&&this.calcForce(n,this.springLength,r,t)},e.prototype.calcForce=function(e,t,n,r){var i=r.nodes.length,o=e-t,a=this.springFactor/(i*i)*Math.sqrt(i);if(0!==o){var s=o*a,l=Math.cos(n)*s,c=Math.sin(n)*s;r.velocityX-=l,r.velocityY-=c}}}(),function(){function e(){this.visitedStack=[],this.cycleEdgesCollection=[],this.graphObjects=[],this.passedNodes=[]}return e.prototype.updateLayout=function(e,t,n,r,i,o){this.nameTable=r,this.nodes=e,this.connectors=t;var a=e;a.length>0&&(this.mhelperSelectedNode=Xu(a[0]));for(var s=0,l=e;s<l.length;s++){var c=g=l[s];c.treeInfo={},c.treeInfo.graphType="Node",this.graphObjects.push(c)}for(var h=0,d=t;h<d.length;h++){var u=d[h];u.treeInfo={},u.treeInfo.graphType="Connector",this.graphObjects.push(u)}this.updateLayout1(this.graphObjects,n);for(var p=this.getModelBounds(a),f=0;f<a.length;f++){var g=a[f],A=(o.x-p.width)/2,m=i.margin||{};m.left=m.left||0,m.right=m.right||0,m.top=m.top||0,m.bottom=m.bottom||0,i.margin.left&&(m.left=i.margin.left),i.margin.top&&(m.top=i.margin.top);var y=g.treeInfo.tag.location.x-(g.offsetX-g.actualSize.width/2)-p.x+A+m.left,v=g.treeInfo.tag.location.y-(g.offsetY-g.actualSize.height/2)-p.y+m.top;g.offsetX+=y,g.offsetY+=v,delete g.treeInfo}return!0},e.prototype.getModelBounds=function(e){e=e.slice();for(var t,n=null,r=null,i=0;i<e.length;i++){var o=TA(t=e[i]);n=new Ar(t.treeInfo.tag?t.treeInfo.tag.location.x:o.x,t.treeInfo.tag?t.treeInfo.tag.location.y:o.y,t.actualSize.width,t.actualSize.height),r=r?r.uniteRect(n):n}return r},e.prototype.updateLayout1=function(e,t){this.detectCyclesInGraph(e);var n=e.length;if(n>0){for(var r=[],i=[],o=[],a=0;a<e.length;a++){var s=e[a];void 0===s.treeInfo.isCycleEdge&&(s.treeInfo.isCycleEdge=!1),"Connector"!==s.treeInfo.graphType||s.treeInfo.isCycleEdge?"Connector"===s.treeInfo.graphType?r.push(s):o.push(s):i.push(s)}for(i=i.concat(o),i=r.concat(i);n>this.dictionaryLength(this.passedNodes);)if(this.getNodesToPosition(i),null!=this.selectedNode){t.doLayout(this),this.selectedNode=null,this.visitedStack=[];for(var l=0,c=this.cycleEdgesCollection;l<c.length;l++){c[l].treeInfo.isCycleEdge=!1}}this.passedNodes=null,this.selectedNode=null}return!1},e.prototype.getNodesToPosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!IA(n.id,this.passedNodes)){n&&this.selectNodes(n);break}}},e.prototype.selectNodes=function(e){var t=e;"Connector"===e.treeInfo.graphType?this.exploreGraphEdge(e):null!=t&&this.addNode(e,"passed")&&(this.addNode(e,"selected"),this.isConnectedToAnotherNode(t)?(this.selectedNode={treeInfo:{}},this.selectedNode.treeInfo.LeftMargin=10,this.selectedNode.treeInfo.TopMargin=10,this.selectConnectedNodes(t)):this.selectedNode=e)},e.prototype.selectConnectedNodes=function(e){var t=this.selectedNode;t.treeInfo.GraphNodes||(t.treeInfo.GraphNodes={});var n=e;if(null!=n&&this.addNode(n,"passed")){var r=n.id;if(this.dictionaryContains(t.treeInfo.GraphNodes,n)){var i=t.treeInfo.GraphNodes[r];i.treeInfo.Added&&(i.treeInfo.Added=!1,this.getConnectedRelatives(i),this.exploreRelatives(e))}else{var o=this.addGraphNode(n);this.getConnectedRelatives(o),this.exploreRelatives(e)}}},e.prototype.exploreRelatives=function(e){this.exploreRelatives1(e,"Parents"),this.exploreRelatives1(e,"Children")},e.prototype.exploreRelatives1=function(e,t){var n=[];"Parents"===t?n=e.inEdges:"Children"===t&&(n=e.outEdges);for(var r=0;r<n.length;r++){var i=this.nameTable[n[r]];if(this.addNode(i,"passed")){var o=this.nameTable[i.sourceID],a=this.nameTable[i.targetID];"Parents"===t&&null!=o&&IA(o.id,this.nodes)?this.selectConnectedNodes(this.nameTable[i.sourceID]):"Children"===t&&null!=a&&IA(a.id,this.nodes)&&this.selectConnectedNodes(this.nameTable[i.targetID])}}},e.prototype.getConnectedRelatives=function(e){this.getConnectedParents(e),this.getConnectedChildren(e)},e.prototype.dictionaryContains=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++)if(n[r]===t.id)return!0;return!1},e.prototype.dictionaryLength=function(e){return Object.keys(e).length},e.prototype.getConnectedChildren=function(e){for(var t=this.selectedNode,n=e,r=0;r<n.outEdges.length;r++){var i=this.nameTable[n.outEdges[r]];if(!i.treeInfo.isCycleEdge){var o=this.nameTable[i.targetID];if(IA(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(t.treeInfo.GraphNodes,o)?a=t.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,e.treeInfo.children||(e.treeInfo.children=[]),a.treeInfo.parents||(a.treeInfo.parents=[]),this.setNode(a.treeInfo.parents,e),this.findNode(e.treeInfo.children,a.id)<0&&e.treeInfo.children.push(a)}}}},e.prototype.getConnectedParents=function(e){for(var t=this.selectedNode,n=e,r=0;r<n.inEdges.length;r++){var i=this.nameTable[n.inEdges[r]];if(!i.treeInfo.isCycleEdge){var o=this.nameTable[i.sourceID];if(IA(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(t.treeInfo.GraphNodes,o)?a=t.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,e.treeInfo.parents||(e.treeInfo.parents=[]),a.treeInfo.children||(a.treeInfo.children=[]),this.setNode(a.treeInfo.children,e),this.findNode(e.treeInfo.parents,a.id)<0&&e.treeInfo.parents.push(a)}}}},e.prototype.setNode=function(e,t){var n=this.findNode(e,t.id);n>=0&&n<e.length?e[n]=t:e.push(t)},e.prototype.findNode=function(e,t){var n=-1;if(null!=e&&""!==t)for(var r=0,i=e.length;r<i;r++){var o=e[r];if("string"===typeof o&&o===t){n=r;break}if(null!=o&&o.id===t){n=r;break}}return n},e.prototype.addGraphNode=function(e){var t=this.selectedNode;t.treeInfo.GraphNodes||(t.treeInfo.GraphNodes={});var n=e;if(null!=t){t.treeInfo.GraphNodes[n.id]=n;var r=this.mhelperSelectedNode;null!=r&&e.id===r.id&&(this.mhelperSelectedNode=n)}return n},e.prototype.isConnectedToAnotherNode=function(e){var t=!1;return e.inEdges.concat(e.outEdges).length>0&&(null!=e.inEdges&&e.inEdges.length>0&&(t=this.searchEdgeCollection(e.inEdges,"FromNode")),!t&&null!=e.outEdges&&e.outEdges.length>0&&(t=this.searchEdgeCollection(e.outEdges,"ToNode"))),t},e.prototype.searchEdgeCollection=function(e,t){for(var n=!1,r=0;r<e.length-1;r++){var i=this.nameTable[e[r]];if(this.addNode(i,"passed")&&(!i.treeInfo.isCycleEdge&&("FromNode"===t&&null!=this.nameTable[i.sourceID]||"ToNode"===t&&null!=this.nameTable[i.targetID]))){n=!0;break}}return n},e.prototype.exploreGraphEdge=function(e){var t=e;if(null!=t&&!t.treeInfo.isCycleEdge&&this.addNode(e,"passed")){this.addNode(e,"selected");var n=this.nameTable[t.sourceID],r=this.nameTable[t.targetID];null!=n?this.selectNodes(n):null!=r?this.selectNodes(r):this.selectedNode=e}},e.prototype.addNode=function(e,t){var n=e;return"passed"!==t&&n.visible||this.dictionaryContains(this.passedNodes,n)||(this.passedNodes[n.id]=n),!!n.visible},e.prototype.detectCyclesInGraph=function(e){for(var t=[],n=[],r=0;r<e.length;r++)"Connector"!==e[r].treeInfo.graphType&&t.push(e[r]);if(t.length>0)for(n.push(t[0]),this.visitedStack.push(t[0]);n.length>0;){var i=n[n.length-1],o=this.getUnVisitedChildNodes(i);if(o.length>0){var a=o[0],s=o[o.length-1];IA(a.id,this.visitedStack)?(s.treeInfo.isCycleEdge=!0,this.cycleEdgesCollection.push(s)):(n.push(a),this.visitedStack.splice(0,0,a))}else n.pop()}},e.prototype.getUnVisitedChildNodes=function(e){var t=[];if(e.outEdges.length>0){for(var n=0;n<e.outEdges.length;n++){var r=this.nameTable[e.outEdges[n]];if(!IA(r.id,this.visitedStack)){var i=this.nameTable[r.targetID];return null!=i&&t.push(i),t.push(r),this.visitedStack.splice(0,0,r),t}}return t}return t},e}());function TA(e){var t=e.offsetX-e.actualSize.width*e.pivot.x,n=e.offsetY-e.actualSize.height*e.pivot.y;return new Ar(t,n,e.actualSize.width,e.actualSize.height)}function IA(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1}!function(){function e(){}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"ComplexHierarchicalTree"},e.prototype.doLayout=function(e,t,n,r,i){(new LA).doLayout(e,t,n,r,i)},e.prototype.getLayoutNodesCollection=function(e){for(var t,n=[],r=0;r<e.length;r++)(t=e[r]).inEdges.length+t.outEdges.length>0&&!t.parentId&&!t.processId&&n.push(t);return n}}();var LA=function(){function e(){this.nameTable={},this.crossReduction=new NA,this.previousEdgeOffset=6,this.previousEdgeDistance=5,this.jettyPositions={},this.rankBottomY=null,this.limitX=null,this.rankTopY=null,this.parallelEdgeSpacing=10,this.minEdgeJetty=12}return e.prototype.createVertex=function(e,t,n,r,i,o){return{value:t,geometry:{x:n,y:r,width:i,height:o},name:t,vertex:!0,inEdges:e.inEdges.slice(),outEdges:e.outEdges.slice()}},e.prototype.getEdges=function(e){var t=[];if(e){for(var n=0;e.inEdges.length>0&&n<e.inEdges.length;n++)t.push(this.nameTable[e.inEdges[n]]);for(n=0;e.outEdges.length>0&&n<e.outEdges.length;n++)t.push(this.nameTable[e.outEdges[n]])}return t},e.prototype.findRoots=function(e){for(var t=[],n=null,r=-1e5,i=0,o=Object.keys(e);i<o.length;i++){for(var a=e[o[i]],s=this.getEdges(a),l=0,c=0,h=0;h<s.length;h++){this.getVisibleTerminal(s[h],!0).name===a.name?l++:c++}0===c&&l>0&&t.push(a);var d=l-c;d>r&&(r=d,n=a)}return 0===t.length&&null!=n&&t.push(n),t},e.prototype.getVisibleTerminal=function(e,t){var n=this.nameTable[e.targetID];t&&(n=this.nameTable[e.sourceID]);for(var r=0;r<this.vertices.length;r++)if(this.vertices[r].name===n.id)return this.vertices[r];return null},e.prototype.traverse=function(e,t,n,r,i,o){if(null!=e){var a=e.name;if(null==o||null!=o[a]){null==r[a]&&(r[a]=e),null!=o&&delete o[a];for(var s=this.getEdges(e),l=[],c=0;c<s.length;c++)l[c]=this.getVisibleTerminal(s[c],!0)===e;for(c=0;c<s.length;c++)if(!t||l[c]){for(var h=this.getVisibleTerminal(s[c],!l[c]),d=1,u=0;u<s.length;u++)if(u!==c){var p=l[u];this.getVisibleTerminal(s[u],!p)===h&&(p?d++:d--)}d>=0&&(r=this.traverse(h,t,s[c],r,i,o))}}else if(null==r[a])for(c=0;c<i.length;c++){var f=i[c];if(null!=f[a]){for(var g=0,A=Object.keys(f);g<A.length;g++){var m=A[g];r[m]=f[m]}return i.splice(c,1),r}}}return r},e.prototype.getModelBounds=function(e){e=e.slice();for(var t=null,n=null,r=0;r<e.length;r++)if(t=e[r].geometry,n){var i=Math.max(n.x+n.width,t.x+t.width),o=Math.max(n.y+n.height,t.y+t.height);n.x=Math.min(n.x,t.x),n.y=Math.min(n.y,t.y),n.width=i-n.x,n.height=o-n.y}else n={x:t.x,y:t.y,width:t.width,height:t.height};return n},e.prototype.doLayout=function(e,t,n,r,i){this.nameTable=t;var o,a=n.enableRouting,s={horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,orientation:n.orientation,marginX:n.margin.left,marginY:n.margin.top,enableLayoutRouting:a};i&&(i.edgeMapper=[]);var l=[];this.vertices=[];for(var c={},h=0;h<e.length;h++){var d=this.createVertex(e[h],e[h].id,0,0,e[h].actualSize.width,e[h].actualSize.height);if(this.vertices.push(d),(e[h].inEdges.length>0||e[h].outEdges.length>0)&&l.push(e[h]),c[d.name]=d,i)for(var u=e[h].outEdges.slice(),p=0;p<u.length;p++){var f=t[u[p]];i.setEdgeMapper({key:f,value:[]})}}var g=[],A=this.findRoots(c);for(h=0;h<A.length;h++){var m={};g.push(m),this.traverse(A[h],!0,null,m,g,c)}var y,v={marginX:0,marginY:0},b=[],w=!1;for(h=0;h<g.length;h++){m=g[h];for(var x=0,C=Object.keys(m);x<C.length;x++){var S=C[x];b.push(m[S])}("Linear"===n.arrangement&&h===g.length-1||a)&&(w=!0),o=new kA(this,b,A,s),this.cycleStage(o),this.layeringStage(o),i&&"DifferentPoint"===n.connectionPointOrigin||w?(y=this.matrixModel({model:o,matrix:[],rowOffset:[]}),i.arrangeElements(y,n)):"Nonlinear"===n.arrangement&&(this.crossingStage(o),v=this.placementStage(o,v.marginX,v.marginY),b=[])}var B=this.getModelBounds(this.vertices);this.updateMargin(n,s,B,r);for(h=0;h<this.vertices.length;h++){if(U=this.vertices[h]){var P=this.nameTable[U.name];P.offsetX=0,P.offsetY=0;var E=U.geometry.x-(P.offsetX-P.actualSize.width/2)+s.marginX,O=U.geometry.y-(P.offsetY-P.actualSize.height/2)+s.marginY,T=E,I=O;"BottomToTop"===s.orientation?(a&&(U.geometry.y=B.height-O-P.actualSize.height/2),I=B.height-O):"RightToLeft"===s.orientation&&(T=B.width-E),P.offsetX+=T-P.offsetX,P.offsetY+=I-P.offsetY}}if(!w)for(h=0;h<this.vertices.length;h++)this.isNodeOverLap(this.nameTable[this.vertices[h].name],n);if((i&&"DifferentPoint"===n.connectionPointOrigin||a)&&i.updateLayout(r,B,n,s,l,t),a){for(var L={},k=void 0,N=0;N<y.matrix.length;N++){k=y.matrix[N].value;for(var M=0;M<k.length;M++)for(var D=k[M],R=0;R<D.cells.length;R++){var j=D.cells[R];if("internalVertex"===this.getType(j.type)){var _=j;L[_.id]=_}}}this.updateRankValuess(o);h=0;for(var F=Object.keys(L);h<F.length;h++){S=F[h];this.setVertexLocationValue(L[S],n.orientation,B)}this.localEdgeProcessing(o,L),this.assignRankOffset(o),this.updateEdgeSetXYValue(o);var H=this.getValues(o.edgeMapper);for(h=0;h<H.length;h++){if(H[h].x.length>0)for(p=0;p<H[h].x.length;p++)"RightToLeft"!==n.orientation&&"LeftToRight"!==n.orientation?H[h].x[p]=H[h].x[p]+s.marginX:(n.orientation,H[h].x[p]=H[h].x[p]+n.verticalSpacing/2);this.setEdgePosition(H[h],o,s)}for(N=0;N<this.vertices.length;N++){var U;(U=this.vertices[N]).outEdges.length>1&&this.updateMultiOutEdgesPoints(U)}}},e.prototype.setEdgeXY=function(e,t,n,r){if(e&&t.source.id){for(var i=void 0,o=void 0,a=0;a<e.length;a++)for(var s=0;s<e[a].length;s++)e[a][s].id!==t.target.id&&e[a][s].id!==t.source.id||(e[a][s].id===t.target.id&&void 0===i&&(i=a),e[a][s].id===t.source.id&&void 0===o&&(o=a));for(var l=void 0,c=i;c<=o;c++)void 0===l&&(l=this[c+"_RankOffset"]),void 0!==l&&l<this[c+"_RankOffset"]&&(l=this[c+"_RankOffset"]);void 0===this.edges&&(this.edges={}),this.edges[t.ids[0]]={x:t.x,y:0};var h=this.resetOffsetXValue(l,n/10);t.x[r-t.minRank-1]=h;for(s=0;s<t.edges.length;s++)t.edges[s].levelSkip=!0}},e.prototype.resetOffsetXValue=function(e,t){for(var n=0,r=Object.keys(this.edges);n<r.length;n++)for(var i=r[n],o=this.edges[i].x,a=0;a<o.length;a++){var s=void 0;if(this.edges[i].x[a]===e)return s=e+t,s=this.resetOffsetXValue(s,t)}return e},e.prototype.setEdgePosition=function(e,t,n){var r=0;if(101207!==e.temp[0]){void 0===e.maxRank&&(e.maxRank=-1),void 0===e.minRank&&(e.minRank=-1);var i=e.maxRank,o=e.minRank;i===o&&(i=e.source.maxRank,o=e.target.minRank);var a=0,s=this.jettyPositions[e.ids[0]];void 0===e.isReversed?e.isReversed=!1:e.isReversed=!0;var l=e.isReversed?e.target.cell:e.source.cell,c=!1;"TopToBottom"===t.layout.orientation||"LeftToRight"===t.layout.orientation?("TopToBottom"===t.layout.orientation&&(c=!1),"LeftToRight"===t.layout.orientation&&(c=(e.isReversed,!1))):e.isReversed||(c=!0);for(var h=0;h<e.edges.length;h++){var d=e.edges[h],u=this.getVisibleTerminal(d,!0),p=[],f=e.isReversed;if(u!==l&&(f=!f),null!=s){var g=f?2:0,A=f?c?this.rankBottomY[o]:this.rankTopY[o]:c?this.rankTopY[i]:this.rankBottomY[i],m=s[4*a+1+g];f!==c&&(m=-m),"TopToBottom"!==n.orientation&&"BottomToTop"!==n.orientation||(A+=m);var y=s[4*a+g];"TopToBottom"===n.orientation||"BottomToTop"===n.orientation?p.push(this.getPointvalue(y,A+n.marginY)):"LeftToRight"===n.orientation?p.push(this.getPointvalue(A+m,y+n.marginY)):p.push(this.getPointvalue(A,y+n.marginY))}var v=e.x.length-1,b=-1,w=-1,x=e.maxRank-1;f&&(v=0,b=e.x.length,w=1,x=e.minRank+1);for(var C=v;e.maxRank!==e.minRank&&C!==b;C+=w){var S=e.x[C]+r,B=(this.rankTopY[x]+this.rankBottomY[x+1])/2,P=(this.rankTopY[x-1]+this.rankBottomY[x])/2;if(f){var E=B;B=P,P=E}"TopToBottom"===n.orientation||"BottomToTop"===n.orientation?(p.push(this.getPointvalue(S,B+n.marginY)),p.push(this.getPointvalue(S,P+n.marginY))):(p.push(this.getPointvalue(B,S+n.marginY)),p.push(this.getPointvalue(P,S+n.marginY))),this.limitX=Math.max(this.limitX,S),x+=w}if(null!=s){g=f?2:0;var O=f?c?this.rankTopY[i]:this.rankBottomY[i]:c?this.rankBottomY[o]:this.rankTopY[o];m=s[4*a+3-g];f!==c&&(m=-m);A=O-m,y=s[4*a+2-g];"TopToBottom"===n.orientation||"BottomToTop"===n.orientation?p.push(this.getPointvalue(y,A+n.marginY)):p.push(this.getPointvalue(A,y+n.marginY))}this.setEdgePoints(d,p,t),r=0===r?this.parallelEdgeSpacing:r>0?-r:-r+this.parallelEdgeSpacing,a++}e.temp[0]=101207}},e.prototype.getPointvalue=function(e,t){return{x:Number(e)||0,y:Number(t)||0}},e.prototype.updateEdgeSetXYValue=function(e){if(e.layout.enableLayoutRouting){var t=!1;"LeftToRight"!==e.layout.orientation&&"RightToLeft"!==e.layout.orientation||(t=!0);for(var n=0;n<e.ranks.length;n++)for(var r=e.ranks[n],i=0;i<r.length;i++){var o=r[i];if(o.edges&&o.edges.length>0){var a=e.layout.horizontalSpacing>0?e.layout.horizontalSpacing/2:15,s=!0;o.minRank!==n-1&&o.maxRank!==n-1&&(s=!1),s&&this.setXY(o,n,void 0,!!t,e.ranks,a)}}}},e.prototype.getPreviousLayerConnectedCells=function(e,t){if(null==t.previousLayerConnectedCells){t.previousLayerConnectedCells=[],t.previousLayerConnectedCells[0]=[];for(var n=0;n<t.connectsAsSource.length;n++){var r=t.connectsAsSource[n];-1===r.minRank||r.minRank===e-1?t.previousLayerConnectedCells[0].push(r.target):t.previousLayerConnectedCells[0].push(r)}}return t.previousLayerConnectedCells[0]},e.prototype.compare=function(e,t){if(null!=e&&null!=t){if(t.weightedValue>e.weightedValue)return-1;if(t.weightedValue<e.weightedValue)return 1}return 0},e.prototype.localEdgeProcessing=function(e,t){for(var n=0;n<e.ranks.length;n++)for(var r=e.ranks[n],i=0;i<r.length;i++){var o=r[i];if(this.crossReduction.isVertex(o))for(var a=this.getPreviousLayerConnectedCells(n,o),s=n-1,l=0;l<2;l++){if(s>-1&&s<e.ranks.length&&null!=a&&a.length>0){for(var c=[],h=0;h<a.length;h++){var d=this.weightedCellSorter(a[h],this.getX(s,a[h]));c.push(d)}c.sort(this.compare),o.width=t[o.id].cell.geometry.width,o.height=t[o.id].cell.geometry.height;var u=void 0;"TopToBottom"===e.layout.orientation||"BottomToTop"===e.layout.orientation?(o.x[0]=t[o.id].cell.geometry.x+t[o.id].cell.geometry.width/2,u=o.x[0]-o.width/2+t[o.id].cell.geometry.height/2):(o.x[0]=t[o.id].cell.geometry.y,u=o.x[0]);var p=u+o.width,f=0,g=[];for(h=0;h<c.length;h++){var A=c[h].cell,m=void 0;if(this.crossReduction.isVertex(A)){m=0===l?o.connectsAsSource:o.connectsAsTarget;for(var y=0;y<m.length;y++)m[y].source!==A&&m[y].target!==A||(f+=m[y].edges.length,g.push(m[y]))}else f+=A.edges.length,g.push(A)}var v=(f+1)*this.previousEdgeDistance;o.width>v+2*this.previousEdgeDistance&&(u+=this.previousEdgeDistance,p-=this.previousEdgeDistance);var b=(p-u)/f,w=u+b/2,x=this.minEdgeJetty-this.previousEdgeOffset,C=0;for(h=0;h<g.length;h++){var S=g[h].edges.length;void 0===this.jettyPositions&&(this.jettyPositions={});var B=this.jettyPositions[g[h].ids[0]];null==B&&(B=[],this.jettyPositions[g[h].ids[0]]=B),h<f/2?x+=this.previousEdgeOffset:h>f/2&&(x-=this.previousEdgeOffset);for(var P=0;P<S;P++)B[4*P+2*l]=w,w+=b,B[4*P+2*l+1]=x;C=Math.max(C,x)}}a=this.getNextLayerConnectedCells(n,o),s=n+1}}},e.prototype.updateMultiOutEdgesPoints=function(e){for(var t=0;t<e.outEdges.length/2;t++){var n=this.nameTable[e.outEdges[t]];this.nameTable[e.outEdges[e.outEdges.length-(t+1)]].geometry.points[0].y=n.geometry.points[0].y}},e.prototype.getNextLayerConnectedCells=function(e,t){if(null==t.nextLayerConnectedCells){t.nextLayerConnectedCells=[],t.nextLayerConnectedCells[0]=[];for(var n=0;n<t.connectsAsTarget.length;n++){var r=t.connectsAsTarget[n];-1===r.maxRank||r.maxRank===e+1?t.nextLayerConnectedCells[0].push(r.source):t.nextLayerConnectedCells[0].push(r)}}return t.nextLayerConnectedCells[0]},e.prototype.getX=function(e,t){return this.crossReduction.isVertex(t)?t.x[0]:this.crossReduction.isVertex(t)?0:t.x[e-t.minRank-1]||t.temp[e-t.minRank-1]},e.prototype.getGeometry=function(e){return e.geometry},e.prototype.setEdgePoints=function(e,t,n){if(null!=e){var r=this.getGeometry(e);if(null!=t)for(var i=0;i<t.length;i++)t[i].x=t[i].x,t[i].y=t[i].y;r.points=t,e.geometry=r}},e.prototype.assignRankOffset=function(e){if(e)for(var t=0;t<e.ranks.length;t++)this.rankCoordinatesAssigment(t,e)},e.prototype.rankCoordinatesAssigment=function(e,t){for(var n,r=t.ranks[e],i=t.layout.horizontalSpacing,o=0;o<r.length;o++)void 0===this[e+"_RankOffset"]&&(this[e+"_RankOffset"]=0),n=r[o].x[0],this[e+"_RankOffset"]<n&&(this[e+"_RankOffset"]=n+r[o].width/2+i)},e.prototype.getType=function(e){return"internalVertex"===e?"internalVertex":"internalEdge"},e.prototype.updateRankValuess=function(e){this.rankTopY=[],this.rankBottomY=[];for(var t=0;t<e.ranks.length;t++)this.rankTopY[t]=Number.MAX_VALUE,this.rankBottomY[t]=-Number.MAX_VALUE},e.prototype.setVertexLocationValue=function(e,t,n){var r,i=e.cell.geometry;"TopToBottom"===t||"BottomToTop"===t?(i.x,r=i.y):(i.y,r=i.x),"RightToLeft"===t?(i.y,r=n.width-i.x-i.height,this.rankBottomY[e.minRank]=Math.max(this.rankBottomY[e.minRank],r),this.rankTopY[e.minRank]=Math.min(this.rankTopY[e.minRank],r+i.height)):(this.rankTopY[e.minRank]=Math.min(this.rankTopY[e.minRank],r),this.rankBottomY[e.minRank]=Math.max(this.rankBottomY[e.minRank],r+i.height))},e.prototype.matrixModel=function(e){return e.model=e.model,e.matrix=e.matrix||[],e.rowOffset=e.rowOffset||[],e},e.prototype.calculateRectValue=function(e){var t={x:0,y:0,right:0,bottom:0,height:0,width:0};return t.x=e.offsetX-e.actualSize.width/2,t.right=e.offsetX+e.actualSize.width/2,t.y=e.offsetY-e.actualSize.height/2,t.bottom=e.offsetY+e.actualSize.height/2,t},e.prototype.isNodeOverLap=function(e,t){for(var n={x:0,y:0,right:0,bottom:0,height:0,width:0},r=0;r<this.vertices.length;r++){var i={x:0,y:0,width:0,height:0},o=this.nameTable[this.vertices[r].value];e.id!==o.id&&0!==o.offsetX&&0!==o.offsetY&&(n=this.calculateRectValue(e),i=this.calculateRectValue(o),this.isIntersect(i,n,t)&&("TopToBottom"===t.orientation||"BottomToTop"===t.orientation?e.offsetX+=t.horizontalSpacing:e.offsetY+=t.verticalSpacing,this.isNodeOverLap(e,t)))}},e.prototype.isIntersect=function(e,t,n){return!(Math.floor(e.right+n.horizontalSpacing)<=Math.floor(t.x)||Math.floor(e.x-n.horizontalSpacing)>=Math.floor(t.right)||Math.floor(e.y-n.verticalSpacing)>=Math.floor(t.bottom)||Math.floor(e.bottom+n.verticalSpacing)<=Math.floor(t.y))},e.prototype.updateMargin=function(e,t,n,r){var i={x:0,y:0,width:r.x,height:r.y},o=n.x,a=n.y,s=n.x+n.width,l=n.y+n.height,c=e.bounds?e.bounds:i;if("TopToBottom"===t.orientation||"BottomToTop"===t.orientation){switch(e.horizontalAlignment){case"Auto":case"Left":t.marginX=c.x-o+e.margin.left;break;case"Right":t.marginX=c.x+c.width-e.margin.right-s;break;case"Center":t.marginX=c.x+c.width/2-(o+s)/2}switch(e.verticalAlignment){case"Top":var h=c.y+e.margin.top;t.marginY="TopToBottom"===t.orientation?h:-h;break;case"Bottom":var d=c.y+c.height-e.margin.bottom;t.marginY="TopToBottom"===t.orientation?d-l:-(d-l);break;case"Auto":case"Center":var u=c.y+c.height/2;t.marginY="TopToBottom"===t.orientation?u-(a+l)/2:(a+l)/2-u}}else{switch(e.horizontalAlignment){case"Auto":case"Left":var p=c.x+e.margin.left;t.marginX="LeftToRight"===t.orientation?p:-p;break;case"Right":var f;f=c.x+c.width-e.margin.right,t.marginX="LeftToRight"===t.orientation?f-s:s-f;break;case"Center":u=void 0;u=c.width/2+c.x,t.marginX="LeftToRight"===t.orientation?u-(a+l)/2:(o+s)/2-u}switch(e.verticalAlignment){case"Top":t.marginY=c.y+e.margin.top-o;break;case"Auto":case"Center":t.marginY=c.y+c.height/2-(a+l)/2;break;case"Bottom":t.marginY=c.y+c.height-e.margin.bottom-l}}},e.prototype.placementStage=function(e,t,n){var r=this.coordinateAssignment(t,n,parent,e);return r.model=e,r.widestRankValue=null,this.placementStageExecute(r),{marginX:r.marginX+e.layout.horizontalSpacing,marginY:r.marginY+e.layout.verticalSpacing}},e.prototype.coordinateAssignment=function(e,t,n,r){var i={};return"TopToBottom"===r.layout.orientation||"BottomToTop"===r.layout.orientation?(i.horizontalSpacing=r.layout.horizontalSpacing,i.verticalSpacing=r.layout.verticalSpacing):(i.horizontalSpacing=r.layout.verticalSpacing,i.verticalSpacing=r.layout.horizontalSpacing),i.orientation="north",i.marginX=i.marginX=e,i.marginY=i.marginY=t,i},e.prototype.calculateWidestRank=function(e,t,n){var r=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(r=!0);var i=-e.verticalSpacing,o=0;e.rankSizes=[],e.rankOffset=[];for(var a=n.maxRank;a>=0;a--){for(var s=0,l=n.ranks[a],c=r?e.marginY:e.marginX,h=0;h<l.length;h++){var d=l[h];if(this.crossReduction.isVertex(d)){var u=d;if(u.cell&&(u.cell.inEdges||u.cell.outEdges)){var p=this.nameTable[u.cell.name];u.width=p.actualSize.width,u.height=p.actualSize.height,s=Math.max(s,r?u.width:u.height)}}else if(d){var f=d,g=1;null!=f.edges&&(g=f.edges.length),d.width=10*(g-1)}r&&(d.height||(d.height=0)),c+=(r?d.height:d.width)/2,this.setXY(d,a,c,!!r),this.setTempVariable(d,a,c),(c+=(r?d.height:d.width)/2+e.horizontalSpacing)>e.widestRankValue&&(e.widestRankValue=c,e.widestRank=a),e.rankSizes[a]=c}e.rankOffset[a]=i;var A=s/2+o/2+e.verticalSpacing;o=s,"north"===e.orientation||"west"===e.orientation?i+=A:i-=A;for(h=0;h<l.length;h++){var m=l[h];this.setXY(m,a,i,!r)}}},e.prototype.setTempVariable=function(e,t,n){this.crossReduction.isVertex(e)?e.temp[0]=n:e.temp[t-e.minRank-1]=n},e.prototype.setXY=function(e,t,n,r,i,o){e&&e.cell?e.cell.inEdges||e.cell.outEdges?r?e.y[0]=n:e.x[0]=n:r?e.y[t-e.minRank-1]=n:e.x[t-e.minRank-1]=n:this.setEdgeXY(i,e,o,t)},e.prototype.rankCoordinates=function(e,t,n,r){var i=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(i=!0);for(var o=r.ranks[t],a=0,s=(i?e.marginY:e.marginX)+(e.widestRankValue-e.rankSizes[t])/2,l=0;l<o.length;l++){var c=o[l];if(this.crossReduction.isVertex(c)){var h=this.nameTable[c.cell.name];c.width=h.actualSize.width,c.height=h.actualSize.height,a=Math.max(a,c.height)}else{var d=c,u=1;null!=d.edges&&(u=d.edges.length),i?c.height=10*(u-1):c.width=10*(u-1)}var p=(i?c.height:c.width)/2;s+=p,this.setXY(c,t,s,!!i),this.setTempVariable(c,t,s),s+=p+e.horizontalSpacing}},e.prototype.initialCoords=function(e,t,n){this.calculateWidestRank(e,t,n);for(var r=e.widestRank;r>=0;r--)r<n.maxRank&&this.rankCoordinates(e,r,t,n);for(r=e.widestRank+1;r<=n.maxRank;r++)r>0&&this.rankCoordinates(e,r,t,n)},e.prototype.isAncestor=function(e,t){if(null!=t&&null!=e.hashCode&&null!=t.hashCode&&e.hashCode.length<t.hashCode.length){if(e.hashCode===t.hashCode)return!0;if(null==e.hashCode||null==e.hashCode)return!1;for(var n=0;n<e.hashCode.length;n++)if(e.hashCode[n]!==t.hashCode[n])return!1;return!0}return!1},e.prototype.weightedCellSorter=function(e,t){var n={};return n.cell=e||null,n.weightedValue=t||0,n.visited=!1,n.rankIndex=null,n},e.prototype.minNode=function(e,t){for(var n=[],r={map:{}},i=[],o=0;o<=t.maxRank;o++){i[o]=t.ranks[o];for(var a=0;a<i[o].length;a++){var s=i[o][a],l=this.weightedCellSorter(s,o);l.rankIndex=a,l.visited=!0,n.push(l),t.setDictionaryForSorter(r,s,l,!0)}}for(var c=10*n.length,h=0;n.length>0&&h<=c;){var d=n.shift(),u=d.cell,p=d.weightedValue,f=d.rankIndex,g=this.crossReduction.getConnectedCellsOnLayer(u,p),A=this.crossReduction.getConnectedCellsOnLayer(u,p,!0),m=g.length,y=A.length,v=this.medianXValue(e,g,p+1),b=this.medianXValue(e,A,p-1),w=m+y,x=this.crossReduction.getTempVariable(u,p),C=x;w>0&&(C=(v*m+b*y)/w),1===m&&1===y?C=b*y/y:1===m&&(C=v*m/m);var S=!1,B=void 0;if(C<x-1)if(0===f)B=C,S=!0;else{var P=i[p][f-1],E=this.crossReduction.getTempVariable(P,p);(E=E+P.width/2+e.intraCellSpacing+u.width/2)<C?(B=C,S=!0):E<this.crossReduction.getTempVariable(u,p)-1&&(B=E,S=!0)}else if(C>x+1){if(f===i[p].length-1)B=C,S=!0;else{var O=i[p][f+1],T=this.crossReduction.getTempVariable(O,p);(T=T-O.width/2-e.intraCellSpacing-u.width/2)>C?(B=C,S=!0):T>this.crossReduction.getTempVariable(u,p)+1&&(B=T,S=!0)}}S&&(this.setTempVariable(u,p,B),this.updateNodeList(n,r,g,t),this.updateNodeList(n,r,A,t)),this.crossReduction.isVertex(d.cell)&&(d.visited=!1),h++}},e.prototype.updateNodeList=function(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i],a=r.getDictionaryForSorter(t,o);null!=a&&!1===a.visited&&(a.visited=!0,e.push(a))}},e.prototype.medianXValue=function(e,t,n){if(0===t.length)return 0;for(var r=[],i=0;i<t.length;i++)r[i]=this.crossReduction.getTempVariable(t[i],n);if(r.sort((function(e,t){return e-t})),t.length%2===1)return r[Math.floor(t.length/2)];var o=t.length/2;return(r[o-1]+r[o])/2},e.prototype.placementStageExecute=function(e){var t=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(t=!0),e.jettyPositions={};var n=e.model;t?e.currentYDelta=0:e.currentXDelta=0,this.initialCoords(e,{model:n},n),this.minNode(e,n);var r=1e8;e.maxIterations||(e.maxIterations=8);for(var i=0;i<e.maxIterations;i++){if((t?e.currentYDelta:e.currentXDelta)<r){for(var o=0;o<n.ranks.length;o++)for(var a=n.ranks[o],s=0;s<a.length;s++){var l=a[s];this.setXY(l,o,this.crossReduction.getTempVariable(l,o),!!t)}r=t?e.currentYDelta:e.currentXDelta}t?e.currentYDelta=0:e.currentXDelta=0}this.setCellLocations(e,n)},e.prototype.setCellLocations=function(e,t){for(var n=this.getValues(t.vertexMapper),r=0;r<n.length;r++)this.setVertexLocation(e,n[r])},e.prototype.garphModelsetVertexLocation=function(e,t,n,r){var i=t.geometry,o=null;return null!=i&&(o={x:n,y:r,width:i.width,height:i.height},i.x===n&&i.y===r||(t.geometry=o)),o},e.prototype.setVertexLocation=function(e,t){var n=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(n=!0);var r=t.cell,i=t.x[0]-t.width/2,o=t.y[0]-t.height/2;this.garphModelsetVertexLocation(e,r,i,o),n?(e.marginY||(e.marginY=0),e.marginY=Math.max(e.marginY,o+t.height)):(e.marginX||(e.marginX=0),e.marginX=Math.max(e.marginX,i+t.width))},e.prototype.getValues=function(e){var t=[];if(e.map)for(var n=0,r=Object.keys(e.map);n<r.length;n++){var i=r[n];t.push(e.map[i])}return t},e.prototype.crossingStage=function(e){this.crossReduction.execute(e)},e.prototype.layeringStage=function(e){this.initialRank(e),this.fixRanks(e)},e.prototype.initialRank=function(e){for(var t=e.startNodes,n=e.getDictionaryValues(e.vertexMapper),r=t.slice();t.length>0;){for(var i=(d=t[0]).connectsAsTarget,o=d.connectsAsSource,a=!0,s=1e8,l=0;l<i.length;l++){if(5270620!==(f=i[l]).temp[0]){a=!1;break}var c=f.source;s=Math.min(s,c.temp[0]-1)}if(a){if(d.temp[0]=s,e.maxRank||(e.maxRank=1e8),e.maxRank=Math.min(e.maxRank,s),null!=o)for(l=0;l<o.length;l++){(f=o[l]).temp[0]=5270620,-1===(c=f.target).temp[0]&&(t.push(c),c.temp[0]=-2)}t.shift()}else{var h=t.shift();if(t.push(d),h===d&&1===t.length)break}}for(l=0;l<n.length;l++)n[l].temp[0]-=e.maxRank;for(l=0;l<r.length;l++)for(var d,u=0,p=(i=(d=r[l]).connectsAsSource,0);p<i.length;p++){var f;c=(f=i[p]).target;d.temp[0]=Math.max(u,c.temp[0]+1),u=d.temp[0]}e.maxRank=1e8-e.maxRank},e.prototype.fixRanks=function(e){e.fixRanks()},e.prototype.cycleStage=function(e){var t={};e.startNodes=[];for(var n=e.getDictionaryValues(e.vertexMapper),r=[],i=0;i<n.length;i++)n[i].temp[0]=-1,r[n[i].id]=n[i];var o=null;if(null!=e.roots){var a=e.roots;o=[];for(i=0;i<a.length;i++)o[i]=e.getDictionary(e.vertexMapper,a[i]),null!=o[i]&&e.startNodes.push(o[i])}e.visit("removeParentConnection",o,!0,null,{seenNodes:t,unseenNodes:r});var s=e.clone(t,null,!0);e.visit("removeNodeConnection",r,!0,s,{seenNodes:t,unseenNodes:r})},e.prototype.remove=function(e,t){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),e},e.prototype.invert=function(e,t){var n=e.source;e.source=e.target,e.target=n,e.isReversed=!e.isReversed},e.prototype.getEdgesBetween=function(e,t,n){n=null!=n&&n;for(var r=this.getEdges(e),i=[],o=0;o<r.length;o++){var a=this.getVisibleTerminal(r[o],!0),s=this.getVisibleTerminal(r[o],!1);(a===e&&s===t||!n&&a===t&&s===e)&&i.push(r[o])}return i},e}(),kA=function(){function e(e,t,n,r){this.multiObjectIdentityCounter=0,this.dfsCount=0,this.hierarchicalUtil=new LA,this.roots=n,this.vertexMapper={map:{}};var i=[];this.layout=r,this.maxRank=1e8,this.edgeMapper={map:{}},this.hierarchicalLayout=e,this.createInternalCells(e,t,i,r);for(var o=0;o<t.length;o++){for(var a=i[o].connectsAsSource,s=0;s<a.length;s++){var l=a[s],c=l.edges;if(null!=c&&c.length>0){var h=c[0],d=e.getVisibleTerminal(h,!1),u=this.getDictionary(this.vertexMapper,d);i[o]===u&&(d=e.getVisibleTerminal(h,!0),u=this.getDictionary(this.vertexMapper,d)),null!=u&&i[o]!==u&&(l.target=u,0===u.connectsAsTarget.length&&(u.connectsAsTarget=[]),u.connectsAsTarget.indexOf(l)<0&&u.connectsAsTarget.push(l))}}i[o].temp[0]=1}}return e.prototype.resetEdge=function(e){var t={x:0,y:0,width:0,height:0,relative:!0};return e.geometry=t,e},e.prototype.createInternalCells=function(e,t,n,r){for(var i=0;i<t.length;i++){n[i]={x:[],y:[],temp:[],cell:t[i],id:t[i].name,connectsAsTarget:[],connectsAsSource:[],type:"internalVertex"},this.setDictionary(this.vertexMapper,t[i],n[i]);var o=e.getEdges(t[i]);n[i].connectsAsSource=[];for(var a=0;a<o.length;a++){var s=e.getVisibleTerminal(o[a],!1);if(s!==t[i]){var l=e.getEdgesBetween(t[i],s,!1),c=e.getEdgesBetween(t[i],s,!0);if(null!=l&&l.length>0&&2*c.length>=l.length){var h={x:[],y:[],temp:[],edges:l,ids:[]};if(r.enableLayoutRouting)for(var d=0;d<l.length;d++){var u=l[d];this.setDictionary(this.edgeMapper,void 0,h,u.id),this.resetEdge(u)}h.source=n[i];for(var p=0;p<l.length;p++)h.ids.push(l[p].id);h.source=n[i],n[i].connectsAsSource||(n[i].connectsAsSource=[]),n[i].connectsAsSource.indexOf(h)<0&&n[i].connectsAsSource.push(h)}}}n[i].temp[0]=0}},e.prototype.fixRanks=function(){var e=[];this.ranks=[];for(var t=0;t<this.maxRank+1;t++)e[t]=[],this.ranks[t]=e[t];var n=null;if(null!=this.roots){var r=this.roots;n=[];for(t=0;t<r.length;t++){var i=r[t],o=this.getDictionary(this.vertexMapper,i);n[t]=o}}this.visit("updateMinMaxRank",n,!1,null,{seenNodes:null,unseenNodes:null,rankList:e})},e.prototype.updateMinMaxRank=function(e,t,n){var r=n.parent,i=n.root,o=n.edge,a=n.rankList;if((i.maxRank||0===i.maxRank||(i.maxRank=-1),i.minRank||0===i.minRank||(i.minRank=-1),0===t&&i.maxRank<0&&i.minRank<0&&(a[i.temp[0]].push(i),i.maxRank=i.temp[0],i.minRank=i.temp[0],i.temp[0]=a[i.maxRank].length-1),null!=r&&null!=o)&&r.maxRank-i.maxRank>1){o.maxRank=r.maxRank,o.minRank=i.maxRank,o.temp=[],o.x=[],o.y=[];for(var s=o.minRank+1;s<o.maxRank;s++)a[s].push(o),this.hierarchicalUtil.setTempVariable(o,s,a[s].length-1)}},e.prototype.setDictionary=function(e,t,n,r){if(r){o=e.map[r];return e.map[r]=n,o}var i=t.name,o=e.map[i];return e.map[i]=n,o},e.prototype.setDictionaryForSorter=function(e,t,n,r){var i=t.id,o=e.map[i];return e.map[i]=n,o},e.prototype.getDictionary=function(e,t){this.multiObjectIdentityCounter||0===this.multiObjectIdentityCounter||(this.multiObjectIdentityCounter=0);var n=t.name;return n?e.map[n]:t.layoutObjectId?e.map[t.layoutObjectId]:(t.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,t.layoutObjectId)},e.prototype.getDictionaryForSorter=function(e,t){this.multiObjectIdentityCounter||0===this.multiObjectIdentityCounter||(this.multiObjectIdentityCounter=0);var n=t.id;return n?e.map[n]:t.layoutObjectId?e.map[t.layoutObjectId]:(t.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,t.layoutObjectId)},e.prototype.getDictionaryValues=function(e){for(var t=[],n=0,r=Object.keys(e.map);n<r.length;n++){var i=r[n];t.push(e.map[i])}return t},e.prototype.visit=function(e,t,n,r,i){if(null!=t){for(var o=0;o<t.length;o++){var a=t[o];null!=a&&(null==r&&(r=new Object),i.parent=null,i.root=a,i.edge=null,n?(a.hashCode=[],a.hashCode[0]=this.dfsCount,a.hashCode[1]=o,this.extendedDfs(e,r,o,0,i)):this.depthFirstSearch(e,r,0,i))}this.dfsCount++}},e.prototype.depthFirstSearch=function(e,t,n,r){var i=r.root;if(null!=i){var o=i.id;if(null==t[o]){t[o]=i,this.updateConnectionRank(e,n,0,r);for(var a=i.connectsAsSource.slice(),s=0;s<a.length;s++){var l=a[s],c=l.target;r.parent=i,r.root=c,r.edge=l,this.depthFirstSearch(e,t,n+1,r)}}else this.updateConnectionRank(e,n,1,r)}},e.prototype.updateConnectionRank=function(e,t,n,r){var i=r.parent,o=r.root,a=r.edge;if("removeParentConnection"===e||"removeNodeConnection"===e){var s="removeNodeConnection"===e;this.removeConnectionEdge(i,o,a,t,r,s)}"updateMinMaxRank"===e&&this.updateMinMaxRank(t,n,r)},e.prototype.removeConnectionEdge=function(e,t,n,r,i,o){var a=i.seenNodes,s=i.unseenNodes;this.hierarchicalUtil.isAncestor(t,e)&&(this.hierarchicalUtil.invert(n,0),this.hierarchicalUtil.remove(n,e.connectsAsSource),o?(t.connectsAsSource.push(n),e.connectsAsTarget.push(n),this.hierarchicalUtil.remove(n,t.connectsAsTarget)):(e.connectsAsTarget.push(n),this.hierarchicalUtil.remove(n,t.connectsAsTarget),t.connectsAsSource.push(n))),a[t.id]=t,delete s[t.id]},e.prototype.extendedDfs=function(e,t,n,r,i){var o=i.parent,a=i.root;i.edge;if(null!=a){if(null!=o&&(null==a.hashCode||a.hashCode[0]!==o.hashCode[0])){var s=o.hashCode.length+1;a.hashCode=o.hashCode.slice(),a.hashCode[s-1]=n}var l=a.id;if(null==t[l]){t[l]=a,this.updateConnectionRank(e,r,0,i);for(var c=a.connectsAsSource.slice(),h=0;h<c.length;h++){var d=c[h],u=d.target;i.parent=a,i.root=u,i.edge=d,this.extendedDfs(e,t,h,r+1,i)}}else this.updateConnectionRank(e,r,1,i)}},e.prototype.clone=function(e,t,n){if(n=null!=n&&n,null!=e&&"function"===typeof e.constructor){for(var r=e.constructor(),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];"layoutObjectId"!==a&&(null==t||t.indexOf(a)<0)&&(n||"object"!==typeof e[a])&&(r[a]=e[a])}return r}return null},e}(),NA=function(){function e(){}return e.prototype.calculateCrossings=function(e){for(var t=e.ranks.length,n=0,r=1;r<t;r++)n+=this.calculateRankCrossing(r,e);return n},e.prototype.getTempVariable=function(e,t){return e?this.isVertex(e)?e.temp[0]:e.temp[t-e.minRank-1]:0},e.prototype.calculateRankCrossing=function(e,t){for(var n=0,r=t.ranks[e],i=t.ranks[e-1],o=[],a=0;a<r.length;a++){for(var s=r[a],l=this.getTempVariable(s,e),c=this.getConnectedCellsOnLayer(s,e,!0),h=[],d=0;d<c.length;d++){var u=c[d],p=this.getTempVariable(u,e-1);h.push(p)}h.sort((function(e,t){return e-t})),o[l]=h}var f=[];for(a=0;a<o.length;a++)f=f.concat(o[a]);for(var g=1;g<i.length;)g<<=1;var A=2*g-1;g-=1;var m=[];for(a=0;a<A;++a)m[a]=0;for(a=0;a<f.length;a++){var y=f[a]+g;for(++m[y];y>0;)y%2&&(n+=m[y+1]),++m[y=y-1>>1]}return n},e.prototype.execute=function(e){this.nestedBestRanks=[];for(var t=0;t<e.ranks.length;t++)this.nestedBestRanks[t]=e.ranks[t].slice();var n=0,r=this.calculateCrossings(e);for(t=0;t<24&&n<2;t++){this.weightedMedian(t,e);var i=this.calculateCrossings(e);if(i<r){r=i,n=0;for(var o=0;o<this.nestedBestRanks.length;o++)for(var a=e.ranks[o],s=0;s<a.length;s++){var l=a[s],c=this.nestedBestRanks[o][l.temp[0]],h=!0;l.edges&&c&&!c.edges&&(h=!1),c&&h&&(this.nestedBestRanks[o][l.temp[0]]=l)}}else{n++;for(o=0;o<this.nestedBestRanks.length;o++)for(a=e.ranks[o],s=0;s<a.length;s++){l=a[s];this.setTempVariable(l,o,s)}}if(0===r)break}var d=[],u=[];for(t=0;t<e.maxRank+1;t++)u[t]=[],d[t]=u[t];for(t=0;t<this.nestedBestRanks.length;t++)for(o=0;o<this.nestedBestRanks[t].length;o++)u[t].push(this.nestedBestRanks[t][o]);e.ranks=d},e.prototype.isVertex=function(e){return!(!e||!e.cell||!e.cell.inEdges&&!e.cell.outEdges)},e.prototype.weightedMedian=function(e,t){var n=e%2===0;if(n)for(var r=t.maxRank-1;r>=0;r--)this.medianRank(r,n);else for(r=1;r<t.maxRank;r++)this.medianRank(r,n)},e.prototype.getConnectedCellsOnLayer=function(e,t,n){void 0===n&&(n=!1);var r="nextLayerConnectedCells",i="connectsAsTarget";if(n&&(r="previousLayerConnectedCells",i="connectsAsSource"),e){if(this.isVertex(e)){if(null==e[r]){e[r]=[],e[r][0]=[];for(var o=0;o<e[i].length;o++){var a=e[i][o];void 0===a.maxRank&&(a.maxRank=-1),-1===a.maxRank||(n?a.minRank===t-1:a.maxRank===t+1)?e[r][0].push(n?a.target:a.source):e[r][0].push(a)}}return e[r][0]}if(null==e[r]){e[r]=[];for(o=0;o<e.temp.length;o++)e[r][o]=[],o===(n?0:e.temp.length-1)?e[r][o].push(n?e.target:e.source):e[r][o].push(e)}return e[r][t-e.minRank-1]}return null},e.prototype.medianValue=function(e,t){for(var n=[],r=0,i=0;i<e.length;i++){var o=e[i];n[r++]=this.getTempVariable(o,t)}if(n.sort((function(e,t){return e-t})),r%2===1)return n[Math.floor(r/2)];if(2===r)return(n[0]+n[1])/2;var a=r/2,s=n[a-1]-n[0],l=n[r-1]-n[a];return(n[a-1]*l+n[a]*s)/(s+l)},e.prototype.setTempVariable=function(e,t,n){e&&(e.temp[0]=n)},e.prototype.medianRank=function(e,t){for(var n=this.nestedBestRanks[e].length,r=[],i=[],o=0;o<n;o++){var a=this.nestedBestRanks[e][o],s={medianValue:0};s.cell=a;var l=void 0,c=void 0;c=t?e+1:e-1,null!=(l=t?this.getConnectedCellsOnLayer(a,e):this.getConnectedCellsOnLayer(a,e,!0))&&0!==l.length?(s.medianValue=this.medianValue(l,c),r.push(s)):i[this.getTempVariable(a,e)]=!0}r.sort(this.compare);for(o=0;o<n;o++)if(null==i[o]&&r.length>0){a=r.shift().cell;this.setTempVariable(a,e,o)}},e.prototype.compare=function(e,t){if(null!=e&&null!=t){if(t.medianValue>e.medianValue)return-1;if(t.medianValue<e.medianValue)return 1}return 0},e}(),MA=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DA=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},RA="e-acrdn-root",jA="e-accordion",_A="e-acrdn-item",FA="e-item-focus",HA="e-hide",UA="e-acrdn-header",zA="e-acrdn-header-content",QA="e-acrdn-panel",WA="e-acrdn-content",VA="e-toggle-icon",XA="e-expand-icon",YA="e-rtl",KA="e-content-hide",GA="e-select",qA="e-selected",JA="e-active",ZA="e-overlay",$A="e-toggle-animation",em="e-expand-state",tm="e-accordion-container",nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return MA(t,e),DA([_t("SlideDown")],t.prototype,"effect",void 0),DA([_t(400)],t.prototype,"duration",void 0),DA([_t("linear")],t.prototype,"easing",void 0),t}(on),rm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return MA(t,e),DA([Ft({effect:"SlideUp",duration:400,easing:"linear"},nm)],t.prototype,"collapse",void 0),DA([Ft({effect:"SlideDown",duration:400,easing:"linear"},nm)],t.prototype,"expand",void 0),t}(on),im=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return MA(t,e),DA([_t(null)],t.prototype,"content",void 0),DA([_t(null)],t.prototype,"header",void 0),DA([_t(null)],t.prototype,"cssClass",void 0),DA([_t(null)],t.prototype,"iconCss",void 0),DA([_t(!1)],t.prototype,"expanded",void 0),DA([_t(!0)],t.prototype,"visible",void 0),DA([_t(!1)],t.prototype,"disabled",void 0),DA([_t()],t.prototype,"id",void 0),t}(on),om=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},r}return MA(t,e),t.prototype.destroy=function(){var t=this;this.isReact&&this.clearTemplate();var n=this.element;if(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(n.children).forEach((function(e){n.removeChild(e)})),this.trgtEle)for(;this.ctrlTem.firstElementChild;)n.appendChild(this.ctrlTem.firstElementChild);n.classList.remove(RA),n.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach((function(e){t.element.removeAttribute(e)})),!this.isNested&&tn&&this.removeRippleEffect()},t.prototype.preRender=function(){var e=yt(this.element,"."+QA);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),p(e)?this.element.classList.add(RA):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,YA)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.isServerRendered?this.wireFocusEvents():(this.initializeheaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl()),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=y(this.width),t=y(this.height);vt(this.element,{width:e,height:t});p(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),ft(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?gt("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+_A));e<t.length;e++){var n=t[e],r=n.querySelector("."+UA);n.childElementCount>0&&r&&(ce.clearEvents(r),ce.add(r,"focus",this.focusIn,this),ce.add(r,"blur",this.focusOut,this))}},t.prototype.unwireEvents=function(){ce.remove(this.element,"click",this.clickHandler),p(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){ce.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||(this.removeRippleEffect=qt(this.element,{selector:"."+UA})),this.isNested||(this.keyModule=new Sn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return je(document.querySelector(e).innerHTML.trim())}catch(t){return je(e)}},t.prototype.initializeheaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getheaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add(FA)},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove(FA)},t.prototype.ctrlTemplate=function(){var e;this.ctrlTem=this.element.cloneNode(!0);var t=gt("."+tm,this.element);e=t?t.children:this.element.children;var n=[];[].slice.call(e).forEach((function(e){n.push({header:e.childElementCount>0&&e.children[0]?e.children[0]:"",content:e.childElementCount>1&&e.children[1]?e.children[1]:""}),e.parentNode.removeChild(e)})),t&&this.element.removeChild(t),this.setProperties({items:n},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:VA}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t]);this.isReact&&this.renderReactTemplates()}},t.prototype.renderItems=function(){var e,t,n=this,r=this.element;if(p(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((function(e,i){t=n.renderInnerItem(e,i),r.appendChild(t),t.childElementCount>0&&(ce.add(t.querySelector("."+UA),"focus",n.focusIn,n),ce.add(t.querySelector("."+UA),"blur",n.focusOut,n))}));else{var i=this.items;r&&i.length>0&&i.forEach((function(t,i){e=n.renderInnerItem(t,i),r.appendChild(e),e.childElementCount>0&&(ce.add(e.querySelector("."+UA),"focus",n.focusIn,n),ce.add(e.querySelector("."+UA),"blur",n.focusOut,n))}))}this.isReact&&this.renderReactTemplates()},t.prototype.clickHandler=function(e){var t,n=this,r=e.target,i=this.getItems(),o={};if(yt(r,".e-accordion")===this.element){r.classList.add("e-target");var a,s=yt(r,"."+_A),l=yt(r,"."+UA),c=yt(r,"."+QA);s&&(p(l)||p(c))&&(l=s.children[0],c=s.children[1]),l&&(t=gt(".e-toggle-icon",l)),l?a=yt(l,"."+_A):c&&(a=yt(c,"."+_A));var h=this.getIndexByItem(s);if(a&&(o.item=i[this.getIndexByItem(a)]),o.originalEvent=e,!(!p(t)&&s.childElementCount<=1)||!p(c)&&p(gt(".e-acrdn-header .e-toggle-icon",a)))this.afterContentRender(r,o,s,l,c,a);else if(this.isServerRendered){var d=s.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",h).then((function(){n.isDestroyed||n.afterContentRender(r,o,s,l,c,a)})):this.interopAdaptor.invokeMethodAsync("OnDataClick",d).then((function(){n.isDestroyed||n.afterContentRender(r,o,s,l,c,a)}))}else s.appendChild(this.contentRendering(h)),this.ariaAttrUpdate(s),this.afterContentRender(r,o,s,l,c,a);this.isReact&&this.renderReactTemplates()}},t.prototype.afterContentRender=function(e,t,n,r,i,o){var a=this,s=[];this.trigger("clicked",t);var l=i&&!p(gt(".e-target",i)),c=i&&!p(gt(".e-accordion",i))&&p(yt(e,".e-acrdn-panel .e-accordion")),h=i&&p(gt(".e-accordion",i))||!(yt(e,".e-accordion")===this.element);if(l=l&&(c||h),e.classList.remove("e-target"),!(e.classList.contains(QA)||e.classList.contains(WA)||l)){var d=this.element.querySelector("."+tm),u=d?d.children:this.element.children;[].slice.call(u).forEach((function(e){e.classList.contains(JA)&&s.push(e)}));var f=[].slice.call(this.element.querySelectorAll(".e-acrdn-item [e-animate]"));if(f.length>0)for(var g=0,A=f;g<A.length;g++){var m=A[g];s.push(m.parentElement)}var y=-1!==s.indexOf(o)&&"true"===i.getAttribute("e-animate"),v=!1;if(!p(n)&&!p(r)){var b=gt("."+QA,n),w=yt(n,".e-acrdn-root").querySelector(".e-expand-state");if(p(b))return;v=w===n,!lt(b)||y&&!o.classList.contains(qA)?(s.length>0&&"Single"===this.expandMode&&!y&&s.forEach((function(e){a.collapse(gt("."+QA,e)),e.classList.remove(em)})),this.expand(b)):this.collapse(b),p(w)||v||w.classList.remove(em)}}},t.prototype.eleMoveFocus=function(e,t,n){var r,i=yt(n,"."+_A);n===t?r=("moveUp"===e?n.lastElementChild:n).querySelector("."+UA):n.classList.contains(UA)&&(i="moveUp"===e?i.previousElementSibling:i.nextElementSibling)&&(r=gt("."+UA,i)),r&&r.focus()},t.prototype.keyActionHandler=function(e){var t=e.target;if(!p(yt(e.target,UA))||t.classList.contains(jA)||t.classList.contains(UA)){var n,r=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,r,t);break;case"space":case"enter":!p(n=t.nextElementSibling)&&n.classList.contains(QA)?"true"!==n.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":("home"===e.action?r.firstElementChild.children[0]:r.lastElementChild.children[0]).focus()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:UA,id:g("acrdn_header")});return ft(e,{tabindex:"0",role:"heading","aria-selected":"false","aria-label":"collapsed","aria-disabled":"false","aria-level":this.getItems().length.toString()}),e},t.prototype.renderInnerItem=function(e,t){var n=this.createElement("div",{className:_A});if(n.id=g("acrdn_item"),p(e.id)&&(e.id=n.id),ft(n,{"aria-expanded":"false"}),this.headerTemplate){var r=this.headerEleGenerate(),i=this.createElement("div",{className:zA});return r.appendChild(i),ht(this.getheaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),i),n.appendChild(r),r.appendChild(this.toggleIconGenerate()),this.add(n,GA),n}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"===typeof e.header&&(e.header=Mn.sanitize(e.header));r=this.headerEleGenerate(),i=this.createElement("div",{className:zA});r.appendChild(i),r.appendChild(this.fetchElement(i,e.header,t,!0)),n.appendChild(r)}var o=gt("."+UA,n);if(!e.expanded||p(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&ot([n],e.cssClass.split(" ")),e.disabled&&ot([n],ZA),!1===e.visible&&ot([n],HA),e.iconCss){var a=this.createElement("div",{className:"e-acrdn-header-icon"}),s=this.createElement("span",{className:e.iconCss+" e-icons"});a.appendChild(s),p(o)?((o=this.headerEleGenerate()).appendChild(a),n.appendChild(o)):o.insertBefore(a,o.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var l=this.toggleIconGenerate();p(o)&&(o=this.headerEleGenerate(),n.appendChild(o)),o.appendChild(l),this.add(n,GA)}return n},t.prototype.angularnativeCondiCheck=function(e,t){var n="content"===t?e.content:e.header;if(this.isAngular&&!p(n.elementRef)){var r=n.elementRef.nativeElement.data;if(p(r)||""===r||-1===r.indexOf("bindings="))return!0;var i=JSON.parse(n.elementRef.nativeElement.data.replace("bindings=",""));return!(!p(i)&&"false"===i["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,n,r){var i,o,a;try{if(document.querySelectorAll(t).length&&"Button"!==t){var s=document.querySelector(t);o=s.outerHTML.trim(),e.appendChild(s),s.style.display=""}}catch(h){"string"===typeof t?e.innerHTML=Mn.sanitize(t):!p(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):i=je(t)}if(!p(i)){this.isReact&&this.renderReactTemplates();var l=void 0,c=void 0;e.classList.contains(zA)?(l=this.element.id+n+"_header",c="header"):e.classList.contains(WA)&&(l=this.element.id+n+"_content",c="content"),a=i({},this,c,l,this.isStringTemplate)}return p(a)||!(a.length>0)||p(a[0].tagName)&&1===a.length?0===e.childElementCount&&(e.innerHTML=Mn.sanitize(t)):[].slice.call(a).forEach((function(t){p(t.tagName)||(t.style.display=""),e.appendChild(t)})),p(o)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=gt("."+UA,e),n=gt("."+QA,e);t.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",t.id),n.setAttribute("role","definition")},t.prototype.contentRendering=function(e){var t=this.createElement("div",{className:QA+" "+KA,id:g("acrdn_panel")});ft(t,{"aria-hidden":"true"});var n=this.createElement("div",{className:WA});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),ht(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),n),t.appendChild(n)):(this.enableHtmlSanitizer&&(this.items[e].content,1)&&(this.items[e].content=Mn.sanitize(this.items[e].content)),t.appendChild(this.fetchElement(n,this.items[e].content,e,!1))),t},t.prototype.expand=function(e){var t=this,n=this.getItems(),r=yt(e,"."+_A);if(!(p(e)||lt(e)&&"true"!==e.getAttribute("e-animate")||r.classList.contains(ZA))){var i=yt(r,".e-acrdn-root").querySelector(".e-expand-state"),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},a=gt(".e-toggle-icon",r).firstElementChild,s={element:r,item:n[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+QA),isExpanded:!0};this.trigger("expanding",s,(function(n){n.cancel||(a.classList.add($A),t.expandedItemsPush(r),p(i)||i.classList.remove(em),r.classList.add(em),"None"===o.name?(t.expandProgress("begin",a,e,r,n),t.expandProgress("end",a,e,r,n)):t.expandAnimation(o.name,a,e,r,o,n))}))}},t.prototype.expandAnimation=function(e,t,n,r,i,o){var a,s=this;this.lastActiveItemId=r.id,"SlideDown"===e?(i.begin=function(){s.expandProgress("begin",t,n,r,o),n.style.position="absolute",a=r.offsetHeight,n.style.maxHeight=n.offsetHeight+"px",r.style.maxHeight=""},i.progress=function(){r.style.minHeight=a+n.offsetHeight+"px"},i.end=function(){vt(n,{position:"",maxHeight:""}),r.style.minHeight="",s.expandProgress("end",t,n,r,o)}):(i.begin=function(){s.expandProgress("begin",t,n,r,o)},i.end=function(){s.expandProgress("end",t,n,r,o)}),new Gt(i).animate(n)},t.prototype.expandProgress=function(e,t,n,r,i){this.remove(n,KA),this.add(r,qA),this.add(t,XA),"end"===e&&(this.add(r,JA),n.setAttribute("aria-hidden","false"),ft(r,{"aria-expanded":"true"}),ft(n.previousElementSibling,{"aria-selected":"true","aria-label":"expanded"}),t.classList.remove($A),this.trigger("expanded",i))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){var n=[].slice.call(this.expandedIndices);n.push(t),this.setProperties({expandedIndices:n},!0)}},t.prototype.getIndexByItem=function(e){var t=this.getItemElements();return[].slice.call(t).indexOf(e)},t.prototype.getItemElements=function(){var e=[],t=this.element.children;return[].slice.call(t).forEach((function(t){t.classList.contains(_A)&&e.push(t)})),e},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e),n=[].slice.call(this.expandedIndices);n.splice(n.indexOf(t),1),this.setProperties({expandedIndices:n},!0)},t.prototype.collapse=function(e){var t=this,n=this.getItems(),r=yt(e,"."+_A);if(!p(e)&&lt(e)&&!r.classList.contains(ZA)){var i={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},o=gt(".e-toggle-icon",r).firstElementChild,a={element:r,item:n[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+QA),isExpanded:!1};this.trigger("expanding",a,(function(n){n.cancel||(t.expandedItemsPop(r),r.classList.add(em),o.classList.add($A),"None"===i.name?(t.collapseProgress("begin",o,e,r,n),t.collapseProgress("end",o,e,r,n)):t.collapseAnimation(i.name,e,r,o,i,n))}))}},t.prototype.collapseAnimation=function(e,t,n,r,i,o){var a,s,l,c,h=this;this.lastActiveItemId=n.id,"SlideUp"===e?(i.begin=function(){l=n.offsetHeight,n.style.minHeight=l+"px",t.style.position="absolute",a=n.offsetHeight,s=t.offsetHeight,t.style.maxHeight=s+"px",h.collapseProgress("begin",r,t,n,o)},i.progress=function(){(c=a-(s-t.offsetHeight))<l&&(n.style.minHeight=c+"px")},i.end=function(){t.style.display="none",h.collapseProgress("end",r,t,n,o),n.style.minHeight="",vt(t,{position:"",maxHeight:"",display:""})}):(i.begin=function(){h.collapseProgress("begin",r,t,n,o)},i.end=function(){h.collapseProgress("end",r,t,n,o)}),new Gt(i).animate(t)},t.prototype.collapseProgress=function(e,t,n,r,i){this.remove(t,XA),this.remove(r,qA),"end"===e&&(this.add(n,KA),t.classList.remove($A),this.remove(r,JA),n.setAttribute("aria-hidden","true"),ft(r,{"aria-expanded":"false"}),ft(n.previousElementSibling,{"aria-selected":"false","aria-label":"collapsed"}),this.trigger("expanded",i))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.itemAttribUpdate=function(){var e=this.getItems(),t=this.getItemElements(),n=e.length;t.forEach((function(e){gt("."+UA,e).setAttribute("aria-level",""+n)}))},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,t){var n=this,r=this.element,i=this.getItemElements(),o=this.getItems();(p(t)&&(t=o.length),r.childElementCount>=t)&&(e instanceof Array?e:[e]).forEach((function(e,a){var s=t+a;o.splice(s,0,e);var l=n.renderInnerItem(e,s);r.childElementCount===s?r.appendChild(l):r.insertBefore(l,i[s]),ce.add(l.querySelector("."+UA),"focus",n.focusIn,n),ce.add(l.querySelector("."+UA),"blur",n.focusOut,n),n.itemAttribUpdate(),n.expandedIndices=[],n.expandedItemRefresh(r),e&&e.expanded&&n.expandItem(!0,s)}));this.isReact&&this.renderReactTemplates()},t.prototype.expandedItemRefresh=function(e){var t=this,n=this.getItemElements();[].slice.call(n).forEach((function(e){e.classList.contains(qA)&&t.expandedItemsPush(e)}))},t.prototype.removeItem=function(e){this.isReact&&this.clearTemplate(["headerTemplate","itemTemplate"],e);var t=this.getItemElements()[e],n=this.getItems();p(t)||(this.restoreContent(e),ut(t),n.splice(e,1),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(this.element))},t.prototype.select=function(e){var t=this.getItemElements()[e];p(t)||p(gt("."+UA,t))||t.children[0].focus()},t.prototype.hideItem=function(e,t){var n=this.getItemElements()[e];p(n)||(p(t)&&(t=!0),t?this.add(n,HA):this.remove(n,HA))},t.prototype.enableItem=function(e,t){var n=this.getItemElements()[e];if(!p(n)){var r=n.firstElementChild;t?(this.remove(n,ZA),ft(r,{tabindex:"0","aria-disabled":"false"}),r.focus()):(n.classList.contains(JA)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,r)),this.add(n,ZA),r.setAttribute("aria-disabled","true"),r.removeAttribute("tabindex"))}},t.prototype.refresh=function(){this.isServerRendered||e.prototype.refresh.call(this)},t.prototype.expandItem=function(e,t){var n=this,r=this.getItemElements();if(p(t))if("Single"===this.expandMode&&e){var i=r[r.length-1];this.itemExpand(e,i,this.getIndexByItem(i))}else{var o=gt("#"+this.lastActiveItemId,this.element);[].slice.call(r).forEach((function(t){n.itemExpand(e,t,n.getIndexByItem(t)),t.classList.remove(em)}));var a=gt(".e-expand-state",this.element);a&&a.classList.remove(em),o&&o.classList.add(em)}else{if(p(i=r[t])||!i.classList.contains(GA)||i.classList.contains(JA)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,i,t)}},t.prototype.itemExpand=function(e,t,n){var r=this,i=t.children[1];if(!t.classList.contains(ZA)){if(p(i)&&e)if(this.isServerRendered){var o=t.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",n).then((function(){r.isDestroyed||(i=t.children[1],r.expand(i))})):this.interopAdaptor.invokeMethodAsync("OnDataClick",o).then((function(){r.isDestroyed||(i=t.children[1],r.expand(i))}))}else i=this.contentRendering(n),t.appendChild(i),this.ariaAttrUpdate(t),this.expand(i);else p(i)||(e?this.expand(i):this.collapse(i));this.isReact&&this.renderReactTemplates()}},t.prototype.destroyItems=function(){this.restoreContent(null),this.isReact&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+_A)).forEach((function(e){ut(e)}))},t.prototype.restoreContent=function(e){var t;t=p(e)?this.element:this.element.querySelectorAll("."+_A)[e],this.templateEle.forEach((function(e){p(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")}))},t.prototype.updateItem=function(e,t){if(!p(e)){var n=this.getItems(),r=n[t];n.splice(t,1),this.restoreContent(t),ut(e),this.addItem(r,t)}},t.prototype.setTemplate=function(e,t,n){t.innerHTML="",this.templateCompile(t,e,n),this.isReact&&this.renderReactTemplates()},t.prototype.templateCompile=function(e,t,n){var r=this.createElement("div");this.fetchElement(r,t,n,!1),0!==r.childNodes.length&&[].slice.call(r.childNodes).forEach((function(t){e.appendChild(t)}))},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedIndices"])},t.prototype.onPropertyChanged=function(e,t){for(var n=this.element,r=!1,i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"items":if(this.isServerRendered){this.wireFocusEvents();break}if(e.items instanceof Array&&t.items instanceof Array)r=!0;else for(var a=Object.keys(e.items),s=0;s<a.length;s++){var l=parseInt(Object.keys(e.items)[s],10),c=Object.keys(e.items[l])[0],h=At("."+_A,this.element)[l],d=Object(t.items[l])[c],u=Object(e.items[l])[c];if(("header"===c||"iconCss"===c||"expanded"===c||"content"===c&&""===d)&&this.updateItem(h,l),"cssClass"!==c||p(h)||(h.classList.remove(d),h.classList.add(u)),"visible"!==c||p(h)||(!1===Object(e.items[l])[c]?h.classList.add(HA):h.classList.remove(HA)),"disabled"!==c||p(h)||this.enableItem(l,!u),"content"===c&&!p(h)&&2===h.children.length)if("function"===typeof u){var f=h.querySelector("."+WA);f.innerHTML="",this.setTemplate(u,f,l)}else h.classList.contains(qA)&&this.expandItem(!1,l),ut(h.querySelector("."+QA))}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),r=!0;break;case"headerTemplate":this.initializeheaderTemplate(),r=!0;break;case"itemTemplate":this.initializeItemTemplate(),r=!0;break;case"enableRtl":e.enableRtl?this.add(n,YA):this.remove(n,YA);break;case"height":vt(this.element,{height:y(e.height)});break;case"width":vt(this.element,{width:y(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedIndices.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}}r&&!this.isServerRendered&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())},DA([Ut([],im)],t.prototype,"items",void 0),DA([_t([])],t.prototype,"dataSource",void 0),DA([_t()],t.prototype,"itemTemplate",void 0),DA([_t()],t.prototype,"headerTemplate",void 0),DA([_t("100%")],t.prototype,"width",void 0),DA([_t("auto")],t.prototype,"height",void 0),DA([_t([])],t.prototype,"expandedIndices",void 0),DA([_t("Multiple")],t.prototype,"expandMode",void 0),DA([_t(!1)],t.prototype,"enableHtmlSanitizer",void 0),DA([Ft({},rm)],t.prototype,"animation",void 0),DA([Qt()],t.prototype,"clicked",void 0),DA([Qt()],t.prototype,"expanding",void 0),DA([Qt()],t.prototype,"expanded",void 0),DA([Qt()],t.prototype,"created",void 0),DA([Qt()],t.prototype,"destroyed",void 0),t=DA([Wt],t)}(dn),am=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sm=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lm=function(e){var t=e;return t.sourcePoint||t.targetPoint||t.sourceID||t.targetID||t.sourcePortID||t.targetPortID||t.sourceDecorator||t.targetDecorator?Al:(e.shape&&(e.shape instanceof Id||e.shape.type),iu)},cm=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return am(t,e),sm([_t("")],t.prototype,"id",void 0),sm([_t()],t.prototype,"height",void 0),sm([_t(!0)],t.prototype,"expanded",void 0),sm([_t("")],t.prototype,"iconCss",void 0),sm([_t("")],t.prototype,"title",void 0),sm([zt(lm)],t.prototype,"symbols",void 0),t}(on),hm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return am(t,e),sm([_t()],t.prototype,"width",void 0),sm([_t()],t.prototype,"height",void 0),t}(on),dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return am(t,e),sm([_t()],t.prototype,"width",void 0),sm([_t()],t.prototype,"height",void 0),sm([Ft({},or)],t.prototype,"offset",void 0),t}(on),um=function(e){function t(t,n){var r,i,o=e.call(this,t,n)||this;o.symbolTable={},o.childTable={},o.info="info",o.oldObject=null,o.laneTable={},o.isExpand=!1,o.isExpandMode=!1,o.isMethod=!1,o.paletteid=88123,o.checkOnRender=!1,o.helper=function(e){var t,n=o.selectedSymbol&&o.selectedSymbol.id||e.sender.target.id.split("_container")[0],r=o.symbolTable[n];return r&&o.selectedSymbol&&(o.selectedSymbols=o.selectedSymbol.id===r.id?r:o.selectedSymbol,(t=o.getSymbolPreview(o.selectedSymbols,e.sender,o.element)).setAttribute("paletteId",o.element.id)),t};for(var a=0;o&&o.palettes&&a<o.palettes.length;a++)for(var s=0;s<o.palettes[a].symbols.length;s++)r=o.palettes[a].symbols[s],i=t.palettes[a].symbols[s],r&&"UmlActivity"===r.shape.type&&uh(i,r),(o.nodeDefaults||o.connectorDefaults)&&Ah(r,i,r instanceof iu?o.nodeDefaults:o.connectorDefaults);return o}return am(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=!1,r=0,i=Object.keys(e);r<i.length;r++){switch(i[r]){case"width":this.element.style.width=this.width.toString();break;case"height":this.element.style.height=this.height.toString();break;case"symbolPreview":break;case"symbolWidth":case"symbolHeight":case"getSymbolInfo":n=!this.isReact;break;case"enableSearch":if(e.enableSearch&&!v())this.createTextbox();else{var o=document.getElementById(this.element.id+"_search");o&&o.parentNode.removeChild(o)}break;case"palettes":for(var a=0,s=Object.keys(e.palettes);a<s.length;a++){var l=s[a],c=Number(l);if(v()||this.accordionElement.items[c]||(this.accordionElement.items[c]={header:e.palettes[c].title||"",expanded:e.palettes[c].expanded,iconCss:e.palettes[c].iconCss||""}),e.palettes[c].height)document.getElementById(this.palettes[c].id+"_content").style.height=e.palettes[c].height+"px";void 0!==e.palettes[c].iconCss&&(v()||(this.accordionElement.items[c].iconCss=e.palettes[c].iconCss||"",n=!0)),void 0===e.palettes[c].expanded||v()||(this.palettes[c].isInteraction?this.palettes[c].isInteraction=!1:(this.accordionElement.items[c].expanded=e.palettes[c].expanded,this.isExpand=!0),this.isExpandMode||this.isMethod||this.isExpand||(this.isExpand=!0)),v()&&null!==e.palettes[c].symbols&&(n=!0),v()&&null===e.palettes[c].symbols&&this.updateBlazorProperties(e)}break;case"enableAnimation":v()||(this.enableAnimation?this.accordionElement.animation={expand:{duration:400},collapse:{duration:400}}:this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}});break;case"expandMode":v()||(this.accordionElement.expandMode=this.expandMode,n=!0,this.isExpandMode=!0);break;case"allowDrag":this.allowDrag=e.allowDrag,this.allowDrag?(this.initDraggable(),this.draggable.helper=this.helper):this.draggable.helper=function(){return null}}}if(n&&this.refreshPalettes(),this.isExpand&&!n){this.refresh(),this.isExpand=!1;for(var h=0;h<this.palettes.length;h++){var d=this.palettes[h].id;window[d]&&window[d].length>1&&(window[d][1].parentNode.removeChild(window[d][1]),window[d][1]=null)}}this.isMethod=!1},t.prototype.updateBlazorProperties=function(e){if(window&&window.Blazor){var t={methodName:"UpdateBlazorProperties",paletteobj:{palette:e.palettes}};window.sfBlazor.updateBlazorProperties(t,this)}},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){var e=this;if(""===this.element.id){var t=document.getElementsByClassName("e-symbolpalette").length;this.element.id="symbolpalette_"+this.paletteid+"_"+t}if(this.element.style.overflow="auto",this.element.style.height=this.height.toString(),this.element.style.width=this.width.toString(),this.enableSearch&&!v()&&this.createTextbox(),!v()){var n=Ou("div",{id:this.element.id+"_container"});this.accordionElement=new om({expandMode:this.expandMode}),this.enableAnimation||(this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}}),this.accordionElement.created=function(){e.checkOnRender=!0},this.accordionElement.expanded=function(t){var n=e.accordionElement.items.indexOf(t.item),r=e.allowServerDataBinding;e.allowServerDataBinding=!1,e.palettes[n].expanded=t.isExpanded,e.palettes[n].isInteraction=!0,e.allowServerDataBinding=r},this.accordionElement.expanding=function(t){if(e.checkOnRender){var n={element:t.element,content:t.content,index:t.index,cancel:!1,isExpanded:t.isExpanded,palette:e.palettes[t.index]};e.trigger("paletteExpanding",n),t.cancel=n.cancel}},this.element.appendChild(n)}window.measureElement&&(window.measureElement=null),_u(),this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.diagramRenderer=new sp(this.element.id,new ap,!1),this.svgRenderer=new sp(this.element.id,new ap,!0),this.updatePalettes(),v()||this.accordionElement.appendTo("#"+this.element.id+"_container"),this.renderComplete(),v()&&this.element.classList.remove("e-symbolpalette-hidden")},t.prototype.getModuleName=function(){return"SymbolPalette"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e},t.prototype.destroy=function(){if(this.allowDrag){this.draggable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this);var t=document.getElementById(this.element.id+"_container");if(t){this.element.removeChild(t);if(window.measureElement){window.measureElement.usageCount-=1;window.measureElementCount--,0===window.measureElementCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null)}}(t=document.getElementById(this.element.id+"_search"))&&t.parentNode.removeChild(t),this.element.classList.remove("e-symbolpalette")}},t.prototype.addPalettes=function(e){for(var t,n=0;n<e.length;n++){var r=this.allowServerDataBinding;this.isProtectedOnChange=!0,this.allowServerDataBinding=!1,t=new cm(this,"palettes",e[n],!0),this.palettes.push(t),this.initSymbols(t),this.allowServerDataBinding=r,this.isProtectedOnChange=!1,this.renderPalette(t)}this.bulkChanges={},v()||this.accordionElement.refresh()},t.prototype.removePalette=function(e){for(var t=0;t<this.palettes.length;t++)if(this.palettes[t].id===e){this.palettes.splice(t,1),v()||this.accordionElement.items.splice(t,1);break}},t.prototype.removePalettes=function(e){var t=this.allowServerDataBinding;this.allowServerDataBinding=!1;for(var n=0;n<e.length;n++)this.removePalette(e[n]);v()||this.accordionElement.refresh(),this.allowServerDataBinding=t},t.prototype.initSymbols=function(e){for(var t=[],n=0,r=0,i=0,o=e.symbols;i<o.length;i++){if("SwimLane"===(C=o[i]).shape.type){var a=C,s=C.shape,l="Horizontal"===s.orientation;if(s.isLane){n=l?this.symbolHeight-this.symbolHeight/2:this.symbolHeight-this.symbolHeight/4,r=l?this.symbolWidth-this.symbolWidth/4:this.symbolWidth-this.symbolWidth/2,this.laneTable[C.id]={height:n,width:r};var c=s.lanes[0].header,h=s.lanes[0].style,d=c.style,u={id:"header"+Uu(),shape:{type:"Basic",shape:"Rectangle"},width:l?c.width:a.width,height:l?a.height:c.height,style:d,annotations:[{content:c.annotation.content}]};u.offsetX=u.width/2,u.offsetY=u.height/2,this.addPaletteItem(e.id,u);var p={id:"lane"+Uu(),shape:{type:"Basic",shape:"Rectangle"},width:l?a.width-c.width:a.width,height:l?a.height:a.height-c.height,style:h};p.offsetX=l?u.width+p.width/2:p.width/2,p.offsetY=l?p.height/2:u.height+p.height/2,this.addPaletteItem(e.id,p),a.children=[u.id,p.id]}else s.isPhase&&(n=a.height?a.height:this.symbolHeight,r=a.width?a.width:this.symbolWidth,C.shape.type="Path",C.shape.data=l?"M0,0 L"+r+",0":"M0,0 L0,"+r)}if(C instanceof iu){var f=ip(this.getNodeDefaults);f&&f(C,this)}else if(C instanceof Al){var g=ip(this.getConnectorDefaults);g&&g(C,this)}this.symbolTable[C.id]=C,C instanceof iu&&C.children&&t.push(C)}for(var A=0;A<t.length;A++)for(var m=void 0,y=0;y<t[A].children.length;y++)(m=this.symbolTable[t[A].children[y]])&&(this.childTable[m.id]=m,m.parentId=t[A].id);for(var v=0,b=e.symbols;v<b.length;v++){(C=b[v])instanceof iu&&C.children||this.prepareSymbol(C)}for(var w=0,x=t;w<x.length;w++){var C=x[w];this.prepareSymbol(C)}},t.prototype.renderPalette=function(e){var t=v()?"overflow:auto;":"display:none;overflow:auto;";e.height&&(t+="height:"+e.height+"px");var n,r=document.getElementById(e.id);if(v()&&null!=r?(n=Ou("div",{id:e.id+"_content",style:t,class:"e-remove-palette"}),r.appendChild(n)):(n=Ou("div",{id:e.id,style:t,class:"e-remove-palette"}),this.element.appendChild(n)),!v()){var i={header:e.title,expanded:e.expanded,content:"#"+e.id,iconCss:e.iconCss};this.accordionElement.items.push(i)}this.renderSymbols(e,n)},t.prototype.addPaletteItem=function(e,t,n){t=Xu(t);for(var r=0;r<this.palettes.length;r++){var i=this.palettes[r];if(-1!==i.id.indexOf(e)){for(var o=[void 0,i,"symbols",{},!0],a=new(Function.prototype.bind.apply(lm(t),o)),s=0;s<Object.keys(t).length;s++){var l=this.allowServerDataBinding;this.allowServerDataBinding=!1,a[Object.keys(t)[s]]=t[Object.keys(t)[s]],this.allowServerDataBinding=l}Ah(a,t,a instanceof iu?this.nodeDefaults:this.connectorDefaults),i.symbols.push(a);var c=this.allowServerDataBinding;if(this.allowServerDataBinding=!1,this.prepareSymbol(a),this.allowServerDataBinding=c,this.symbolTable[a.id]=a,n)this.childTable[a.id]=a;else{var h=void 0;(h=v()?document.getElementById(i.id+"_content"):document.getElementById(i.id))&&h.appendChild(this.getSymbolContainer(a,h))}break}}},t.prototype.removePaletteItem=function(e,t){for(var n,r=0;r<this.palettes.length;r++){var i=this.palettes[r];if(-1!==i.id.indexOf(e))for(var o=0,a=i.symbols;o<a.length;o++){var s=a[o];if(-1!==s.id.indexOf(t)){var l=i.symbols.indexOf(s);if(i.symbols.splice(l,1),s.children)for(var c=s.children,h=0;h<c.length;h++)delete this.symbolTable[c[h]];delete this.symbolTable[s.id];var d=document.getElementById(s.id+"_container");d.parentNode.removeChild(d),n=!0;break}}if(n)break}},t.prototype.prepareSymbol=function(e){var t,n,r,i,o,a=new bd,s=e,l=new mi,c=e instanceof iu?e.initContainer():null;c&&!c.children&&(c.children=[]);var h=ip(this.getSymbolTemplate);if(h&&(o=h(e)),o||(s.children?o=this.getContainer(s,c):(o=e.init(this),e instanceof iu&&e.parentId&&c.children.push(o))),!e.parentId){var d={width:this.symbolWidth,height:this.symbolHeight},u=ip(this.getSymbolInfo);if(u?d=u(e):v()&&(d=this.getBlazorSymbolInfo(e,d)),d=d||this.symbolInfo||{},e.shape&&e.shape.isPhase&&(d.width=d.width||this.symbolWidth,d.height=d.height||this.symbolHeight),o.relativeMode="Object",o.horizontalAlignment=o.verticalAlignment="Center",l.style.strokeColor=l.style.fill="none",l.children=[o],o.measure(new nr),o.arrange(o.desiredSize),t=d.width=d.width||(void 0!==s.width?o.actualSize.width:void 0)||this.symbolWidth,r=d.height=d.height||(void 0!==s.height?o.actualSize.height:void 0)||this.symbolHeight,void 0!==t&&void 0!==r){var p=t,f=r,g=!!e.shape.isPhase;void 0!==this.symbolWidth?p=this.symbolWidth-this.symbolMargin.left-this.symbolMargin.right:t+=s.style.strokeWidth,void 0!==this.symbolHeight?f=this.symbolHeight-this.symbolMargin.top-this.symbolMargin.bottom:r+=s.style.strokeWidth,d.description&&""!==d.description.text&&(f-=20),n=p/(!g&&o.width||t),i=f/(!g&&o.height||r),d.fit&&(n=p/d.width,i=f/d.height),t=p,r=f,n=i=Math.min(n,i),l.width=t,l.height=r,o.width=d.width,o.height=d.height,this.scaleSymbol(e,l,n,i,t,r)}else{var A=void 0;e instanceof Al&&(A=Eo(e)),o.width=e.width||A?A.width:o.actualSize.width,o.height=e.height||A?A.height:o.actualSize.height}e.wrapper=a,a.children=[l],o.pivot=a.pivot={x:0,y:0},a.id=o.id+"_symbol",a.style.fill=a.style.strokeColor="transparent",e instanceof iu?(a.offsetX=e.style.strokeWidth/2,a.offsetY=e.style.strokeWidth/2):(a.offsetX=.5,a.offsetY=.5),this.getSymbolDescription(d,t,a),a.measure(new nr),a.arrange(a.desiredSize),d.width=d.width||o.actualSize.width,d.height=d.height||o.actualSize.height,e[this.info]=d}e.parentId&&(c.measure(new nr(s.width,s.height)),c.arrange(c.desiredSize))},t.prototype.getBlazorSymbolInfo=function(e,t){var n=e.symbolInfo;return n&&(t.description=n.description||this.symbolInfo.description,t.fit=n.fit||this.symbolInfo.fit,t.height=n.height||this.symbolInfo.height,t.width=n.width||this.symbolInfo.width,t.tooltip=n.tooltip||this.symbolInfo.tooltip,t.template=n.template||this.symbolInfo.template),t},t.prototype.getContainer=function(e,t){var n;t.measureChildren=!1;var r=e.children;t.children=[];for(var i=0;i<r.length;i++)this.symbolTable[r[i]]&&t.children.push(this.symbolTable[r[i]].wrapper);return t.measure(new nr(e.width,e.height)),t.arrange(t.desiredSize),0===t.bounds.x&&0===t.bounds.y||(Jh(e,(n=t.bounds).x,n.y,this.symbolTable,!1,this),t=this.getContainer(e,t)),t},t.prototype.getSymbolDescription=function(e,t,n){if(e&&e.description&&e.description.text){var r=new gi;e.description.overflow=e.description.overflow||"Ellipsis",e.description.wrap=e.description.wrap||"WrapWithOverflow",r.id=n.id+"_text",r.content=e.description.text,r.width=t,r.height=20,r.style.strokeColor="transparent",r.style.fill="transparent",r.style.strokeWidth=0,r.style.textWrapping=e.description.wrap,r.style.textOverflow=e.description.overflow,r.margin={left:0,right:0,top:0,bottom:5},n.children.push(r)}},t.prototype.renderSymbols=function(e,t){for(var n=0,r=e.symbols;n<r.length;n++){var i=r[n];i.parentId||this.getSymbolContainer(i,t)}},t.prototype.getSymbolPreview=function(e,t,n){var r,i,o;this.allowServerDataBinding=!1;var a=e.wrapper.children[0].desiredSize.width+e.style.strokeWidth,s=e.wrapper.children[0].desiredSize.height+e.style.strokeWidth,l=e.wrapper.children[0].children[0],c=e.previewSize;if(e&&(c.width||c.height)||void 0!==this.symbolPreview.width||void 0!==this.symbolPreview.height){a=(c.width||this.symbolPreview.width||a)-e.style.strokeWidth,s=(c.height||this.symbolPreview.height||s)-e.style.strokeWidth,i=a/l.actualSize.width,o=s/l.actualSize.height,i=o=Math.min(i,o);var h=l.actualSize.width*i,d=l.actualSize.height*o;e.wrapper.children[0].width=a,e.wrapper.children[0].height=s,this.measureAndArrangeSymbol(l,e instanceof iu),this.scaleSymbol(e,e.wrapper.children[0],i,o,h,d,!0),a=h,s=d}var u={x:l.offsetX,y:l.offsetY};l.offsetX=l.offsetY=e.style.strokeWidth/2,l.pivot={x:0,y:0},this.measureAndArrangeSymbol(l,e instanceof iu);var p,f=Ou("div",{draggable:"true",class:"e-dragclone",style:"pointer-events:none"});document.body.appendChild(f);var g="margin:5px;";if("Native"===e.shape.type){r=Tu("svg",{id:e.id+"_preview",width:Math.ceil(a)+1,height:Math.ceil(s)+1});var A=Tu("g",{id:e.id+"_g"});r.appendChild(A),f.appendChild(r),this.svgRenderer.renderElement(l,A,void 0,void 0,r)}else if("HTML"===e.shape.type)p=this.getHtmlSymbol(e,r,f,s,a,!0);else if(e.children&&e.children.length>0&&gh(e,"HTML",this.childTable))p=this.getGroupParent(e,r,f,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!0);else{r=op.createCanvas(e.id+"_preview",2*(Math.ceil(a)+e.style.strokeWidth+1),2*(Math.ceil(s)+e.style.strokeWidth+1)),f.appendChild(r),"Basic"===e.shape.type||"Flow"===e.shape.type?g+="transform: scale(0.5) translate(-"+r.width/2+"px, -"+r.height/2+"px);":g+="transform:scale(0.5);",r.setAttribute("transform-origin","0 0");var m=2;e instanceof Al&&(m=1.9),r.getContext("2d").setTransform(m,0,0,m,0,0),this.diagramRenderer.renderElement(l,r,void 0)}return Ru(p&&("HTML"===e.shape.type||e.children&&e.children.length>0)?p:r,g),l.offsetX=u.x,l.offsetY=u.y,this.allowServerDataBinding=!0,f},t.prototype.measureAndArrangeSymbol=function(e,t){e.children&&!t&&(e.children[0].transform=Fr.Self),e.measure(new nr),e.arrange(e.desiredSize),e.children&&(e.children[0].transform=Fr.Parent)},t.prototype.updateSymbolSize=function(e,t,n){var r=e.wrapper.children[0].children[0],i=e.style.strokeWidth;r.width=(t||r.width)-(i+1),r.height=(n||r.height)-(i+1),e.wrapper.measure(new nr),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.getSymbolContainer=function(e,t,n){var r,i,o,a=this.symbolTable[e.id][this.info],s=this.getSymbolSize(e,a),l=s.width+1,c=s.height+1,h=Ou("div",{id:e.id+"_container",style:"width:"+l+"px;height:"+c+"px;float:left;overflow:hidden",title:a.tooltip?a.tooltip:e.id});if(t.appendChild(h),"Native"===e.shape.type)r=Tu("svg",{id:e.id,width:Math.ceil(e.wrapper.actualSize.width)+1,height:Math.ceil(e.wrapper.actualSize.height)+1}),i=Tu("g",{id:e.id+"_g"}),r.appendChild(i),h.appendChild(r),this.updateSymbolSize(e),this.svgRenderer.renderElement(e.wrapper,i,void 0,void 0,r);else if("HTML"===e.shape.type)o=this.getHtmlSymbol(e,r,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else if(e.children&&e.children.length>0&&gh(e,"HTML",this.childTable))o=this.getGroupParent(e,r,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else{r=op.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),h.appendChild(r);var d=2;e instanceof Al&&(d=1.9),r.getContext("2d").setTransform(d,0,0,d,0,0),this.diagramRenderer.renderElement(e.wrapper,i||r,void 0,void 0,void 0,void 0,!0,void 0,!0)}if(!n){var u=e.wrapper.actualSize.width+e.style.strokeWidth,p=e.wrapper.actualSize.height+e.style.strokeWidth,f="pointer-events:none;transform-origin:0 0;overflow:hidden;";return e.shape.isPhase?"Horizontal"===e.shape.orientation?f+="margin-left:"+Math.max(this.symbolMargin.left,(l-u)/2)+"px;margin-top:"+s.height/2+"px;":f+="margin-left:"+s.width/2+"px;margin-top:"+Math.max(this.symbolMargin.top,(c-p)/2)+"px;":f+="margin-left:"+Math.max(this.symbolMargin.left,(l-u)/2)+"px;margin-top:"+Math.max(this.symbolMargin.top,(c-p)/2)+"px;",r instanceof HTMLCanvasElement&&(f+="transform:scale(.5,.5);"),Ru(o&&("HTML"===e.shape.type||e.children&&e.children.length>0)?o:r,f),h.classList.add("e-symbol-draggable"),h}return r},t.prototype.getGroupParent=function(e,t,n,r,i,o){var a=Ou("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=Ou("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(i+1)+"px;height:"+Math.ceil(r+1)+"px;position:absolute",class:"e-html-layer"}),l=Ou("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(i+1)+"px;height:"+Math.ceil(r+1)+"px;position:absolute"});return s.appendChild(l),a.appendChild(s),t=op.createCanvas(o?e.id+"_preview":e.id,Math.ceil(i)+1,Math.ceil(r)+1),a.appendChild(t),n.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getHtmlSymbol=function(e,t,n,r,i,o){var a=Ou("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=Ou("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(i+1)+"px;height:"+Math.ceil(r+1)+"px;position:absolute",class:"e-html-layer"}),l=Ou("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(i+1)+"px;height:"+Math.ceil(r+1)+"px;position:absolute"});return s.appendChild(l),a.appendChild(s),t=op.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),n.appendChild(t),t.getContext("2d").setTransform(2,0,0,2,0,0),a.appendChild(t),n.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getSymbolSize=function(e,t){var n=e.wrapper.actualSize.width,r=e.wrapper.actualSize.height;return this.symbolWidth||this.symbolHeight?(n=this.symbolWidth,r=Math.max(this.symbolHeight,r)):(n+=this.symbolMargin.left+this.symbolMargin.right+e.style.strokeWidth,r+=this.symbolMargin.top+this.symbolMargin.bottom+e.style.strokeWidth),new nr(n,r)},t.prototype.getMousePosition=function(e){var t,n,r;if(-1!==e.type.indexOf("touch")){var i=(r=e).changedTouches[0].clientY,o=r.changedTouches[0].clientX;t=i-this.element.offsetTop,n=o-this.element.offsetLeft}else t=e.clientY-this.element.offsetTop,n=e.clientX-this.element.offsetLeft;return{x:n,y:t}},t.prototype.mouseMove=function(e,t){!this.highlightedSymbol||this.selectedSymbol&&this.selectedSymbol.id+"_container"===this.highlightedSymbol.id||(this.highlightedSymbol.classList.remove("e-symbol-hover"),this.highlightedSymbol.style.backgroundColor="",this.highlightedSymbol=null);var n=e.target.id.split("_container")[0];if(this.symbolTable[n]){var r=document.getElementById(n+"_container");r.classList.add("e-symbol-hover"),this.highlightedSymbol=r}e.preventDefault()},t.prototype.mouseUp=function(e){if(this.isMethod=!0,e&&e.target)if("iconSearch"===e.srcElement.id){var t=document.getElementById("iconSearch");t.classList.contains("e-clear-searchtext")&&(t.className="e-input-group-icon e-search e-icons",document.getElementById("textEnter").value="",v()&&document.getElementById(this.element.id+"_search_content").classList.add("e-symbolpalette-search-hidden"),this.searchPalette(""))}else{var n=e.target.id.split("_container")[0];if(n&&this.selectedSymbol){var r={oldValue:this.oldObject,newValue:n};this.trigger("paletteSelectionChange",r),this.oldObject=n,e.preventDefault()}else""!==this.oldObject&&(this.oldObject="")}},t.prototype.keyUp=function(e){var t=this;if(this.enableSearch){var n=this;document.getElementById("iconSearch").className="e-input-group-icon e-clear-searchtext e-icons",v()&&e.target instanceof HTMLInputElement&&(""===e.target.value?document.getElementById(this.element.id+"_search_content").classList.add("e-symbolpalette-search-hidden"):document.getElementById(this.element.id+"_search_content").classList.remove("e-symbolpalette-search-hidden")),!e||"Enter"!==e.key&&13!==e.keyCode?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.target instanceof HTMLInputElement&&(n.searchPalette(e.target.value),t.timer=null)}),500)):e.target instanceof HTMLInputElement&&this.searchPalette(e.target.value)}},t.prototype.mouseDown=function(e){var t=e.target.id.split("_container")[0];if(this.selectedSymbol){var n,r=document.getElementById(this.selectedSymbol.id+"_container");t!==this.selectedSymbol.id&&r&&r.classList.remove("e-symbol-selected"),(n=document.getElementById(this.selectedSymbol.id+"_container"))&&(n.style.backgroundColor=""),this.selectedSymbol=null}this.symbolTable[t]&&((n=document.getElementById(t+"_container")).classList.add("e-symbol-selected"),this.selectedSymbol=this.symbolTable[t],e.preventDefault())},t.prototype.keyDown=function(e){if(e&&"Escape"===e.key){var t=this.draggable.helperElement;t&&t.parentNode&&(t.parentNode.removeChild(t),this.draggable.intDestroy())}},t.prototype.initDraggable=function(){this.allowDrag&&(this.draggable=new mn(this.element,{dragTarget:".e-symbol-draggable",helper:this.helper,dragStart:this.dragStart,preventDefault:!1,dragStop:this.dragStop,drag:function(e){var t=Iu(e.target,"e-droppable");if(t&&t.classList.contains("e-diagram")){t.ej2_instances[0].droppable.over(e)}},cursorAt:{left:this.symbolPreview.offset.x,top:this.symbolPreview.offset.y}}))},t.prototype.dragStart=function(e){var t=this.helper[0];t&&t.setAttribute("paletteId",this.element.id),v()&&e.bindEvents(e.dragElement)},t.prototype.dragStop=function(e){Iu(e.target,"e-diagram")||pt(e.helper)},t.prototype.scaleSymbol=function(e,t,n,r,i,o,a){if(e instanceof Al){var s=e.wrapper;e.wrapper=t.children[0];for(var l=e.scale(n,r,i,o,t.children[0]),c=i/2-t.children[0].children[0].offsetX+l.x/2,h=o/2-t.children[0].children[0].offsetY+l.y/2,d=0,u=t.children[0].children;d<u.length;d++){var p=u[d];p.offsetX+=c,p.offsetY+=h,p.staticSize=!1}e.wrapper=s}else if("Bpmn"===e.shape.type&&this.bpmnModule){s=e.wrapper;e.wrapper=t,t.children[0].width=i,t.children[0].height=o,this.bpmnModule.updateBPMN({width:i,height:o},e,e,null),e.wrapper=s}else if(e.children){var f,g,A=e.children;if(!a)for(var m=void 0,y=void 0,v=0;v<A.length;v++)(y=t.children[0].children[v])&&(y.children[0].children&&this.measureChild(y),m=this.symbolTable[y.id],y.width=m.width,y.height=m.height,y.measure(new nr),y.arrange(y.children[0].desiredSize));if(f=i/t.children[0].desiredSize.width,g=o/t.children[0].desiredSize.height,t.children[0].measure(new nr),t.children[0].arrange(t.children[0].desiredSize),!a){var b=void 0;for(v=0;v<A.length;v++)(b=t.children[0].children[v])&&(b.children[0].children&&this.scaleChildren(b,f,g,e),this.scaleGroup(b,f,g,e))}if(a){var w=void 0,x=void 0;for(b=void 0,v=0;v<A.length;v++)w=i/e.wrapper.children[0].desiredSize.width,x=o/e.wrapper.children[0].desiredSize.height,(b=t.children[0].children[v])&&(b.children[0].children&&this.scaleChildren(b,w,x,e,!0),this.scaleGroup(b,w,x,e,!0));e.wrapper.children[0].measure(new nr),e.wrapper.children[0].arrange(e.wrapper.children[0].desiredSize)}}else qh(t.children[0],n,r,t)},t.prototype.scaleChildren=function(e,t,n,r,i){for(var o,a=0;a<e.children.length;a++)(o=e.children[a]).children[0].children?this.scaleChildren(o,t,n,r,i):this.scaleGroup(o,t,n,r,i)},t.prototype.measureChild=function(e){for(var t,n,r=0;r<e.children.length;r++)(t=e.children[r]).children[0].children?this.measureChild(t):(n=this.symbolTable[t.id],t.width=n.width,t.height=n.height,t.measure(new nr),t.arrange(t.children[0].desiredSize))},t.prototype.scaleGroup=function(e,t,n,r,i){e.width=e.width*t,e.height=e.height*n,e.offsetX=i?e.offsetX*t-r.style.strokeWidth:e.offsetX*t+r.style.strokeWidth/2,e.offsetY=i?e.offsetY*n-r.style.strokeWidth:e.offsetY*n+r.style.strokeWidth/2,e.measure(new nr),e.arrange(e.children[0].desiredSize)},t.prototype.refreshPalettes=function(){v()||(this.accordionElement.items=[]),function(e,t){var n;for(n=t?document.getElementById(t).getElementsByClassName(e):document.getElementsByClassName(e);n.length>0;)n[0].parentNode.removeChild(n[0])}("e-remove-palette",this.element.id),this.updatePalettes(),v()||this.accordionElement.dataBind()},t.prototype.updatePalettes=function(){for(var e=0;e<this.palettes.length;e++){var t=this.palettes[e];this.initSymbols(t),this.renderPalette(t)}},t.prototype.createTextbox=function(){var e=Ou("div",{id:this.element.id+"_search"});Ru(e,"backgroundColor:white;height:30px"),e.className="e-input-group",this.element.appendChild(e);var t=Ou("input",{});t.placeholder="Search Shapes",t.id="textEnter",Ru(t,"width:100%;height:auto"),t.className="e-input",e.appendChild(t);var n=Ou("span",{id:"iconSearch",className:"e-input-group-icon e-search e-icons"});e.appendChild(n)},t.prototype.getFilterSymbol=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<this.ignoreSymbolsOnSearch.length;r++)this.ignoreSymbolsOnSearch[r]!==e[n].id&&t.push(e[0]);return t},t.prototype.searchPalette=function(e){var t,n=[],r=document.getElementById("SearchPalette");if(r)for(var i=r.children.length-1;i>=0;i--)r.removeChild(r.children[i]);for(var o=0;o<this.palettes.length;o++)for(var a=this.palettes[o],s=0;s<a.symbols.length;s++){var l=a.symbols[s];""!==e&&-1!==l.id.toLowerCase().indexOf(e.toLowerCase())&&n.push(l)}var c=ip(this.filterSymbols);if(c&&(n=c(n)||[]),this.ignoreSymbolsOnSearch&&this.ignoreSymbolsOnSearch.length>0&&(n=this.getFilterSymbol(n)),r||v()||(r=t=this.createSearchPalette(t)),n.length>0)for(var h=0,d=n;h<d.length;h++){var u=d[h];this.getSymbolContainer(u,r)}else if(""!==e){var p=Ou("div",{id:"EmptyDiv",style:"text-align:center;font-style:italic"});p.innerHTML="No Items To Display",r.appendChild(p)}else{if(document.getElementById("iconSearch").className="e-input-group-icon e-search e-icons",!v()){this.accordionElement.removeItem(0);var f=document.getElementById("SearchPalette");f&&f.remove()}}},t.prototype.createSearchPalette=function(e){e=Ou("div",{id:"SearchPalette",style:"display:none;overflow:auto;"}),this.element.appendChild(e);return this.accordionElement.addItem({header:"Search Results",expanded:!0,content:"#SearchPalette"},0),e},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent;ce.add(this.element,e,this.mouseDown,this),ce.add(this.element,n,this.mouseMove,this),ce.add(this.element,t,this.mouseUp,this),ce.add(this.element,"keyup",this.keyUp,this),ce.add(document,"keydown",this.keyDown,this),this.initDraggable()},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent;ce.remove(this.element,e,this.mouseDown),ce.remove(this.element,n,this.mouseMove),ce.remove(this.element,t,this.mouseUp),ce.remove(this.element,"keyup",this.keyUp),ce.remove(document,"keydown",this.keyDown)},sm([_t("S")],t.prototype,"accessKey",void 0),sm([_t("100%")],t.prototype,"width",void 0),sm([_t("100%")],t.prototype,"height",void 0),sm([Ut([],cm)],t.prototype,"palettes",void 0),sm([_t()],t.prototype,"getSymbolInfo",void 0),sm([_t({fit:!0})],t.prototype,"symbolInfo",void 0),sm([_t()],t.prototype,"filterSymbols",void 0),sm([_t()],t.prototype,"ignoreSymbolsOnSearch",void 0),sm([_t()],t.prototype,"getSymbolTemplate",void 0),sm([_t()],t.prototype,"symbolWidth",void 0),sm([_t()],t.prototype,"symbolHeight",void 0),sm([Ft({left:10,right:10,top:10,bottom:10},ei)],t.prototype,"symbolMargin",void 0),sm([_t(!0)],t.prototype,"allowDrag",void 0),sm([Ft({},dm)],t.prototype,"symbolPreview",void 0),sm([Ft({},hm)],t.prototype,"symbolDragSize",void 0),sm([_t(!1)],t.prototype,"enableSearch",void 0),sm([_t(!0)],t.prototype,"enableAnimation",void 0),sm([_t("Multiple")],t.prototype,"expandMode",void 0),sm([Qt()],t.prototype,"paletteSelectionChange",void 0),sm([Qt()],t.prototype,"paletteExpanding",void 0),sm([_t()],t.prototype,"getNodeDefaults",void 0),sm([_t()],t.prototype,"nodeDefaults",void 0),sm([_t()],t.prototype,"getConnectorDefaults",void 0),sm([_t()],t.prototype,"connectorDefaults",void 0),t}(dn),pm=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fm=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},gm=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.mode="Canvas",r.id="overview",r.actionName="",r.startPoint=null,r.currentPoint=null,r.prevPoint=null,r.scale=null,r.inAction=!1,r.viewPortRatio=1,r.horizontalOffset=0,r.verticalOffset=0,r.model={},r.event=!0,r.overviewid=88123,r.model={width:r.width,height:r.height},r}return pm(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"sourceID":this.setParent(e.sourceID);break;case"width":case"height":this.renderCanvas(),this.setParent(this.sourceID)}}},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-overview").length;this.element.id="overview_"+this.overviewid+"_"+e}this.element.style.background="transparent",this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.diagramRenderer=new sp(this.element.id,new ap,!1),this.renderCanvas(),this.setParent(this.sourceID),this.renderComplete()},t.prototype.getSizeValue=function(e){return e.toString().indexOf("px")>0||e.toString().indexOf("%")>0?e.toString():e.toString()+"px"},t.prototype.renderCanvas=function(e){var t=document.getElementById(this.element.id+"_canvas");t||(t=Ou("div",{}),this.element.appendChild(t)),ju(t,{id:this.element.id+"_canvas",class:"drawing",style:"position:relative; height:"+this.getSizeValue(this.model.height)+"; width:"+this.getSizeValue(this.model.width)+";style:-ms-touch-action: none;touch-action: none;"}),this.element.setAttribute("tabindex",String(0)),this.element.style.overflow="hidden",this.element.style.height=String(this.model.height),this.element.style.width=String(this.model.width),this.canvas=t},t.prototype.setParent=function(e){var t=document.getElementById(e);if(this.parent){var n=this.parent;this.parent=null,n.setOverview(null,this.element.id),this.removeDocument(this)}this.parent=this.getDiagram(t,"ej2_instances"),this.parent&&this.parent.setOverview(this)},t.prototype.getDiagram=function(e,t){for(var n,r=e[t].length,i=0;i<r;i++)if(Lu(e[t][i].element,"e-diagram")){n=e[t][i];break}return n},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchMoveEvent,n=le.isPointer?"pointerleave":"mouseleave",r=le.touchEndEvent;ce.remove(this.element,e,this.mouseDown),ce.remove(this.element,t,this.mouseMove),ce.remove(this.element,r,this.mouseUp),ce.remove(this.element,n,this.documentMouseUp),ce.remove(window,"resize",this.windowResize);var i=document.getElementById(this.sourceID+"content");i&&ce.remove(i,"scroll",this.scrolled)},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent,r=le.isPointer?"pointerleave":"mouseleave";ce.add(this.element,e,this.mouseDown,this),ce.add(this.element,n,this.mouseMove,this),ce.add(this.element,t,this.mouseUp,this),ce.add(this.element,r,this.documentMouseUp,this),ce.add(window,"resize",this.windowResize,this);var i=document.getElementById(this.sourceID+"content");i&&ce.add(i,"scroll",this.scrolled,this)},t.prototype.renderDocument=function(e){e.canvas=this.canvas;var t=document.getElementById(this.canvas.id+"_svg");t&&t.parentNode.removeChild(t);var n=Tu("svg",{id:this.canvas.id+"_svg",version:"1.1",xlink:"http://www.w3.org/1999/xlink",class:"overview_svg"});this.svg=n,e.svg=n,e.canvas.appendChild(n);var r=document.getElementById(this.element.id),i=r.clientWidth,o=r.clientHeight,a=r.getBoundingClientRect(),s=window.screenX<0?-1*window.screenX:window.screenX,l=window.screenY<0?-1*window.screenY:window.screenY;if(0===i){var c=Math.floor(window.innerWidth-s-Math.floor(a.left));i=c>0?c:Math.floor(window.innerWidth)}if(0===o){var h=Math.floor(window.innerHeight-l-Math.floor(a.top));o=h>0?h:Math.floor(window.innerHeight)}i>0&&(n.setAttribute("width",String(i)),this.model.height=o),o>0&&(n.setAttribute("height",String(o)),this.model.width=i),e.diagramLayerDiv||(e.diagramLayerDiv=Ou("div",{}),e.diagramLayer=op.createCanvas(this.element.id+"_diagramLayer",this.model.width,this.model.height),e.diagramLayer.setAttribute("style","position:absolute; left:0px;  top:0px "),e.diagramLayerDiv.appendChild(e.diagramLayer),e.canvas.appendChild(e.diagramLayerDiv));var d={id:this.element.id+"_diagramLayer_div",style:"width:"+this.model.width+"px; height:"+this.model.height+"px;position:absolute;top:0px;left:0px"};ju(e.diagramLayerDiv,d),this.renderHtmlLayer(e.canvas),this.renderNativeLayer(e.canvas,e),this.addOverviewRectPanel(e)},t.prototype.removeDocument=function(e){var t=document.getElementById(this.canvas.id+"_svg");this.canvas.removeChild(t);var n=document.getElementById(this.element.id+"_htmlLayer");this.canvas.removeChild(n);var r=document.getElementById(this.element.id+"_diagramLayer_div");this.canvas.removeChild(r),e.diagramLayerDiv=null,e.diagramLayer=null},t.prototype.renderHtmlLayer=function(e){var t=Ou("div",{id:this.element.id+"_htmlLayer",class:"e-html-layer",style:"pointer-events:none;position:absolute;top:0px;left:0px;"}),n=Ou("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;"});return t.appendChild(n),e.appendChild(t),t},t.prototype.renderNativeLayer=function(e,t){if(!document.getElementById(this.element.id+"_nativeLayer_svg")){var n=this.parent.createSvg(this.element.id+"_nativeLayer_svg",this.model.width,this.model.height),r=Tu("g",{id:this.element.id+"_nativeLayer"});n.appendChild(r),t.diagramLayerDiv.appendChild(n),Du(n,{class:"e-native-layer"})}},t.prototype.addOverviewRectPanel=function(e){var t=document.getElementById(this.canvas.id+"_overviewsvg");t&&t.parentNode.removeChild(t),t=Tu("svg",{id:this.canvas.id+"_overviewsvg",class:"overviewsvg",version:"1.1",xlink:"http://www.w3.org/1999/xlink",style:"position:absolute;left:0px;top:0px; aria-label:Specifies overview",width:this.model.width,height:this.model.height}),e.canvas.appendChild(t);var n=Tu("g",{id:this.element.id+"_overviewlayer",style:"pointer-events:none"});t.appendChild(n);var r=Tu("rect",{fill:"transparent",width:"100%",height:"100%",class:"overviewbackrect",id:this.canvas.id+"overviewbackrect"});r.setAttribute("style"," pointer-events: none; "),n.appendChild(r);var i=Tu("g",{id:this.canvas.id+"overviewhandle",style:"pointer-events:all"});n.appendChild(i);var o=Tu("rect",{id:this.canvas.id+"overviewrect",fill:"transparent"});i.appendChild(o),this.renderOverviewCorner("left",i),this.renderOverviewCorner("right",i),this.renderOverviewCorner("top",i),this.renderOverviewCorner("bottom",i),this.renderOverviewCorner("topleft",i),this.renderOverviewCorner("topright",i),this.renderOverviewCorner("bottomleft",i),this.renderOverviewCorner("bottomright",i)},t.prototype.renderOverviewCorner=function(e,t){this.svg;var n,r=Tu(n="top"===e||"bottom"===e||"right"===e||"left"===e?"rect":"circle",{id:this.canvas.id+"visible"+e});t.appendChild(r);var i=Tu(n,{id:this.canvas.id+e,class:"overviewresizer",fill:"transparent"});t.appendChild(i)},t.prototype.updateOverviewRectangle=function(){var e=this.currentPoint.x-this.prevPoint.x,t=this.currentPoint.y-this.prevPoint.y,n=new nr;n.width=0,n.height=0;var r=0,i=0;switch(this.resizeDirection){case"left":n.width-=e,n.height-=e/this.viewPortRatio,r=e,i=e/this.viewPortRatio,i/=2;break;case"right":n.width+=e,n.height+=e/this.viewPortRatio,i=e/this.viewPortRatio,i/=-2;break;case"top":n.height-=t,n.width-=t*this.viewPortRatio,i=t,r=t*this.viewPortRatio,r/=2;break;case"bottom":n.height+=t,n.width+=t*this.viewPortRatio,r=t*this.viewPortRatio,r/=-2;break;case"topleft":Math.abs(t)>Math.abs(e)?e=t*this.viewPortRatio:t=e/this.viewPortRatio,n.width-=e,n.height-=t,r=e,i=t;break;case"topright":Math.abs(t)>Math.abs(e)?e=-t*this.viewPortRatio:t=-e/this.viewPortRatio,i=t,n.width+=e,n.height-=t;break;case"bottomleft":Math.abs(t)>Math.abs(e)?e=-t*this.viewPortRatio:t=-e/this.viewPortRatio,r=e,n.width-=e,n.height+=t;break;case"bottomright":Math.abs(t)>Math.abs(e)?e=t*this.viewPortRatio:t=e/this.viewPortRatio,n.width+=e,n.height+=t}this.updateHelper(r,i,n,undefined,undefined)},t.prototype.updateHelper=function(e,t,n,r,i){var o,a,s,l=this.element.getElementsByTagName("svg")[2].getElementById("helper");if(n)o=(s=l.getBBox()).x+e,a=s.y+t,r=s.width+n.width,i=s.height+n.height;else{var c,h;c=this.currentPoint.x>this.startPoint.x?this.currentPoint.x-this.prevPoint.x:this.prevPoint.x-this.currentPoint.x,h=this.currentPoint.y>this.startPoint.y?this.currentPoint.y-this.prevPoint.y:this.prevPoint.y-this.currentPoint.y;Math.abs(h)>Math.abs(c)?(c=this.viewPortRatio*h,!0,!1):(h=c/this.viewPortRatio,!0,!1),s=l.getBBox(),o=this.startPoint.x>this.currentPoint.x?s.x-c:s.x,a=this.startPoint.y>this.currentPoint.y?s.y-h:s.y,r=s.width+c,i=s.height+h}Du(this.helper,{id:this.helper.id,x:o,y:a,width:Math.max(0,r),height:Math.max(0,i)})},t.prototype.updateOverviewrect=function(e,t,n,r){ju(document.getElementById(this.canvas.id+"overviewrect"),{x:e,y:t,width:Math.max(1,n),height:Math.max(1,r)}),this.updateOverviewCorner("top",e+8,t+1,Math.max(0,n-16),2),this.updateOverviewCorner("bottom",e+8,t+r+3,Math.max(0,n-16),2),this.updateOverviewCorner("left",e-2,t+11,2,Math.max(0,r-16)),this.updateOverviewCorner("right",e+n,t+11,2,Math.max(0,r-16)),this.updateOverviewCorner("topleft",e,t+3,5,5),this.updateOverviewCorner("topright",e+n,t+3,5,5),this.updateOverviewCorner("bottomleft",e,t+r+3,5,5),this.updateOverviewCorner("bottomright",e+n,t+r+3,5,5)},t.prototype.updateOverviewCorner=function(e,t,n,r,i){var o,a,s="visible"+e;"top"===e||"bottom"===e||"right"===e||"left"===e?(o={x:t,y:n,width:r,height:i,fill:"#ED1C24"},a={x:t-2,y:n-2,width:2===r?4:r,height:2===i?4:i}):(o={cx:t,cy:n,r:4,fill:"#ED1C24"},a={cx:t,cy:n,r:6,fill:"transparent"}),ju(document.getElementById(this.canvas.id+s),o),ju(document.getElementById(this.canvas.id+e),a)},t.prototype.translateOverviewRectangle=function(){Number(this.model.width),Number(this.model.height);var e=this.currentPoint.x-this.prevPoint.x,t=this.currentPoint.y-this.prevPoint.y,n=this.element.getElementsByClassName("overviewsvg")[0].getElementById(this.canvas.id+"overviewrect").getBBox(),r=n.x+e,i=n.y+t,o=n.width,a=n.height;this.updateOverviewrect(r,i,o,a),this.updateParentView(this.parent.scroller.currentZoom,r,i,o,a,null)},t.prototype.renderOverviewRect=function(e,t,n,r){var i=Number(this.model.width),o=Number(this.model.height),a=n/i*this.contentWidth,s=r/o*this.contentHeight,l=Math.max(this.parent.scroller.viewPortWidth/a,this.parent.scroller.viewPortHeight/s);if(l>=.25&&l<=30){this.updateParentView(l,e,t,n,r,{x:0,y:0});var c=this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom,!0);if(this.helper){var h=this.element.getElementsByTagName("rect")[10].getBBox();c.x=h.x,c.y=h.y}this.updateOverviewrect(c.x,c.y,c.width,c.height)}},t.prototype.scrollOverviewRect=function(e,t,n,r){if(!this.actionName||r){var i=Number(this.model.width),o=Number(this.model.height),a=Math.min(this.contentWidth/i,this.contentHeight/o),s=new Ar,l=s.x=e/n/a,c=s.y=t/n/a,h=s.width=this.parent.scroller.viewPortWidth/n/a,d=s.height=this.parent.scroller.viewPortHeight/n/a;if(r){var u=new Ar;return u.x=l,u.y=c,u.width=h,u.height=d,u}this.updateOverviewrect(-l,-c,h,d)}return null},t.prototype.updateParentView=function(e,t,n,r,i,o){var a,s,l=Number(this.model.width),c=Number(this.model.height),h=t*(this.contentWidth/l)*e,d=n*(this.contentHeight/c)*e;this.parent.scroller.getPageBounds();1===e&&"pan"!==this.actionName||(a=-h-this.parent.scroller.horizontalOffset,s=-d-this.parent.scroller.verticalOffset),this.parent.setBlazorDiagramProps(!0),this.parent.realActions|=Vr.OverViewAction,"scale"===this.actionName||"draw"===this.actionName?this.parent.scroller.zoom(e/this.parent.scroller.currentZoom,a,s,o):v()?this.parent.scroller.zoom(1,a,s,o):this.parent.pan(a,s,o)},t.prototype.updateHtmlLayer=function(e){var t=Eu(e.element.id),n=this.parent.scroller.getPageBounds(!0),r=n.width,i=n.height,o=Math.max(r,this.parent.scroller.viewPortWidth),a=Math.max(i,this.parent.scroller.viewPortHeight/this.parent.scroller.currentZoom),s=Math.min(Number(this.model.width)/o,Number(this.model.height)/a);t.style.transform="scale("+s+") translate("+this.parent.scroller.transform.tx+"px,"+this.parent.scroller.transform.ty+"px)"},t.prototype.updateView=function(e){var t=this.parent.scroller.getPageBounds(),n=this.parent.scroller.viewPortWidth/this.parent.scroller.currentZoom,r=this.parent.scroller.viewPortHeight/this.parent.scroller.currentZoom,i=0,o=0;this.parent.scroller.currentZoom<1&&n>t.width&&r>t.height&&(i=(n-t.width)/2,o=(r-t.height)/2);var a=t.width,s=t.height,l=Number(this.model.width),c=Number(this.model.height),h=Math.max(a,this.parent.scroller.viewPortWidth),d=Math.max(s,this.parent.scroller.viewPortHeight/this.parent.scroller.currentZoom);this.contentWidth=h=Math.max(h,l/c*d),this.contentHeight=d=Math.max(d,c/l*h);var u=Math.min(l/h,c/d),p=document.getElementById(this.element.id+"_htmlLayer");p.style.webkitTransform="scale("+u+") translate("+-t.x+"px,"+-t.y+"px)",p.style.transform="scale("+u+") translate("+(-t.x+i)+"px,"+(-t.y+o)+"px)",document.getElementById(this.element.id+"_overviewlayer").setAttribute("transform","translate("+-t.x*u+","+-t.y*u+")"),this.horizontalOffset=t.x*u,this.verticalOffset=t.y*u;var f=document.getElementById(this.element.id+"_diagramLayer"),g=Pu(this.element.id),A=f.getContext("2d"),m=Number(this.model.width)/this.contentWidth,y=Number(this.model.height)/this.contentHeight;m=Math.min(m,y);var v=this.parent.scroller.transform,b=v.tx*v.scale,w=v.ty*v.scale;g.setAttribute("transform","translate("+b*m+","+w*y+"),scale("+m+")"),A.setTransform(m,0,0,m,0,0),A.fillStyle="red",this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom)},t.prototype.scrolled=function(e){if(this.event){var t=this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom,!0);this.updateOverviewrect(-t.x,-t.y,t.width,t.height)}},t.prototype.updateCursor=function(e){if(Lu(e.target,"overviewresizer"))switch(e.target.id){case this.canvas.id+"left":this.canvas.style.cursor="w-resize";break;case this.canvas.id+"right":this.canvas.style.cursor="e-resize";break;case this.canvas.id+"top":this.canvas.style.cursor="n-resize";break;case this.canvas.id+"bottom":this.canvas.style.cursor="s-resize";break;case this.canvas.id+"topleft":this.canvas.style.cursor="nw-resize";break;case this.canvas.id+"topright":this.canvas.style.cursor="ne-resize";break;case this.canvas.id+"bottomleft":this.canvas.style.cursor="sw-resize";break;case this.canvas.id+"bottomright":this.canvas.style.cursor="se-resize"}else this.canvas.style.cursor="default"},t.prototype.mouseMove=function(e){if(this.event=!1,this.updateCursor(e),this.currentPoint=this.mousePosition(e),this.actionName)switch(this.actionName){case"draw":this.inAction||this.startPoint.x===this.currentPoint.x&&this.startPoint.y===this.currentPoint.y||(this.initHelper(),this.inAction=!0),this.inAction&&this.updateHelper();break;case"scale":this.inAction||(this.initHelper(),this.inAction=!0),this.updateOverviewRectangle();break;case"pan":(this.startPoint.x!==this.currentPoint.x||this.startPoint.y===this.currentPoint.y||this.inAction)&&(this.inAction=!0,this.translateOverviewRectangle())}this.prevPoint=this.currentPoint},t.prototype.documentMouseUp=function(e){this.inAction=!1,this.actionName="",this.helper&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),this.event=!0,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="all"},t.prototype.windowResize=function(e){var t=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){var e=document.getElementById(t.element.id).getBoundingClientRect();t.model.width=e.width>0?e.width:t.model.width,t.model.height=e.height>0?e.height:t.model.height,t.renderCanvas(),t.setParent(t.sourceID)}),10),!1},t.prototype.mouseDown=function(e){if(e.target.id===this.canvas.id+"_overviewsvg"&&(this.actionName="draw"),e.target.id===this.canvas.id+"overviewrect"&&(this.actionName="pan"),Lu(e.target,"overviewresizer"))switch(this.actionName="scale",e.target.id){case this.canvas.id+"left":this.resizeDirection="left";break;case this.canvas.id+"right":this.resizeDirection="right";break;case this.canvas.id+"top":this.resizeDirection="top";break;case this.canvas.id+"bottom":this.resizeDirection="bottom";break;case this.canvas.id+"topleft":this.resizeDirection="topleft";break;case this.canvas.id+"topright":this.resizeDirection="topright";break;case this.canvas.id+"bottomleft":this.resizeDirection="bottomleft";break;case this.canvas.id+"bottomright":this.resizeDirection="bottomright"}this.startPoint=this.prevPoint=this.mousePosition(e),this.viewPortRatio=this.parent.scroller.viewPortWidth/this.parent.scroller.viewPortHeight,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="none"},t.prototype.mouseUp=function(e){if(this.currentPoint=this.mousePosition(e),this.actionName)if(this.startPoint.x!==this.currentPoint.x||this.startPoint.y!==this.currentPoint.y){if("pan"===this.actionName);else if(this.helper){var t=this.element.getElementsByTagName("rect")[10].getBBox();this.resizeDirection=this.resizeDirection||"";var n=t.x,r=t.y,i=t.width,o=t.height;"topleft"===this.resizeDirection||"topright"===this.resizeDirection||"bottomleft"===this.resizeDirection||this.resizeDirection;this.renderOverviewRect(n,r,i,o)}}else if(e.target.id===this.canvas.id+"_overviewsvg"||"helper"===e.target.id){i=(t=this.element.getElementsByTagName("svg")[2].getElementById(this.canvas.id+"overviewrect").getBBox()).width,o=t.height;this.inAction=!0,this.actionName="pan",this.renderOverviewRect(this.currentPoint.x-i/2,this.currentPoint.y-o/2,i,o),this.inAction=!1}this.helper&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),this.actionName="",this.startPoint=null,this.currentPoint=null,this.prevPoint=null,this.helper=null,this.viewPortRatio=1,this.resizeDirection="",this.inAction=!1,this.event=!0,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="all"},t.prototype.initHelper=function(){var e=this.element.getElementsByTagName("svg")[2],t=this.startPoint.x,n=this.startPoint.y,r=1,i=1;if("scale"===this.actionName){var o=e.getElementById(this.canvas.id+"overviewrect").getBBox();t=o.x,n=o.y,r=o.width,i=o.height}var a=Tu("rect",{id:"helper",x:t,y:n,width:r,height:i,fill:"transparent",stroke:"gray","stroke-dasharray":"2 2","shape-rendering":"crispEdges"});e.getElementById(this.element.id+"_overviewlayer").appendChild(a),this.helper=a},t.prototype.mousePosition=function(e){var t,n,r;if(-1!==e.type.indexOf("touch")){var i=(t=e).changedTouches[0].clientX,o=t.changedTouches[0].clientY;n=i-this.element.offsetLeft,r=o-this.element.offsetTop}else n=e.clientX,r=e.clientY;var a=this.element.getBoundingClientRect();return n-=a.left,r-=a.top,{x:n+this.horizontalOffset,y:r+this.verticalOffset}},t.prototype.destroy=function(){if(this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),document.getElementById(this.element.id)){this.element.classList.remove("e-overview");var t=document.getElementById(this.element.id+"_canvas");t&&this.element.removeChild(t)}this.parent.views.splice(this.parent.views.indexOf(this.element.id),1),this.diagramLayerDiv=null,this.canvas=null,this.parent=null},t.prototype.getModuleName=function(){return"Overview"},fm([_t("100%")],t.prototype,"width",void 0),fm([_t("100%")],t.prototype,"height",void 0),fm([_t("")],t.prototype,"sourceID",void 0),fm([Qt()],t.prototype,"created",void 0),t}(dn),Am=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mm=function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!0,n.directivekeys={layers:"layer",customCursors:"customCursor",connectors:{connector:{connectorFixedUserHandles:"connectorFixedUserHandle",connectorAnnotations:"connectorAnnotation"}},nodes:{node:{nodeFixedUserHandles:"nodeFixedUserHandle",nodeAnnotations:"nodeAnnotation",ports:"port"}}},n.immediateRender=!1,n.portals=[],n}return Am(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return r.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(Rf);Hn(mm,[Fn,r.Component]);var ym=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vm=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ym(t,e),t.moduleName="palette"}(Qn),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ym(t,e),t.propertyName="palettes",t.moduleName="palettes"}(Qn),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());Hn(function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!0,n.directivekeys={palettes:"palette"},n.immediateRender=!0,n.portals=[],n}return vm(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return r.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(um),[Fn,r.Component]);var bm=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Hn(function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!1,n.immediateRender=!0,n.portals=[],n}return bm(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return r.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(gm),[Fn,r.Component])},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(0),a=(n(8),n(5)),s=n(7),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,h=e.square,d=void 0!==h&&h,u=e.elevation,p=void 0===u?1:u,f=e.variant,g=void 0===f?"elevation":f,A=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(p)],!d&&n.rounded),ref:t},A))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},function(e,t,n){"use strict";var r=n(2),i=n(91),o=n(4),a=n(0),s=(n(8),n(293)),l=n(29),c=n(48),h=n(51),d=n(22),u={entering:{opacity:1},entered:{opacity:1}},p={enter:l.b.enteringScreen,exit:l.b.leavingScreen},f=a.forwardRef((function(e,t){var n=e.children,l=e.disableStrictModeCompat,f=void 0!==l&&l,g=e.in,A=e.onEnter,m=e.onEntered,y=e.onEntering,v=e.onExit,b=e.onExited,w=e.onExiting,x=e.style,C=e.TransitionComponent,S=void 0===C?s.a:C,B=e.timeout,P=void 0===B?p:B,E=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),O=Object(c.a)(),T=O.unstable_strictMode&&!f,I=a.useRef(null),L=Object(d.a)(n.ref,t),k=Object(d.a)(T?I:void 0,L),N=function(e){return function(t,n){if(e){var r=T?[I.current,t]:[t,n],o=Object(i.a)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},M=N(y),D=N((function(e,t){Object(h.b)(e);var n=Object(h.a)({style:x,timeout:P},{mode:"enter"});e.style.webkitTransition=O.transitions.create("opacity",n),e.style.transition=O.transitions.create("opacity",n),A&&A(e,t)})),R=N(m),j=N(w),_=N((function(e){var t=Object(h.a)({style:x,timeout:P},{mode:"exit"});e.style.webkitTransition=O.transitions.create("opacity",t),e.style.transition=O.transitions.create("opacity",t),v&&v(e)})),F=N(b);return a.createElement(S,Object(r.a)({appear:!0,in:g,nodeRef:T?I:void 0,onEnter:D,onEntered:R,onEntering:M,onExit:_,onExited:F,onExiting:j,timeout:P},E),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||g?void 0:"hidden"},u[e],x,n.props.style),ref:k},t))}))}));t.a=f},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],h=!1,d=-1;function u(){h&&l&&(h=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!h){var e=s(u);h=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||h||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(L){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof A?t:A,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=B(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=h(e,t,n);if("normal"===l.type){if(r=n.done?f:u,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d="suspendedStart",u="suspendedYield",p="executing",f="completed",g={};function A(){}function m(){}function y(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(v=w);var x=y.prototype=A.prototype=Object.create(v);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var l=h(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function B(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=h(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(96),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),h=d("react.lazy")}var u="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function A(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=A.prototype;var v=y.prototype=new m;v.constructor=y,r(v,A.prototype),v.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var B=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+P(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(B,"$&/")+"/"),E(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(B,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var h=r+P(s=e[c],c);l+=E(s,t,n,h,a)}else if("function"===typeof(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e)))for(e=h.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,n,h=r+P(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function L(){var e=I.current;if(null===e)throw Error(p(321));return e}var k={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=A,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)w.call(t,h)&&!x.hasOwnProperty(h)&&(o[h]=void 0===t[h]&&void 0!==c?c[h]:t[h])}var h=arguments.length-2;if(1===h)o.children=n;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(96),o=n(174);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},g={};function A(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(g,e)||!p.call(f,e)&&(u.test(e)?g[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,C=60106,S=60107,B=60108,P=60114,E=60109,O=60110,T=60112,I=60113,L=60120,k=60115,N=60116,M=60121,D=60128,R=60129,j=60130,_=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),C=F("react.portal"),S=F("react.fragment"),B=F("react.strict_mode"),P=F("react.profiler"),E=F("react.provider"),O=F("react.context"),T=F("react.forward_ref"),I=F("react.suspense"),L=F("react.suspense_list"),k=F("react.memo"),N=F("react.lazy"),M=F("react.block"),F("react.scope"),D=F("react.opaque.id"),R=F("react.debug_trace_mode"),j=F("react.offscreen"),_=F("react.legacy_hidden")}var H,U="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function Q(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function X(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case P:return"Profiler";case B:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case k:return Y(e.type);case M:return Y(e._render);case N:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function he(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",ue="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,Ae,me=(Ae=function(e,t){if(e.namespaceURI!==ue||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ae(e,t)}))}:Ae);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Oe=null,Te=null;function Ie(e){if(e=ei(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),Ee(e.stateNode,e.type,t))}}function Le(e){Oe?Te?Te.push(e):Te=[e]:Oe=e}function ke(){if(Oe){var e=Oe,t=Te;if(Te=Oe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Re=Ne,je=!1,_e=!1;function Fe(){null===Oe&&null===Te||(De(),ke())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(Ae){Ue=!1}function Qe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var We=!1,Ve=null,Xe=!1,Ye=null,Ke={onError:function(e){We=!0,Ve=e}};function Ge(e,t,n,r,i,o,a,s,l){We=!1,Ve=null,Qe.apply(Ke,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(qe(e)!==e)throw Error(a(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ct=null,ht=new Map,dt=new Map,ut=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=$r(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ht.forEach(vt),dt.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),ht.forEach(t),dt.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)mt(n),null===n.blockedOn&&ut.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},Bt={},Pt={};function Et(e){if(Bt[e])return Bt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Bt[e]=n[t];return e}d&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ot=Et("animationend"),Tt=Et("animationiteration"),It=Et("animationstart"),Lt=Et("transitionend"),kt=new Map,Nt=new Map,Mt=["abort","abort",Ot,"animationEnd",Tt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),kt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Rt=8;function jt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function _t(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=jt(l),i=Rt):0!==(s&=o)&&(r=jt(s),i=Rt)}else 0!==(o=n&~a)?(r=jt(o),i=Rt):0!==s&&(r=jt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ht(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Ht(10,t):e;case 10:return 0===(e=Ut(192&~t))?Ht(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Xt|0)|0},Vt=Math.log,Xt=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function qt(e,t,n,r){je||De();var i=Zt,o=je;je=!0;try{Me(i,e,t,n,r)}finally{(je=o)||Fe()}}function Jt(e,t,n,r){Kt(Yt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ft(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=At(st,e,t,n,r,i),!0;case"dragenter":return lt=At(lt,e,t,n,r,i),!0;case"mouseover":return ct=At(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ht.set(o,At(ht.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,At(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}kr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Pe(r);if(null!==(i=$r(i))){var o=qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return kr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,hn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(un),fn=i({},un,{view:0,detail:0}),gn=ln(fn),An=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,hn=e.screenY-dn.screenY):hn=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:hn}}),mn=ln(An),yn=ln(i({},An,{dataTransfer:0})),vn=ln(i({},fn,{relatedTarget:0})),bn=ln(i({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=ln(i({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=ln(i({},un,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function En(){return Pn}var On=ln(i({},fn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=ln(i({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=ln(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Ln=ln(i({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=ln(i({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Rn=d&&"TextEvent"in window&&!Dn,jn=d&&(!Mn||Dn&&8<Dn&&11>=Dn),_n=String.fromCharCode(32),Fn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Le(r),0<(t=Mr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Kn(e){Pr(e,0)}function Gn(e){if(J(ti(e)))return e}function qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Zn;if(d){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Yn=Xn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];if(Vn(t,Yn,e,Pe(e)),e=Kn,je)e(t);else{je=!0;try{Ne(e,t)}finally{je=!1,Fe()}}}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,Ar=null,mr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==Ar||Ar!==Z(r)||("selectionStart"in(r=Ar)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Mr(mr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Mt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Nt.set(wr[xr],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ge.apply(this,arguments),We){if(!We)throw Error(a(198));var h=Ve;We=!1,Ve=null,Xe||(Xe=!0,Ye=h)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=l}}}if(Xe)throw e=Ye,Xe=!1,Ye=null,e}function Er(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Sr.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Lr(o,e,i,t),a.add(s))}function Lr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=qt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=$r(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(_e)return e(t,n);_e=!0;try{Re(e,t,n)}finally{_e=!1,Fe()}}((function(){var r=o,i=Pe(n),a=[];e:{var s=kt.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ot:case Tt:case It:l=bn;break;case Lt:l=Ln;break;case"scroll":l=gn;break;case"wheel":l=kn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var h=0!==(4&t),d=!h&&"scroll"===e,u=h?null!==s?s+"Capture":null:s;h=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==u&&(null!=(g=He(f,u))&&h.push(Nr(f,g,p)))),d)break;f=f.return}0<h.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!$r(c)&&!c[Jr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?$r(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(h=mn,g="onMouseLeave",u="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(h=Tn,g="onPointerLeave",u="onPointerEnter",f="pointer"),d=null==l?s:ti(l),p=null==c?s:ti(c),(s=new h(g,f+"leave",l,n,i)).target=d,s.relatedTarget=p,g=null,$r(i)===r&&((h=new h(u,f+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,l&&c)e:{for(u=c,f=0,p=h=l;p;p=Dr(p))f++;for(p=0,g=u;g;g=Dr(g))p++;for(;0<f-p;)h=Dr(h),f--;for(;0<p-f;)u=Dr(u),p--;for(;f--;){if(h===u||null!==u&&h===u.alternate)break e;h=Dr(h),u=Dr(u)}h=null}else h=null;null!==l&&Rr(a,s,l,h,!1),null!==c&&null!==d&&Rr(a,d,c,h,!0)}if("select"===(l=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var A=qn;else if(Wn(s))if(Jn)A=ar;else{A=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(A=or);switch(A&&(A=A(e,r))?Vn(a,A,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ti(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(Ar=m,mr=r,yr=null);break;case"focusout":yr=mr=Ar=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zn?Hn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==v?"onCompositionEnd"===v&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(m=Mr(r,v)).length&&(v=new xn(v,e,null,n,i),a.push({event:v,listeners:m}),y?v.data=y:null!==(y=Un(n))&&(v.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,_n);case"textInput":return(e=t.data)===_n&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Hn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Pr(a,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=He(e,n))&&r.unshift(Nr(e,o,i)),null!=(o=He(e,t))&&r.push(Nr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=He(n,o))&&a.unshift(Nr(n,l,s)):i||null!=(l=He(n,o))&&a.push(Nr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var _r=null,Fr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Qr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Vr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Kr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Kr,qr="__reactProps$"+Kr,Jr="__reactContainer$"+Kr,Zr="__reactEvents$"+Kr;function $r(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Gr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Gr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[qr]||null}function ri(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function si(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function li(e,t){oi++,ii[oi]=e.current,e.current=t}var ci={},hi=ai(ci),di=ai(!1),ui=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){si(di),si(hi)}function Ai(e,t,n){if(hi.current!==ci)throw Error(a(168));li(hi,t),li(di,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Y(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,ui=hi.current,li(hi,e),li(di,di.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,ui),r.__reactInternalMemoizedMergedChildContext=e,si(di),si(hi),li(hi,e)):si(di),li(di,n)}var bi=null,wi=null,xi=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Bi=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ei=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Mi={},Di=void 0!==Pi?Pi:function(){},Ri=null,ji=null,_i=!1,Fi=Ei(),Hi=1e4>Fi?Ei:function(){return Ei()-Fi};function Ui(){switch(Oi()){case Ti:return 99;case Ii:return 98;case Li:return 97;case ki:return 96;case Ni:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ti;case 98:return Ii;case 97:return Li;case 96:return ki;case 95:return Ni;default:throw Error(a(332))}}function Qi(e,t){return e=zi(e),xi(e,t)}function Wi(e,t,n){return e=zi(e),Ci(e,t,n)}function Vi(){if(null!==ji){var e=ji;ji=null,Si(e)}Xi()}function Xi(){if(!_i&&null!==Ri){_i=!0;var e=0;try{var t=Ri;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),Ci(Ti,Vi),n}finally{_i=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=ai(null),qi=null,Ji=null,Zi=null;function $i(){Zi=Ji=qi=null}function eo(e){var t=Gi.current;si(Gi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){qi=e,Zi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===qi)throw Error(a(308));Ji=t,qi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,h=c.next;c.next=null,null===s?a=h:s.next=h,s=c;var d=e.alternate;if(null!==d){var u=(d=d.updateQueue).lastBaseUpdate;u!==s&&(null===u?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=c)}}if(null!==a){for(u=o.baseState,s=0,d=h=c=null;;){l=a.lane;var p=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(l=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,l);break e}u=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=g.payload)?f.call(p,u,l):f)||void 0===l)break e;u=i({},u,l);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(h=d=p,c=u):d=d.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=u),o.baseState=c,o.firstBaseUpdate=h,o.lastBaseUpdate=d,_s|=s,e.lanes=s,e.memoizedState=u}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var po=(new r.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=so(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=so(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=hl(e),i=so(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),dl(e,r,n)}};function Ao(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function mo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=fi(t)?ui:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=fi(t)?ui:hi.current,i.context=pi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Co(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case C:return(t=Kl(t,e.mode,n)).return=e,t}if(bo(t)||z(t))return(t=Vl(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case C:return n.key===i?h(e,t,n,r):null}if(bo(n)||z(n))return null!==i?null:d(e,t,n,r,null);xo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case C:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function g(i,a,s,l){for(var c=null,h=null,d=a,g=a=0,A=null;null!==d&&g<s.length;g++){d.index>g?(A=d,d=null):A=d.sibling;var m=p(i,d,s[g],l);if(null===m){null===d&&(d=A);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,g),null===h?c=m:h.sibling=m,h=m,d=A}if(g===s.length)return n(i,d),c;if(null===d){for(;g<s.length;g++)null!==(d=u(i,s[g],l))&&(a=o(d,a,g),null===h?c=d:h.sibling=d,h=d);return c}for(d=r(i,d);g<s.length;g++)null!==(A=f(d,i,g,s[g],l))&&(e&&null!==A.alternate&&d.delete(null===A.key?g:A.key),a=o(A,a,g),null===h?c=A:h.sibling=A,h=A);return e&&d.forEach((function(e){return t(i,e)})),c}function A(i,s,l,c){var h=z(l);if("function"!==typeof h)throw Error(a(150));if(null==(l=h.call(l)))throw Error(a(151));for(var d=h=null,g=s,A=s=0,m=null,y=l.next();null!==g&&!y.done;A++,y=l.next()){g.index>A?(m=g,g=null):m=g.sibling;var v=p(i,g,y.value,c);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(i,g),s=o(v,s,A),null===d?h=v:d.sibling=v,d=v,g=m}if(y.done)return n(i,g),h;if(null===g){for(;!y.done;A++,y=l.next())null!==(y=u(i,y.value,c))&&(s=o(y,s,A),null===d?h=y:d.sibling=y,d=y);return h}for(g=r(i,g);!y.done;A++,y=l.next())null!==(y=f(g,i,A,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?A:y.key),s=o(y,s,A),null===d?h=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),h}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case x:e:{for(h=o.key,c=r;null!==c;){if(c.key===h){switch(c.tag){case 7:if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Vl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Wl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case C:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Kl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yl(o,e.mode,l)).return=e,e=r),s(e);if(bo(o))return g(e,r,o,l);if(z(o))return A(e,r,o,l);if(h&&xo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,r)}}var So=Co(!0),Bo=Co(!1),Po={},Eo=ai(Po),Oo=ai(Po),To=ai(Po);function Io(e){if(e===Po)throw Error(a(174));return e}function Lo(e,t){switch(li(To,t),li(Oo,e),li(Eo,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Eo),li(Eo,t)}function ko(){si(Eo),si(Oo),si(To)}function No(e){Io(To.current);var t=Io(Eo.current),n=fe(t,e.type);t!==n&&(li(Oo,e),li(Eo,n))}function Mo(e){Oo.current===e&&(si(Eo),si(Oo))}var Do=ai(0);function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,_o=null,Fo=!1;function Ho(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zo(e){if(Fo){var t=_o;if(t){var n=t;if(!Uo(e,t)){if(!(t=Vr(n.nextSibling))||!Uo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(jo=e);Ho(jo,n)}jo=e,_o=Vr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,jo=e}}function Qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Wo(e){if(e!==jo)return!1;if(!Fo)return Qo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=_o;t;)Ho(e,t),t=Vr(t.nextSibling);if(Qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_o=Vr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_o=null}}else _o=jo?Vr(e.stateNode.nextSibling):null;return!0}function Vo(){_o=jo=null,Fo=!1}var Xo=[];function Yo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var Ko=w.ReactCurrentDispatcher,Go=w.ReactCurrentBatchConfig,qo=0,Jo=null,Zo=null,$o=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if(qo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ia:La,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,$o=Zo=null,t.updateQueue=null,Ko.current=ka,e=n(r,i)}while(ta)}if(Ko.current=Ta,t=null!==Zo&&null!==Zo.next,qo=0,$o=Zo=Jo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Jo.memoizedState=$o=e:$o=$o.next=e,$o}function aa(){if(null===Zo){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===$o?Jo.memoizedState:$o.next;if(null!==t)$o=t,Zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===$o?Jo.memoizedState=$o=e:$o=$o.next=e}return $o}function sa(e,t){return"function"===typeof t?t(e):t}function la(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var h=c.lane;if((qo&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Jo.lanes|=h,_s|=h}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,sr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ca(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(qo&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(a(350))}function da(e,t,n,r){var i=Is;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Ko.current,c=l.useState((function(){return ha(i,t,n)})),h=c[1],d=c[0];c=$o;var u=e.memoizedState,p=u.refs,f=p.getSnapshot,g=u.source;u=u.subscribe;var A=Jo;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=h;var e=o(t._source);if(!sr(s,e)){e=n(t._source),sr(d,e)||(h(e),e=hl(A),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Wt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=hl(A);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),sr(f,n)&&sr(g,t)&&sr(u,r)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:d}).dispatch=h=Oa.bind(null,Jo,e),c.queue=e,c.baseQueue=null,d=ha(i,t,n),c.memoizedState=c.baseState=d),d}function ua(e,t,n){return da(aa(),e,t,n)}function pa(e){var t=oa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Oa.bind(null,Jo,e),[t.memoizedState,e]}function fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},oa().memoizedState=e}function Aa(){return aa().memoizedState}function ma(e,t,n,r){var i=oa();Jo.flags|=e,i.memoizedState=fa(1|t,n,void 0,void 0===r?null:r)}function ya(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void fa(t,n,o,r)}Jo.flags|=e,i.memoizedState=fa(1|t,n,o,r)}function va(e,t){return ma(516,4,e,t)}function ba(e,t){return ya(516,4,e,t)}function wa(e,t){return ya(4,2,e,t)}function xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,2,xa.bind(null,t,e),n)}function Sa(){}function Ba(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ea(e,t){var n=Ui();Qi(98>n?98:n,(function(){e(!0)})),Qi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{e(!1),t()}finally{Go.transition=n}}))}function Oa(e,t,n){var r=cl(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,sr(l,s))return}catch(c){}dl(e,i,r)}}var Ta={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ia={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Jo,e),[r.memoizedState,e]},useRef:ga,useState:pa,useDebugValue:Sa,useDeferredValue:function(e){var t=pa(e),n=t[0],r=t[1];return va((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=pa(!1),t=e[0];return ga(e=Ea.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=pa(t)[1];return 0===(2&Jo.mode)&&(Jo.flags|=516,fa(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return pa(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},La={readContext:ro,useCallback:Ba,useContext:ro,useEffect:ba,useImperativeHandle:Ca,useLayoutEffect:wa,useMemo:Pa,useReducer:la,useRef:Aa,useState:function(){return la(sa)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(sa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=la(sa)[0];return[Aa().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},ka={readContext:ro,useCallback:Ba,useContext:ro,useEffect:ba,useImperativeHandle:Ca,useLayoutEffect:wa,useMemo:Pa,useReducer:ca,useRef:Aa,useState:function(){return ca(sa)},useDebugValue:Sa,useDeferredValue:function(e){var t=ca(sa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ca(sa)[0];return[Aa().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Na=w.ReactCurrentOwner,Ma=!1;function Da(e,t,n,r){t.child=null===e?Bo(t,null,n,r):So(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_a(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Ql(a,r)).ref=t.ref,e.return=t,t.child=e)}function _a(e,t,n,r,i,o){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,ns(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return Ua(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},vl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},vl(t,e),null;t.memoizedState={baseLanes:0},vl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,vl(t,r);return Da(e,t,i,n),t.child}function Ha(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ua(e,t,n,r,i){var o=fi(n)?ui:hi.current;return o=pi(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function za(e,t,n,r,i){if(fi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(t,c=fi(n)?ui:hi.current);var h=n.getDerivedStateFromProps,d="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&yo(t,a,r,c),io=!1;var u=t.memoizedState;a.state=u,ho(t,r,a,i),l=t.memoizedState,s!==r||u!==l||di.current||io?("function"===typeof h&&(fo(t,n,h,r),l=t.memoizedState),(s=io||Ao(t,n,s,r,u,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ki(t.type,s),a.props=c,d=t.pendingProps,u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=fi(n)?ui:hi.current);var p=n.getDerivedStateFromProps;(h="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||u!==l)&&yo(t,a,r,l),io=!1,u=t.memoizedState,a.state=u,ho(t,r,a,i);var f=t.memoizedState;s!==d||u!==f||di.current||io?("function"===typeof p&&(fo(t,n,p,r),f=t.memoizedState),(c=io||Ao(t,n,c,r,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=256),r=!1)}return Qa(e,t,n,r,o,i)}function Qa(e,t,n,r,i,o){Ha(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&vi(t,n,!1),ns(e,t,o);r=t.stateNode,Na.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Lo(e,t.containerInfo)}var Va,Xa,Ya,Ka={dehydrated:null,retryLane:0};function Ga(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Do,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"===typeof i.unstable_expectedLoadTime?(e=qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Za(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=Ja(e,t,i.children,n),t.memoizedState=null,n))}function qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xl(t,i,0,null),n=Vl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ja(e,t,n,r){var i=e.child;return e=i.sibling,n=Ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Za(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ql(a,s),null!==e?r=Ql(e,r):(r=Vl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Do,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ro(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(t.type)&&gi(),null;case 3:return ko(),si(di),si(hi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Io(To.current);if(n=t.type,null!==e&&null!=t.stateNode)Xa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Io(Eo.current),Wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[qr]=s,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)Er(Cr[e],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":ee(r,s),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Er("invalid",r);break;case"textarea":le(r,s),Er("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Er("scroll",r));switch(n){case"input":q(r),re(r,s,!0);break;case"textarea":q(r),he(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Gr]=t,e[qr]=r,Va(e,t),t.stateNode=e,c=Be(n,r),n){case"dialog":Er("cancel",e),Er("close",e),o=r;break;case"iframe":case"object":case"embed":Er("load",e),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Er(Cr[o],e);o=r;break;case"source":Er("error",e),o=r;break;case"img":case"image":case"link":Er("error",e),Er("load",e),o=r;break;case"details":Er("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Er("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Er("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Er("invalid",e);break;default:o=r}Se(n,o);var h=o;for(s in h)if(h.hasOwnProperty(s)){var d=h[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Er("scroll",e):null!=d&&b(e,s,d,c))}switch(n){case"input":q(e),re(e,r,!1);break;case"textarea":q(e),he(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Io(To.current),Io(Eo.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return si(Do),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Is||0===(134217727&_s)&&0===(134217727&Fs)||gl(Is,ks))),(r||n)&&(t.flags|=4),null);case 4:return ko(),null===e&&Tr(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return fi(t.type)&&gi(),null;case 19:if(si(Do),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ro(e))){for(t.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>Qs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ro(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>Qs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Do.current,li(Do,s?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:fi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ko(),si(di),si(hi),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return si(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Do),null;case 4:return ko(),null;case 10:return eo(e),null;case 23:case 24:return bl(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Io(Eo.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var h=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&h!==c&&(null!=h||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(d,n)),n=h;else"dangerouslySetInnerHTML"===d?(h=h?h.__html:void 0,c=c?c.__html:void 0,null!=h&&c!==h&&(s=s||[]).push(d,h)):"children"===d?"string"!==typeof h&&"number"!==typeof h||(s=s||[]).push(d,""+h):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=h&&"onScroll"===d&&Er("scroll",e),s||c===h||(s=[])):"object"===typeof h&&null!==h&&h.$$typeof===D?h.toString():(s=s||[]).push(d,h))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Ks=r),ss(0,t)},n}function hs(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function us(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){jl(e,n)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ml(n,e),Nl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function As(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ml(t,n);else{r=t;try{i()}catch(o){jl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(us(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){jl(t,o)}break;case 5:us(t);break;case 4:xs(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):ws(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(As(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(As(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Be(e,i),t=Be(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?me(n,l):"children"===s?ye(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zs=Hi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Fl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Bs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Es=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,Ts=0,Is=null,Ls=null,ks=0,Ns=0,Ms=ai(0),Ds=0,Rs=null,js=0,_s=0,Fs=0,Hs=0,Us=null,zs=0,Qs=1/0;function Ws(){Qs=Hi()+500}var Vs,Xs=null,Ys=!1,Ks=null,Gs=null,qs=!1,Js=null,Zs=90,$s=[],el=[],tl=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function cl(){return 0!==(48&Ts)?Hi():-1!==il?il:il=Hi()}function hl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===ol&&(ol=js),0!==Yi.transition){0!==al&&(al=null!==Us?Us.pendingLanes:0),e=ol;var t=4186112&~al;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&Ts)&&98===e?e=Ht(12,ol):e=Ht(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ol),e}function dl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(e=ul(e,t)))return null;Qt(e,t,n),e===Is&&(Fs|=t,4===Ds&&gl(e,ks));var r=Ui();1===t?0!==(8&Ts)&&0===(48&Ts)?Al(e):(pl(e,n),0===Ts&&(Ws(),Vi())):(0===(4&Ts)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),pl(e,n)),Us=e}function ul(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Wt(s),c=1<<l,h=o[l];if(-1===h){if(0===(c&r)||0!==(c&i)){h=t,jt(c);var d=Rt;o[l]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=t&&(e.expiredLanes|=c);s&=~c}if(r=_t(e,e===Is?ks:0),t=Rt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=Al.bind(null,e),null===Ri?(Ri=[n],ji=Ci(Ti,Xi)):Ri.push(n),n=Mi):14===t?n=Wi(99,Al.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),fl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fl(e){if(il=-1,al=ol=0,0!==(48&Ts))throw Error(a(327));var t=e.callbackNode;if(kl()&&e.callbackNode!==t)return null;var n=_t(e,e===Is?ks:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=Cl();for(Is===e&&ks===r||(Ws(),wl(e,r));;)try{Pl();break}catch(l){xl(e,l)}if($i(),Es.current=o,Ts=i,null!==Ls?r=0:(Is=null,ks=0,r=Ds),0!==(js&Fs))wl(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ft(e))&&(r=Sl(e,n))),1===r)throw t=Rs,wl(e,0),gl(e,n),pl(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tl(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=zs+500-Hi())){if(0!==_t(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Tl.bind(null,e),r);break}Tl(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=zr(Tl.bind(null,e),n);break}Tl(e);break;case 5:Tl(e);break;default:throw Error(a(329))}}return pl(e,Hi()),e.callbackNode===t?fl.bind(null,e):null}function gl(e,t){for(t&=~Hs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Al(e){if(0!==(48&Ts))throw Error(a(327));if(kl(),e===Is&&0!==(e.expiredLanes&ks)){var t=ks,n=Sl(e,t);0!==(js&Fs)&&(n=Sl(e,t=_t(e,t)))}else n=Sl(e,t=_t(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ft(e))&&(n=Sl(e,t))),1===n)throw n=Rs,wl(e,0),gl(e,t),pl(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),pl(e,Hi()),null}function ml(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ws(),Vi())}}function yl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Ws(),Vi())}}function vl(e,t){li(Ms,Ns),Ns|=t,js|=t}function bl(){Ns=Ms.current,si(Ms)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Qr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:ko(),si(di),si(hi),Yo();break;case 5:Mo(r);break;case 4:ko();break;case 13:case 19:si(Do);break;case 10:eo(r);break;case 23:case 24:bl()}n=n.return}Is=e,Ls=Ql(e.current,null),ks=Ns=js=t,Ds=0,Rs=null,Hs=Fs=_s=0}function xl(e,t){for(;;){var n=Ls;try{if($i(),Ko.current=Ta,ea){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(qo=0,$o=Zo=Jo=null,ta=!1,Os.current=null,null===n||null===n.return){Ds=1,Rs=t,Ls=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=ks,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Do.current),u=a;do{var p;if(p=13===u.tag){var f=u.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var g=u.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(p){var A=u.updateQueue;if(null===A){var m=new Set;m.add(c),u.updateQueue=m}else A.add(c);if(0===(2&u.mode)){if(u.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=so(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new ls,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var b=_l.bind(null,o,c,s);c.then(b,b)}u.flags|=4096,u.lanes=t;break e}u=u.return}while(null!==u);l=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),l=as(l,s),u=a;do{switch(u.tag){case 3:o=l,u.flags|=4096,t&=-t,u.lanes|=t,co(u,cs(0,o,t));break e;case 1:o=l;var w=u.type,x=u.stateNode;if(0===(64&u.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gs||!Gs.has(x)))){u.flags|=4096,t&=-t,u.lanes|=t,co(u,hs(u,o,t));break e}}u=u.return}while(null!==u)}Ol(n)}catch(C){t=C,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function Cl(){var e=Es.current;return Es.current=Ta,null===e?Ta:e}function Sl(e,t){var n=Ts;Ts|=16;var r=Cl();for(Is===e&&ks===t||wl(e,t);;)try{Bl();break}catch(i){xl(e,i)}if($i(),Ts=n,Es.current=r,null!==Ls)throw Error(a(261));return Is=null,ks=0,Ds}function Bl(){for(;null!==Ls;)El(Ls)}function Pl(){for(;null!==Ls&&!Bi();)El(Ls)}function El(e){var t=Vs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Ol(e):Ls=t,Os.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ns)))return void(Ls=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ls=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Ds&&(Ds=5)}function Tl(e){var t=Ui();return Qi(99,Il.bind(null,e,t)),null}function Il(e,t){do{kl()}while(null!==Js);if(0!==(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Wt(o),h=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~h}if(null!==tl&&0===(24&r)&&tl.has(e)&&tl.delete(e),e===Is&&(Ls=Is=null,ks=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Os.current=null,_r=Gt,fr(s=pr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&0!==h.rangeCount){l=h.anchorNode,o=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{l.nodeType,c.nodeType}catch(P){l=null;break e}var d=0,u=-1,p=-1,f=0,g=0,A=s,m=null;t:for(;;){for(var y;A!==l||0!==o&&3!==A.nodeType||(u=d+o),A!==c||0!==h&&3!==A.nodeType||(p=d+h),3===A.nodeType&&(d+=A.nodeValue.length),null!==(y=A.firstChild);)m=A,A=y;for(;;){if(A===s)break t;if(m===l&&++f===o&&(u=d),m===c&&++g===h&&(p=d),null!==(y=A.nextSibling))break;m=(A=m).parentNode}A=y}l=-1===u||-1===p?null:{start:u,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:s,selectionRange:l},Gt=!1,sl=null,ll=!1,Xs=r;do{try{Ll()}catch(P){if(null===Xs)throw Error(a(330));jl(Xs,P),Xs=Xs.nextEffect}}while(null!==Xs);sl=null,Xs=r;do{try{for(s=e;null!==Xs;){var v=Xs.flags;if(16&v&&ye(Xs.stateNode,""),128&v){var b=Xs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&v){case 2:vs(Xs),Xs.flags&=-3;break;case 6:vs(Xs),Xs.flags&=-3,Cs(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Cs(Xs.alternate,Xs);break;case 4:Cs(Xs.alternate,Xs);break;case 8:xs(s,l=Xs);var x=l.alternate;ms(l),null!==x&&ms(x)}Xs=Xs.nextEffect}}catch(P){if(null===Xs)throw Error(a(330));jl(Xs,P),Xs=Xs.nextEffect}}while(null!==Xs);if(w=Fr,b=pr(),v=w.focusedElem,s=w.selectionRange,b!==v&&v&&v.ownerDocument&&ur(v.ownerDocument.documentElement,v)){null!==s&&fr(v)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(w,v.value.length)):(w=(b=v.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=v.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!w.extend&&x>s&&(l=s,s=x,x=l),l=dr(v,x),o=dr(v,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=v;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof v.focus&&v.focus(),v=0;v<b.length;v++)(w=b[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!_r,Fr=_r=null,e.current=n,Xs=r;do{try{for(v=e;null!==Xs;){var C=Xs.flags;if(36&C&&fs(v,Xs.alternate,Xs),128&C){b=void 0;var S=Xs.ref;if(null!==S){var B=Xs.stateNode;switch(Xs.tag){case 5:b=B;break;default:b=B}"function"===typeof S?S(b):S.current=b}}Xs=Xs.nextEffect}}catch(P){if(null===Xs)throw Error(a(330));jl(Xs,P),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Di(),Ts=i}else e.current=n;if(qs)qs=!1,Js=e,Zs=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((C=Xs).sibling=null,C.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(P){}if(pl(e,Hi()),Ys)throw Ys=!1,e=Ks,Ks=null,e;return 0!==(8&Ts)||Vi(),null}function Ll(){for(;null!==Xs;){var e=Xs.alternate;ll||null===sl||(0!==(8&Xs.flags)?et(Xs,sl)&&(ll=!0):13===Xs.tag&&Bs(e,Xs)&&et(Xs,sl)&&(ll=!0));var t=Xs.flags;0!==(256&t)&&ps(e,Xs),0===(512&t)||qs||(qs=!0,Wi(97,(function(){return kl(),null}))),Xs=Xs.nextEffect}}function kl(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Qi(e,Dl)}return!1}function Nl(e,t){$s.push(t,e),qs||(qs=!0,Wi(97,(function(){return kl(),null})))}function Ml(e,t){el.push(t,e),qs||(qs=!0,Wi(97,(function(){return kl(),null})))}function Dl(){if(null===Js)return!1;var e=Js;if(Js=null,0!==(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));jl(o,c)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(a(330));jl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,Vi(),!0}function Rl(e,t,n){lo(e,t=cs(0,t=as(n,t),1)),t=cl(),null!==(e=ul(e,1))&&(Qt(e,1,t),pl(e,t))}function jl(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=hs(n,e=as(t,e),1);if(lo(n,i),i=cl(),null!==(n=ul(n,1)))Qt(n,1,i),pl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(ks&n)===n&&(4===Ds||3===Ds&&(62914560&ks)===ks&&500>Hi()-zs?wl(e,0):Hs|=n),pl(e,t)}function Fl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===ol&&(ol=js),0===(t=Ut(62914560&~ol))&&(t=4194304))),n=cl(),null!==(e=ul(e,t))&&(Qt(e,t,n),pl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Hl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ql(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Vl(n.children,i,o,t);case R:s=8,i|=16;break;case B:s=8,i|=1;break;case P:return(e=Ul(12,n,t,8|i)).elementType=P,e.type=P,e.lanes=o,e;case I:return(e=Ul(13,n,t,i)).type=I,e.elementType=I,e.lanes=o,e;case L:return(e=Ul(19,n,t,i)).elementType=L,e.lanes=o,e;case j:return Xl(n,i,o,t);case _:return(e=Ul(24,n,t,i)).elementType=_,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case O:s=9;break e;case T:s=11;break e;case k:s=14;break e;case N:s=16,r=null;break e;case M:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ul(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vl(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=j,e.lanes=n,e}function Yl(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Kl(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Jl(e,t,n,r){var i=t.current,o=cl(),s=hl(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(fi(c)){n=mi(n,c,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),dl(i,s,o),s}function Zl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $l(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){$l(e,t),(e=e.alternate)&&$l(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[Jr]=n.current,Tr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Zl(a);s.call(e)}}Jl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Zl(a);l.call(e)}}yl((function(){Jl(t,a,e,i)}))}return Zl(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return ql(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Wa(t),Vo();break;case 5:No(t);break;case 1:fi(t.type)&&yi(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ga(e,t,n):(li(Do,1&Do.current),null!==(t=ns(e,t,n))?t.sibling:null);li(Do,1&Do.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return ns(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=pi(t,hi.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&fo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,vo(t,r,e,n),t=Qa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===k)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Ra(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Vo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(_o=Vr(t.stateNode.containerInfo.firstChild),jo=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Xo.push(o);for(n=Bo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Vo();t=t.child}return t;case 5:return No(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(t.flags|=16),Ha(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Ga(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(li(Gi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=sr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var h=c.firstContext;null!==h;){if(h.context===r&&0!==(h.observedBits&o)){1===l.tag&&((h=so(-1,n&-n)).tag=2,lo(l,h)),l.lanes|=n,null!==(h=l.alternate)&&(h.lanes|=n),to(l.return,n),c.lanes|=n;break}h=h.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),ja(e,t,i,o=Ki(i.type,o),r,n);case 15:return _a(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,yi(t)):e=!1,no(t,n),mo(t,r,i),vo(t,r,i,n),Qa(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(dl(e,4,cl()),ec(e,4))},nt=function(e){13===e.tag&&(dl(e,67108864,cl()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cl(),n=hl(e);dl(e,n,t),ec(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=ml,Me=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(Ws(),Vi())}},De=function(){0===(49&Ts)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,Hi())}))}Vi()}(),kl())},Re=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Ws(),Vi())}};var oc={Events:[ei,ti,ni,Le,ke,kl,{current:!1}]},ac={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{bi=lc.inject(sc),wi=lc}catch(Ae){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return Qi(99,e.bind(null,t))}finally{Ts=n,Vi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(yl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=ml,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(175)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var h=null,d=null,u=function e(){if(null!==h)try{var n=t.unstable_now();h(!0,n),h=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==h?setTimeout(r,0,e):(h=e,setTimeout(u,0))},i=function(e,t){d=setTimeout(e,t)},o=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,m=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+v;try{m(!0,e)?x.postMessage(null):(A=!1,m=null)}catch(n){throw x.postMessage(null),n}}else A=!1},r=function(e){m=e,A||(A=!0,x.postMessage(null))},i=function(e,n){y=p((function(){e(t.unstable_now())}),n)},o=function(){f(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<P(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function B(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>P(a,n))void 0!==l&&0>P(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>P(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],O=[],T=1,I=null,L=3,k=!1,N=!1,M=!1;function D(e){for(var t=S(O);null!==t;){if(null===t.callback)B(O);else{if(!(t.startTime<=e))break;B(O),t.sortIndex=t.expirationTime,C(E,t)}t=S(O)}}function R(e){if(M=!1,D(e),!N)if(null!==S(E))N=!0,r(j);else{var t=S(O);null!==t&&i(R,t.startTime-e)}}function j(e,n){N=!1,M&&(M=!1,o()),k=!0;var r=L;try{for(D(n),I=S(E);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=I.callback;if("function"===typeof a){I.callback=null,L=I.priorityLevel;var s=a(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===S(E)&&B(E),D(n)}else B(E);I=S(E)}if(null!==I)var l=!0;else{var c=S(O);null!==c&&i(R,c.startTime-n),l=!1}return l}finally{I=null,L=r,k=!1}}var _=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return S(E)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=_,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,C(O,e),null===S(E)&&e===S(O)&&(M?o():M=!0,i(R,a-s))):(e.sortIndex=l,C(E,e),N||k||(N=!0,r(j))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},,,,function(e,t,n){"use strict";var r=n(180);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,A=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case h:case p:case m:case A:case c:return e;default:return t}}case o:return t}}}function C(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=h,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=A,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||x(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return x(e)===h},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===A},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===l||e===s||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===A||e.$$typeof===c||e.$$typeof===h||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(30),i=n(114),o=n(184),a=n(120);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=s(n(117));l.Axios=o,l.create=function(e){return s(a(l.defaults,e))},l.Cancel=n(121),l.CancelToken=n(197),l.isCancel=n(116),l.all=function(e){return Promise.all(e)},l.spread=n(198),l.isAxiosError=n(199),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var r=n(30),i=n(115),o=n(185),a=n(186),s=n(120);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(30);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(30),i=n(187),o=n(116),a=n(117);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(119);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(193),i=n(194);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(30),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(121);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";n(96);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,h=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:h,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(204);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(206),t),i(n(207),t),i(n(208),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heightWidthRadiusDefaults=t.heightWidthDefaults=t.sizeMarginDefaults=t.sizeDefaults=void 0;var r={loading:!0,color:"#000000",css:""};function i(e){return Object.assign({},r,{size:e})}function o(e,t){return Object.assign({},r,{height:e,width:t})}t.sizeDefaults=i,t.sizeMarginDefaults=function(e){return Object.assign({},i(e),{margin:2})},t.heightWidthDefaults=o,t.heightWidthRadiusDefaults=function(e,t,n){return void 0===n&&(n=2),Object.assign({},o(e,t),{radius:n,margin:2})}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(r||(r={}));t.calculateRgba=function(e,t){if(Object.keys(r).includes(e)&&(e=r[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var n="";e.split("").forEach((function(e){n+=e,n+=e})),e=n}return"rgba("+(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var i=(e.match(/[^0-9]*$/)||"").toString();return r[i]?{value:t,unit:i}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=i,t.cssValue=function(e){var t=i(e);return""+t.value+t.unit}},,,,,,,function(e,t,n){var r,i,o;i=[t,n(0),n(216),n(217)],void 0===(o="function"===typeof(r=function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e){l(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toPdf=n.toPdf.bind(n),n.targetRef=i.default.createRef(),n}return d(t,e),c(t,[{key:"toPdf",value:function(){var e=this.props,t=e.targetRef,n=e.filename,r=e.x,i=e.y,s=e.options,l=e.onComplete,c=t||this.targetRef,h=c.current||c;if(!h)throw new Error("Target ref must be used or informed. See https://github.com/ivmarcos/react-to-pdf#usage.");(0,a.default)(h,{logging:!1,useCORS:!0,scale:this.props.scale}).then((function(e){var t=e.toDataURL(),a=new o.default(s);a.addImage(t,"JPEG",r,i),a.save(n),l&&l()}))}},{key:"render",value:function(){return(0,this.props.children)({toPdf:this.toPdf,targetRef:this.targetRef})}}]),t}(t.PureComponent);u.defaultProps={filename:"download.pdf",options:void 0,x:0,y:0,scale:1,onComplete:void 0,targetRef:void 0},e.default=u})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"AcroForm",(function(){return xe})),n.d(t,"AcroFormAppearance",(function(){return be})),n.d(t,"AcroFormButton",(function(){return pe})),n.d(t,"AcroFormCheckBox",(function(){return me})),n.d(t,"AcroFormChoiceField",(function(){return ce})),n.d(t,"AcroFormComboBox",(function(){return de})),n.d(t,"AcroFormEditBox",(function(){return ue})),n.d(t,"AcroFormListBox",(function(){return he})),n.d(t,"AcroFormPasswordField",(function(){return ve})),n.d(t,"AcroFormPushButton",(function(){return fe})),n.d(t,"AcroFormRadioButton",(function(){return ge})),n.d(t,"AcroFormTextField",(function(){return ye})),n.d(t,"GState",(function(){return L})),n.d(t,"ShadingPattern",(function(){return N})),n.d(t,"TilingPattern",(function(){return M})),n.d(t,"jsPDF",(function(){return D}));var r=n(73),i=function(){return"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this}();function o(){i.console&&"function"==typeof i.console.log&&i.console.log.apply(i.console,arguments)}var a={log:o,warn:function(e){i.console&&("function"==typeof i.console.warn?i.console.warn.apply(i.console,arguments):o.call(null,arguments))},error:function(e){i.console&&("function"==typeof i.console.error?i.console.error.apply(i.console,arguments):o(e))}};function s(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,n)},r.onerror=function(){a.error("could not download file")},r.send()}function l(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function c(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var h,d,u=i.saveAs||("object"!=typeof window||window!==i?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=i.URL||i.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?l(o.href)?s(e,t,n):c(o,o.target="_blank"):c(o)):(o.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(o.href)}),4e4),setTimeout((function(){c(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(l(e))s(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){c(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(a.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,n);var o="application/octet-stream"===e.type,a=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var h=i.URL||i.webkitURL,d=h.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});function p(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function f(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=A(n,r,i,o,t[0],7,-680876936),o=A(o,n,r,i,t[1],12,-389564586),i=A(i,o,n,r,t[2],17,606105819),r=A(r,i,o,n,t[3],22,-1044525330),n=A(n,r,i,o,t[4],7,-176418897),o=A(o,n,r,i,t[5],12,1200080426),i=A(i,o,n,r,t[6],17,-1473231341),r=A(r,i,o,n,t[7],22,-45705983),n=A(n,r,i,o,t[8],7,1770035416),o=A(o,n,r,i,t[9],12,-1958414417),i=A(i,o,n,r,t[10],17,-42063),r=A(r,i,o,n,t[11],22,-1990404162),n=A(n,r,i,o,t[12],7,1804603682),o=A(o,n,r,i,t[13],12,-40341101),i=A(i,o,n,r,t[14],17,-1502002290),n=m(n,r=A(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=m(o,n,r,i,t[6],9,-1069501632),i=m(i,o,n,r,t[11],14,643717713),r=m(r,i,o,n,t[0],20,-373897302),n=m(n,r,i,o,t[5],5,-701558691),o=m(o,n,r,i,t[10],9,38016083),i=m(i,o,n,r,t[15],14,-660478335),r=m(r,i,o,n,t[4],20,-405537848),n=m(n,r,i,o,t[9],5,568446438),o=m(o,n,r,i,t[14],9,-1019803690),i=m(i,o,n,r,t[3],14,-187363961),r=m(r,i,o,n,t[8],20,1163531501),n=m(n,r,i,o,t[13],5,-1444681467),o=m(o,n,r,i,t[2],9,-51403784),i=m(i,o,n,r,t[7],14,1735328473),n=y(n,r=m(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=y(o,n,r,i,t[8],11,-2022574463),i=y(i,o,n,r,t[11],16,1839030562),r=y(r,i,o,n,t[14],23,-35309556),n=y(n,r,i,o,t[1],4,-1530992060),o=y(o,n,r,i,t[4],11,1272893353),i=y(i,o,n,r,t[7],16,-155497632),r=y(r,i,o,n,t[10],23,-1094730640),n=y(n,r,i,o,t[13],4,681279174),o=y(o,n,r,i,t[0],11,-358537222),i=y(i,o,n,r,t[3],16,-722521979),r=y(r,i,o,n,t[6],23,76029189),n=y(n,r,i,o,t[9],4,-640364487),o=y(o,n,r,i,t[12],11,-421815835),i=y(i,o,n,r,t[15],16,530742520),n=v(n,r=y(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=v(o,n,r,i,t[7],10,1126891415),i=v(i,o,n,r,t[14],15,-1416354905),r=v(r,i,o,n,t[5],21,-57434055),n=v(n,r,i,o,t[12],6,1700485571),o=v(o,n,r,i,t[3],10,-1894986606),i=v(i,o,n,r,t[10],15,-1051523),r=v(r,i,o,n,t[1],21,-2054922799),n=v(n,r,i,o,t[8],6,1873313359),o=v(o,n,r,i,t[15],10,-30611744),i=v(i,o,n,r,t[6],15,-1560198380),r=v(r,i,o,n,t[13],21,1309151649),n=v(n,r,i,o,t[4],6,-145523070),o=v(o,n,r,i,t[11],10,-1120210379),i=v(i,o,n,r,t[2],15,718787259),r=v(r,i,o,n,t[9],21,-343485551),e[0]=P(n,e[0]),e[1]=P(r,e[1]),e[2]=P(i,e[2]),e[3]=P(o,e[3])}function g(e,t,n,r,i,o){return t=P(P(t,e),P(r,o)),P(t<<i|t>>>32-i,n)}function A(e,t,n,r,i,o,a){return g(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return g(t&r|n&~r,e,t,i,o,a)}function y(e,t,n,r,i,o,a){return g(t^n^r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return g(n^(t|~r),e,t,i,o,a)}function b(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)f(r,w(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(f(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,f(r,i),r}function w(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}h=i.atob.bind(i),d=i.btoa.bind(i);var x="0123456789abcdef".split("");function C(e){for(var t="",n=0;n<4;n++)t+=x[e>>8*n+4&15]+x[e>>8*n&15];return t}function S(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function B(e){return b(e).map(S).join("")}function P(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=C(e[t]);return e.join("")}(b("hello")));function E(e,t){var n,r,i,o;if(e!==n){for(var a=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var h=s[l];c=(c+h+a.charCodeAt(l))%256,s[l]=s[c],s[c]=h}n=e,r=s}else s=r;var d=t.length,u=0,p=0,f="";for(l=0;l<d;l++)p=(p+(h=s[u=(u+1)%256]))%256,s[u]=s[p],s[p]=h,a=s[(s[u]+s[p])%256],f+=String.fromCharCode(t.charCodeAt(l)^a);return f}var O={print:4,modify:8,copy:16,"annot-forms":32};function T(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==O.perm)throw new Error("Invalid permission: "+e);i+=O[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=B(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=E(this.encryptionKey,this.padding)}function I(e){if("object"!=typeof e)throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var s in t[n]){var l=t[n][s];try{l[0].apply(e,r)}catch(e){i.console&&a.error("jsPDF PubSub Error",e.message,e)}l[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function L(e){if(!(this instanceof L))return new L(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function k(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function N(e,t,n,r,i){if(!(this instanceof N))return new N(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,k.call(this,r,i)}function M(e,t,n,r,i){if(!(this instanceof M))return new M(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,k.call(this,r,i)}function D(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],o=arguments[2],s=arguments[3],l=[],c=1,h=16,f="S",g=null;"object"==typeof(e=e||{})&&(n=e.orientation,r=e.unit||r,o=e.format||o,s=e.compress||e.compressPdf||s,null!==(g=e.encryption||null)&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(h=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(!0===s?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,m={},y={internal:{},__private__:{}};y.__private__.PubSub=I;var v="1.3",b=y.__private__.getPdfVersion=function(){return v};y.__private__.setPdfVersion=function(e){v=e};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return w};var x=y.__private__.getPageFormat=function(e){return w[e]};o=o||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},S=C.COMPAT;function B(){this.saveGraphicsState(),ce(new Qe(Se,0,0,-Se,0,jn()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),f="n",S=C.ADVANCED}function P(){this.restoreGraphicsState(),f="S",S=C.COMPAT}var E=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&e!==t&&(e=400==t?"italic"==e?"italic":"normal":700==t&&"italic"!==e?"bold":e+""+t),e};y.advancedAPI=function(e){var t=S===C.COMPAT;return t&&B.call(this),"function"!=typeof e||(e(this),t&&P.call(this)),this},y.compatAPI=function(e){var t=S===C.ADVANCED;return t&&P.call(this),"function"!=typeof e||(e(this),t&&B.call(this)),this},y.isAdvancedAPI=function(){return S===C.ADVANCED};var O,k=function(e){if(S!==C.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=y.roundToPrecision=y.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};O=y.hpf=y.__private__.hpf="number"==typeof h?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return R(e,h)}:"smart"===h?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return R(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return R(e,16)};var j=y.f2=y.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return R(e,2)},_=y.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return R(e,3)},F=y.scale=y.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return S===C.COMPAT?e*Se:S===C.ADVANCED?e:void 0},H=function(e){return S===C.COMPAT?jn()-e:S===C.ADVANCED?e:void 0},U=function(e){return F(H(e))};y.__private__.setPrecision=y.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var z,Q="00000000000000000000000000000000",W=y.__private__.getFileId=function(){return Q},V=y.__private__.setFileId=function(e){return Q=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():Q.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==g&&(Vt=new T(g.userPermissions,g.userPassword,g.ownerPassword,Q)),Q};y.setFileId=function(e){return V(e),this},y.getFileId=function(){return W()};var X=y.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,J(r),"'",J(i),"'"].join("");return["D:",e.getFullYear(),J(e.getMonth()+1),J(e.getDate()),J(e.getHours()),J(e.getMinutes()),J(e.getSeconds()),o].join("")},Y=y.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,a,0)},K=y.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=X(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return z=t},G=y.__private__.getCreationDate=function(e){var t=z;return"jsDate"===e&&(t=Y(z)),t};y.setCreationDate=function(e){return K(e),this},y.getCreationDate=function(e){return G(e)};var q,J=y.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},Z=y.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},$=0,ee=[],te=[],ne=0,re=[],ie=[],oe=!1,ae=te,se=function(){$=0,ne=0,te=[],ee=[],re=[],Je=Ke(),Ze=Ke()};y.__private__.setCustomOutputDestination=function(e){oe=!0,ae=e};var le=function(e){oe||(ae=e)};y.__private__.resetCustomOutputDestination=function(){oe=!1,ae=te};var ce=y.__private__.out=function(e){return e=e.toString(),ne+=e.length+1,ae.push(e),ae},he=y.__private__.write=function(e){return ce(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},de=y.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ue};var pe=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(e){return pe=S===C.ADVANCED?e/Se:e,this};var fe,ge=y.__private__.getFontSize=y.getFontSize=function(){return S===C.COMPAT?pe:pe*Se},Ae=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(e){return Ae=e,this},y.__private__.getR2L=y.getR2L=function(){return Ae};var me,ye=y.__private__.setZoomMode=function(e){if(/^\d*\.?\d*%$/.test(e))fe=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');fe=e}else fe=parseInt(e,10)};y.__private__.getZoomMode=function(){return fe};var ve,be=y.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');me=e};y.__private__.getPageMode=function(){return me};var we=y.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ve=e};y.__private__.getLayoutMode=function(){return ve},y.__private__.setDisplayMode=y.setDisplayMode=function(e,t,n){return ye(e),we(t),be(n),this};var xe={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(e){if(-1===Object.keys(xe).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xe[e]},y.__private__.getDocumentProperties=function(){return xe},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(e){for(var t in xe)xe.hasOwnProperty(t)&&e[t]&&(xe[t]=e[t]);return this},y.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(xe).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xe[e]=t};var Ce,Se,Be,Pe,Ee,Oe={},Te={},Ie=[],Le={},ke={},Ne={},Me={},De=null,Re=0,je=[],_e=new I(y),Fe=e.hotfixes||[],He={},Ue={},ze=[],Qe=function e(t,n,r,i,o,a){if(!(this instanceof e))return new e(t,n,r,i,o,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,o,a]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Qe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(e)},Qe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Qe(t,n,r,i,o,a)},Qe.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,a=-a),{scale:new Qe(a,0,0,l,0,0),translate:new Qe(1,0,0,1,i,o),rotate:new Qe(e,t,-t,e,0,0),skew:new Qe(1,0,s,1,0,0)}},Qe.prototype.toString=function(e){return this.join(" ")},Qe.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=1/(e*r-t*n),s=r*a,l=-t*a,c=-n*a,h=e*a;return new Qe(s,l,c,h,-s*i-c*o,-l*i-h*o)},Qe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new Tn(t,n)},Qe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new Tn(e.x+e.w,e.y+e.h));return new In(t.x,t.y,n.x-t.x,n.y-t.y)},Qe.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new Qe(e,t,n,r,i,o)},y.Matrix=Qe;var We=y.matrixMult=function(e,t){return t.multiply(e)},Ve=new Qe(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ve;var Xe=function(e,t){if(!ke[e]){var n=(t instanceof N?"Sh":"P")+(Object.keys(Le).length+1).toString(10);t.id=n,ke[e]=n,Le[n]=t,_e.publish("addPattern",t)}};y.ShadingPattern=N,y.TilingPattern=M,y.addShadingPattern=function(e,t){return k("addShadingPattern()"),Xe(e,t),this},y.beginTilingPattern=function(e){k("beginTilingPattern()"),kn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},y.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=ie[q].join("\n"),Xe(e,t),_e.publish("endTilingPattern",t),ze.pop().restore()};var Ye=y.__private__.newObject=function(){var e=Ke();return Ge(e,!0),e},Ke=y.__private__.newObjectDeferred=function(){return $++,ee[$]=function(){return ne},$},Ge=function(e,t){return t="boolean"==typeof t&&t,ee[e]=ne,t&&ce(e+" 0 obj"),e},qe=y.__private__.newAdditionalObject=function(){var e={objId:Ke(),content:""};return re.push(e),e},Je=Ke(),Ze=Ke(),$e=y.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},et=y.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,o=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new p(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)t=n+" "+a[0];else switch(e.precision){case 2:t=j(n/255)+" "+a[0];break;case 3:default:t=_(n/255)+" "+a[0]}else if(void 0===o||"object"==typeof o){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,r,i,a[1]].join(" ");else switch(e.precision){case 2:t=[j(n/255),j(r/255),j(i/255),a[1]].join(" ");break;default:case 3:t=[_(n/255),_(r/255),_(i/255),a[1]].join(" ")}}else if("string"==typeof n)t=[n,r,i,o,a[2]].join(" ");else switch(e.precision){case 2:t=[j(n),j(r),j(i),j(o),a[2]].join(" ");break;case 3:default:t=[_(n),_(r),_(i),_(o),a[2]].join(" ")}return t},tt=y.__private__.getFilters=function(){return l},nt=y.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||tt(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,a=e.objectId,s=function(e){return e};if(null!==g&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==g&&(s=Vt.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],h=(l=void 0!==D.API.processDataByFilters?D.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:o})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var u=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)u.push("null");u.push(c[d].value),c[d].value="["+u.join(" ")+"]"}}ce("<<");for(var f=0;f<c.length;f++)ce("/"+c[f].key+" "+c[f].value);ce(">>"),0!==l.data.length&&(ce("stream"),ce(s(l.data)),ce("endstream"))},rt=y.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Ge(r,!0),ce("<</Type /Page"),ce("/Parent "+e.rootDictionaryObjId+" 0 R"),ce("/Resources "+e.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(O(e.mediaBox.bottomLeftX))+" "+parseFloat(O(e.mediaBox.bottomLeftY))+" "+O(e.mediaBox.topRightX)+" "+O(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&ce("/CropBox ["+O(e.cropBox.bottomLeftX)+" "+O(e.cropBox.bottomLeftY)+" "+O(e.cropBox.topRightX)+" "+O(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&ce("/BleedBox ["+O(e.bleedBox.bottomLeftX)+" "+O(e.bleedBox.bottomLeftY)+" "+O(e.bleedBox.topRightX)+" "+O(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&ce("/TrimBox ["+O(e.trimBox.bottomLeftX)+" "+O(e.trimBox.bottomLeftY)+" "+O(e.trimBox.topRightX)+" "+O(e.trimBox.topRightY)+"]"),null!==e.artBox&&ce("/ArtBox ["+O(e.artBox.bottomLeftX)+" "+O(e.artBox.bottomLeftY)+" "+O(e.artBox.topRightX)+" "+O(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&ce("/UserUnit "+e.userUnit),_e.publish("putPage",{objId:r,pageContext:je[t],pageNumber:t,page:n}),ce("/Contents "+i+" 0 R"),ce(">>"),ce("endobj");var o=n.join("\n");return S===C.ADVANCED&&(o+="\nQ"),Ge(i,!0),nt({data:o,filters:tt(),objectId:i}),ce("endobj"),r},it=y.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Re;e++)je[e].objId=Ke(),je[e].contentsObjId=Ke();for(e=1;e<=Re;e++)n.push(rt({number:e,data:ie[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:Je,resourceDictionaryObjId:Ze}));Ge(Je,!0),ce("<</Type /Pages");var r="/Kids [";for(t=0;t<Re;t++)r+=n[t]+" 0 R ";ce(r+"]"),ce("/Count "+Re),ce(">>"),ce("endobj"),_e.publish("postPutPages")},ot=function(e){var t=function(e,t){return-1!==e.indexOf(" ")?"("+Tt(e,t)+")":Tt(e,t)};_e.publish("putFont",{font:e,out:ce,newObject:Ye,putStream:nt,pdfEscapeWithNeededParanthesis:t}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ye(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+t(e.postScriptName)),ce("/Subtype /Type1"),"string"==typeof e.encoding&&ce("/Encoding /"+e.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},at=function(){for(var e in Oe)Oe.hasOwnProperty(e)&&(!1===A||!0===A&&m.hasOwnProperty(e))&&ot(Oe[e])},st=function(e){e.objectNumber=Ye();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[O(e.x),O(e.y),O(e.x+e.width),O(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");nt({data:n,additionalKeyValues:t,objectId:e.objectNumber}),ce("endobj")},lt=function(){for(var e in He)He.hasOwnProperty(e)&&st(He[e])},ct=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var h=e[l].offset,d=(n-h)/(e[l+1].offset-h),u=e[l].color,p=e[l+1].color;s+=Z(Math.round((1-d)*u[0]+d*p[0]).toString(16))+Z(Math.round((1-d)*u[1]+d*p[1]).toString(16))+Z(Math.round((1-d)*u[2]+d*p[2]).toString(16))}return s.trim()},ht=function(e,t){t||(t=21);var n=Ye(),r=ct(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),ce("endobj"),e.objectNumber=Ye(),ce("<< /ShadingType "+e.type),ce("/ColorSpace /DeviceRGB");var o="/Coords ["+O(parseFloat(e.coords[0]))+" "+O(parseFloat(e.coords[1]))+" ";2===e.type?o+=O(parseFloat(e.coords[2]))+" "+O(parseFloat(e.coords[3])):o+=O(parseFloat(e.coords[2]))+" "+O(parseFloat(e.coords[3]))+" "+O(parseFloat(e.coords[4]))+" "+O(parseFloat(e.coords[5])),ce(o+="]"),e.matrix&&ce("/Matrix ["+e.matrix.toString()+"]"),ce("/Function "+n+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},dt=function(e,t){var n=Ke(),r=Ye();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(O).join(" ")+"]"}),i.push({key:"XStep",value:O(e.xStep)}),i.push({key:"YStep",value:O(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),nt({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),ce("endobj")},ut=function(e){var t;for(t in Le)Le.hasOwnProperty(t)&&(Le[t]instanceof N?ht(Le[t]):Le[t]instanceof M&&dt(Le[t],e))},pt=function(e){for(var t in e.objectNumber=Ye(),ce("<<"),e)switch(t){case"opacity":ce("/ca "+j(e[t]));break;case"stroke-opacity":ce("/CA "+j(e[t]))}ce(">>"),ce("endobj")},ft=function(){var e;for(e in Ne)Ne.hasOwnProperty(e)&&pt(Ne[e])},gt=function(){for(var e in ce("/XObject <<"),He)He.hasOwnProperty(e)&&He[e].objectNumber>=0&&ce("/"+e+" "+He[e].objectNumber+" 0 R");_e.publish("putXobjectDict"),ce(">>")},At=function(){Vt.oid=Ye(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Vt.v),ce("/R "+Vt.r),ce("/U <"+Vt.toHexString(Vt.U)+">"),ce("/O <"+Vt.toHexString(Vt.O)+">"),ce("/P "+Vt.P),ce(">>"),ce("endobj")},mt=function(){for(var e in ce("/Font <<"),Oe)Oe.hasOwnProperty(e)&&(!1===A||!0===A&&m.hasOwnProperty(e))&&ce("/"+e+" "+Oe[e].objectNumber+" 0 R");ce(">>")},yt=function(){if(Object.keys(Le).length>0){for(var e in ce("/Shading <<"),Le)Le.hasOwnProperty(e)&&Le[e]instanceof N&&Le[e].objectNumber>=0&&ce("/"+e+" "+Le[e].objectNumber+" 0 R");_e.publish("putShadingPatternDict"),ce(">>")}},vt=function(e){if(Object.keys(Le).length>0){for(var t in ce("/Pattern <<"),Le)Le.hasOwnProperty(t)&&Le[t]instanceof y.TilingPattern&&Le[t].objectNumber>=0&&Le[t].objectNumber<e&&ce("/"+t+" "+Le[t].objectNumber+" 0 R");_e.publish("putTilingPatternDict"),ce(">>")}},bt=function(){if(Object.keys(Ne).length>0){var e;for(e in ce("/ExtGState <<"),Ne)Ne.hasOwnProperty(e)&&Ne[e].objectNumber>=0&&ce("/"+e+" "+Ne[e].objectNumber+" 0 R");_e.publish("putGStateDict"),ce(">>")}},wt=function(e){Ge(e.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mt(),yt(),vt(e.objectOid),bt(),gt(),ce(">>"),ce("endobj")},xt=function(){var e=[];at(),ft(),lt(),ut(e),_e.publish("putResources"),e.forEach(wt),wt({resourcesOid:Ze,objectOid:Number.MAX_SAFE_INTEGER}),_e.publish("postPutResources")},Ct=function(){_e.publish("putAdditionalObjects");for(var e=0;e<re.length;e++){var t=re[e];Ge(t.objId,!0),ce(t.content),ce("endobj")}_e.publish("postPutAdditionalObjects")},St=function(e){Te[e.fontName]=Te[e.fontName]||{},Te[e.fontName][e.fontStyle]=e.id},Bt=function(e,t,n,r,i){var o={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return _e.publish("addFont",{font:o,instance:this}),Oe[o.id]=o,St(o),o.id},Pt=function(e){for(var t=0,n=ue.length;t<n;t++){var r=Bt.call(this,e[t][0],e[t][1],e[t][2],ue[t][3],!0);!1===A&&(m[r]=!0);var i=e[t][0].split("-");St({id:r,fontName:i[0],fontStyle:i[1]||""})}_e.publish("addFonts",{fonts:Oe,dictionary:Te})},Et=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!i.console)throw new Error(n);i.console.error(n,e),i.alert&&alert(n)}},e.foo.bar=e,e.foo},Ot=function(e,t){var n,r,i,o,a,s,l,c,h;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&Oe[Ce].metadata&&Oe[Ce].metadata[i]&&Oe[Ce].metadata[i].encoding&&(o=Oe[Ce].metadata[i].encoding,!a&&Oe[Ce].encoding&&(a=Oe[Ce].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((h=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(h),s.push(c-(h<<8))}return String.fromCharCode.apply(void 0,s)},Tt=y.__private__.pdfEscape=y.pdfEscape=function(e,t){return Ot(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},It=y.__private__.beginPage=function(e){ie[++Re]=[],je[Re]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},Nt(Re),le(ie[q])},Lt=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*Se,s=e[1]*Se),isNaN(i)&&(i=o[0],s=o[1]),(i>14400||s>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),o=[i,s],n.substr(0,1)){case"l":s>i&&(o=[s,i]);break;case"p":i>s&&(o=[s,i])}It(o),un(dn),ce(bn),0!==Pn&&ce(Pn+" J"),0!==En&&ce(En+" j"),_e.publish("addPage",{pageNumber:Re})},kt=function(e){e>0&&e<=Re&&(ie.splice(e,1),je.splice(e,1),Re--,q>Re&&(q=Re),this.setPage(q))},Nt=function(e){e>0&&e<=Re&&(q=e)},Mt=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ie.length-1},Dt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:Oe[Ce].fontName,t=void 0!==t?t:Oe[Ce].fontStyle,r=e.toLowerCase(),void 0!==Te[r]&&void 0!==Te[r][t]?i=Te[r][t]:void 0!==Te[e]&&void 0!==Te[e][t]?i=Te[e][t]:!1===n.disableWarning&&a.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=Te.times[t])&&(i=Te.times.normal),i},Rt=y.__private__.putInfo=function(){var e=Ye(),t=function(e){return e};for(var n in null!==g&&(t=Vt.encryptor(e,0)),ce("<<"),ce("/Producer ("+Tt(t("jsPDF "+D.version))+")"),xe)xe.hasOwnProperty(n)&&xe[n]&&ce("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+Tt(t(xe[n]))+")");ce("/CreationDate ("+Tt(t(z))+")"),ce(">>"),ce("endobj")},jt=y.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Je;switch(Ye(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+t+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+fe;"%"===n.substr(n.length-1)&&(fe=parseInt(fe)/100),"number"==typeof fe&&ce("/OpenAction [3 0 R /XYZ null null "+j(fe)+"]")}switch(ve||(ve="continuous"),ve){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}me&&ce("/PageMode /"+me),_e.publish("putCatalog"),ce(">>"),ce("endobj")},_t=y.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+($+1)),ce("/Root "+$+" 0 R"),ce("/Info "+($-1)+" 0 R"),null!==g&&ce("/Encrypt "+Vt.oid+" 0 R"),ce("/ID [ <"+Q+"> <"+Q+"> ]"),ce(">>")},Ft=y.__private__.putHeader=function(){ce("%PDF-"+v),ce("%\xba\xdf\xac\xe0")},Ht=y.__private__.putXRef=function(){var e="0000000000";ce("xref"),ce("0 "+($+1)),ce("0000000000 65535 f ");for(var t=1;t<=$;t++)"function"==typeof ee[t]?ce((e+ee[t]()).slice(-10)+" 00000 n "):void 0!==ee[t]?ce((e+ee[t]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Ut=y.__private__.buildDocument=function(){se(),le(te),_e.publish("buildDocument"),Ft(),it(),Ct(),xt(),null!==g&&At(),Rt(),jt();var e=ne;return Ht(),_t(),ce("startxref"),ce(""+e),ce("%%EOF"),le(ie[q]),te.join("\n")},zt=y.__private__.getBlob=function(e){return new Blob([de(e)],{type:"application/pdf"})},Qt=y.output=y.__private__.output=Et((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Ut();case"save":y.save(t.filename);break;case"arraybuffer":return de(Ut());case"blob":return zt(Ut());case"bloburi":case"bloburl":if(void 0!==i.URL&&"function"==typeof i.URL.createObjectURL)return i.URL&&i.URL.createObjectURL(zt(Ut()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Ut();try{n=d(r)}catch(e){n=d(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(i)){var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(t.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=i.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(i)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=i.open();if(null!==c){c.document.write(l);var h=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(h.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(i))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',p=i.open();if(null!==p&&(p.document.write(u),p.document.title=t.filename),p||"undefined"==typeof safari)return p;break;case"datauri":case"dataurl":return i.document.location.href=this.output("datauristring",t);default:return null}})),Wt=function(e){return!0===Array.isArray(Fe)&&Fe.indexOf(e)>-1};switch(r){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=1==Wt("px_scaling")?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:throw new Error("Invalid unit: "+r)}var Vt=null;K(),V();var Xt=function(e){return null!==g?Vt.encryptor(e,0):function(e){return e}},Yt=y.__private__.getPageInfo=y.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},Kt=y.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return Yt(t)},Gt=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:je[q].objId,pageNumber:q,pageContext:je[q]}};y.addPage=function(){return Lt.apply(this,arguments),this},y.setPage=function(){return Nt.apply(this,arguments),le.call(this,ie[q]),this},y.insertPage=function(e){return this.addPage(),this.movePage(q,e),this},y.movePage=function(e,t){var n,r;if(e>t){n=ie[e],r=je[e];for(var i=e;i>t;i--)ie[i]=ie[i-1],je[i]=je[i-1];ie[t]=n,je[t]=r,this.setPage(t)}else if(e<t){n=ie[e],r=je[e];for(var o=e;o<t;o++)ie[o]=ie[o+1],je[o]=je[o+1];ie[t]=n,je[t]=r,this.setPage(t)}return this},y.deletePage=function(){return kt.apply(this,arguments),this},y.__private__.text=y.text=function(e,t,n,r,i){var o,a,s,l,c,h,d,u,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var f=n;n=t,t=e,e=f}if(arguments[3]instanceof Qe==0?(s=arguments[4],l=arguments[5],"object"==typeof(d=arguments[3])&&null!==d||("string"==typeof s&&(l=s,s=null),"string"==typeof d&&(l=d,d=null),"number"==typeof d&&(s=d,d=null),r={flags:d,angle:s,align:l})):(k("The transform parameter of text() with a Matrix value"),u=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var g="",A=!1,y="number"==typeof r.lineHeightFactor?r.lineHeightFactor:hn,v=p.internal.scaleFactor;function b(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),Tt(e,d)}function w(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function x(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var B=!1,P=!0;if("string"==typeof e)B=!0;else if(Array.isArray(e)){var E=e.concat();a=[];for(var T,I=E.length;I--;)("string"!=typeof(T=E.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(P=!1);B=P}if(!1===B)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=pe/p.internal.scaleFactor,N=L*(hn-1);switch(r.baseline){case"bottom":n-=N;break;case"top":n+=L-N;break;case"hanging":n+=L-2*N;break;case"middle":n+=L/2-N}if((h=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,h):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,h))}),[]))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:Tt,activeFontKey:Ce,fonts:Oe,activeFontSize:pe}},_e.publish("preProcessText",o),e=o.text,s=(r=o.options).angle,u instanceof Qe==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),S===C.ADVANCED&&(s=-s);var M=Math.cos(s),D=Math.sin(s);u=new Qe(M,D,-D,M,0,0)}else s&&s instanceof Qe&&(u=s);S!==C.ADVANCED||u||(u=Ve),void 0!==(c=r.charSpace||Sn)&&(g+=O(F(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),r.lang;var R=-1,j=void 0!==r.renderingMode?r.renderingMode:r.stroke,_=p.internal.getCurrentPageInfo().pageContext;switch(j){case 0:case!1:case"fill":R=0;break;case 1:case!0:case"stroke":R=1;break;case 2:case"fillThenStroke":R=2;break;case 3:case"invisible":R=3;break;case 4:case"fillAndAddForClipping":R=4;break;case 5:case"strokeAndAddPathForClipping":R=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":R=6;break;case 7:case"addToPathForClipping":R=7}var H=void 0!==_.usedRenderingMode?_.usedRenderingMode:-1;-1!==R?g+=R+" Tr\n":-1!==H&&(g+="0 Tr\n"),-1!==R&&(_.usedRenderingMode=R),l=r.align||"left";var U,z=pe*y,Q=p.internal.pageSize.getWidth(),W=Oe[Ce];c=r.charSpace||Sn,h=r.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},r.flags);var V=[];if("[object Array]"===Object.prototype.toString.call(e)){var X;a=w(e),"left"!==l&&(U=a.map((function(e){return p.getStringUnitWidth(e,{font:W,charSpace:c,fontSize:pe,doKerning:!1})*pe/v})));var Y,K=0;if("right"===l){t-=U[0],e=[],I=a.length;for(var G=0;G<I;G++)0===G?(Y=An(t),X=mn(n)):(Y=F(K-U[G]),X=-z),e.push([a[G],Y,X]),K=U[G]}else if("center"===l){t-=U[0]/2,e=[],I=a.length;for(var q=0;q<I;q++)0===q?(Y=An(t),X=mn(n)):(Y=F((K-U[q])/2),X=-z),e.push([a[q],Y,X]),K=U[q]}else if("left"===l){e=[],I=a.length;for(var J=0;J<I;J++)e.push(a[J])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],I=a.length,h=0!==h?h:Q;for(var Z=0;Z<I;Z++)X=0===Z?mn(n):-z,Y=0===Z?An(t):0,Z<I-1&&V.push(O(F((h-U[Z])/(a[Z].split(" ").length-1)))),e.push([a[Z],Y,X])}}var $="boolean"==typeof r.R2L?r.R2L:Ae;!0===$&&(e=x(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:Tt,activeFontKey:Ce,fonts:Oe,activeFontSize:pe}},_e.publish("postProcessText",o),e=o.text,A=o.mutex.isHex||!1;var ee=Oe[Ce].encoding;"WinAnsiEncoding"!==ee&&"StandardEncoding"!==ee||(e=x(e,(function(e,t,n){return[b(e),t,n]}))),a=w(e),e=[];for(var te,ne,re,ie=0,oe=1,ae=Array.isArray(a[0])?oe:ie,se="",le=function(e,t,n){var i="";return n instanceof Qe?(n="number"==typeof r.angle?We(n,new Qe(1,0,0,1,e,t)):We(new Qe(1,0,0,1,e,t),n),S===C.ADVANCED&&(n=We(new Qe(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=O(e)+" "+O(t)+" Td\n",i},he=0;he<a.length;he++){switch(se="",ae){case oe:re=(A?"<":"(")+a[he][0]+(A?">":")"),te=parseFloat(a[he][1]),ne=parseFloat(a[he][2]);break;case ie:re=(A?"<":"(")+a[he]+(A?">":")"),te=An(t),ne=mn(n)}void 0!==V&&void 0!==V[he]&&(se=V[he]+" Tw\n"),0===he?e.push(se+le(te,ne,u)+re):ae===ie?e.push(se+re):ae===oe&&e.push(se+le(te,ne,u)+re)}e=ae===ie?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var de="BT\n/";return de+=Ce+" "+pe+" Tf\n",de+=O(pe*y)+" TL\n",de+=xn+"\n",de+=g,de+=e,ce(de+="ET"),m[Ce]=!0,p};var qt=y.__private__.clip=y.clip=function(e){return ce("evenodd"===e?"W*":"W"),this};y.clipEvenOdd=function(){return qt("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ce("n"),this};var Jt=y.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(e){return Jt(e)&&(f=e),this};var Zt=y.__private__.getStyle=y.getStyle=function(e){var t=f;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},$t=y.close=function(){return ce("h"),this};y.stroke=function(){return ce("S"),this},y.fill=function(e){return en("f",e),this},y.fillEvenOdd=function(e){return en("f*",e),this},y.fillStroke=function(e){return en("B",e),this},y.fillStrokeEvenOdd=function(e){return en("B*",e),this};var en=function(e,t){"object"==typeof t?rn(t,e):ce(e)},tn=function(e){null===e||S===C.ADVANCED&&void 0===e||(e=Zt(e),ce(e))};function nn(e,t,n,r,i){var o=new M(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Xe(a,o),o}var rn=function(e,t){var n=ke[e.key],r=Le[n];if(r instanceof N)ce("q"),ce(on(t)),r.gState&&y.setGState(r.gState),ce(e.matrix.toString()+" cm"),ce("/"+n+" sh"),ce("Q");else if(r instanceof M){var i=new Qe(1,0,0,-1,0,jn());e.matrix&&(i=i.multiply(e.matrix||Ve),n=nn.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),ce("q"),ce("/Pattern cs"),ce("/"+n+" scn"),r.gState&&y.setGState(r.gState),ce(t),ce("Q")}},on=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},an=y.moveTo=function(e,t){return ce(O(F(e))+" "+O(U(t))+" m"),this},sn=y.lineTo=function(e,t){return ce(O(F(e))+" "+O(U(t))+" l"),this},ln=y.curveTo=function(e,t,n,r,i,o){return ce([O(F(e)),O(U(t)),O(F(n)),O(U(r)),O(F(i)),O(U(o)),"c"].join(" ")),this};y.__private__.line=y.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Jt(i))throw new Error("Invalid arguments passed to jsPDF.line");return S===C.COMPAT?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},y.__private__.lines=y.lines=function(e,t,n,r,i,o){var a,s,l,c,h,d,u,p,f,g,A,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Jt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(an(t,n),a=r[0],s=r[1],c=e.length,g=t,A=n,l=0;l<c;l++)2===(h=e[l]).length?(g=h[0]*a+g,A=h[1]*s+A,sn(g,A)):(d=h[0]*a+g,u=h[1]*s+A,p=h[2]*a+g,f=h[3]*s+A,g=h[4]*a+g,A=h[5]*s+A,ln(d,u,p,f,g,A));return o&&$t(),tn(i),this},y.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":an(r[0],r[1]);break;case"l":sn(r[0],r[1]);break;case"c":ln.apply(this,r);break;case"h":$t()}}return this},y.__private__.rect=y.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Jt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C.COMPAT&&(r=-r),ce([O(F(e)),O(U(t)),O(F(n)),O(F(r)),"re"].join(" ")),tn(i),this},y.__private__.triangle=y.triangle=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Jt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],a,!0),this},y.__private__.roundedRect=y.roundedRect=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Jt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],e+i,t,[1,1],a,!0),this},y.__private__.ellipse=y.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Jt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return an(e+n,t),ln(e+n,t-a,e+o,t-r,e,t-r),ln(e-o,t-r,e-n,t-a,e-n,t),ln(e-n,t+a,e-o,t+r,e,t+r),ln(e+o,t+r,e+n,t+a,e+n,t),tn(i),this},y.__private__.circle=y.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Jt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},y.setFont=function(e,t,n){return n&&(t=E(t,n)),Ce=Dt(e,t,{disableWarning:!1}),this};var cn=y.__private__.getFont=y.getFont=function(){return Oe[Dt.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var e,t,n={};for(e in Te)if(Te.hasOwnProperty(e))for(t in n[e]=[],Te[e])Te[e].hasOwnProperty(t)&&n[e].push(t);return n},y.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=E(n,r)),i=i||"Identity-H",Bt.call(this,e,t,n,i)};var hn,dn=e.lineWidth||.200025,un=y.__private__.setLineWidth=y.setLineWidth=function(e){return ce(O(F(e))+" w"),this};y.__private__.setLineDash=D.API.setLineDash=D.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return O(F(e))})).join(" "),t=O(F(t)),ce("["+e+"] "+t+" d"),this};var pn=y.__private__.getLineHeight=y.getLineHeight=function(){return pe*hn};y.__private__.getLineHeight=y.getLineHeight=function(){return pe*hn};var fn=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(hn=e),this},gn=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return hn};fn(e.lineHeight);var An=y.__private__.getHorizontalCoordinate=function(e){return F(e)},mn=y.__private__.getVerticalCoordinate=function(e){return S===C.ADVANCED?e:je[q].mediaBox.topRightY-je[q].mediaBox.bottomLeftY-F(e)},yn=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(e){return O(An(e))},vn=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(e){return O(mn(e))},bn=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return $e(bn)},y.__private__.setStrokeColor=y.setDrawColor=function(e,t,n,r){return bn=et({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),ce(bn),this};var wn=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return $e(wn)},y.__private__.setFillColor=y.setFillColor=function(e,t,n,r){return wn=et({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),ce(wn),this};var xn=e.textColor||"0 g",Cn=y.__private__.getTextColor=y.getTextColor=function(){return $e(xn)};y.__private__.setTextColor=y.setTextColor=function(e,t,n,r){return xn=et({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Sn=e.charSpace,Bn=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Sn||0)};y.__private__.setCharSpace=y.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sn=e,this};var Pn=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(e){var t=y.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pn=t,ce(t+" J"),this};var En=0;y.__private__.setLineJoin=y.setLineJoin=function(e){var t=y.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return En=t,ce(t+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(O(F(e))+" M"),this},y.GState=L,y.setGState=function(e){(e="string"==typeof e?Ne[Me[e]]:On(null,e)).equals(De)||(ce("/"+e.id+" gs"),De=e)};var On=function(e,t){if(!e||!Me[e]){var n=!1;for(var r in Ne)if(Ne.hasOwnProperty(r)&&Ne[r].equals(t)){n=!0;break}if(n)t=Ne[r];else{var i="GS"+(Object.keys(Ne).length+1).toString(10);Ne[i]=t,t.id=i}return e&&(Me[e]=t.id),_e.publish("addGState",t),t}};y.addGState=function(e,t){return On(e,t),this},y.saveGraphicsState=function(){return ce("q"),Ie.push({key:Ce,size:pe,color:xn}),this},y.restoreGraphicsState=function(){ce("Q");var e=Ie.pop();return Ce=e.key,pe=e.size,xn=e.color,De=null,this},y.setCurrentTransformationMatrix=function(e){return ce(e.toString()+" cm"),this},y.comment=function(e){return ce("#"+e),this};var Tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},In=function(e,t,n,r){Tn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},Ln=function(){this.page=Re,this.currentPage=q,this.pages=ie.slice(0),this.pagesContext=je.slice(0),this.x=Be,this.y=Pe,this.matrix=Ee,this.width=Dn(q),this.height=jn(q),this.outputDestination=ae,this.id="",this.objectNumber=-1};Ln.prototype.restore=function(){Re=this.page,q=this.currentPage,je=this.pagesContext,ie=this.pages,Be=this.x,Pe=this.y,Ee=this.matrix,Rn(q,this.width),_n(q,this.height),ae=this.outputDestination};var kn=function(e,t,n,r,i){ze.push(new Ln),Re=q=0,ie=[],Be=e,Pe=t,Ee=i,It([n,r])},Nn=function(e){if(!Ue[e]){var t=new Ln,n="Xo"+(Object.keys(He).length+1).toString(10);t.id=n,Ue[e]=n,He[n]=t,_e.publish("addFormObject",t),ze.pop().restore()}};for(var Mn in y.beginFormObject=function(e,t,n,r,i){return kn(e,t,n,r,i),this},y.endFormObject=function(e){return Nn(e),this},y.doFormObject=function(e,t){var n=He[Ue[e]];return ce("q"),ce(t.toString()+" cm"),ce("/"+n.id+" Do"),ce("Q"),this},y.getFormObject=function(e){var t=He[Ue[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},y.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(u(zt(Ut()),e),"function"==typeof u.unload&&i.setTimeout&&setTimeout(u.unload,911),this):new Promise((function(t,n){try{var r=u(zt(Ut()),e);"function"==typeof u.unload&&i.setTimeout&&setTimeout(u.unload,911),t(r)}catch(e){n(e.message)}}))},D.API)D.API.hasOwnProperty(Mn)&&("events"===Mn&&D.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(_e,D.API.events):y[Mn]=D.API[Mn]);var Dn=y.getPageWidth=function(e){return(je[e=e||q].mediaBox.topRightX-je[e].mediaBox.bottomLeftX)/Se},Rn=y.setPageWidth=function(e,t){je[e].mediaBox.topRightX=t*Se+je[e].mediaBox.bottomLeftX},jn=y.getPageHeight=function(e){return(je[e=e||q].mediaBox.topRightY-je[e].mediaBox.bottomLeftY)/Se},_n=y.setPageHeight=function(e,t){je[e].mediaBox.topRightY=t*Se+je[e].mediaBox.bottomLeftY};return y.internal={pdfEscape:Tt,getStyle:Zt,getFont:cn,getFontSize:ge,getCharSpace:Bn,getTextColor:Cn,getLineHeight:pn,getLineHeightFactor:gn,write:he,getHorizontalCoordinate:An,getVerticalCoordinate:mn,getCoordinateString:yn,getVerticalCoordinateString:vn,collections:{},newObject:Ye,newAdditionalObject:qe,newObjectDeferred:Ke,newObjectDeferredBegin:Ge,getFilters:tt,putStream:nt,events:_e,scaleFactor:Se,pageSize:{getWidth:function(){return Dn(q)},setWidth:function(e){Rn(q,e)},getHeight:function(){return jn(q)},setHeight:function(e){_n(q,e)}},encryptionOptions:g,encryption:Vt,getEncryptor:Xt,output:Qt,getNumberOfPages:Mt,pages:ie,out:ce,f2:j,f3:_,getPageInfo:Yt,getPageInfoByObjId:Kt,getCurrentPageInfo:Gt,getPDFVersion:b,Point:Tn,Rectangle:In,Matrix:Qe,hasHotfix:Wt},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Dn(q)},set:function(e){Rn(q,e)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return jn(q)},set:function(e){_n(q,e)},enumerable:!0,configurable:!0}),Pt.call(y,ue),Ce="F1",Lt(o,n),_e.publish("initialized"),y}T.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},T.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},T.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},T.prototype.processOwnerPassword=function(e,t){return E(B(t).substr(0,5),e)},T.prototype.encryptor=function(e,t){var n=B(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return E(n,e)}},L.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||typeof e!=typeof this)return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},D.API={events:[]},D.version="2.3.1";var R=D.API,j=1,_=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},F=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},H=function(e){return e.toFixed(2)},U=function(e){return e.toFixed(5)};R.__acroform__={};var z=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Q=function(e){return e*j},W=function(e){var t=new ae,n=be.internal.getHeight(e)||0,r=be.internal.getWidth(e)||0;return t.BBox=[0,0,Number(H(r)),Number(H(n))],t},V=R.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},X=R.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Y=R.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},K=R.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y(e,t-1)},G=R.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V(e,t-1)},q=R.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return X(e,t-1)},J=R.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(o)||0,[Number(H(l.lowerLeft_X)),Number(H(l.lowerLeft_Y)),Number(H(l.upperRight_X)),Number(H(l.upperRight_Y))]},Z=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=$(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+H(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=W(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},$=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),o=n,a=be.internal.getHeight(e)||0;a=a<0?-a:a;var s=be.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1];return ee(o,e,r).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,h,d=ee("3",e,o).height,u=e.multiline?a-o:(a-d)/2,p=u+=2,f=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+ee(t,e,o=12).width+", FieldWidth:"+s+"\n";break}var A="",m=0;for(var y in i)if(i.hasOwnProperty(y)){A=" "==(A+=i[y]+" ").substr(A.length-1)?A.substr(0,A.length-1):A;var v=parseInt(y),b=l(v,A,o),w=y>=i.length-1;if(b&&!w){A+=" ";continue}if(b||w){if(w)g=v;else if(e.multiline&&(d+2)*(m+2)+2>a)continue e}else{if(!e.multiline)continue e;if((d+2)*(m+2)+2>a)continue e;g=v}for(var x="",C=f;C<=g;C++)x+=i[C]+" ";switch(x=" "==x.substr(x.length-1)?x.substr(0,x.length-1):x,h=ee(x,e,o).width,e.textAlign){case"right":c=s-h-2;break;case"center":c=(s-h)/2;break;case"left":default:c=2}t+=H(c)+" "+H(p)+" Td\n",t+="("+_(x)+") Tj\n",t+=-H(c)+" 0 Td\n",p=-(o+2),h=0,f=g+1,m++,A=""}break}return r.text=t,r.fontSize=o,r},ee=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},te={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ne=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},re=R.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),typeof e[o]){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+_(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ie=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+_(r(e))+")"},oe=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oe.prototype.toString=function(){return this.objId+" 0 R"},oe.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},oe.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:re(i,this.objId,this.scope)}):i instanceof oe?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var ae=function(){oe.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};z(ae,oe);var se=function(){oe.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_(t(e))+")"}},set:function(t){e=t}})};z(se,oe);var le=function e(){oe.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(t,3))},set:function(e){!0===Boolean(e)?this.F=G(t,3):this.F=q(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Ae)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/j:c},set:function(e){c=e}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(e){h=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Ae||this instanceof ye))return ie(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof pe==0?ie(u,this.objId,this.scope):u},set:function(e){e=e.toString(),u=this instanceof pe==0?"("===e.substr(0,1)?F(e.substr(1,e.length-2)):F(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pe==1?F(u.substr(1,u.length-1)):u},set:function(e){e=e.toString(),u=this instanceof pe==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof pe==0?ie(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof pe==0?"("===e.substr(0,1)?F(e.substr(1,e.length-2)):F(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pe==1?F(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof pe==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(e){e=Boolean(e),g=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,1):this.Ff=q(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,2):this.Ff=q(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,3):this.Ff=q(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==A)return A},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');A=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(A){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};z(le,oe);var ce=function(){le.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return re(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,18):this.Ff=q(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=G(this.Ff,19):this.Ff=q(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=G(this.Ff,20),t.sort()):this.Ff=q(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,22):this.Ff=q(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,23):this.Ff=q(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,27):this.Ff=q(this.Ff,27)}}),this.hasAppearanceStream=!1};z(ce,le);var he=function(){ce.call(this),this.fontName="helvetica",this.combo=!1};z(he,ce);var de=function(){he.call(this),this.combo=!0};z(de,he);var ue=function(){de.call(this),this.edit=!0};z(ue,de);var pe=function(){le.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,15):this.Ff=q(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,16):this.Ff=q(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,17):this.Ff=q(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,26):this.Ff=q(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+_(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"==typeof e&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};z(pe,le);var fe=function(){pe.call(this),this.pushButton=!0};z(fe,pe);var ge=function(){pe.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};z(ge,pe);var Ae=function(){var e,t;le.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+_(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"==typeof e&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};z(Ae,le),ge.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ge.prototype.createOption=function(e){var t=new Ae;return t.Parent=this,t.optionName=e,this.Kids.push(t),we.call(this.scope,t),t};var me=function(){pe.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=be.CheckBox.createAppearanceStream()};z(me,pe);var ye=function(){le.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,13):this.Ff=q(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,21):this.Ff=q(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,23):this.Ff=q(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,24):this.Ff=q(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,25):this.Ff=q(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,26):this.Ff=q(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};z(ye,le);var ve=function(){ye.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(K(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=G(this.Ff,14):this.Ff=q(this.Ff,14)}}),this.password=!0};z(ve,ye);var be={CheckBox:{createAppearanceStream:function(){return{N:{On:be.CheckBox.YesNormal},D:{On:be.CheckBox.YesPushDown,Off:be.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=$(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+H(be.internal.getWidth(e))+" "+H(be.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+H(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=W(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=be.internal.getHeight(e),a=be.internal.getWidth(e),s=$(e,e.caption);return i.push("1 g"),i.push("0 0 "+H(a)+" "+H(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+H(a-1)+" "+H(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+H(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+H(be.internal.getWidth(e))+" "+H(be.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:be.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=be.RadioButton.Circle.YesNormal,t.D[e]=be.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=W(e);t.scope=e.scope;var n=[],r=be.internal.getWidth(e)<=be.internal.getHeight(e)?be.internal.getWidth(e)/4:be.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=be.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+U(be.internal.getWidth(e)/2)+" "+U(be.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var n=[],r=be.internal.getWidth(e)<=be.internal.getHeight(e)?be.internal.getWidth(e)/4:be.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*be.internal.Bezier_C).toFixed(5)),a=Number((r*be.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+U(be.internal.getWidth(e)/2)+" "+U(be.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+U(be.internal.getWidth(e)/2)+" "+U(be.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var n=[],r=be.internal.getWidth(e)<=be.internal.getHeight(e)?be.internal.getWidth(e)/4:be.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*be.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+U(be.internal.getWidth(e)/2)+" "+U(be.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:be.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=be.RadioButton.Cross.YesNormal,t.D[e]=be.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=W(e);t.scope=e.scope;var n=[],r=be.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+H(be.internal.getWidth(e)-2)+" "+H(be.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(H(r.x1.x)+" "+H(r.x1.y)+" m"),n.push(H(r.x2.x)+" "+H(r.x2.y)+" l"),n.push(H(r.x4.x)+" "+H(r.x4.y)+" m"),n.push(H(r.x3.x)+" "+H(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var n=be.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+H(be.internal.getWidth(e))+" "+H(be.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+H(be.internal.getWidth(e)-2)+" "+H(be.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(H(n.x1.x)+" "+H(n.x1.y)+" m"),r.push(H(n.x2.x)+" "+H(n.x2.y)+" l"),r.push(H(n.x4.x)+" "+H(n.x4.y)+" m"),r.push(H(n.x3.x)+" "+H(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+H(be.internal.getWidth(e))+" "+H(be.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};be.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=be.internal.getWidth(e),n=be.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},be.internal.getWidth=function(e){var t=0;return"object"==typeof e&&(t=Q(e.Rect[2])),t},be.internal.getHeight=function(e){var t=0;return"object"==typeof e&&(t=Q(e.Rect[3])),t};var we=R.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(le.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(te)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");j=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new se,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&ne(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],o=[],a=i.Rect;if(i.Rect&&(i.Rect=J(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=be.createDefaultAppearanceStream(i),"object"==typeof i&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=Z(i);o.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var h=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var r in h)if(h.hasOwnProperty(r)){var d=h[r];"function"==typeof d&&(d=d.call(t,i)),l+="/"+r+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=h)&&(d=d.call(t,i)),l+="/"+r+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);l+=">>"}o.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"==typeof i&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof le))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};R.AcroFormChoiceField=ce,R.AcroFormListBox=he,R.AcroFormComboBox=de,R.AcroFormEditBox=ue,R.AcroFormButton=pe,R.AcroFormPushButton=fe,R.AcroFormRadioButton=ge,R.AcroFormCheckBox=me,R.AcroFormTextField=ye,R.AcroFormPasswordField=ve,R.AcroFormAppearance=be,R.AcroForm={ChoiceField:ce,ListBox:he,ComboBox:de,EditBox:ue,Button:pe,PushButton:fe,RadioButton:ge,CheckBox:me,TextField:ye,PasswordField:ve,Appearance:be},D.AcroForm={ChoiceField:ce,ListBox:he,ComboBox:de,EditBox:ue,Button:pe,PushButton:fe,RadioButton:ge,CheckBox:me,TextField:ye,PasswordField:ve,Appearance:be};var xe=D.AcroForm;function Ce(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o;r=r||t;var a,s,l,c=t;if(S(e))for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e[o]){s=!1;break}if(!0===s){c=l;break}}else for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){c=l;break}}return c===t&&r!==t&&(c=r),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===y.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===y.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,l=t.transparency.length;s<l;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";o.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var h="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:h,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===y.INDEXED){var u=this.internal.newObject();r({data:P(new Uint8Array(t.palette)),objectId:u}),n("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},p=function(e){return"object"==typeof e&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return h(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;case"JPEG":case"JPG":default:o="image/jpeg"}return h(t.toDataURL(o,1).split("base64,").pop())}},g=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},A=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},m=function(e,t,n,r,i,o){var a=A.call(this,n,r,i),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=l.call(this);if(n=a[0],r=a[1],h[i.index]=i,o){o*=Math.PI/180;var d=Math.cos(o),u=Math.sin(o),p=function(e){return e.toFixed(4)},f=[p(d),p(u),p(-1*u),p(d),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,s(e),c(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},x=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},C=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return C()&&e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return C()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},P=e.__addimage__.arrayBufferToBinaryString=function(e){try{return h(d(String.fromCharCode.apply(null,e)))}catch(t){if("undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.reduce)return new Uint8Array(e).reduce((function(e,t){return e.push(String.fromCharCode(t)),e}),[]).join("")}};e.addImage=function(){var e,n,r,i,o,a,l,c,h;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],h=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],h=arguments[8]),"object"==typeof(e=arguments[0])&&!p(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,i=d.y||i||0,o=d.w||d.width||o,a=d.h||d.height||a,l=d.alias||l,c=d.compression||c,h=d.rotation||d.angle||h}var u=this.internal.getFilters();if(void 0===c&&-1!==u.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var f=E.call(this,e,n,l,c);return m.call(this,r,i,o,a,f,h),this};var E=function(n,i,o,a){var s,l,h;if("string"==typeof n&&r(n)===t){n=unescape(n);var d=O(n,!1);(""!==d||void 0!==(d=e.loadFile(n,!0)))&&(n=d)}if(p(n)&&(n=f(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(h=o)||0===h.length)&&(o=function(e){return"string"==typeof e||S(e)?b(e):null}(n)),(s=g.call(this,o))||(C()&&(n instanceof Uint8Array||(l=n,n=B(n))),s=this["process"+i.toUpperCase()](n,c.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(a),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},O=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=x(e))?n.data:e;try{i=h(r)}catch(e){if(t)throw w(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var i,o,a="";if(p(n)&&(n=f(n)),"string"==typeof n&&r(n)===t&&(""===(a=O(n,!1))&&(a=e.loadFile(n)||""),n=a),o=r(n),!u(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!C()||n instanceof Uint8Array||(n=B(n)),!(i=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(D.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};D.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,h=0;h<l.length&&!c;h++)switch((n=l[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){n=l[d];var u=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(f.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+u(A(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+u(A(m))+") >>",f.content=i;var y=f.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(f.objId,"0 R",g.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+u(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+u(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var w=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,i,o,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(D.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&o(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var u=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===o(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&l(t)||s(e)&&s(t)?0:h(e)&&a(t)&&!s(t)&&a(n)&&c(n)?3:s(e)||!a(n)?1:2:-1},p=function(e){var n=0,r=0,i=0,o="",s="",l="",c=(e=e||"").split("\\s+"),h=[];for(n=0;n<c.length;n+=1){for(h.push(""),r=0;r<c[n].length;r+=1)o=c[n][r],s=c[n][r-1],l=c[n][r+1],a(o)?(i=u(o,s,l),h[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):h[n]+=o;h[n]=d(h[n])}return h.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(D.API),D.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(D.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var h=t.maxWidth;h>0?"string"==typeof e?e=this.splitTextToSize(e,h):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,h))}),[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)a<(l=this.getStringUnitWidth(e[d],{font:i})*n)&&(a=l);return 0!==a&&(s=e.length),{w:a/=o,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,h){if(r.call(this),!l)throw new Error("No data for PDF table.");var d,u,p,f,g=[],A=[],m=[],y={},v={},b=[],w=[],x=(h=h||{}).autoSize||!1,C=!1!==h.printHeaders,S=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,B=h.margins||Object.assign({width:this.getPageWidth()},t),P="number"==typeof h.padding?h.padding:3,E=h.headerBackgroundColor||"#c8c8c8";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=E,this.setFontSize(S),null==c)A=g=Object.keys(l[0]),m=g.map((function(){return"left"}));else if(Array.isArray(c)&&"object"==typeof c[0])for(g=c.map((function(e){return e.name})),A=c.map((function(e){return e.prompt||e.name||""})),m=c.map((function(e){return e.align||"left"})),d=0;d<c.length;d+=1)v[c[d].name]=c[d].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(A=g=c,m=g.map((function(){return"left"})));if(x||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<g.length;d+=1){for(y[f=g[d]]=l.map((function(e){return e[f]})),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(A[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),u=y[f],this.setFont(void 0,"normal"),p=0;p<u.length;p+=1)b.push(this.getTextDimensions(u[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[f]=Math.max.apply(null,b)+P+P,b=[]}if(C){var O={};for(d=0;d<g.length;d+=1)O[g[d]]={},O[g[d]].text=A[d],O[g[d]].align=m[d];var T=s.call(this,O,v);w=g.map((function(t){return new o(e,n,v[t],T,O[t].text,void 0,O[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(d=0;d<l.length;d+=1){var L=s.call(this,l[d],v);for(p=0;p<g.length;p+=1)a.call(this,new o(e,n,v[g[p]],L,l[d][g[p]],d+2,I[g[p]]))}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1)i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e,this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i);l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(D.API);var Se={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Be=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Pe=Ce(Be),Ee=[100,200,300,400,500,600,700,800,900],Oe=Ce(Ee);function Te(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Se[e=e||"normal"]?e:"normal"}(e.style),r=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(e){return"number"==typeof Pe[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Ie(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Le={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ke={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ne(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Me(e){return e.trimLeft()}function De(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Re(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var je,_e,Fe,He,Ue=["times"];!function(e){var t,n,r,i,o,s,l,c,h,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=Boolean(e)}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(e){e instanceof d&&(h=e)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(e){h.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var u=null;function p(e,t){if(null===u){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());u=function(e){for(var t={},n=0;n<e.length;++n){var r=Te(e[n]),i=r.family,o=r.stretch,a=r.style,s=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][a]=t[i][o][a]||{},t[i][o][a][s]=r}return t}(n.concat(t))}return u}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(e){u=null,g=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),i=t[4],o=(t[5],t[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return Ue;if(i in ke)return[ke[i]];for(;""!==i;){switch(n=null,t=(i=Me(i)).charAt(0)){case'"':case"'":n=De(i.substring(1),t);break;default:n=Re(i)}if(null===n)return Ue;if(r.push(n[0]),""!==(i=Me(n[1]))&&","!==i.charAt(0))return Ue;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Le,n.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=Te(t[s])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+Ne(o)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=Pe[e],r=n<=Pe.normal?-1:1,i=Ie(t,Be,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=Se[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Oe[e],r=Ie(t,Ee,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Ne(o)+"'.");return a}(p(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var h="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},u=0;u<s.length;u++){if(void 0!==this.pdf.internal.getFont(s[u],c,{noFallback:!0,disableWarning:!0})){h=s[u];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[u],"bold",{noFallback:!0,disableWarning:!0}))h=s[u],c="bold";else if(void 0!==this.pdf.internal.getFont(s[u],"normal",{noFallback:!0,disableWarning:!0})){h=s[u],c="normal";break}}if(""===h)for(var f=0;f<s.length;f++)if(d[s[f]]){h=d[s[f]];break}h=""===h?"Times":h,this.pdf.setFont(h,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"==typeof this.path[t+1]&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"==typeof this.path[t+2]&&"number"==typeof this.path[t+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[t+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(n,r)),o=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},u.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var l=this.ctx.transform.applyToPoint(new s(i,o)),c=this.ctx.transform.applyToPoint(new s(e,t)),h=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:c.x,y1:c.y,x2:h.x,y2:h.y,x:l.x,y:l.y}),this.ctx.lastPoint=new s(l.x,l.y)},u.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var l=this.ctx.transform.applyToPoint(new s(e,t));e=l.x,t=l.y;var c=this.ctx.transform.applyToPoint(new s(0,n)),h=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(c.x-h.x,2)+Math.pow(c.y-h.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},u.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new p(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},g=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!g.call(this)){n=C.call(this,n);var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;O.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){r=isNaN(r)?void 0:r,n=C.call(this,n);var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;O.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor,o=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new o({width:i*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new c(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new c(e,t,n,r,i,o)},u.prototype.drawImage=function(e,t,n,r,i,o,a,s,h){var d=this.pdf.getImageProperties(e),u=1,p=1,f=1,g=1;void 0!==r&&void 0!==s&&(f=s/r,g=h/i,u=d.width/r*s/r,p=d.height/i*h/i),void 0===o&&(o=t,a=n,t=0,n=0),void 0!==r&&void 0===s&&(s=r,h=i),void 0===r&&void 0===s&&(s=d.width,h=d.height);for(var A,y=this.ctx.transform.decompose(),w=M(y.rotate.shx),C=new c,S=(C=(C=(C=C.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToRectangle(new l(o-t*f,a-n*g,r*u,i*p)),B=m.call(this,S),P=[],E=0;E<B.length;E+=1)-1===P.indexOf(B[E])&&P.push(B[E]);if(b(P),this.autoPaging)for(var O=P[0],T=P[P.length-1],I=O;I<T+1;I++){if(this.pdf.setPage(I),0!==this.ctx.clip_path.length){var L=this.path;A=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(A,this.posX,-1*this.pdf.internal.pageSize.height*(I-1)+this.posY),x.call(this,"fill",!0),this.path=L}var k=JSON.parse(JSON.stringify(S));k=v([k],this.posX,-1*this.pdf.internal.pageSize.height*(I-1)+this.posY)[0],this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,w)}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,w)};var m=function(e,t,n){var r=[];switch(t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+this.posY)/n)+1);break;case"arc":r.push(Math.floor((e.y+this.posY-e.radius)/n)+1),r.push(Math.floor((e.y+this.posY+e.radius)/n)+1);break;case"qct":var i=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor(i.y/n)+1),r.push(Math.floor((i.y+i.h)/n)+1);break;case"bct":var o=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor(o.y/n)+1),r.push(Math.floor((o.y+o.h)/n)+1);break;case"rect":r.push(Math.floor((e.y+this.posY)/n)+1),r.push(Math.floor((e.y+e.h+this.posY)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;case"mt":case"lt":case"arc":default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort((function(e,t){return e-t}))},w=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=this.lineCap,s=this.lineWidth,l=s*this.ctx.transform.scaleX,c=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),u=[],p=0;p<d.length;p++)if(void 0!==d[p].x)for(var f=m.call(this,d[p]),g=0;g<f.length;g+=1)-1===u.indexOf(f[g])&&u.push(f[g]);for(var A=0;A<u.length;A++)for(;this.pdf.internal.getNumberOfPages()<u[A];)y.call(this);if(b(u),this.autoPaging)for(var w=u[0],C=u[u.length-1],S=w;S<C+1;S++){if(this.pdf.setPage(S),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=l,this.lineJoin=c,0!==this.ctx.clip_path.length){var B=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX,-1*this.pdf.internal.pageSize.height*(S-1)+this.posY),x.call(this,e,!0),this.path=B}r=JSON.parse(JSON.stringify(h)),this.path=v(r,this.posX,-1*this.pdf.internal.pageSize.height*(S-1)+this.posY),!1!==t&&0!==S||x.call(this,e,t),this.lineWidth=s}else this.lineWidth=l,x.call(this,e,t),this.lineWidth=s;this.path=h},x=function(e,t){if(("stroke"!==e||t||!A.call(this))&&("stroke"===e||t||!g.call(this))){for(var n,r,i=[],o=this.path,a=0;a<o.length;a++){var s=o[a];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(!isNaN(o[a-1].x)&&(n=[s.x-o[a-1].x,s.y-o[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(s);break}break;case"bct":n=[s.x1-o[a-1].x,s.y1-o[a-1].y,s.x2-o[a-1].x,s.y2-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=o[a-1].x+2/3*(s.x1-o[a-1].x),h=o[a-1].y+2/3*(s.y1-o[a-1].y),d=s.x+2/3*(s.x1-s.x),u=s.y+2/3*(s.y1-s.y),p=s.x,f=s.y;n=[c-o[a-1].x,h-o[a-1].y,d-o[a-1].x,u-o[a-1].y,p-o[a-1].x,f-o[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=0;m<i.length;m++){if(i[m].arc){for(var y=i[m].abs,v=0;v<y.length;v++){var b=y[v];"arc"===b.type?S.call(this,b.x,b.y,b.radius,b.startAngle,b.endAngle,b.counterclockwise,void 0,t):T.call(this,b.x,b.y)}B.call(this,r),this.pdf.internal.out("h")}if(!i[m].arc&&!0!==i[m].close&&!0!==i[m].begin){var w=i[m].start.x,x=i[m].start.y;I.call(this,i[m].deltas,w,x)}}r&&B.call(this,r),t&&P.call(this)}},C=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,i,o,a,s){for(var l=k.call(this,n,r,i,o),c=0;c<l.length;c++){var h=l[c];0===c&&E.call(this,h.x1+e,h.y1+t),L.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?P.call(this):B.call(this,a)},B=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},O=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.ctx.transform.applyToPoint(new s(e.x,e.y)),r=this.ctx.transform.decompose(),i=new c;i=(i=(i=i.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a,h,d=this.pdf.getTextDimensions(e.text),u=this.ctx.transform.applyToRectangle(new l(e.x,e.y,d.w,d.h)),p=i.applyToRectangle(new l(e.x,e.y-d.h,d.w,d.h)),f=m.call(this,p),g=[],A=0;A<f.length;A+=1)-1===g.indexOf(f[A])&&g.push(f[A]);if(b(g),!0===this.autoPaging)for(var y=g[0],w=g[g.length-1],C=y;C<w+1;C++){if(this.pdf.setPage(C),0!==this.ctx.clip_path.length){var S=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(o,this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY),x.call(this,"fill",!0),this.path=S}var B=JSON.parse(JSON.stringify(u));B=v([B],this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY)[0],e.scale>=.01&&(a=this.pdf.internal.getFontSize(),this.pdf.setFontSize(a*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(a),this.lineWidth=h)}else e.scale>=.01&&(a=this.pdf.internal.getFontSize(),this.pdf.setFontSize(a*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(a),this.lineWidth=h)},T=function(e,t,i,o){i=i||0,o=o||0,this.pdf.internal.out(n(e+i)+" "+r(t+o)+" l")},I=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},L=function(e,n,r,a,s,l,c,h){this.pdf.internal.out([t(i(r+e)),t(o(a+n)),t(i(s+e)),t(o(l+n)),t(i(c+e)),t(o(h+n)),"c"].join(" "))},k=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var s=[],l=r?-1:1,c=t;a>1e-5;){var h=c+l*Math.min(a,o);s.push(N.call(this,e,c,h)),a-=Math.abs(h-c),c=h}return s},N=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),a=i,s=-o,l=a*a+s*s,c=l+a*i+s*o,h=4/3*(Math.sqrt(2*l*c)-c)/(a*o-s*i),d=a-h*s,u=s+h*a,p=d,f=-u,g=r+t,A=Math.cos(g),m=Math.sin(g);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*A-u*m,y2:d*m+u*A,x3:p*A-f*m,y3:p*m+f*A,x4:e*Math.cos(n),y4:e*Math.sin(n)}},M=function(e){return 180*e/Math.PI},D=function(e,t,n,r,i,o){var a=e+.5*(n-e),s=t+.5*(r-t),c=i+.5*(n-i),h=o+.5*(r-o),d=Math.min(e,i,a,c),u=Math.max(e,i,a,c),p=Math.min(t,o,s,h),f=Math.max(t,o,s,h);return new l(d,p,u-d,f-p)},R=function(e,t,n,r,i,o,a,s){var c,h,d,u,p,f,g,A,m,y,v,b,w,x,C=n-e,S=r-t,B=i-n,P=o-r,E=a-i,O=s-o;for(h=0;h<41;h++)m=(g=(d=e+(c=h/40)*C)+c*((p=n+c*B)-d))+c*(p+c*(i+c*E-p)-g),y=(A=(u=t+c*S)+c*((f=r+c*P)-u))+c*(f+c*(o+c*O-f)-A),0==h?(v=m,b=y,w=m,x=y):(v=Math.min(v,m),b=Math.min(b,y),w=Math.max(w,m),x=Math.max(x,y));return new l(Math.round(v),Math.round(b),Math.round(w-v),Math.round(x-b))}}(D.API),function(e){var t=function(e){var t,n,r,i,o,a,s,l,c,h;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(h=o%85))/85)-(c=o%85))/85)-(l=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,l+33,c+33,h+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,a=String,s="length",l=255,c="charCodeAt",h="slice",d="replace";for(e[h](-2),e=e[h](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[h](e[s]%5||5))[s];o>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},o=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Object(r.b)(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,r){var a=0,s=e||"",l=[];for("string"==typeof(r=r||[])&&(r=[r]),a=0;a<r.length;a+=1)switch(r[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=i(s),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=o(s),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+r[a]+'" is not implemented')}return{data:s,reverseChain:l.reverse().join(" ")}}}(D.API),(He=D.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},He.loadImageFile=He.loadFile,function(e){function t(){return(i.html2canvas?Promise.resolve(i.html2canvas):n.e(5).then(n.t.bind(null,294,7))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(i.DOMPurify?Promise.resolve(i.DOMPurify):n.e(4).then(n.t.bind(null,295,7))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var o=function(e){var t=typeof e;return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r},l=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(e,t){return e.__proto__=t||l.prototype,e},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(o(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},l.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},l.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},l.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r=Object.assign({async:!0,allowTaint:!0,scale:1,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var o=n[i],a=o.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,o.ref.name,o.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=0==r.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,e(this.prop.container,r)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},l.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},l.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},l.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},l.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},l.prototype.set=function(e){if("object"!==o(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in l.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},l.prototype.get=function(e,t){return this.then((function(){var n=e in l.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},l.prototype.setMargin=function(e){return this.then((function(){switch(o(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},l.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||D.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},l.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},l.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},l.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:l.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return l.convert(i,this.__proto__)},l.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},l.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},l.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return l.convert(t,this)},l.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},l.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,D.getPageSize=function(e,t,n){if("object"==typeof e){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,l=0,c=0;if(a.hasOwnProperty(o))l=a[o][1]/i,c=a[o][0]/i;else try{l=n[1],c=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(s=c,c=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(s=c,c=l,l=s)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Te):null;var n=new l(t);return t.worker?n:n.from(e).doCallback()}}(D.API),D.API.addJS=function(e){return Fe=e,this.internal.events.subscribe("postPutResources",(function(){je=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(je+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fe+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==je&&void 0!==_e&&this.internal.out("/Names <</JavaScript "+je+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],a=n.exec(o);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var h=e.internal.newObject();c.push(h);var d=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var u=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+u+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(D.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,a){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),o={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(D.API);var ze,Qe,We,Ve,Xe,Ye=function(){var e,t,n;function o(e){var t,n,r,i,o,a,s,l,c,h,d,u,p,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,u=0;0<=t?u<t:u>t;0<=t?++u:--u)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((h=r-this.transparency.indexed.length)>0)for(p=0;0<=h?p<h:p>h;0<=h?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(d=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,d.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),i=0,o=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(r,a,s,l){var c,h,d,u,p,f,g,A,m,y,v,b,w,x,C,S,B,P,E,O,T,I=Math.ceil((o.width-r)/s),L=Math.ceil((o.height-a)/l),k=o.width==I&&o.height==L;for(x=t*I,b=k?n:new Uint8Array(x*L),f=e.length,w=0,h=0;w<L&&i<f;){switch(e[i++]){case 0:for(u=B=0;B<x;u=B+=1)b[h++]=e[i++];break;case 1:for(u=P=0;P<x;u=P+=1)c=e[i++],p=u<t?0:b[h-t],b[h++]=(c+p)%256;break;case 2:for(u=E=0;E<x;u=E+=1)c=e[i++],d=(u-u%t)/t,C=w&&b[(w-1)*x+d*t+u%t],b[h++]=(C+c)%256;break;case 3:for(u=O=0;O<x;u=O+=1)c=e[i++],d=(u-u%t)/t,p=u<t?0:b[h-t],C=w&&b[(w-1)*x+d*t+u%t],b[h++]=(c+Math.floor((p+C)/2))%256;break;case 4:for(u=T=0;T<x;u=T+=1)c=e[i++],d=(u-u%t)/t,p=u<t?0:b[h-t],0===w?C=S=0:(C=b[(w-1)*x+d*t+u%t],S=d&&b[(w-1)*x+(d-1)*t+u%t]),g=p+C-S,A=Math.abs(g-p),y=Math.abs(g-C),v=Math.abs(g-S),m=A<=y&&A<=v?p:y<=v?C:S,b[h++]=(c+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!k){var N=((a+w*l)*o.width+r)*t,M=w*x;for(u=0;u<I;u+=1){for(var D=0;D<t;D+=1)n[N++]=b[M++];N+=(s-1)*t}}w++}}return e=Object(r.a)(e),1==o.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),n},o.prototype.decodePalette=function(){var e,t,n,r,i,o,a,s,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},o.prototype.copyToImageData=function(e,t){var n,r,i,o,a,s,l,c,h,d,u;if(r=this.colors,h=null,n=this.hasAlphaChannel,this.palette.length&&(h=null!=(u=this._decodedPalette)?u:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,a=h||t,o=s=0,1===r)for(;o<c;)l=h?4*t[o/4]:s,d=a[l++],i[o++]=d,i[o++]=d,i[o++]=d,i[o++]=n?a[l++]:255,s=l;else for(;o<c;)l=h?4*t[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},o.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var a=function(){if("[object Window]"===Object.prototype.toString.call(i)){try{t=i.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return a(),e=function(e){var r;if(!0===a())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(t){var n,r,i,o,a,s,l,c;if(this.animation){for(c=[],r=a=0,s=(l=this.animation.frames).length;a<s;r=++a)n=l[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=e(i));return c}},o.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},o.prototype.animate=function(e){var t,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(t=function(){var a,l;if(a=n++%i,l=r[a],s.renderFrame(e,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(t,l.delay)})()},o.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},o.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},o}();function Ke(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,h=[],d=0,u=null,p=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,u=e[t++],0==(1&g)&&(u=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),C=s,S=l,B=!1;b>>7&&(B=!0,C=t,S=x,t+=3*x);var P=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}h.push({x:A,y:m,width:y,height:v,has_local_palette:B,palette_offset:C,palette_size:S,data_offset:P,data_length:t-P,transparent_index:u,interlaced:!!w,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=h.length)throw new Error("Frame index out of range.");return h[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);Ge(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,h=n-c,d=c,u=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),f=u,g=4*h;!0===i.interlaced&&(g+=4*n*7);for(var A=8,m=0,y=a.length;m<y;++m){var v=a[m];if(0===d&&(d=c,(f+=g)>=p&&(g=4*h+4*n*(A-1),f=u+(c+h)*(A<<1),A>>=1)),v===l)f+=4;else{var b=e[s+3*v],w=e[s+3*v+1],x=e[s+3*v+2];r[f++]=x,r[f++]=w,r[f++]=b,r[f++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);Ge(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,h=n-c,d=c,u=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),f=u,g=4*h;!0===i.interlaced&&(g+=4*n*7);for(var A=8,m=0,y=a.length;m<y;++m){var v=a[m];if(0===d&&(d=c,(f+=g)>=p&&(g=4*h+4*n*(A-1),f=u+(c+h)*(A<<1),A>>=1)),v===l)f+=4;else{var b=e[s+3*v],w=e[s+3*v+1],x=e[s+3*v+2];r[f++]=b,r[f++]=w,r[f++]=x,r[f++]=255}--d}}}function Ge(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,l=s+1,c=i+1,h=(1<<c)-1,d=0,u=0,p=0,f=e[t++],g=new Int32Array(4096),A=null;;){for(;d<16&&0!==f;)u|=e[t++]<<d,d+=8,1===f?f=e[t++]:--f;if(d<c)break;var m=u&h;if(u>>=c,d-=c,m!==o){if(m===s)break;for(var y=m<l?m:A,v=0,b=y;b>o;)b=g[b]>>8,++v;var w=b;if(p+v+(y!==m?1:0)>r)return void a.log("Warning, gif stream longer than expected.");n[p++]=w;var x=p+=v;for(y!==m&&(n[p++]=w),b=y;v--;)b=g[b],n[--x]=255&b,b>>=8;null!==A&&l<4096&&(g[l++]=A<<8|w,l>=h+1&&c<12&&(++c,h=h<<1|1)),A=m}else l=s+1,h=(1<<(c=i+1))-1,A=null}return p!==r&&a.log("Warning, gif stream shorter than expected."),n}function qe(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),u=new Array(65535),p=new Array(64),f=new Array(64),g=[],A=0,m=7,y=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function N(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(A|=1<<m),n--,--m<0&&(255==A?(M(255),M(0)):M(A),m=7,A=0)}function M(e){g.push(e)}function D(e){M(e>>8&255),M(255&e)}function R(e,t,n,r,i){for(var o,a=i[0],s=i[240],l=function(e,t){var n,r,i,o,a,s,l,c,h,d,u=0;for(h=0;h<8;++h){n=e[u],r=e[u+1],i=e[u+2],o=e[u+3],a=e[u+4],s=e[u+5],l=e[u+6];var f=n+(c=e[u+7]),g=n-c,A=r+l,m=r-l,y=i+s,v=i-s,b=o+a,w=o-a,x=f+b,C=f-b,S=A+y,B=A-y;e[u]=x+S,e[u+4]=x-S;var P=.707106781*(B+C);e[u+2]=C+P,e[u+6]=C-P;var E=.382683433*((x=w+v)-(B=m+g)),O=.5411961*x+E,T=1.306562965*B+E,I=.707106781*(S=v+m),L=g+I,k=g-I;e[u+5]=k+O,e[u+3]=k-O,e[u+1]=L+T,e[u+7]=L-T,u+=8}for(u=0,h=0;h<8;++h){n=e[u],r=e[u+8],i=e[u+16],o=e[u+24],a=e[u+32],s=e[u+40],l=e[u+48];var N=n+(c=e[u+56]),M=n-c,D=r+l,R=r-l,j=i+s,_=i-s,F=o+a,H=o-a,U=N+F,z=N-F,Q=D+j,W=D-j;e[u]=U+Q,e[u+32]=U-Q;var V=.707106781*(W+z);e[u+16]=z+V,e[u+48]=z-V;var X=.382683433*((U=H+_)-(W=R+M)),Y=.5411961*U+X,K=1.306562965*W+X,G=.707106781*(Q=_+R),q=M+G,J=M-G;e[u+40]=J+Y,e[u+24]=J-Y,e[u+8]=q+K,e[u+56]=q-K,u++}for(h=0;h<64;++h)d=e[h]*t[h],p[h]=d>0?d+.5|0:d-.5|0;return p}(e,t),c=0;c<64;++c)f[C[c]]=l[c];var h=f[0]-n;n=f[0],0==h?N(r[0]):(N(r[u[o=32767+h]]),N(d[o]));for(var g=63;g>0&&0==f[g];)g--;if(0==g)return N(a),n;for(var A,m=1;m<=g;){for(var y=m;0==f[m]&&m<=g;)++m;var v=m-y;if(v>=16){A=v>>4;for(var b=1;b<=A;++b)N(s);v&=15}o=32767+f[m],N(i[(v<<4)+u[o]]),N(d[o]),m++}return 63!=g&&N(a),n}function j(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[C[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var d=a((i[o]*e+50)/100);d=Math.min(Math.max(d,1),255),l[C[o]]=d}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var g=0;g<8;g++)c[p]=1/(s[C[p]]*u[f]*u[g]*8),h[p]=1/(l[C[p]]*u[f]*u[g]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&j(o),g=new Array,A=0,m=7,D(65496),D(65504),D(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),D(1),D(1),M(0),M(0),function(){D(65499),D(132),M(0);for(var e=0;e<64;e++)M(s[e]);M(1);for(var t=0;t<64;t++)M(l[t])}(),function(e,t){D(65472),D(17),M(8),D(t),D(e),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(e.width,e.height),function(){D(65476),D(418),M(0);for(var e=0;e<16;e++)M(S[e+1]);for(var t=0;t<=11;t++)M(B[t]);M(16);for(var n=0;n<16;n++)M(P[n+1]);for(var r=0;r<=161;r++)M(E[r]);M(1);for(var i=0;i<16;i++)M(O[i+1]);for(var o=0;o<=11;o++)M(T[o]);M(17);for(var a=0;a<16;a++)M(I[a+1]);for(var s=0;s<=161;s++)M(L[s])}(),D(65498),D(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var a=0,d=0,u=0;A=0,m=7,this.encode.displayName="_encode_";for(var p,f,w,C,k,_,F,H,U,z=e.data,Q=e.width,W=e.height,V=4*Q,X=0;X<W;){for(p=0;p<V;){for(k=V*X+p,F=-1,H=0,U=0;U<64;U++)_=k+(H=U>>3)*V+(F=4*(7&U)),X+H>=W&&(_-=V*(X+1+H-W)),p+F>=V&&(_-=p+F-V+4),f=z[_++],w=z[_++],C=z[_++],y[U]=(x[f]+x[w+256>>0]+x[C+512>>0]>>16)-128,v[U]=(x[f+768>>0]+x[w+1024>>0]+x[C+1280>>0]>>16)-128,b[U]=(x[f+1280>>0]+x[w+1536>>0]+x[C+1792>>0]>>16)-128;a=R(y,c,a,t,r),d=R(v,h,d,n,i),u=R(b,h,u,n,i),p+=32}X+=8}if(m>=0){var Y=[];Y[1]=m+1,Y[0]=(1<<m+1)-1,N(Y)}return D(65497),new Uint8Array(g)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=k(S,B),n=k(O,T),r=k(P,E),i=k(I,L),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)u[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)u[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),j(e)}function Je(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ze(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var o=i[r],a=0;a<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}function l(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new(Ze=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function h(e,n,r,i,a){if(t(2328>=a),512>=a)var s=o(512);else if(null==(s=o(a)))return 0;return function(e,n,r,i,a,s){var h,u,p=n,f=1<<r,g=o(16),A=o(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),u=0;u<a;++u){if(15<i[u])return 0;++g[i[u]]}if(g[0]==a)return 0;for(A[1]=0,h=1;15>h;++h){if(g[h]>1<<h)return 0;A[h+1]=A[h]+g[h]}for(u=0;u<a;++u)h=i[u],0<i[u]&&(s[A[h]++]=u);if(1==A[15])return(i=new d).g=0,i.value=s[0],c(e,p,1,f,i),f;var m,y=-1,v=f-1,b=0,w=1,x=1,C=1<<r;for(u=0,h=1,a=2;h<=r;++h,a<<=1){if(w+=x<<=1,0>(x-=g[h]))return 0;for(;0<g[h];--g[h])(i=new d).g=h,i.value=s[u++],c(e,p+b,a,C,i),b=l(b,h)}for(h=r+1,a=2;15>=h;++h,a<<=1){if(w+=x<<=1,0>(x-=g[h]))return 0;for(;0<g[h];--g[h]){if(i=new d,(b&v)!=y){for(p+=C,m=1<<(y=h)-r;15>y&&!(0>=(m-=g[y]));)++y,m<<=1;f+=C=1<<(m=y-r),e[n+(y=b&v)].g=m+r,e[n+y].value=p-n-y}i.g=h-r,i.value=s[u++],c(e,p+(b>>r),a,C,i),b=l(b,h)}}return w!=2*A[15]-1?0:f}(e,n,r,i,a,s)}function d(){this.value=this.g=0}function u(){this.value=this.g=0}function p(){this.G=a(5,d),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Fn,u)}function f(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,P(e)}function g(e,t){for(var n=0;0<t--;)n|=O(e,128)<<t;return n}function A(e,t){var n=g(e,t);return E(e)?-n:n}function m(e,n,r,i){var o,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)a+=n[r+o]<<8*o;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=Un){var r=x(e)&Hn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&zn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function S(e,t){e.u=t,e.h=C(e)}function B(e){e.u>=Qn&&(t(e.u>=Qn),y(e))}function P(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function E(e){return g(e,1)}function O(e,t){var n=e.Ca;0>e.b&&P(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Wn[r],e.b-=r,e.Ca=(n<<r)-1,o}function T(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255}function I(e,t){return e[t+0]<<0|e[t+1]<<8}function L(e,t){return I(e,t)|e[t+2]<<16}function k(e,t){return I(e,t)|I(e,t+2)<<16}function N(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function M(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function R(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],a=i[0];return 0==o&&(o=(e*a+n/2)/n),0==a&&(a=(n*o+e/2)/e),0>=o||0>=a?0:(r[0]=o,i[0]=a,1)}function j(e,t){return e+(1<<t)-1>>>t}function _(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function F(t,n){e[n]=function(n,r,i,o,a,s,l){var c;for(c=0;c<a;++c){var h=e[t](s[l+c-1],i,o+c);s[l+c]=_(n[r+c],h)}}}function H(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function Q(e,t){return z(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,i,o,a){for(r=o[a-1],n=0;n<i;++n)o[a+n]=r=_(e[t+n],r)}function X(e,t,n,r,i){var o;for(o=0;o<n;++o){var a=e[t+o],s=a>>8&255,l=16711935&(l=(l=16711935&a)+((s<<16)+s));r[i+o]=(4278255360&a)+l>>>0}}function Y(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,n,r,i,o){var a;for(a=0;a<r;++a){var s=t[n+a],l=s>>>8,c=s,h=255&(h=(h=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(h<<24>>24)>>>5)),i[o+a]=(4278255360&s)+(h<<16)+c}}function G(t,n,r,i,o){e[n]=function(e,t,n,r,a,s,l,c,h){for(r=l;r<c;++r)for(l=0;l<h;++l)a[s++]=o(n[i(e[t++])])},e[t]=function(t,n,a,s,l,c,h){var d=8>>t.b,u=t.Ea,p=t.K[0],f=t.w;if(8>d)for(t=(1<<t.b)-1,f=(1<<d)-1;n<a;++n){var g,A=0;for(g=0;g<u;++g)g&t||(A=i(s[l++])),c[h++]=o(p[A&f]),A>>=d}else e["VP8LMapColor"+r](s,l,p,f,c,h,n,a,u)}}function q(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255,r[i++]=o>>24&255}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;r[i++]=o,r[i++]=a}}function $(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=o,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>0&255,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,a){if(0==a)for(n=t+n;t<n;)T(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Qr||e==Wr||e==Vr||e==Xr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function he(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,a=i.fb+e.ka*i.A,s=mi[t.ba.S],l=e.y,c=e.O,h=e.f,d=e.N,u=e.ea,p=e.W,f=t.cc,g=t.dc,A=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?s(l,c,null,null,h,d,u,p,h,d,u,p,o,a,null,null,b):(s(t.ec,t.fc,l,c,f,g,A,m,h,d,u,p,o,a-i.A,o,a,b),++n);y+2<v;y+=2)f=h,g=d,A=u,m=p,d+=e.Rc,p+=e.Rc,a+=2*i.A,s(l,(c+=2*e.fa)-e.fa,l,c,f,g,A,m,h,d,u,p,o,a-i.A,o,a,b);return c+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,c,b),r(t.cc,t.dc,h,d,w),r(t.Mc,t.Nc,u,p,w),n--):1&v||s(l,c,null,null,h,d,u,p,h,d,u,p,o,a+i.A,null,null,b),n}function de(e,n,r){var i=e.F,o=[e.J];if(null!=i){var a=e.U,s=n.ba.S,l=s==Hr||s==Vr;n=n.ba.f.RGBA;var c=[0],h=e.ka;c[0]=e.T,e.Kb&&(0==h?--c[0]:(--h,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-h));var d=n.eb;h=n.fb+h*n.A,e=Br(i,o[0],e.width,a,c,d,h+(l?0:3),n.A),t(r==c),e&&re(s)&&Cr(d,h,l,a,c,n.A)}return 0}function ue(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==jr||n==Fr||n==Hr||n==Ur||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Rn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=he,vn()}}else alert("todo:EmitYUV");i&&(t.Jb=de,r&&mn())}if(r&&!Li){for(e=0;256>e;++e)ki[e]=89858*(e-128)+Pi>>Bi,Di[e]=-22014*(e-128)+Pi,Mi[e]=-45773*(e-128),Ni[e]=113618*(e-128)+Pi>>Bi;for(e=Ei;e<Oi;++e)t=76283*(e-16)+Pi>>Bi,Ri[e-Ei]=Ve(t,255),ji[e-Ei]=Ve(t+8>>4,15);Li=1}return 1}function pe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function ge(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function Ae(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Zr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),S(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,o){var a=e.ab,s=e.c*n,l=e.C;n=l+n;var c=i,h=o;for(o=e.Ta,i=e.Ua;0<a--;){var d=e.gc[a],u=l,p=n,f=c,g=h,A=(h=o,c=i,d.Ea);switch(t(u<p),t(p<=d.nc),d.hc){case 2:Yn(f,g,(p-u)*A,h,c);break;case 0:var m=u,y=p,v=h,b=c,w=(P=d).Ea;0==m&&(Vn(f,g,null,null,1,v,b),V(f,g+1,0,0,w-1,v,b+1),g+=w,b+=w,++m);for(var x=1<<P.b,C=x-1,S=j(w,P.b),B=P.K,P=P.w+(m>>P.b)*S;m<y;){var E=B,O=P,T=1;for(Xn(f,g,v,b-w,1,v,b);T<w;){var I=(T&~C)+x;I>w&&(I=w),(0,Zn[E[O++]>>8&15])(f,g+ +T,v,b+T-w,I-T,v,b+T),T=I}g+=w,b+=w,++m&C||(P+=S)}p!=d.nc&&r(h,c-A,h,c+(p-u-1)*A,A);break;case 1:for(A=f,y=g,w=(f=d.Ea)-(b=f&~(v=(g=1<<d.b)-1)),m=j(f,d.b),x=d.K,d=d.w+(u>>d.b)*m;u<p;){for(C=x,S=d,B=new H,P=y+b,E=y+f;y<P;)Y(C[S++],B),$n(B,A,y,g,h,c),y+=g,c+=g;y<E&&(Y(C[S++],B),$n(B,A,y,w,h,c),y+=w,c+=w),++u&v||(d+=m)}break;case 3:if(f==h&&g==c&&0<d.b){for(y=h,f=A=c+(p-u)*A-(b=(p-u)*j(d.Ea,d.b)),g=h,v=c,m=[],b=(w=b)-1;0<=b;--b)m[b]=g[v+b];for(b=w-1;0<=b;--b)y[f+b]=m[b];Kn(d,u,p,h,A,h,c)}else Kn(d,u,p,f,g,h,c)}c=o,h=i}h!=i&&r(o,i,c,h,s)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var a=e.l,s=e.Ta,l=e.Ua,c=a.width;if(we(e,o,r,i),o=l=[l],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var h=a.j-r;r=a.j,o[0]+=h*c}if(r>=i?r=0:(o[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var d=r.f.RGBA,u=(i=r.S,o=a.U,a=a.T,h=d.eb,d.A),p=a;for(d=d.fb+e.Ma*d.A;0<p--;){var f=s,g=l,A=o,m=h,y=d;switch(i){case Rr:er(f,g,A,m,y);break;case jr:tr(f,g,A,m,y);break;case Qr:tr(f,g,A,m,y),Cr(m,y,0,A,1,0);break;case _r:ir(f,g,A,m,y);break;case Fr:te(f,g,A,m,y,1);break;case Wr:te(f,g,A,m,y,1),Cr(m,y,0,A,1,0);break;case Hr:te(f,g,A,m,y,0);break;case Vr:te(f,g,A,m,y,0),Cr(m,y,1,A,1,0);break;case Ur:nr(f,g,A,m,y);break;case Xr:nr(f,g,A,m,y),Sr(m,y,A,1,0);break;case zr:rr(f,g,A,m,y);break;default:t(0)}l+=c,d+=u}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ce(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,i,o,a){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=Ai[e.Z]);n<r;++n)Ai[e.Z](s,l,i,o,i,o,a),s=i,l=o,o+=a;e.qd=s,e.rd=l}}function Be(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,a=r.ca,s=r.tb+o*i,l=e.V,c=e.Ba+e.c*i,h=e.gc;t(1==e.ab),t(3==h[0].hc),qn(h[0],i,n,l,c,a,s),Se(r,i,n,a,s,o)}e.C=e.Ma=n}function Pe(e,n,r,i,o,a,s){var l=e.$/i,c=e.$%i,h=e.m,d=e.s,u=r+e.$,p=u;o=r+i*o;var f=r+i*a,g=280+d.ua,A=e.Pb?l:16777216,m=0<d.ua?d.Wa:null,y=d.wc,v=u<f?be(d,c,l):null;t(e.C<a),t(f<=o);var b=!1;e:for(;;){for(;b||u<f;){var w=0;if(l>=A){var P=u-r;t((A=e).Pb),A.wd=A.m,A.xd=P,0<A.s.ua&&M(A.s.Wa,A.s.vb),A=l+ei}if(c&y||(v=be(d,c,l)),t(null!=v),v.Qb&&(n[u]=v.qb,b=!0),!b)if(B(h),v.jc){w=h,P=n;var E=u,O=v.pd[x(w)&Fn-1];t(v.jc),256>O.g?(S(w,w.u+O.g),P[E]=O.value,w=0):(S(w,w.u+O.g-256),t(256<=O.value),w=O.value),0==w&&(b=!0)}else w=ye(v.G[0],v.H[0],h);if(h.h)break;if(b||256>w){if(!b)if(v.nd)n[u]=(v.qb|w<<8)>>>0;else{if(B(h),b=ye(v.G[1],v.H[1],h),B(h),P=ye(v.G[2],v.H[2],h),E=ye(v.G[3],v.H[3],h),h.h)break;n[u]=(E<<24|b<<16|w<<8|P)>>>0}if(b=!1,++u,++c>=i&&(c=0,++l,null!=s&&l<=a&&!(l%16)&&s(e,l),null!=m))for(;p<u;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=Ae(w-256,h),P=ye(v.G[4],v.H[4],h),B(h),P=me(i,P=Ae(P,h)),h.h)break;if(u-r<P||o-u<w)break e;for(E=0;E<w;++E)n[u+E]=n[u+E-P];for(u+=w,c+=w;c>=i;)c-=i,++l,null!=s&&l<=a&&!(l%16)&&s(e,l);if(t(u<=o),c&y&&(v=be(d,c,l)),null!=m)for(;p<u;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<g))break e;for(b=w-280,t(null!=m);p<u;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=u,t(!(b>>>(P=m).Xa)),n[w]=P.X[b],b=!0}b||t(h.h==C(h))}if(e.Pb&&h.h&&u<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&M(e.s.vb,e.s.Wa);else{if(h.h)break e;null!=s&&s(e,l>a?a:l),e.a=0,e.$=u-r}return 1}return e.a=3,0}function Ee(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Oe(){var t=new sn;return null==t?null:(t.a=0,t.xb=gi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Yn=X,$n=K,er=q,tr=J,nr=Z,rr=$,ir=ee,e.VP8LMapColor32b=Gn,e.VP8LMapColor8b=Jn,t)}function Te(e,n,r,s,l){var c=1,u=[e],f=[n],g=s.m,A=s.s,m=null,y=0;e:for(;;){if(r)for(;c&&v(g,1);){var b=u,w=f,C=s,P=1,E=C.m,O=C.gc[C.ab],T=v(E,2);if(C.Oc&1<<T)c=0;else{switch(C.Oc|=1<<T,O.hc=T,O.Ea=b[0],O.nc=w[0],O.K=[null],++C.ab,t(4>=C.ab),T){case 0:case 1:O.b=v(E,3)+2,P=Te(j(O.Ea,O.b),j(O.nc,O.b),0,C,O.K),O.K=O.K[0];break;case 3:var I,L=v(E,8)+1,k=16<L?0:4<L?1:2<L?2:3;if(b[0]=j(O.Ea,k),O.b=k,I=P=Te(L,1,0,C,O.K)){var M,D=L,R=O,F=1<<(8>>R.b),H=o(F);if(null==H)I=0;else{var U=R.K[0],z=R.w;for(H[0]=R.K[0][0],M=1;M<1*D;++M)H[M]=_(U[z+M],H[M-1]);for(;M<4*F;++M)H[M]=0;R.K[0]=null,R.K[0]=H,I=1}}P=I;break;case 2:break;default:t(0)}c=P}}if(u=u[0],f=f[0],c&&v(g,1)&&!(c=1<=(y=v(g,4))&&11>=y)){s.a=3;break e}var Q;if(Q=c)t:{var W,V,X,Y=s,K=u,G=f,q=y,J=r,Z=Y.m,$=Y.s,ee=[null],te=1,ne=0,re=$r[q];n:for(;;){if(J&&v(Z,1)){var ie=v(Z,3)+2,oe=j(K,ie),ae=j(G,ie),se=oe*ae;if(!Te(oe,ae,0,Y,ee))break n;for(ee=ee[0],$.xc=ie,W=0;W<se;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(V=0;5>V;++V){var ce=Gr[V];!V&&0<q&&(ce+=1<<q),ne<ce&&(ne=ce)}var he=a(te*re,d),de=te,ue=a(de,p);if(null==ue)var pe=null;else t(65536>=de),pe=ue;var fe=o(ne);if(null==pe||null==fe||null==he){Y.a=1;break n}var ge=he;for(W=X=0;W<te;++W){var Ae=pe[W],me=Ae.G,ye=Ae.H,be=0,we=1,xe=0;for(V=0;5>V;++V){ce=Gr[V],me[V]=ge,ye[V]=X,!V&&0<q&&(ce+=1<<q);r:{var Ce,Se=ce,Be=Y,Oe=fe,Ie=ge,Le=X,ke=0,Ne=Be.m,Me=v(Ne,1);if(i(Oe,0,0,Se),Me){var De=v(Ne,1)+1,Re=v(Ne,1),je=v(Ne,0==Re?1:8);Oe[je]=1,2==De&&(Oe[je=v(Ne,8)]=1);var _e=1}else{var Fe=o(19),He=v(Ne,4)+4;if(19<He){Be.a=3;var Ue=0;break r}for(Ce=0;Ce<He;++Ce)Fe[Jr[Ce]]=v(Ne,3);var ze=void 0,Qe=void 0,We=Be,Ve=Fe,Xe=Se,Ye=Oe,Ke=0,Ge=We.m,qe=8,Je=a(128,d);i:for(;h(Je,0,7,Ve,19);){if(v(Ge,1)){var Ze=2+2*v(Ge,3);if((ze=2+v(Ge,Ze))>Xe)break i}else ze=Xe;for(Qe=0;Qe<Xe&&ze--;){B(Ge);var $e=Je[0+(127&x(Ge))];S(Ge,Ge.u+$e.g);var et=$e.value;if(16>et)Ye[Qe++]=et,0!=et&&(qe=et);else{var tt=16==et,nt=et-16,rt=Kr[nt],it=v(Ge,Yr[nt])+rt;if(Qe+it>Xe)break i;for(var ot=tt?qe:0;0<it--;)Ye[Qe++]=ot}}Ke=1;break i}Ke||(We.a=3),_e=Ke}(_e=_e&&!Ne.h)&&(ke=h(Ie,Le,8,Oe,Se)),_e&&0!=ke?Ue=ke:(Be.a=3,Ue=0)}if(0==Ue)break n;if(we&&1==qr[V]&&(we=0==ge[X].g),be+=ge[X].g,X+=Ue,3>=V){var at,st=fe[0];for(at=1;at<ce;++at)fe[at]>st&&(st=fe[at]);xe+=st}}if(Ae.nd=we,Ae.Qb=0,we&&(Ae.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==be&&256>me[0][ye[0]+0].value&&(Ae.Qb=1,Ae.qb+=me[0][ye[0]+0].value<<8)),Ae.jc=!Ae.Qb&&6>xe,Ae.jc){var lt,ct=Ae;for(lt=0;lt<Fn;++lt){var ht=lt,dt=ct.pd[ht],ut=ct.G[0][ct.H[0]+ht];256<=ut.value?(dt.g=ut.g+256,dt.value=ut.value):(dt.g=0,dt.value=0,ht>>=ve(ut,8,dt),ht>>=ve(ct.G[1][ct.H[1]+ht],16,dt),ht>>=ve(ct.G[2][ct.H[2]+ht],0,dt),ve(ct.G[3][ct.H[3]+ht],24,dt))}}}$.vc=ee,$.Wb=te,$.Ya=pe,$.yc=he,Q=1;break t}Q=0}if(!(c=Q)){s.a=3;break e}if(0<y){if(A.ua=1<<y,!N(A.Wa,y)){s.a=1,c=0;break e}}else A.ua=0;var pt=s,ft=u,gt=f,At=pt.s,mt=At.xc;if(pt.c=ft,pt.i=gt,At.md=j(ft,mt),At.wc=0==mt?-1:(1<<mt)-1,r){s.xb=fi;break e}if(null==(m=o(u*f))){s.a=1,c=0;break e}c=(c=Pe(s,m,0,u,f,f,null))&&!g.h;break e}return c?(null!=l?l[0]=m:(t(null==m),t(r)),s.$=0,r||Ee(A)):Ee(A),c}function Ie(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Le(e,n){var r=e.C,i=n-r,o=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,l=e.l.ma,c=e.l.width,h=c*s,d=l.ca,u=l.tb+c*r,p=e.Ta,f=e.Ua;we(e,s,o,a),Pr(p,f,d,u,h),Se(l,r,r+s,d,u,c),i-=s,o+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function ke(){this.ub=this.yd=this.td=this.Rb=0}function Ne(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Me(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function De(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function Re(){this.jb=o(3),this.Wc=s([4,8],De),this.Xc=s([4,17],De)}function je(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _e(){this.ld=this.La=this.dd=this.tc=0}function Fe(){this.Na=this.la=0}function He(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new _e),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Xe}function Qe(){this.y=o(16),this.f=o(8),this.ea=o(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new ke,this.Kc=new Ne,this.ed=new je,this.Qa=new Me,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,b),this.ia=0,this.pb=a(4,He),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qe),this.Hd=0,this.rb=Array(new Fe),this.sb=0,this.wa=Array(new _e),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=s([4,2],_e),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Xe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ye(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Je)),e}function Ke(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ge(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function qe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,a=n.ha;if(4>a)return Ke(e,7,"Truncated header.");var s=r[o+0]|r[o+1]<<8|r[o+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ke(e,4,"Frame not displayable.");o+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ke(e,7,"cannot parse picture header");if(!Ge(r,o,a))return Ke(e,3,"Bad code word");c.c=16383&(r[o+4]<<8|r[o+3]),c.Td=r[o+4]>>6,c.i=16383&(r[o+6]<<8|r[o+5]),c.Ud=r[o+6]>>6,o+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(l.ub>a)return Ke(e,7,"bad partition length");f(s=e.m,r,o,l.ub),o+=l.ub,a-=l.ub,l.Rb&&(c.Ld=E(s),c.Kd=E(s)),c=e.Qa;var h,d=e.Pa;if(t(null!=s),t(null!=c),c.Cb=E(s),c.Cb){if(c.Bb=E(s),E(s)){for(c.Fb=E(s),h=0;4>h;++h)c.Zb[h]=E(s)?A(s,7):0;for(h=0;4>h;++h)c.Lb[h]=E(s)?A(s,6):0}if(c.Bb)for(h=0;3>h;++h)d.jb[h]=E(s)?g(s,8):255}else c.Bb=0;if(s.Ka)return Ke(e,3,"cannot parse segment header");if((c=e.ed).zd=E(s),c.Tb=g(s,6),c.wb=g(s,3),c.Pc=E(s),c.Pc&&E(s)){for(d=0;4>d;++d)E(s)&&(c.vd[d]=A(s,6));for(d=0;4>d;++d)E(s)&&(c.od[d]=A(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return Ke(e,3,"cannot parse filter header");var u=a;if(a=h=o,o=h+u,c=u,e.Xb=(1<<g(e.m,2))-1,u<3*(d=e.Xb))r=7;else{for(h+=3*d,c-=3*d,u=0;u<d;++u){var p=r[a+0]|r[a+1]<<8|r[a+2]<<16;p>c&&(p=c),f(e.Jc[+u],r,h,p),h+=p,c-=p,a+=3}f(e.Jc[+d],r,h,c),r=h<o?0:5}if(0!=r)return Ke(e,r,"cannot parse partitions");for(r=g(h=e.m,7),a=E(h)?A(h,4):0,o=E(h)?A(h,4):0,c=E(h)?A(h,4):0,d=E(h)?A(h,4):0,h=E(h)?A(h,4):0,u=e.Qa,p=0;4>p;++p){if(u.Cb){var m=u.Zb[p];u.Fb||(m+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}m=r}var y=e.pb[p];y.Sc[0]=ti[Ve(m+a,127)],y.Sc[1]=ni[Ve(m+0,127)],y.Eb[0]=2*ti[Ve(m+o,127)],y.Eb[1]=101581*ni[Ve(m+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[Ve(m+d,117)],y.Qc[1]=ni[Ve(m+h,127)],y.lc=m+h}if(!l.Rb)return Ke(e,4,"Not a key frame.");for(E(s),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(o=0;3>o;++o)for(c=0;11>c;++c)d=O(s,ci[r][a][o][c])?g(s,8):si[r][a][o][c],l.Wc[r][a].Yb[o][c]=d;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][hi[a]]}return e.kc=E(s),e.kc&&(e.Bd=g(s,8)),e.cb=1}function Je(e,t,n,r,i,o,a){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!O(e,s[n+0]))return i;for(;!O(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(O(e,s[n+2])){var c=e,h=0;if(O(c,(u=s)[(d=n)+3]))if(O(c,u[d+6])){for(s=0,d=2*(h=O(c,u[d+8]))+(u=O(c,u[d+9+h])),h=0,u=ii[d];u[s];++s)h+=h+O(c,u[s]);h+=3+(8<<d)}else O(c,u[d+7])?(h=7+2*O(c,165),h+=O(c,145)):h=5+O(c,159);else h=O(c,u[d+4])?3+O(c,u[d+5]):2;s=l[2]}else h=1,s=l[1];l=a+oi[i],0>(c=e).b&&P(c);var d,u=c.b,p=(d=c.Ca>>1)-(c.I>>u)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(d+1&p)<<u,o[l]=((h^p)-p)*r[(0<i)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!qe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Fi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var h=e.Qa.Lb[s];e.Qa.Fb||(h+=l.Tb)}else h=l.Tb;for(c=0;1>=c;++c){var d=e.gd[s][c],u=h;if(l.Pc&&(u+=l.vd[0],c&&(u+=l.od[0])),0<(u=0>u?0:63<u?63:u)){var p=u;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),d.dd=p,d.tc=2*u+p,d.ld=40<=u?2:15<=u?1:0}else d.tc=0;d.La=c}}}s=0}else Ke(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Ui);e:{s=e.Ic,l=4*(p=e.za);var f=32*p,g=p+1,A=0<e.L?p*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*p;if((d=l+832+(c=3*(16*s+Fi[e.L])/2*f)+(h=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)s=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=o(d),e.Fc=0,null==e.Ec){s=Ke(e,1,"no memory during frame initialization.");break e}e.Vb=d}d=e.Ec,u=e.Fc,e.Ac=d,e.Bc=u,u+=l,e.Gd=a(f,Qe),e.Hd=0,e.rb=a(g+1,Fe),e.sb=1,e.wa=A?a(A,_e):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=d,e.pc=u,u+=832,e.ya=a(m,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(f=Fi[e.L])*e.R,f=f/2*e.B,e.sa=d,e.ta=u+p,e.qa=e.sa,e.ra=e.ta+16*s*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+f,e.$c=0,u+=c,e.mb=h?d:null,e.nb=h?u:null,t(u+h<=e.Fc+e.Vb),Ze(e),i(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Lr){for(s=-255;255>=s;++s)Er[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Or[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Tr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Ir[255+s]=0>s?0:255<s?255:s;Lr=1}or=ct,ar=ot,lr=at,cr=st,hr=lt,sr=it,dr=Kt,ur=Gt,pr=Zt,fr=$t,gr=qt,Ar=Jt,mr=en,yr=tn,vr=zt,br=Qt,wr=Wt,xr=Vt,ui[0]=St,ui[1]=dt,ui[2]=xt,ui[3]=Ct,ui[4]=Bt,ui[5]=Et,ui[6]=Pt,ui[7]=Ot,ui[8]=It,ui[9]=Tt,di[0]=mt,di[1]=pt,di[2]=ft,di[3]=gt,di[4]=yt,di[5]=vt,di[6]=bt,pi[0]=Mt,pi[1]=ut,pi[2]=Lt,pi[3]=kt,pi[4]=Rt,pi[5]=Dt,pi[6]=jt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var h=l,d=c,u=d.Ac,p=d.Bc+4*a,f=d.zc,g=d.ya[d.aa+a];if(d.Qa.Bb?g.$b=O(h,d.Pa.jb[0])?2+O(h,d.Pa.jb[2]):O(h,d.Pa.jb[1]):g.$b=0,d.kc&&(g.Ad=O(h,d.Bd)),g.Za=!O(h,145)+0,g.Za){var A=g.Ob,m=0;for(d=0;4>d;++d){var y,v=f[0+d];for(y=0;4>y;++y){v=li[u[p+y]][v];for(var b=ai[O(h,v[0])];0<b;)b=ai[2*b+O(h,v[b])];v=-b,u[p+y]=v}r(A,m,u,p,4),m+=4,f[0+d]=v}}else v=O(h,156)?O(h,128)?1:3:O(h,163)?2:0,g.Ob[0]=v,i(u,p,v,4),i(f,0,v,4);g.Dd=O(h,142)?O(h,114)?O(h,183)?1:3:2:0}if(c.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,h=(l=e).rb[l.sb-1],u=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],p=l.kc?a.Ad:0)h.la=u.la=0,a.Za||(h.Na=u.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,x;if(h=u,u=c,p=l.Pa.Xc,f=l.ya[l.aa+l.ja],g=l.pb[f.$b],d=f.ad,A=0,m=l.rb[l.sb-1],v=y=0,i(d,A,0,384),f.Za)var C=0,S=p[3];else{b=o(16);var B=h.Na+m.Na;if(B=ri(u,p[1],B,g.Eb,0,b,0),h.Na=m.Na=(0<B)+0,1<B)or(b,0,d,A);else{var P=b[0]+3>>3;for(b=0;256>b;b+=16)d[A+b]=P}C=1,S=p[0]}var E=15&h.la,T=15&m.la;for(b=0;4>b;++b){var I=1&T;for(P=x=0;4>P;++P)E=E>>1|(I=(B=ri(u,S,B=I+(1&E),g.Sc,C,d,A))>C)<<7,x=x<<2|(3<B?3:1<B?2:0!=d[A+0]),A+=16;E>>=4,T=T>>1|I<<7,y=(y<<8|x)>>>0}for(S=E,C=T>>4,w=0;4>w;w+=2){for(x=0,E=h.la>>4+w,T=m.la>>4+w,b=0;2>b;++b){for(I=1&T,P=0;2>P;++P)B=I+(1&E),E=E>>1|(I=0<(B=ri(u,p[2],B,g.Qc,0,d,A)))<<3,x=x<<2|(3<B?3:1<B?2:0!=d[A+0]),A+=16;E>>=2,T=T>>1|I<<5}v|=x<<4*w,S|=E<<4<<w,C|=(240&T)<<w}h.la=S,m.la=C,f.Hc=y,f.Gc=v,f.ia=43690&v?0:g.ia,p=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,a=(s=e).D,h=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=h,Mn(s,a),c=1,a=(x=s.D).Nb,h=(v=Fi[s.L])*s.R,u=v/2*s.B,b=16*a*s.R,P=8*a*s.B,p=s.sa,f=s.ta-h+b,g=s.qa,d=s.ra-u+P,A=s.Ha,m=s.Ia-u+P,T=0==(E=x.M),y=E>=s.Va-1,2==s.Aa&&Mn(s,x),x.uc)for(I=(B=s).D.M,t(B.D.uc),x=B.yb;x<B.Hb;++x){C=x,S=I;var L=(k=(U=B).D).Nb;w=U.R;var k=k.wa[k.Y+C],N=U.sa,M=U.ta+16*L*w+16*C,D=k.dd,R=k.tc;if(0!=R)if(t(3<=R),1==U.L)0<C&&br(N,M,w,R+4),k.La&&xr(N,M,w,R),0<S&&vr(N,M,w,R+4),k.La&&wr(N,M,w,R);else{var j=U.B,_=U.qa,F=U.ra+8*L*j+8*C,H=U.Ha,U=U.Ia+8*L*j+8*C;L=k.ld,0<C&&(ur(N,M,w,R+4,D,L),fr(_,F,H,U,j,R+4,D,L)),k.La&&(Ar(N,M,w,R,D,L),yr(_,F,H,U,j,R,D,L)),0<S&&(dr(N,M,w,R+4,D,L),pr(_,F,H,U,j,R+4,D,L)),k.La&&(gr(N,M,w,R,D,L),mr(_,F,H,U,j,R,D,L))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*E,E=16*(E+1),T?(l.y=s.sa,l.O=s.ta+b,l.f=s.qa,l.N=s.ra+P,l.ea=s.Ha,l.W=s.Ia+P):(x-=v,l.y=p,l.O=f,l.f=g,l.N=d,l.ea=A,l.W=m),y||(E-=v),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&x<E&&(l.J=un(s,l,x,E-x),l.F=s.mb,null==l.F&&0==l.F.length)){c=Ke(s,3,"Could not decode alpha data.");break e}x<l.j&&(v=l.j-x,x=l.j,t(!(1&v)),l.O+=s.R*v,l.N+=s.B*(v>>1),l.W+=s.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),x<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=E-x,c=l.put(l))}a+1!=s.Ic||y||(r(s.sa,s.ta-h,p,f+16*s.R,h),r(s.qa,s.ra-u,g,d+8*s.B,u),r(s.Ha,s.Ia-u,A,m+8*s.B,u))}if(!c)return Ke(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,a=0,s=o(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],h=(35468*e[t+4]>>16)-nt(e[t+12]),d=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=l+d,s[a+1]=c+h,s[a+2]=c-h,s[a+3]=l-d,a+=4,t++}for(i=a=0;4>i;++i)l=(e=s[a+0]+4)+s[a+8],c=e-s[a+8],h=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,l+(d=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,c+h),et(n,r,2,0,c-h),et(n,r,3,0,l-d),a++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,i+a,e=nt(e[t+1]),s),tt(n,r,1,i+o,e,s),tt(n,r,2,i-o,e,s),tt(n,r,3,i-a,e,s)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var i,a=o(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],h=e[t+0+i]-e[t+12+i];a[0+i]=s+l,a[8+i]=s-l,a[4+i]=h+c,a[12+i]=h-c}for(i=0;4>i;++i)s=(e=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],h=e-a[3+4*i],n[r+0]=s+l>>3,n[r+16]=h+c>>3,n[r+32]=s-l>>3,n[r+48]=h-c>>3,r+=64}function ht(e,t,n){var r,i=t-32,o=Mr,a=255-e[i-1];for(r=0;r<n;++r){var s,l=o,c=a+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[i+s]];t+=32}}function dt(e,t){ht(e,t,4)}function ut(e,t){ht(e,t,8)}function pt(e,t){ht(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function gt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function At(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];At(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];At(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];At(r>>4,e,t)}function bt(e,t){At(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function Ct(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];T(e,t+0,16843009*wt(e[t-1-32],n,r)),T(e,t+32,16843009*wt(n,r,i)),T(e,t+64,16843009*wt(r,i,o)),T(e,t+96,16843009*wt(i,o,o))}function St(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Bt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(a,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,a,o),e[t+3+32]=e[t+2+0]=wt(l,s,a),e[t+3+0]=wt(c,l,s)}function Pt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,o,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(o,a,s),e[t+3+64]=e[t+2+96]=wt(a,s,l),e[t+3+96]=wt(s,l,l)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=o+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=wt(i,r,n),e[t+0+64]=wt(r,n,o),e[t+0+32]=e[t+1+96]=wt(n,o,a),e[t+1+32]=e[t+2+96]=wt(o,a,s),e[t+2+32]=e[t+3+96]=wt(a,s,l),e[t+3+32]=wt(s,l,c)}function Ot(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],a=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+a+1>>1,e[t+0+32]=wt(n,r,i),e[t+1+32]=e[t+0+96]=wt(r,i,o),e[t+2+32]=e[t+1+96]=wt(i,o,a),e[t+3+32]=e[t+2+96]=wt(o,a,s),e[t+3+64]=wt(a,s,l),e[t+3+96]=wt(s,l,c)}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=wt(n,r,i),e[t+3+0]=e[t+1+32]=wt(r,i,o),e[t+3+32]=e[t+1+64]=wt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function It(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],a=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=wt(s,l,c),e[t+2+0]=wt(a,s,l),e[t+1+0]=e[t+3+32]=wt(n,a,s),e[t+1+32]=e[t+3+64]=wt(r,n,a),e[t+1+64]=e[t+3+96]=wt(i,r,n),e[t+1+96]=wt(o,i,r)}function Lt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function kt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Nt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Mt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Nt(r>>4,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Nt(r>>3,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Nt(r>>3,e,t)}function jt(e,t){Nt(128,e,t)}function _t(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+kr[1020+e[t-2*n]-e[t+n]],a=Nr[112+(o+4>>3)];e[t-n]=Mr[255+r+Nr[112+(o+3>>3)]],e[t+0]=Mr[255+i-a]}function Ft(e,t,n,r){var i=e[t+0],o=e[t+n];return Dr[255+e[t-2*n]-e[t-n]]>r||Dr[255+o-i]>r}function Ht(e,t,n,r){return 4*Dr[255+e[t-n]-e[t+0]]+Dr[255+e[t-2*n]-e[t+n]]<=r}function Ut(e,t,n,r,i){var o=e[t-3*n],a=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],h=e[t+2*n],d=e[t+3*n];return 4*Dr[255+s-l]+Dr[255+a-c]>r?0:Dr[255+e[t-4*n]-o]<=i&&Dr[255+o-a]<=i&&Dr[255+a-s]<=i&&Dr[255+d-h]<=i&&Dr[255+h-c]<=i&&Dr[255+c-l]<=i}function zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ht(e,t+r,n,i)&&_t(e,t+r,n)}function Qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ht(e,t+r*n,1,i)&&_t(e,t+r*n,1)}function Wt(e,t,n,r){var i;for(i=3;0<i;--i)zt(e,t+=4*n,n,r)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)Qt(e,t+=4,n,r)}function Xt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,a))if(Ft(e,t,n,s))_t(e,t,n);else{var l=e,c=t,h=n,d=l[c-2*h],u=l[c-h],p=l[c+0],f=l[c+h],g=l[c+2*h],A=27*(y=kr[1020+3*(p-u)+kr[1020+d-f]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;l[c-3*h]=Mr[255+l[c-3*h]+y],l[c-2*h]=Mr[255+d+m],l[c-h]=Mr[255+u+A],l[c+0]=Mr[255+p-A],l[c+h]=Mr[255+f-m],l[c+2*h]=Mr[255+g-y]}t+=r}}function Yt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,a))if(Ft(e,t,n,s))_t(e,t,n);else{var l=e,c=t,h=n,d=l[c-h],u=l[c+0],p=l[c+h],f=Nr[112+(4+(g=3*(u-d))>>3)],g=Nr[112+(g+3>>3)],A=f+1>>1;l[c-2*h]=Mr[255+l[c-2*h]+A],l[c-h]=Mr[255+d+g],l[c+0]=Mr[255+u-f],l[c+h]=Mr[255+p-A]}t+=r}}function Kt(e,t,n,r,i,o){Xt(e,t,n,1,16,r,i,o)}function Gt(e,t,n,r,i,o){Xt(e,t,1,n,16,r,i,o)}function qt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Yt(e,t+=4*n,n,1,16,r,i,o)}function Jt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Yt(e,t+=4,1,n,16,r,i,o)}function Zt(e,t,n,r,i,o,a,s){Xt(e,t,i,1,8,o,a,s),Xt(n,r,i,1,8,o,a,s)}function $t(e,t,n,r,i,o,a,s){Xt(e,t,1,i,8,o,a,s),Xt(n,r,1,i,8,o,a,s)}function en(e,t,n,r,i,o,a,s){Yt(e,t+4*i,i,1,8,o,a,s),Yt(n,r+4*i,i,1,8,o,a,s)}function tn(e,t,n,r,i,o,a,s){Yt(e,t+4,1,i,8,o,a,s),Yt(n,r+4,1,i,8,o,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new d}function sn(){this.xb=this.a=0,this.l=new Xe,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,i,o,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function hn(e,t,n,r,i,o,a){var s;if(null==e)cn(null,null,n,r,i,o,a);else for(s=0;s<a;++s)i[o+s]=e[t+s]+n[r+s]&255}function dn(e,t,n,r,i,o,a){if(null==e)cn(null,null,n,r,i,o,a);else{var s,l=e[t+0],c=l,h=l;for(s=0;s<a;++s)c=h+(l=e[t+s])-c,h=n[r+s]+(-256&c?0>c?0:255:c)&255,c=l,i[o+s]=h}}function un(e,n,i,a){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=o(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var h=e.Fa,d=e.P,u=e.qc,p=e.mb,f=e.nb,g=d+1,A=u-1,y=c.l;if(t(null!=h&&null!=p&&null!=n),Ai[0]=null,Ai[1]=cn,Ai[2]=hn,Ai[3]=dn,c.ca=p,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=u)n=0;else if(c.$a=h[d+0]>>0&3,c.Z=h[d+0]>>2&3,c.Lc=h[d+0]>>4&3,d=h[d+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||d)n=0;else if(y.put=pe,y.ac=ue,y.bc=fe,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=Oe();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,m(n.m,h,g,A),!Te(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ce(n.s)?(c.ic=1,h=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(h),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Ie(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=A>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-i}t(null!=e.ga),t(i+a<=l);e:{if(n=(h=e.ga).c,l=h.l.o,0==h.$a){if(g=e.rc,A=e.Vc,y=e.Fa,d=e.P+1+i*n,u=e.mb,p=e.nb+i*n,t(d<=e.P+e.qc),0!=h.Z)for(t(null!=Ai[h.Z]),c=0;c<a;++c)Ai[h.Z](g,A,y,d,u,p,n),g=u,A=p,p+=n,d+=n;else for(c=0;c<a;++c)r(u,p,y,d,n),g=u,A=p,p+=n,d+=n;e.rc=g,e.Vc=A}else{if(t(null!=h.mc),n=i+a,t(null!=(c=h.mc)),t(n<=c.i),c.C>=n)n=1;else if(h.ic||mn(),h.ic){h=c.V,g=c.Ba,A=c.c;var v=c.i,b=(y=1,d=c.$/A,u=c.$%A,p=c.m,f=c.s,c.$),w=A*v,x=A*n,S=f.wc,P=b<x?be(f,u,d):null;t(b<=w),t(n<=v),t(Ce(f));t:for(;;){for(;!p.h&&b<x;){if(u&S||(P=be(f,u,d)),t(null!=P),B(p),256>(v=ye(P.G[0],P.H[0],p)))h[g+b]=v,++b,++u>=A&&(u=0,++d<=n&&!(d%16)&&Be(c,d));else{if(!(280>v)){y=0;break t}v=Ae(v-256,p);var E,O=ye(P.G[4],P.H[4],p);if(B(p),!(b>=(O=me(A,O=Ae(O,p)))&&w-b>=v)){y=0;break t}for(E=0;E<v;++E)h[g+b+E]=h[g+b+E-O];for(b+=v,u+=v;u>=A;)u-=A,++d<=n&&!(d%16)&&Be(c,d);b<x&&u&S&&(P=be(f,u,d))}t(p.h==C(p))}Be(c,d>n?n:d);break t}!y||p.h&&b<w?(y=0,c.a=p.h?5:3):c.$=b,n=y}else n=Pe(c,c.V,c.Ba,c.c,c.i,n,Le);if(!n){a=0;break e}}i+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function pn(e,t,n,r,i,o){for(;0<i--;){var a,s=e,l=t+(n?1:0),c=e,h=t+(n?0:3);for(a=0;a<r;++a){var d=c[h+4*a];255!=d&&(d*=32897,s[l+4*a+0]=s[l+4*a+0]*d>>23,s[l+4*a+1]=s[l+4*a+1]*d>>23,s[l+4*a+2]=s[l+4*a+2]*d>>23)}t+=o}}function fn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var a=e[t+2*o+0],s=15&(c=e[t+2*o+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*o+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*o+1]=240&c|s}t+=i}}function gn(e,t,n,r,i,o,a,s){var l,c,h=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var d=e[t+l];o[a+4*l]=d,h&=d}t+=n,a+=s}return 255!=h}function An(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function mn(){Cr=pn,Sr=fn,Br=gn,Pr=An}function yn(n,r,i){e[n]=function(e,n,o,a,s,l,c,h,d,u,p,f,g,A,m,y,v){var b,w=v-1>>1,x=s[l+0]|c[h+0]<<16,C=d[u+0]|p[f+0]<<16;t(null!=e);var S=3*x+C+131074>>2;for(r(e[n+0],255&S,S>>16,g,A),null!=o&&(S=3*C+x+131074>>2,r(o[a+0],255&S,S>>16,m,y)),b=1;b<=w;++b){var B=s[l+b]|c[h+b]<<16,P=d[u+b]|p[f+b]<<16,E=x+B+C+P+524296,O=E+2*(B+C)>>3;S=O+x>>1,x=(E=E+2*(x+P)>>3)+B>>1,r(e[n+2*b-1],255&S,S>>16,g,A+(2*b-1)*i),r(e[n+2*b-0],255&x,x>>16,g,A+(2*b-0)*i),null!=o&&(S=E+C>>1,x=O+P>>1,r(o[a+2*b-1],255&S,S>>16,m,y+(2*b-1)*i),r(o[a+2*b+0],255&x,x>>16,m,y+(2*b+0)*i)),x=B,C=P}1&v||(S=3*x+C+131074>>2,r(e[n+v-1],255&S,S>>16,g,A+(v-1)*i),null!=o&&(S=3*C+x+131074>>2,r(o[a+v-1],255&S,S>>16,m,y+(v-1)*i)))}}function vn(){mi[Rr]=yi,mi[jr]=bi,mi[_r]=vi,mi[Fr]=wi,mi[Hr]=xi,mi[Ur]=Ci,mi[zr]=Si,mi[Qr]=bi,mi[Wr]=wi,mi[Vr]=xi,mi[Xr]=Ci}function bn(e){return e&~Ii?0>e?0:255:e>>Ti}function wn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Cn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,r,i){r[i+0]=wn(e,n),r[i+1]=xn(e,t,n),r[i+2]=Cn(e,t)}function Bn(e,t,n,r,i){r[i+0]=Cn(e,t),r[i+1]=xn(e,t,n),r[i+2]=wn(e,n)}function Pn(e,t,n,r,i){var o=xn(e,t,n);t=o<<3&224|Cn(e,t)>>3,r[i+0]=248&wn(e,n)|o>>5,r[i+1]=t}function En(e,t,n,r,i){var o=240&Cn(e,t)|15;r[i+0]=240&wn(e,n)|xn(e,t,n)>>4,r[i+1]=o}function On(e,t,n,r,i){r[i+0]=255,Sn(e,t,n,r,i+1)}function Tn(e,t,n,r,i){Bn(e,t,n,r,i),r[i+3]=255}function In(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function Ln(t,n,r){e[t]=function(e,t,i,o,a,s,l,c,h){for(var d=c+(-2&h)*r;c!=d;)n(e[t+0],i[o+0],a[s+0],l,c),n(e[t+1],i[o+0],a[s+0],l,c+r),t+=2,++o,++s,c+=2*r;1&h&&n(e[t+0],i[o+0],a[s+0],l,c)}}function kn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Nn(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:cr(t,n,r,i)}}function Mn(e,t){var n,o,a=t.M,s=t.Nb,l=e.oc,c=e.pc+40,h=e.oc,d=e.pc+584,u=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)h[d+32*n-1]=129,u[p+32*n-1]=129;for(0<a?l[c-1-32]=h[d-1-32]=u[p-1-32]=129:(i(l,c-32-1,127,21),i(h,d-32-1,127,9),i(u,p-32-1,127,9)),o=0;o<e.za;++o){var f=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(h,d+32*n-4,h,d+32*n+4,4),r(u,p+32*n-4,u,p+32*n+4,4)}var g=e.Gd,A=e.Hd+o,m=f.ad,y=f.Hc;if(0<a&&(r(l,c-32,g[A].y,0,16),r(h,d-32,g[A].f,0,8),r(u,p-32,g[A].ea,0,8)),f.Za){var v=l,b=c-32+16;for(0<a&&(o>=e.za-1?i(v,b,g[A].y[15],4):r(v,b,g[A+1].y,0,4)),n=0;4>n;n++)v[b+128+n]=v[b+256+n]=v[b+384+n]=v[b+0+n];for(n=0;16>n;++n,y<<=2)v=l,b=c+_i[n],ui[f.Ob[n]](v,b),Nn(y,m,16*+n,v,b)}else if(v=kn(o,a,f.Ob[0]),di[v](l,c),0!=y)for(n=0;16>n;++n,y<<=2)Nn(y,m,16*+n,l,c+_i[n]);for(n=f.Gc,v=kn(o,a,f.Dd),pi[v](h,d),pi[v](u,p),y=m,v=h,b=d,255&(f=n>>0)&&(170&f?lr(y,256,v,b):hr(y,256,v,b)),f=u,y=p,255&(n>>=8)&&(170&n?lr(m,320,f,y):hr(m,320,f,y)),a<e.Ub-1&&(r(g[A].y,0,l,c+480,16),r(g[A].f,0,h,d+224,8),r(g[A].ea,0,u,p+224,8)),n=8*s*e.B,g=e.sa,A=e.ta+16*o+16*s*e.R,m=e.qa,f=e.ra+8*o+n,y=e.Ha,v=e.Ia+8*o+n,n=0;16>n;++n)r(g,A+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(m,f+n*e.B,h,d+32*n,8),r(y,v+n*e.B,u,p+32*n,8)}}function Dn(e,r,i,o,a,s,l,c,h){var d=[0],u=[0],p=0,f=null!=h?h.kd:0,g=null!=h?h:new rn;if(null==e||12>i)return 7;g.data=e,g.w=r,g.ha=i,r=[r],i=[i],g.gb=[g.gb];e:{var A=r,y=i,v=g.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,A[0],"RIFF")){if(n(e,A[0]+8,"WEBP")){v=3;break e}var b=k(e,A[0]+4);if(12>b||4294967286<b){v=3;break e}if(f&&b>y[0]-8){v=7;break e}v[0]=b,A[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(b=0<g.gb[0],i=i[0];;){e:{var x=e;y=r,v=i;var C=d,S=u,B=A=[0];if((O=p=[p])[0]=0,8>v[0])v=7;else{if(!n(x,y[0],"VP8X")){if(10!=k(x,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var P=k(x,y[0]+8),E=1+L(x,y[0]+12);if(2147483648<=E*(x=1+L(x,y[0]+15))){v=3;break e}null!=B&&(B[0]=P),null!=C&&(C[0]=E),null!=S&&(S[0]=x),y[0]+=18,v[0]-=18,O[0]=1}v=0}}if(p=p[0],A=A[0],0!=v)return v;if(y=!!(2&A),!b&&p)return 3;if(null!=s&&(s[0]=!!(16&A)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=d[0],A=u[0],p&&y&&null==h){v=0;break}if(4>i){v=7;break}if(b&&p||!b&&!p&&!n(e,r[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{P=e,v=r,b=i;var O=g.gb;C=g.na,S=g.P,B=g.Sa,E=22,t(null!=P),t(null!=b),x=v[0];var T=b[0];for(t(null!=C),t(null!=B),C[0]=null,S[0]=null,B[0]=0;;){if(v[0]=x,b[0]=T,8>T){v=7;break e}var I=k(P,x+4);if(4294967286<I){v=3;break e}var N=8+I+1&-2;if(E+=N,0<O&&E>O){v=3;break e}if(!n(P,x,"VP8 ")||!n(P,x,"VP8L")){v=0;break e}if(T[0]<N){v=7;break e}n(P,x,"ALPH")||(C[0]=P,S[0]=x+8,B[0]=I),x+=N,T-=N}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];e:if(O=e,v=r,b=i,C=g.gb[0],S=g.Ja,B=g.xa,P=v[0],x=!n(O,P,"VP8 "),E=!n(O,P,"VP8L"),t(null!=O),t(null!=b),t(null!=S),t(null!=B),8>b[0])v=7;else{if(x||E){if(O=k(O,P+4),12<=C&&O>C-12){v=3;break e}if(f&&O>b[0]-8){v=7;break e}S[0]=O,v[0]+=8,b[0]-=8,B[0]=E}else B[0]=5<=b[0]&&47==O[P+0]&&!(O[P+4]>>5),S[0]=b[0];v=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==c||y||(c[0]=g.xa?2:1),l=[l],A=[A],g.xa){if(5>i){v=7;break}c=l,f=A,y=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],O=[0],C=[0],m(S=new w,e,r,i),ge(S,b,O,C)?(null!=c&&(c[0]=b[0]),null!=f&&(f[0]=O[0]),null!=y&&(y[0]=C[0]),e=1):e=0):e=0}else{if(10>i){v=7;break}c=A,null==e||10>i||!Ge(e,r+3,i-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=g.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],A=A[0],p&&(d[0]!=l||u[0]!=A))return 3;null!=h&&(h[0]=g,h.offset=r-h.w,t(4294967286>r-h.w),t(h.offset==h.ha-i));break}return 0==v||7==v&&p&&null==h?(null!=s&&(s[0]|=null!=g.na&&0<g.na.length),null!=o&&(o[0]=l),null!=a&&(a[0]=A),0):v}function Rn(e,t,n){var r=t.width,i=t.height,o=0,a=0,s=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,o=e.v,a=e.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=l||o+s>r||a+l>i))return 0;if(t.v=o,t.j=a,t.va=o+s,t.o=a+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(s,l,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function jn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function _n(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=i||0>=a||s+i>e||l+a>t)return 2;e=i,t=a}if(n.da){if(!R(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,h=r.height;if(e=r.S,0>=c||0>=h||!(e>=Rr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=i=t=0;var d=(l=c*zi[e])*h;if(11>e||(a=(h+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*h)),null==(h=o(d+2*a+s))){e=1;break e}r.sd=h,11>e?((c=r.f.RGBA).eb=h,c.fb=0,c.A=l,c.size=d):((c=r.f.kb).y=h,c.O=0,c.fa=l,c.Fd=d,c.f=h,c.N=0+d,c.Ab=t,c.Cd=a,c.ea=h,c.W=0+d+a,c.Db=t,c.Ed=a,12==e&&(c.F=h,c.J=0+d+2*a),c.Tc=s,c.lb=i)}if(t=1,i=r.S,a=r.width,s=r.height,i>=Rr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+a<=e.size,t&=l>=a*zi[i],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,d=(s+1)/2,c=Math.abs(e.fa),h=Math.abs(e.Ab);var u=Math.abs(e.Db),p=Math.abs(e.lb),f=p*(s-1)+a;t&=c*(s-1)+a<=e.Fd,t&=h*(d-1)+l<=e.Cd,t=(t&=u*(d-1)+l<=e.Ed)&c>=a&h>=l&u>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=p>=a,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=jn(r)),e}var Fn=64,Hn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,zn=32,Qn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];F("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=W(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(z((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|z((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|z((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(Q((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|Q(e>>16&255,r>>16&255)<<16|Q(e>>8&255,r>>8&255)<<8|Q(e>>0&255,r>>0&255))>>>0};var Vn=e.PredictorAdd0;e.PredictorAdd1=V,F("Predictor2","PredictorAdd2"),F("Predictor3","PredictorAdd3"),F("Predictor4","PredictorAdd4"),F("Predictor5","PredictorAdd5"),F("Predictor6","PredictorAdd6"),F("Predictor7","PredictorAdd7"),F("Predictor8","PredictorAdd8"),F("Predictor9","PredictorAdd9"),F("Predictor10","PredictorAdd10"),F("Predictor11","PredictorAdd11"),F("Predictor12","PredictorAdd12"),F("Predictor13","PredictorAdd13");var Xn=e.PredictorAdd2;G("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),G("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Yn,Kn=e.ColorIndexInverseTransform,Gn=e.MapARGB,qn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Zn=e.VP8LPredictorsAdd=[];Zn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,er,tr,nr,rr,ir,or,ar,sr,lr,cr,hr,dr,ur,pr,fr,gr,Ar,mr,yr,vr,br,wr,xr,Cr,Sr,Br,Pr,Er=o(511),Or=o(2041),Tr=o(225),Ir=o(767),Lr=0,kr=Or,Nr=Tr,Mr=Ir,Dr=Er,Rr=0,jr=1,_r=2,Fr=3,Hr=4,Ur=5,zr=6,Qr=7,Wr=8,Vr=9,Xr=10,Yr=[2,3,7],Kr=[3,3,11],Gr=[280,256,256,256,40],qr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],di=[],ui=[],pi=[],fi=1,gi=2,Ai=[],mi=[];yn("UpsampleRgbLinePair",Sn,3),yn("UpsampleBgrLinePair",Bn,3),yn("UpsampleRgbaLinePair",In,4),yn("UpsampleBgraLinePair",Tn,4),yn("UpsampleArgbLinePair",On,4),yn("UpsampleRgba4444LinePair",En,2),yn("UpsampleRgb565LinePair",Pn,2);var yi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,Ci=e.UpsampleRgba4444LinePair,Si=e.UpsampleRgb565LinePair,Bi=16,Pi=1<<Bi-1,Ei=-227,Oi=482,Ti=6,Ii=(256<<Ti)-1,Li=0,ki=o(256),Ni=o(256),Mi=o(256),Di=o(256),Ri=o(Oi-Ei),ji=o(Oi-Ei);Ln("YuvToRgbRow",Sn,3),Ln("YuvToBgrRow",Bn,3),Ln("YuvToRgbaRow",In,4),Ln("YuvToBgraRow",Tn,4),Ln("YuvToArgbRow",On,4),Ln("YuvToRgba4444Row",En,2),Ln("YuvToRgb565Row",Pn,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fi=[0,2,8],Hi=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var a=jr,s=new nn,l=new ae;s.ba=l,l.S=a,l.width=[l.width],l.height=[l.height];var c=l.width,h=l.height,d=new se;if(null==d||null==e)var u=2;else t(null!=d),u=Dn(e,n,r,d.width,d.height,d.Pd,d.Qd,d.format,null);if(0!=u?c=0:(null!=c&&(c[0]=d.width[0]),null!=h&&(h[0]=d.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=o&&(o[0]=l.height);e:{if(i=new Xe,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Dn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=pe,i.ac=ue,i.bc=fe,i.ma=s,o.xa){if(null==(e=Oe())){s=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!ge(e.m,r,i,o)){e.a=3;break t}if(e.xb=gi,n.width=r[0],n.height=i[0],!Te(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=_n(i.width,i.height,s.Oa,s.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Rn(o.Oa,r,Fr)){i.a=2;break n}if(!Ie(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&mn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&mn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!N(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Pe(i,i.V,i.Ba,i.c,i.i,r.o,xe))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ye)){s=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,qe(e,i)){if(0==(n=_n(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(o=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(h=d=0;4>h;++h)12>(u=o.pb[h]).lc&&(u.ia=c*Hi[0>u.lc?0:u.lc]>>3),d|=u.ia;d&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}$e(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=jn(s.ba))}s=n}a=0!=s?null:11>a?l.f.RGBA.eb:l.f.kb.y}else a=null;return a};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]});var d=[0],u=[0],p=[],f=new Ze,g=e,A=function(e,t){var n={},r=0,i=!1,o=0,a=0;if(n.frames=[],!function(e,t,n,r){for(var i=0;i<4;i++)if(e[t+i]!="RIFF".charCodeAt(i))return!0;return!1}(e,t)){var s,d;for(h(e,t+=4),t+=8;t<e.length;){var u=l(e,t),p=h(e,t+=4);t+=4;var f=p+(1&p);switch(u){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(m=n.frames[r]).src_off=i?a:t-8,m.src_size=o+p+8,r++,i&&(i=!1,o=0,a=0);break;case"VP8X":(m=n.header={}).feature_flags=e[t];var g=t+4;m.canvas_width=1+c(e,g),g+=3,m.canvas_height=1+c(e,g),g+=3;break;case"ALPH":i=!0,o=f+8,a=t-8;break;case"ANIM":(m=n.header).bgcolor=h(e,t),g=t+4,m.loop_count=(s=e)[(d=g)+0]<<0|s[d+1]<<8,g+=2;break;case"ANMF":var A,m;(m=n.frames[r]={}).offset_x=2*c(e,t),t+=3,m.offset_y=2*c(e,t),t+=3,m.width=1+c(e,t),t+=3,m.height=1+c(e,t),t+=3,m.duration=c(e,t),t+=3,A=e[t++],m.dispose=1&A,m.blend=A>>1&1}"ANMF"!=u&&(t+=f)}return n}}(g,0);A.response=g,A.rgbaoutput=!0,A.dataurl=!1;var m=A.header?A.header:null,y=A.frames?A.frames:null;if(m){m.loop_counter=m.loop_count,d=[m.canvas_height],u=[m.canvas_width];for(var v=0;v<y.length&&0!=y[v].blend;v++);}var b=y[0],w=f.WebPDecodeRGBA(g,b.src_off,b.src_size,u,d);b.rgba=w,b.imgwidth=u[0],b.imgheight=d[0];for(var x=0;x<u[0]*d[0]*4;x++)p[x]=w[x];return this.width=u,this.height=d,this.data=p,this}!function(e){var t=function(t,i,c,h){var d=4,u=a;switch(h){case e.image_compression.FAST:d=1,u=o;break;case e.image_compression.MEDIUM:d=6,u=s;break;case e.image_compression.SLOW:d=9,u=l}t=n(t,i,c,u);var p=Object(r.b)(t,{level:d});return e.__addimage__.arrayBufferToBinaryString(p)},n=function(e,t,n,r){for(var i,o,a,s=e.length/t,l=new Uint8Array(e.length+s),c=h(),u=0;u<s;u+=1){if(a=u*t,i=e.subarray(a,a+t),r)l.set(r(i,n,o),a+u);else{for(var p,f=c.length,g=[];p<f;p+=1)g[p]=c[p](i,n,o);var A=d(g.concat());l.set(g[A],a+u)}o=i}return l},i=function(e){var t=Array.apply([],e);return t.unshift(0),t},o=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},a=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var a=0;a<o;a+=1)r=n&&n[a]||0,i[a+1]=e[a]-r+256&255;return i},s=function(e,t,n){var r,i,o=[],a=e.length;o[0]=3;for(var s=0;s<a;s+=1)r=e[s-t]||0,i=n&&n[s]||0,o[s+1]=e[s]+256-(r+i>>>1)&255;return o},l=function(e,t,n){var r,i,o,a,s=[],l=e.length;s[0]=4;for(var h=0;h<l;h+=1)r=e[h-t]||0,i=n&&n[h]||0,o=n&&n[h-t]||0,a=c(r,i,o),s[h+1]=e[h]-a+256&255;return s},c=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},h=function(){return[i,o,a,s,l]},d=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,i,o,a){var s,l,c,h,d,u,p,f,g,A,m,y,v,b,w,x=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(c=new Ye(n)).imgData,l=c.bits,s=c.colorSpace,d=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits){g=(f=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,m=new Uint8Array(g*c.colors),A=new Uint8Array(g);var S,B=c.pixelBitlength-c.bits;for(b=0,w=0;b<g;b++){for(v=f[b],S=0;S<B;)m[w++]=v>>>S&255,S+=c.bits;A[b]=v>>>S&255}}if(16===c.bits){g=(f=new Uint32Array(c.decodePixels().buffer)).length,m=new Uint8Array(g*(32/c.pixelBitlength)*c.colors),A=new Uint8Array(g*(32/c.pixelBitlength)),y=c.colors>1,b=0,w=0;for(var P=0;b<g;)v=f[b++],m[w++]=v>>>0&255,y&&(m[w++]=v>>>16&255,v=f[b++],m[w++]=v>>>0&255),A[P++]=v>>>16&255;l=8}a!==e.image_compression.NONE&&"function"==typeof r.b?(n=t(m,c.width*c.colors,c.colors,a),p=t(A,c.width,1,a)):(n=m,p=A,x=void 0)}if(3===c.colorType&&(s=this.color_spaces.INDEXED,u=c.palette,c.transparency.indexed)){var E=c.transparency.indexed,O=0;for(b=0,g=E.length;b<g;++b)O+=E[b];if((O/=255)===g-1&&-1!==E.indexOf(0))h=[E.indexOf(0)];else if(O!==g){for(f=c.decodePixels(),A=new Uint8Array(f.length),b=0,g=f.length;b<g;b++)A[b]=E[f[b]];p=t(A,c.width,1)}}var T=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(a);return x===this.decode.FLATE_DECODE&&(C="/Predictor "+T+" "),C+="/Colors "+d+" /BitsPerComponent "+l+" /Columns "+c.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:o,data:n,index:i,filter:x,decodeParameters:C,transparency:h,palette:u,sMask:p,predictor:T,width:c.width,height:c.height,bitsPerComponent:l,colorSpace:s}}}}(D.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new Ke(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},h=new qe(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(D.API),Je.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Je.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){a.log("bit decode error:"+e)}},Je.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Je.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Je.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},Je.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=s,this.data[h+2]=a,this.data[h+3]=c}this.pos+=e}},Je.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,h=i*this.width*4+4*o;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=255}this.pos+=e}},Je.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Je.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Je.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new Je(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new qe(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(D.API),Ze.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new Ze(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new qe(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(D.API),D.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},ze=D.API,Qe=ze.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=!1!==t.doKerning,u=0,p=e.length,f=0,g=s[0]||l,A=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(u=d&&"object"==typeof c[r]&&!isNaN(parseInt(c[r][f],10))?c[r][f]/h:0,A.push((s[r]||g)/l+u)),f=r;return A},We=ze.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ze.processArabic&&(e=ze.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Qe.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Ve=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},Xe=function(e,t,n){n||(n={});var r,i,o,a,s,l,c,h=[],d=[h],u=n.textIndent||0,p=0,f=0,g=e.split(" "),A=Qe.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];g.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),g=y,l=We.apply(this,[m,n])}for(o=0,a=g.length;o<a;o++){var v=0;if(r=g[o],l&&"\n"==r[0]&&(r=r.substr(1),v=1),u+p+(f=(i=Qe.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||v){if(f>t){for(s=Ve.apply(this,[r,i,t-(u+p),t]),h.push(s.shift()),h=[s.pop()];s.length;)d.push([s.shift()]);f=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(e,t){return e+t}),0)}else h=[r];d.push(h),u=f+l,p=A}else h.push(r),u+=p+f,p=A}return c=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(c)},ze.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(Xe.apply(this,[r[s],a,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,i,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),s="-"):(i=o(t).slice(2),s=""),i=s+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!=typeof t)throw new Error("Don't know what to do with value type "+typeof t+".");i=a(t)}l.push(n+i)}return l.push("}"),l.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,a={},s=1,l=a,c=[],h="",d="",u=e.length-1,p=1;p<u;p+=1)"'"==(o=e[p])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(c.push([l,i]),l={},i=void 0):"}"==o?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==o?s=-1:void 0===i?n.hasOwnProperty(o)?(h+=n[o],i=parseInt(h,16)*s,s=1,h=""):h+=o:n.hasOwnProperty(o)?(d+=n[o],l[i]=parseInt(d,16)*s,s=1,i=void 0,d=""):d+=o;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=h.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(D.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(h(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(D),function(e){function t(){return(i.canvg?Promise.resolve(i.canvg):n.e(2).then(n.bind(null,296))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}D.API.addSvgAsImage=function(e,n,r,i,o,s,l,c){if(isNaN(n)||isNaN(r))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then((function(t){return t.fromString(d,e,u)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(u)})).then((function(){p.addImage(h.toDataURL("image/jpeg",1),n,r,i,o,l,c)}))}}(),D.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},D.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,h=0,d=0;function u(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=s.length;for(d=0;d<p;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if("object"==typeof e)for(i in e)if(o=e[i],u(s,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&u(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(c=0;c<o.length;c+=1)if(r=!0,1===o[c].length&&"number"==typeof o[c][0])l.push(String(o[c]-1));else if(o[c].length>1){for(h=0;h<o[c].length;h+=1)"number"!=typeof o[c][h]&&(r=!1);!0===r&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(D.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;a<s;a++)t=n[a],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream,s=t.pdfEscapeWithNeededParanthesis;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var l=n.metadata.Unicode.widths,c=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),h="",d=0;d<c.length;d++)h+=String.fromCharCode(c[d]);var u=o();a({data:h,addLength1:!0,objectId:u}),i("endobj");var p=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:p}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+s(n.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var g=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+s(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(l)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+p+" 0 R"),i("/BaseFont /"+s(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+g+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream,s=t.pdfEscapeWithNeededParanthesis;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var l=n.metadata.rawData,c="",h=0;h<l.length;h++)c+=String.fromCharCode(l[h]);var d=o();a({data:c,addLength1:!0,objectId:d}),i("endobj");var u=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var p=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+d+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+s(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+s(n.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,a=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,h=s.fonts,d=c,u="",p=0,f="",g=h[d].encoding;if("Identity-H"!==h[d].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(f=r,d=c,Array.isArray(r)&&(f=r[0]),p=0;p<f.length;p+=1)h[d].metadata.hasOwnProperty("cmap")&&(t=h[d].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t||f[p].charCodeAt(0)<256&&h[d].metadata.hasOwnProperty("Unicode")?u+=f[p]:u+="";var A="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===g?A=l(u,d).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===g&&(A=n(u,h[d])),s.isHex=!0,{text:A,x:i,y:o,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(D),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(D.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,a,s,l,c=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,a,s){var l,c,h,d,u=t[s];switch(u){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(u="AN");break;case"AL":A=!0,u="R";break;case"WS":u="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=a[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?u="N":A&&(c="AN"),u=c===l?c:"N";break;case"ES":u="EN"===(l=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){u="EN";break}if(A){u="N";break}for(h=s+1,d=t.length;h<d&&"ET"===t[h];)h++;u=h<d&&"EN"===t[h]?"EN":"N";break;case"NSM":if(i&&!o){for(d=t.length,h=s+1;h<d&&"NSM"===t[h];)h++;if(h<d){var p=e[s],f=p>=1425&&p<=2303||64286===p;if(l=t[h],f&&("R"===l||"AL"===l)){u="R";break}}}u=s<1||"B"===(l=t[s-1])?"N":a[s-1];break;case"B":A=!1,n=!0,u=m;break;case"S":r=!0,u="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":u="N"}return u},w=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var o,a,s,l,c,p=-1,f=e.length,g=0,v=[],w=m?d:h,x=[];for(A=!1,n=!1,r=!1,a=0;a<f;a++)x[a]=y(e[a]);for(s=0;s<f;s++){if(c=g,v[s]=b(e,x,v,s),o=240&(g=w[c][u[v[s]]]),g&=15,t[s]=l=w[g][5],o>0)if(16===o){for(a=p;a<s;a++)t[a]=1;p=-1}else p=-1;if(w[g][6])-1===p&&(p=s);else if(p>-1){for(a=p;a<s;a++)t[a]=l;p=-1}"B"===x[s]&&(t[s]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,f)},C=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,l,c,h=t.length,d=0;d<h;){if(i[d]>=e){for(l=d+1;l<h&&i[l]>=e;)l++;for(c=d,s=l-1;c<s;c++,s--)a=t[c],t[c]=t[s],t[s]=a,r&&(a=r[c],r[c]=r[s],r[s]=a);d=l}d++}}},S=function(e,t,n){var r=e.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=f.indexOf(e[i]))>=0&&(e[i]=f[r+1])}(r,n,i),C(2,r,t,n,i),C(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=v(e)),void 0===s&&(s=v(e))}(e,t),i||!a||s)if(i&&a&&o^s)m=o?1:0,e=w(e,t,n);else if(!i&&a&&s)m=o?1:0,e=S(e,t,n),e=w(e,t);else if(!i||o||a||s){if(i&&!a&&o^s)e=w(e,t),o?(m=0,e=S(e,t,n)):(m=1,e=S(e,t,n),e=w(e,t));else if(i&&o&&!a&&s)m=1,e=S(e,t,n),e=w(e,t);else if(!i&&!a&&o^s){var r=l;o?(m=1,e=S(e,t,n),m=0,l=!1,e=S(e,t,n),l=r):(m=0,e=S(e,t,n),e=w(e,t),m=1,l=!1,e=S(e,t,n),l=r,e=w(e,t))}}else m=0,e=S(e,t,n);else m=o?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,o=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),i=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(D),D.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new et(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new vt(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new tt(this.contents),this.head=new it(this),this.name=new dt(this),this.cmap=new at(this),this.toUnicode={},this.hhea=new st(this),this.maxp=new ut(this),this.hmtx=new pt(this),this.post=new ct(this),this.os2=new lt(this),this.loca=new yt(this),this.glyf=new gt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var $e,et=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),tt=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,a,s,l,c,h,d,u,p,f;for(f in u=Object.keys(t).length,s=Math.log(2),h=16*Math.floor(Math.log(u)/s),o=Math.floor(h/s),c=16*u-h,(r=new et).writeInt(this.scalarType),r.writeShort(u),r.writeShort(h),r.writeShort(o),r.writeShort(c),i=16*u,l=r.pos+i,a=null,p=[],t)for(d=t[f],r.writeString(f),r.writeInt(e(d)),r.writeInt(l),r.writeInt(d.length),p=p.concat(d),"head"===f&&(a=l),l+=d.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=ft.call(e);e.length%4;)e.push(0);for(r=new et(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),nt={}.hasOwnProperty,rt=function(e,t){for(var n in t)nt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};$e=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var it=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new et).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),ot=function(){function e(e,t){var n,r,i,o,a,s,l,c,h,d,u,p,f,g,A,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(u=e.readUInt16(),d=u/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=A=0,y=i.length;A<y;s=++A)for(g=i[s],n=m=p=f[s];p<=g?m<=g:m>=g;n=p<=g?++m:--m)0===c[s]?o=n+l[s]:0!==(o=a[c[s]/2+(n-p)-(d-s)]||0)&&(o+=l[s]),this.codeMap[n]=65535&o}e.pos=h}return e.encode=function(e,t){var n,r,i,o,a,s,l,c,h,d,u,p,f,g,A,m,y,v,b,w,x,C,S,B,P,E,O,T,I,L,k,N,M,D,R,j,_,F,H,U,z,Q,W,V,X,Y;switch(T=new et,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(f=0,g=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),m={0:0},i={},I=0,M=o.length;I<M;I++)null==m[W=e[r=o[I]]]&&(m[W]=++f),i[r]={old:e[r],new:m[e[r]]},g[r]=m[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(g),{charMap:i,subtable:T.data,maxGlyphID:f+1};case"unicode":for(E=[],h=[],y=0,m={},n={},A=l=null,L=0,D=o.length;L<D;L++)null==m[b=e[r=o[L]]]&&(m[b]=++y),n[r]={old:b,new:m[b]},a=m[b]-r,null!=A&&a===l||(A&&h.push(A),E.push(r),l=a),A=r;for(A&&h.push(A),h.push(65535),E.push(65535),B=2*(S=E.length),C=2*Math.pow(Math.log(S)/Math.LN2,2),d=Math.log(C/2)/Math.LN2,x=2*S-C,s=[],w=[],u=[],p=k=0,R=E.length;k<R;p=++k){if(P=E[p],c=h[p],65535===P){s.push(0),w.push(0);break}if(P-(O=n[P].new)>=32768)for(s.push(0),w.push(2*(u.length+S-p)),r=N=P;P<=c?N<=c:N>=c;r=P<=c?++N:--N)u.push(n[r].new);else s.push(O-P),w.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*S+2*u.length),T.writeUInt16(0),T.writeUInt16(B),T.writeUInt16(C),T.writeUInt16(d),T.writeUInt16(x),z=0,j=h.length;z<j;z++)r=h[z],T.writeUInt16(r);for(T.writeUInt16(0),Q=0,_=E.length;Q<_;Q++)r=E[Q],T.writeUInt16(r);for(V=0,F=s.length;V<F;V++)a=s[V],T.writeUInt16(a);for(X=0,H=w.length;X<H;X++)v=w[X],T.writeUInt16(v);for(Y=0,U=u.length;Y<U;Y++)f=u[Y],T.writeUInt16(f);return{charMap:n,subtable:T.data,maxGlyphID:y+1}}},e}(),at=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new ot(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=ot.encode(e,t),(r=new et).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),st=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),lt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ct=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},t}(),ht=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},dt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,r,i,o,a,s,l,c,h,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},i=c=0,h=n.length;c<h;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),o=new ht(l,r),null==s[d=r.nameID]&&(s[d]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),ut=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),pt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,r,i,o,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)s.push(this.widths.push(n));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),ft=[].slice,gt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,r,i,o,a,s,l,c,h;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new et(t.read(r))).readShort(),l=a.readShort(),h=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[e]=-1===o?new mt(a,l,h,s,c):new At(a,o,l,h,s,c),this.cache[e]))},t.prototype.encode=function(e,t,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=t.length;a<s;a++)r=e[t[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),At=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),mt=function(){function e(e,t,n,r,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new et(ft.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),yt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,$e),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;s>0&&(r+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),vt=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,a,s;for(r={},o=0,a=e.length;o<a;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,a,s,l,c,h,d,u,p,f,g,A;for(r in n=at.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),u={0:0},A=n.charMap)u[(s=A[r]).old]=s.new;for(p in d=n.maxGlyphID,o)p in u||(u[p]=d++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(u),h=Object.keys(c).sort((function(e,t){return e-t})),f=function(){var e,t,n;for(n=[],e=0,t=h.length;e<t;e++)a=h[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(o,f,u),l=this.font.loca.encode(i.offsets,f),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();D.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join("\n")}return""+n},t}(),t.default=D}.call(this,n(75))},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(122)),o=s(n(123)),a=n(218);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=t||{},s=new o.default("boolean"!==typeof n.logging||n.logging);s.log("html2canvas $npm_package_version");var l=e.ownerDocument;if(!l)return Promise.reject("Provided element is not within a Document");var c=l.defaultView,h={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:c.devicePixelRatio||1,target:new i.default(n.canvas),useCORS:!1,windowWidth:c.innerWidth,windowHeight:c.innerHeight,scrollX:c.pageXOffset,scrollY:c.pageYOffset};return(0,a.renderElement)(e,r({},h,n),s)};l.CanvasRenderer=i.default,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(p(n(123)),n(219)),o=p(n(241)),a=p(n(130)),s=p(n(81)),l=n(54),c=n(244),h=n(132),d=n(43),u=p(d);function p(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function e(t,n,p){var f=t.ownerDocument,g=new l.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),A=f.documentElement?new u.default(getComputedStyle(f.documentElement).backgroundColor):d.TRANSPARENT,m=f.body?new u.default(getComputedStyle(f.body).backgroundColor):d.TRANSPARENT,y=t===f.documentElement?A.isTransparent()?m.isTransparent()?n.backgroundColor?new u.default(n.backgroundColor):null:m:A:n.backgroundColor?new u.default(n.backgroundColor):null;return(n.foreignObjectRendering?s.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then((function(s){return s?(u=new c.DocumentCloner(t,n,p,!0,e)).inlineFonts(f).then((function(){return u.resourceLoader.ready()})).then((function(){var e=new a.default(u.documentElement),r=f.defaultView,i=r.pageXOffset,o=r.pageYOffset,s="HTML"===t.tagName||"BODY"===t.tagName?(0,l.parseDocumentSize)(f):(0,l.parseBounds)(t,i,o),c=s.width,h=s.height,d=s.left,g=s.top;return e.render({backgroundColor:y,logger:p,scale:n.scale,x:"number"===typeof n.x?n.x:d,y:"number"===typeof n.y?n.y:g,width:"number"===typeof n.width?n.width:Math.ceil(c),height:"number"===typeof n.height?n.height:Math.ceil(h),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})})):(0,c.cloneWindow)(f,g,t,n,p,e).then((function(e){var t=r(e,3),a=t[0],s=t[1],c=t[2];var u=(0,i.NodeParser)(s,c,p),g=s.ownerDocument;return y===u.container.style.background.backgroundColor&&(u.container.style.background.backgroundColor=d.TRANSPARENT),c.ready().then((function(e){var t=new h.FontMetrics(g);var r=g.defaultView,i=r.pageXOffset,c=r.pageYOffset,d="HTML"===s.tagName||"BODY"===s.tagName?(0,l.parseDocumentSize)(f):(0,l.parseBounds)(s,i,c),A=d.width,m=d.height,v=d.left,b=d.top,w={backgroundColor:y,fontMetrics:t,imageStore:e,logger:p,scale:n.scale,x:"number"===typeof n.x?n.x:v,y:"number"===typeof n.y?n.y:b,width:"number"===typeof n.width?n.width:Math.ceil(A),height:"number"===typeof n.height?n.height:Math.ceil(m)};if(Array.isArray(n.target))return Promise.all(n.target.map((function(e){return new o.default(e,w).render(u)})));var x=new o.default(n.target,w).render(u);return!0===n.removeContainer&&a.parentNode&&a.parentNode.removeChild(a),x}))}));var u}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var r=c(n(220)),i=c(n(57)),o=c(n(80)),a=n(128),s=n(101),l=n(79);function c(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function(e,t,n){var o=0,a=new i.default(e,null,t,o++),s=new r.default(a,null,!0);return d(e,a,s,t,1),s};var h=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],d=function e(t,n,c,d,f){for(var g,A=t.firstChild;A;A=g){g=A.nextSibling;var m=A.ownerDocument.defaultView;if(A instanceof m.Text||A instanceof Text||m.parent&&A instanceof m.parent.Text)A.data.trim().length>0&&n.childNodes.push(o.default.fromTextNode(A,n));else if(A instanceof m.HTMLElement||A instanceof HTMLElement||m.parent&&A instanceof m.parent.HTMLElement){if(-1===h.indexOf(A.nodeName)){var y=new i.default(A,n,d,f++);if(y.isVisible()){"INPUT"===A.tagName?(0,a.inlineInputElement)(A,y):"TEXTAREA"===A.tagName?(0,a.inlineTextAreaElement)(A,y):"SELECT"===A.tagName?(0,a.inlineSelectElement)(A,y):y.style.listStyle&&y.style.listStyle.listStyleType!==l.LIST_STYLE_TYPE.NONE&&(0,s.inlineListItemElement)(A,y,d);var v="TEXTAREA"!==A.tagName,b=u(y,A);if(b||p(y)){var w=b||y.isPositioned()?c.getRealParentStackingContext():c,x=new r.default(y,w,b);w.contexts.push(x),v&&e(A,y,x,d,f)}else c.children.push(y),v&&e(A,y,c,d,f)}}}else if(A instanceof m.SVGSVGElement||A instanceof SVGSVGElement||m.parent&&A instanceof m.parent.SVGSVGElement){var C=new i.default(A,n,d,f++),S=u(C,A);if(S||p(C)){var B=S||C.isPositioned()?c.getRealParentStackingContext():c,P=new r.default(C,B,S);B.contexts.push(P)}else c.children.push(C)}}},u=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||f(e,t)},p=function(e){return e.isPositioned()||e.isFloating()},f=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof i.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(57);(r=o)&&r.__esModule,n(126);var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}return i(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(77),a=n(78),s=(r=a)&&r.__esModule?r:{default:r};var l=function(e,t,n){return new s.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},c=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=o.PATH.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return i(e,[{key:"subdivide",value:function(t,n){var r=l(this.start,this.startControl,t),i=l(this.startControl,this.endControl,t),o=l(this.endControl,this.end,t),a=l(r,i,t),s=l(i,o,t),c=l(a,s,t);return n?new e(this.start,r,a,c):new e(c,s,o,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(53),a=(r=o)&&r.__esModule?r:{default:r};var s=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(e){return s.map((function(t){var n=e.getPropertyValue("border-"+t+"-radius").split(" ").map(a.default.create),r=i(n,2),o=r[0],s=r[1];return"undefined"===typeof s?[o,o]:[o,s]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},i=function(e,t){return e|function(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(t)};t.parseDisplay=function(e){return e.split(" ").reduce(i,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r};var a=["top","right","bottom","left"];t.parseMargin=function(e){return a.map((function(t){return new o.default(e.getPropertyValue("margin-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!==typeof e)return null;for(var t="",n=!1,r=[],i=[],s=0,l=null,c=function(){t.length&&(n?r.push(parseFloat(t)):l=new o.default(t)),n=!1,t=""},h=function(){r.length&&null!==l&&i.push({color:l,offsetX:r[0]||0,offsetY:r[1]||0,blur:r[2]||0}),r.splice(0,r.length),l=null},d=0;d<e.length;d++){var u=e[d];switch(u){case"(":t+=u,s++;break;case")":t+=u,s--;break;case",":0===s?(c(),h()):t+=u;break;case" ":0===s?c():t+=u;break;default:0===t.length&&a.test(u)&&(n=!0),t+=u}}return c(),h(),0===i.length?null:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r};var a=function(e){return parseFloat(e.trim())},s=/(matrix|matrix3d)\((.+)\)/,l=(t.parseTransform=function(e){var t=c(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:l(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!==typeof e){var t=new o.default("0");return[t,t]}var n=e.split(" ").map(o.default.create);return[n[0],n[1]]}),c=function(e){if("none"===e||"string"!==typeof e)return null;var t=e.match(s);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(a);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(a);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(237);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return i.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(238),s=n(239),l=(r=s)&&r.__esModule?r:{default:r},c=n(100);var h=t.LETTER_NUMBER_MODIFIER=50,d=10,u=13,p=15,f=17,g=18,A=19,m=20,y=21,v=22,b=24,w=25,x=26,C=27,S=28,B=30,P=32,E=33,O=34,T=35,I=37,L=38,k=39,N=40,M=42,D=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:d,ZWJ:11,B2:12,BA:u,BB:14,HY:p,CB:16,CL:f,CP:g,EX:A,IN:m,NS:y,OP:v,QU:23,IS:b,NU:w,PO:x,PR:C,SY:S,AI:29,AL:B,CJ:31,EB:P,EM:E,H2:O,H3:T,HL:36,ID:I,JL:L,JV:k,JT:N,RI:41,SA:M,XX:43},t.BREAK_MANDATORY="!"),R=t.BREAK_NOT_ALLOWED="\xd7",j=t.BREAK_ALLOWED="\xf7",_=t.UnicodeTrie=(0,a.createTrieFromBase64)(l.default),F=[B,36],H=[1,2,3,5],U=[d,8],z=[C,x],Q=H.concat(U),W=[L,k,N,O,T],V=[p,u],X=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],i=[];return e.forEach((function(e,o){var a=_.get(e);if(a>h?(i.push(!0),a-=h):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(B);var s=n[o-1];return-1===Q.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(B))}return r.push(o),31===a?n.push("strict"===t?y:I):a===M||29===a?n.push(B):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(I):n.push(B):void n.push(a)})),[r,n,i]},Y=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var a=r[++o];if(a===t)return!0;if(a!==d)break}if(i===d)for(var s=n;s>0;){var l=r[--s];if(Array.isArray(e)?-1!==e.indexOf(l):e===l)for(var c=n;c<=r.length;){var h=r[++c];if(h===t)return!0;if(h!==d)break}if(l!==d)break}return!1},K=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==d)return r;n--}return 0},G=function(e,t,n,r,i){if(0===n[r])return R;var o=r-1;if(Array.isArray(i)&&!0===i[o])return R;var a=o-1,s=o+1,l=t[o],c=a>=0?t[a]:0,h=t[s];if(2===l&&3===h)return R;if(-1!==H.indexOf(l))return D;if(-1!==H.indexOf(h))return R;if(-1!==U.indexOf(h))return R;if(8===K(o,t))return j;if(11===_.get(e[o])&&(h===I||h===P||h===E))return R;if(7===l||7===h)return R;if(9===l)return R;if(-1===[d,u,p].indexOf(l)&&9===h)return R;if(-1!==[f,g,A,b,S].indexOf(h))return R;if(K(o,t)===v)return R;if(Y(23,v,o,t))return R;if(Y([f,g],y,o,t))return R;if(Y(12,12,o,t))return R;if(l===d)return j;if(23===l||23===h)return R;if(16===h||16===l)return j;if(-1!==[u,p,y].indexOf(h)||14===l)return R;if(36===c&&-1!==V.indexOf(l))return R;if(l===S&&36===h)return R;if(h===m&&-1!==F.concat(m,A,w,I,P,E).indexOf(l))return R;if(-1!==F.indexOf(h)&&l===w||-1!==F.indexOf(l)&&h===w)return R;if(l===C&&-1!==[I,P,E].indexOf(h)||-1!==[I,P,E].indexOf(l)&&h===x)return R;if(-1!==F.indexOf(l)&&-1!==z.indexOf(h)||-1!==z.indexOf(l)&&-1!==F.indexOf(h))return R;if(-1!==[C,x].indexOf(l)&&(h===w||-1!==[v,p].indexOf(h)&&t[s+1]===w)||-1!==[v,p].indexOf(l)&&h===w||l===w&&-1!==[w,S,b].indexOf(h))return R;if(-1!==[w,S,b,f,g].indexOf(h))for(var B=o;B>=0;){var M=t[B];if(M===w)return R;if(-1===[S,b].indexOf(M))break;B--}if(-1!==[C,x].indexOf(h))for(var Q=-1!==[f,g].indexOf(l)?a:o;Q>=0;){var X=t[Q];if(X===w)return R;if(-1===[S,b].indexOf(X))break;Q--}if(L===l&&-1!==[L,k,O,T].indexOf(h)||-1!==[k,O].indexOf(l)&&-1!==[k,N].indexOf(h)||-1!==[N,T].indexOf(l)&&h===N)return R;if(-1!==W.indexOf(l)&&-1!==[m,x].indexOf(h)||-1!==W.indexOf(h)&&l===C)return R;if(-1!==F.indexOf(l)&&-1!==F.indexOf(h))return R;if(l===b&&-1!==F.indexOf(h))return R;if(-1!==F.concat(w).indexOf(l)&&h===v||-1!==F.concat(w).indexOf(h)&&l===g)return R;if(41===l&&41===h){for(var G=n[o],q=1;G>0&&41===t[--G];)q++;if(q%2!==0)return R}return l===P&&h===E?R:j},q=(t.lineBreakAtIndex=function(e,t){if(0===t)return R;if(t>=e.length)return D;var n=X(e),r=o(n,2),i=r[0],a=r[1];return G(e,a,i,t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=X(e,t.lineBreak),r=o(n,3),i=r[0],a=r[1],s=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(a=a.map((function(e){return-1!==[w,B,M].indexOf(e)?I:e}))),[i,a,"keep-all"===t.wordBreak?s.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):null]}),J=(t.inlineBreakOpportunities=function(e,t){var n=(0,c.toCodePoints)(e),r=R,i=q(n,t),a=o(i,3),s=a[0],l=a[1],h=a[2];return n.forEach((function(e,t){r+=(0,c.fromCodePoint)(e)+(t>=n.length-1?D:G(n,l,s,t+1,h))})),r},function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._codePoints=t,this.required=n===D,this.start=r,this.end=i}return i(e,[{key:"slice",value:function(){return c.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,c.toCodePoints)(e),r=q(n,t),i=o(r,3),a=i[0],s=i[1],l=i[2],h=n.length,d=0,u=0;return{next:function(){if(u>=h)return{done:!0};for(var e=R;u<h&&(e=G(n,s,a,++u,l))===R;);if(e!==R||u===h){var t=new J(n,e,d,u);return d=u,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(100);var o=t.UTRIE2_SHIFT_2=5,a=t.UTRIE2_SHIFT_1=11,s=t.UTRIE2_INDEX_SHIFT=2,l=t.UTRIE2_SHIFT_1_2=a-o,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>o,h=t.UTRIE2_DATA_BLOCK_LENGTH=1<<o,d=t.UTRIE2_DATA_MASK=h-1,u=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>o,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+u,f=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,A=t.UTRIE2_INDEX_1_OFFSET=f+g,m=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>a,y=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<l,v=t.UTRIE2_INDEX_2_MASK=y-1,b=(t.createTrieFromBase64=function(e){var t=(0,i.decode)(e),n=Array.isArray(t)?(0,i.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,i.polyUint16Array)(t):new Uint16Array(t),o=r.slice(12,n[4]/2),a=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new b(n[0],n[1],n[2],n[3],o,a)},t.Trie=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=o,this.data=a}return r(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>o])<<s)+(e&d),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>o)])<<s)+(e&d),this.data[t];if(e<this.highStart)return t=A-m+(e>>a),t=this.index[t],t+=e>>o&v,t=((t=this.index[t])<<s)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(77);t.default=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.CIRCLE,this.x=t,this.y=n,this.radius=i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(54),s=(n(132),n(242)),l=n(80),c=(r=l)&&r.__esModule?r:{default:r},h=n(66),d=n(99);var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t,this.options=n,t.render(n)}return o(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach((function(n){if(n instanceof c.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)})),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,a.calculateContentBox)(e.bounds,e.style.padding,e.style.border),i="number"===typeof n.width&&n.width>0?n.width:r.width,o="number"===typeof n.height&&n.height>0?n.height:r.height;i>0&&o>0&&t.target.clip([(0,a.calculatePaddingBoxPath)(e.curvedBounds)],(function(){t.target.drawImage(n,new a.Bounds(0,0,i,o),r)}))}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some((function(e){return e.borderStyle!==d.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()})),i=function(){var r=(0,h.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],(function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)})),e.style.border.forEach((function(n,r){n.borderStyle===d.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)}))};if(n||r){var o=e.parent?e.parent.getClipPaths():[];o.length?this.target.clip(o,i):i()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach((function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)}))}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,h.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),i=(0,h.calculateBackgroundSize)(t,n,r),o=(0,h.calculateBackgroundPosition)(t.position,i,r),a=(0,h.calculateBackgroundRepeatPath)(t,o,i,r,e.bounds),s=Math.round(r.left+o.x),l=Math.round(r.top+o.y);this.target.renderRepeat(a,n,i,s,l)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=(0,h.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,h.calculateGradientBackgroundSize)(t,n),i=(0,h.calculateBackgroundPosition)(t.position,r,n),o=new a.Bounds(Math.round(n.left+i.x),Math.round(n.top+i.y),r.width,r.height),l=(0,s.parseGradient)(e,t.source,o);if(l)switch(l.type){case s.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(o,l);break;case s.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(o,l)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape((0,a.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,(function(){return t.renderStackContent(e)})):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=f(e),n=i(t,5),r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=p(e),h=i(c,2),d=h[0],u=h[1];this.renderNodeBackgroundAndBorders(e.container),r.sort(g).forEach(this.renderStack,this),this.renderNodeContent(e.container),u.forEach(this.renderNode,this),s.forEach(this.renderStack,this),l.forEach(this.renderStack,this),d.forEach(this.renderNode,this),o.forEach(this.renderStack,this),a.sort(g).forEach(this.renderStack,this)}},{key:"render",value:function(e){return this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e),this.target.getTarget()}}]),e}();t.default=u;var p=function(e){for(var t=[],n=[],r=e.children.length,i=0;i<r;i++){var o=e.children[i];o.isInlineLevel()?t.push(o):n.push(o)}return[t,n]},f=function(e){for(var t=[],n=[],r=[],i=[],o=[],a=e.contexts.length,s=0;s<a;s++){var l=e.contexts[s];l.container.isPositioned()||l.container.style.opacity<1||l.container.isTransformed()?l.container.style.zIndex.order<0?t.push(l):l.container.style.zIndex.order>0?r.push(l):n.push(l):l.container.isFloating()?i.push(l):o.push(l)}return[t,n,r,i,o]},g=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(c(n(57)),n(243)),o=c(n(43)),a=n(53),s=c(a),l=n(58);function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,u=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,p=/(px)|%|( 0)$/i,f=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,g=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,A=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},m=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},y={left:new s.default("0%"),top:new s.default("0%"),center:new s.default("50%"),right:new s.default("100%"),bottom:new s.default("100%")},v=t.LinearGradient=function e(t,n){h(this,e),this.type=A.LINEAR_GRADIENT,this.colorStops=t,this.direction=n},b=t.RadialGradient=function e(t,n,r,i){h(this,e),this.type=A.RADIAL_GRADIENT,this.colorStops=t,this.shape=n,this.center=r,this.radius=i},w=(t.parseGradient=function(e,t,n){var r=t.args,i=t.method,o=t.prefix;return"linear-gradient"===i?x(r,n,!!o):"gradient"===i&&"linear"===r[0]?x(["to bottom"].concat(L(r.slice(3))),n,!!o):"radial-gradient"===i?C(e,"-webkit-"===o?I(r):r,n):"gradient"===i&&"radial"===r[0]?C(e,L(I(r.slice(1))),n):void 0},function(e,t,n){for(var r=[],i=t;i<e.length;i++){var a=e[i],l=p.test(a),c=a.lastIndexOf(" "),h=new o.default(l?a.substring(0,c):a),d=l?new s.default(a.substring(c+1)):i===t?new s.default("0%"):i===e.length-1?new s.default("100%"):null;r.push({color:h,stop:d})}for(var u=r.map((function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}})),f=u[0].stop,g=0;g<u.length;g++)if(null!==f){var A=u[g].stop;if(null===A){for(var m=g;null===u[m].stop;)m++;for(var y=m-g+1,v=(u[m].stop-f)/y;g<m;g++)f=u[g].stop=f+v}else f=A}return u}),x=function(e,t,n){var r=(0,i.parseAngle)(e[0]),o=d.test(e[0]),a=o||null!==r||u.test(e[0]),s=a?null!==r?S(n?r-.5*Math.PI:r,t):o?P(e[0],t):E(e[0],t):S(Math.PI,t),c=a?1:0,h=Math.min((0,l.distance)(Math.abs(s.x0)+Math.abs(s.x1),Math.abs(s.y0)+Math.abs(s.y1)),2*t.width,2*t.height);return new v(w(e,c,h),s)},C=function(e,t,n){var r=t[0].match(g),i=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?m.CIRCLE:m.ELLIPSE,o={},s={};r&&(void 0!==r[3]&&(o.x=(0,a.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(o.y=(0,a.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?s.x=y[r[7].toLowerCase()]:void 0!==r[8]&&(s.x=(0,a.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?s.y=y[r[10].toLowerCase()]:void 0!==r[11]&&(s.y=(0,a.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var l={x:void 0===s.x?n.width/2:s.x.getAbsoluteValue(n.width),y:void 0===s.y?n.height/2:s.y.getAbsoluteValue(n.height)},c=T(r&&r[2]||"farthest-corner",i,l,o,n);return new b(w(t,r?1:0,Math.min(c.x,c.y)),i,l,c)},S=function(e,t){var n=t.width,r=t.height,i=.5*n,o=.5*r,a=(Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)))/2,s=i+Math.sin(e)*a,l=o-Math.cos(e)*a;return{x0:s,x1:n-s,y0:l,y1:r-l}},B=function(e){return Math.acos(e.width/2/((0,l.distance)(e.width,e.height)/2))},P=function(e,t){switch(e){case"bottom":case"to top":return S(0,t);case"left":case"to right":return S(Math.PI/2,t);case"right":case"to left":return S(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return S(Math.PI+B(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return S(Math.PI-B(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return S(B(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return S(2*Math.PI-B(t),t);case"top":case"to bottom":default:return S(Math.PI,t)}},E=function(e,t){var n=e.split(" ").map(parseFloat),i=r(n,2),o=i[0],a=i[1],s=o/100*t.width/(a/100*t.height);return S(Math.atan(isNaN(s)?1:s)+Math.PI/2,t)},O=function(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce((function(e,i){var o=(0,l.distance)(t-i.x,n-i.y);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:i,optimumDistance:o}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},T=function(e,t,n,r,i){var o=n.x,a=n.y,s=0,c=0;switch(e){case"closest-side":t===m.CIRCLE?s=c=Math.min(Math.abs(o),Math.abs(o-i.width),Math.abs(a),Math.abs(a-i.height)):t===m.ELLIPSE&&(s=Math.min(Math.abs(o),Math.abs(o-i.width)),c=Math.min(Math.abs(a),Math.abs(a-i.height)));break;case"closest-corner":if(t===m.CIRCLE)s=c=Math.min((0,l.distance)(o,a),(0,l.distance)(o,a-i.height),(0,l.distance)(o-i.width,a),(0,l.distance)(o-i.width,a-i.height));else if(t===m.ELLIPSE){var h=Math.min(Math.abs(a),Math.abs(a-i.height))/Math.min(Math.abs(o),Math.abs(o-i.width)),d=O(i,o,a,!0);c=h*(s=(0,l.distance)(d.x-o,(d.y-a)/h))}break;case"farthest-side":t===m.CIRCLE?s=c=Math.max(Math.abs(o),Math.abs(o-i.width),Math.abs(a),Math.abs(a-i.height)):t===m.ELLIPSE&&(s=Math.max(Math.abs(o),Math.abs(o-i.width)),c=Math.max(Math.abs(a),Math.abs(a-i.height)));break;case"farthest-corner":if(t===m.CIRCLE)s=c=Math.max((0,l.distance)(o,a),(0,l.distance)(o,a-i.height),(0,l.distance)(o-i.width,a),(0,l.distance)(o-i.width,a-i.height));else if(t===m.ELLIPSE){var u=Math.max(Math.abs(a),Math.abs(a-i.height))/Math.max(Math.abs(o),Math.abs(o-i.width)),p=O(i,o,a,!1);c=u*(s=(0,l.distance)(p.x-o,(p.y-a)/u))}break;default:s=r.x||0,c=void 0!==r.y?r.y:s}return{x:s,y:c}},I=t.transformWebkitRadialGradientArgs=function(e){var t="",n="",r="",i="",o=0,a=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,s=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,l=e[o].match(a);l&&o++;var c=e[o].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(t=c[1]||"","contain"===(r=c[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),o++);var h=e[o].match(s);h&&o++;var d=e[o].match(a);d&&o++;var u=e[o].match(s);u&&o++;var p=d||l;p&&p[1]&&(i=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(i+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var f=u||h;return f&&(n=f[0],f[1]||(n+="px")),!i||t||n||r||(n=i,i=""),i&&(i="at "+i),[[t,r,n,i].filter((function(e){return!!e})).join(" ")].concat(e.slice(o))},L=function(e){return e.map((function(e){return e.match(f)})).map((function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(54),a=n(133),s=u(n(245)),l=n(58),c=n(66),h=u(n(122)),d=n(246);function u(e){return e&&e.__esModule?e:{default:e}}var p="data-html2canvas-ignore",f=t.DocumentCloner=function(){function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=i,this.inlineImages=i,this.logger=r,this.options=n,this.renderer=o,this.resourceLoader=new s.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return i(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,c.parseBackgroundImage)(n.backgroundImage).map((function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then((function(e){return e&&"string"===typeof e.src?'url("'+e.src+'")':"none"})).catch((function(e){0})):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")}))).then((function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")})),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then((function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,l.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}})).catch((function(e){0}))}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map((function(t){return t.href?fetch(t.href).then((function(e){return e.text()})).then((function(e){return A(e,t.href)})).catch((function(e){return[]})):g(t,e)}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})).then((function(e){return Promise.all(e.map((function(e){return fetch(e.formats[0].src).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)}))})).then((function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "}))})))})).then((function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)}))}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(p){0}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),i=E();r.setAttribute("data-html2canvas-internal-iframe-key",i);var a=(0,o.parseBounds)(e,0,0),s=a.width,c=a.height;return this.resourceLoader.cache[i]=T(e,this.options).then((function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new h.default,width:s,height:c,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(i))})).then((function(t){return new Promise((function(n,i){var o=document.createElement("img");o.onload=function(){return n(t)},o.onerror=i,o.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,l.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),o),r)}))})),r}if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var d=[].slice.call(e.sheet.cssRules,0).reduce((function(e,n){try{return n&&n.cssText?e+n.cssText:e}catch(r){return t.logger.log("Unable to access cssText property",n.name),e}}),""),u=e.cloneNode(!1);return u.textContent=d,u}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,o=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&S(t);for(var a=(0,d.parseCounterReset)(r,this.pseudoContentData),s=(0,d.resolvePseudoContent)(e,i,this.pseudoContentData),c=e.firstChild;c;c=c.nextSibling)c.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===c.nodeName||c.hasAttribute(p)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.copyStyles&&"STYLE"===c.nodeName||t.appendChild(this.cloneNode(c));var h=(0,d.resolvePseudoContent)(e,o,this.pseudoContentData);if((0,d.popCounters)(a,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(i&&this.inlineAllImages(y(e,t,i,s,v)),o&&this.inlineAllImages(y(e,t,o,h,b)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,l.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||m(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),g=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).map((function(e){for(var n=(0,c.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],i=0;i<n.length;i++)if("url"===n[i].method&&n[i+1]&&"format"===n[i+1].method){var o=t.createElement("a");o.href=n[i].args[0],t.body&&t.body.appendChild(o);var a={src:o.href,format:n[i+1].args[0]};r.push(a)}return{formats:r.filter((function(e){return/^woff/i.test(e.format)})),fontFace:e.style}})).filter((function(e){return e.formats.length}))},A=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var i=document.createElement("style");return i.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(i),i.sheet?g(i.sheet,n):[]},m=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(i){}},y=function(e,t,n,r,i){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var o=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,l.copyCSSStyles)(n,o),r)for(var a=r.length,s=0;s<a;s++){var h=r[s];switch(h.type){case d.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var u=t.ownerDocument.createElement("img");u.src=(0,c.parseBackgroundImage)("url("+h.value+")")[0].args[0],u.style.opacity="1",o.appendChild(u);break;case d.PSEUDO_CONTENT_ITEM_TYPE.TEXT:o.appendChild(t.ownerDocument.createTextNode(h.value))}}return o.className=w+" "+x,t.className+=i===v?" "+w:" "+x,i===v?t.insertBefore(o,t.firstChild):t.appendChild(o),o}},v=":before",b=":after",w="___html2canvas___pseudoelement_before",x="___html2canvas___pseudoelement_after",C='{\n    content: "" !important;\n    display: none !important;\n}',S=function(e){B(e,"."+w+v+C+"\n         ."+x+b+C)},B=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},P=function(e){var t=r(e,3),n=t[0],i=t[1],o=t[2];n.scrollLeft=i,n.scrollTop=o},E=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},O=/^data:text\/(.+);(base64)?,(.*)$/i,T=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,a.Proxy)(e.src,t).then((function(e){var t=e.match(O);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()})).then((function(t){return I(e.ownerDocument,(0,o.parseBounds)(e,0,0)).then((function(e){var n=e.contentWindow.document;n.open(),n.write(t);var r=L(e).then((function(){return n.documentElement}));return n.close(),r}))})):Promise.reject()}},I=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(p,"true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("")},L=function(e){var t=e.contentWindow,n=t.document;return new Promise((function(r,i){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval((function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))}),50)}}))},k=(t.cloneWindow=function(e,t,n,r,i,o){var a=new f(n,r,i,!1,o),s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset;return I(e,t).then((function(i){var o=i.contentWindow,c=o.document,h=L(i).then((function(){a.scrolledElements.forEach(P),o.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===t.top&&o.scrollX===t.left||(c.documentElement.style.top=-t.top+"px",c.documentElement.style.left=-t.left+"px",c.documentElement.style.position="absolute");var n=Promise.resolve([i,a.clonedReferenceElement,a.resourceLoader]),s=r.onclone;return a.clonedReferenceElement instanceof o.HTMLElement||a.clonedReferenceElement instanceof e.defaultView.HTMLElement||a.clonedReferenceElement instanceof HTMLElement?"function"===typeof s?Promise.resolve().then((function(){return s(c)})).then((function(){return n})):n:Promise.reject("")}));return c.open(),c.write(k(document.doctype)+"<html></html>"),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,s,l),c.replaceChild(c.adoptNode(a.documentElement),c.documentElement),c.close(),h}))},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(81),a=(r=o)&&r.__esModule?r:{default:r},s=n(133);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,r){l(this,e),this.options=t,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=n,this._index=0}return i(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(A(e))return this.cache[e]=y(e,this.options.imageTimeout||0),e;if(!m(e)||a.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||f(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"===typeof this.options.proxy)return this.cache[e]=(0,s.Proxy)(e,this.options).then((function(e){return y(e,t.options.imageTimeout||0)})),e;if(!0===this.options.useCORS&&a.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return f(e)?y(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!==typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,s.Proxy)(e,this.options).then((function(e){return y(e,t.options.imageTimeout||0)}))}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise((function(n,r){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState)if(200!==i.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+i.status);else{var t=new FileReader;t.addEventListener("load",(function(){var e=t.result;n(e)}),!1),t.addEventListener("error",(function(e){return r(e)}),!1),t.readAsDataURL(i.response)}},i.responseType="blob",t.options.imageTimeout){var o=t.options.imageTimeout;i.timeout=o,i.ontimeout=function(){return r("")}}i.open("GET",e,!0),i.send()})).then((function(e){return y(e,t.options.imageTimeout||0)})),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return"undefined"!==typeof this.cache[e]}},{key:"addImage",value:function(e,t,n){var r=this;var i=function(e){return new Promise((function(i,o){var a=new Image;if(a.onload=function(){return i(a)},e&&!n||(a.crossOrigin="anonymous"),a.onerror=o,a.src=t,!0===a.complete&&setTimeout((function(){i(a)}),500),r.options.imageTimeout){var s=r.options.imageTimeout;setTimeout((function(){return o("")}),s)}}))};return this.cache[e]=g(t)&&!m(t)?a.default.SUPPORT_BASE64_DRAWING(t).then(i):i(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map((function(t){return e.cache[t].catch((function(e){return null}))}));return Promise.all(n).then((function(e){return new h(t,e)}))}}]),e}();t.default=c;var h=t.ResourceStore=function(){function e(t,n){l(this,e),this._keys=t,this._resources=n}return i(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),d=/^data:image\/svg\+xml/i,u=/^data:image\/.*;base64,/i,p=/^data:image\/.*/i,f=function(e){return p.test(e)},g=function(e){return u.test(e)},A=function(e){return"blob"===e.substr(0,4)},m=function(e){return"svg"===e.substr(-3).toLowerCase()||d.test(e)},y=function(e,t){return new Promise((function(n,r){var i=new Image;i.onload=function(){return n(i)},i.onerror=r,i.src=e,!0===i.complete&&setTimeout((function(){n(i)}),500),t&&setTimeout((function(){return r("")}),t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(101),o=n(79),a=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},s=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},l=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],i=e.counterReset.split(/\s*,\s*/),o=i.length,a=0;a<o;a++){var s=i[a].split(/\s+/),l=r(s,2),c=l[0],h=l[1];n.push(c);var d=t.counters[c];d||(d=t.counters[c]=[]),d.push(parseInt(h||0,10))}return n},t.popCounters=function(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var i=l(t.content),o=i.length,c=[],u="",p=t.counterIncrement;if(p&&"none"!==p){var f=p.split(/\s+/),g=r(f,2),A=g[0],m=g[1],y=n.counters[A];y&&(y[y.length-1]+=void 0===m?1:parseInt(m,10))}for(var v=0;v<o;v++){var b=i[v];switch(b.type){case s.STRING:u+=b.value||"";break;case s.ATTRIBUTE:e instanceof HTMLElement&&b.value&&(u+=e.getAttribute(b.value)||"");break;case s.COUNTER:var w=n.counters[b.name||""];w&&(u+=d([w[w.length-1]],"",b.format));break;case s.COUNTERS:var x=n.counters[b.name||""];x&&(u+=d(x,b.glue,b.format));break;case s.OPENQUOTE:u+=h(t,!0,n.quoteDepth),n.quoteDepth++;break;case s.CLOSEQUOTE:n.quoteDepth--,u+=h(t,!1,n.quoteDepth);break;case s.URL:u&&(c.push({type:a.TEXT,value:u}),u=""),c.push({type:a.IMAGE,value:b.value||""})}}return u&&c.push({type:a.TEXT,value:u}),c},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,i=!1,o=!1,a=!1,l="",h="",d=[],u=0;u<r;u++){var p=e.charAt(u);switch(p){case"'":case'"':o?l+=p:(i=!i,a||i||(n.push({type:s.STRING,value:l}),l=""));break;case"\\":o?(l+=p,o=!1):o=!0;break;case"(":i?l+=p:(a=!0,h=l,l="",d=[]);break;case")":if(i)l+=p;else if(a){switch(l&&d.push(l),h){case"attr":d.length>0&&n.push({type:s.ATTRIBUTE,value:d[0]});break;case"counter":if(d.length>0){var f={type:s.COUNTER,name:d[0]};d.length>1&&(f.format=d[1]),n.push(f)}break;case"counters":if(d.length>0){var g={type:s.COUNTERS,name:d[0]};d.length>1&&(g.glue=d[1]),d.length>2&&(g.format=d[2]),n.push(g)}break;case"url":d.length>0&&n.push({type:s.URL,value:d[0]})}a=!1,l=""}break;case",":i?l+=p:a&&(d.push(l),l="");break;case" ":case"\t":i?l+=p:l&&(c(n,l),l="");break;default:l+=p}"\\"!==p&&(o=!1)}return l&&c(n,l),t&&(t[e]=n),n}),c=function(e,t){switch(t){case"open-quote":e.push({type:s.OPENQUOTE});break;case"close-quote":e.push({type:s.CLOSEQUOTE})}},h=function(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],i=2*n;return i>=r.length&&(i=r.length-2),t||++i,r[i].replace(/^["']|["']$/g,"")},d=function(e,t,n){for(var r=e.length,a="",s=0;s<r;s++)s>0&&(a+=t||""),a+=(0,i.createCounterText)(e[s],(0,o.parseListStyleType)(n||"decimal"),!1);return a}},function(e,t){e.exports=function(e,t,n,r){var i=new Blob("undefined"!==typeof r?[r,e]:[e],{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),a=document.createElement("a");a.style.display="none",a.href=o,a.setAttribute("download",t),"undefined"===typeof a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(o)}),200)}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(264))&&r.__esModule?r:{default:r},o=n(278);var a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(28),o=n(31);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(266))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(267))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(268))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(269))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(270))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(271))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(272))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(273))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(274))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(275))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(276))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(e){return o.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(277))}))}))}];t.default=c},function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b="YT",w=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,x=/user\/([a-zA-Z0-9_-]+)\/?/,C=/youtube-nocookie\.com/,S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,s=g(l);function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(m(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:w.test(t)?{listType:"playlist",list:h(t.match(w),2)[1].replace(/^UC/,"UU")}:x.test(t)?{listType:"user_uploads",list:h(t.match(x),2)[1]}:{}})),v(m(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,c=r.onReady,h=r.loop,d=r.config,u=d.playerVars,p=d.onUnstarted,f=window.YT.PlayerState,g=f.UNSTARTED,A=f.PLAYING,m=f.PAUSED,y=f.BUFFERING,v=f.ENDED,b=f.CUED;if(n===g&&p(),n===A&&(i(),s()),n===m&&o(),n===y&&a(),n===v){var w=!!e.callPlayer("getPlaylist");h&&!w&&(u.start?e.seekTo(u.start):e.play()),l()}n===b&&c()})),v(m(e),"mute",(function(){e.callPlayer("mute")})),v(m(e),"unmute",(function(){e.callPlayer("unMute")})),v(m(e),"ref",(function(t){e.container=t})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||w.test(e)?null:e.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,l=r.controls,h=r.loop,d=r.config,u=r.onError,p=d.playerVars,f=d.embedOptions,g=this.getID(e);if(t)return w.test(e)||x.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:g,startSeconds:(0,o.parseStartTime)(e)||p.start,endSeconds:(0,o.parseEndTime)(e)||p.end});(0,o.getSDK)("https://www.youtube.com/iframe_api",b,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:g,playerVars:c(c({autoplay:i?1:0,mute:a?1:0,controls:l?1:0,start:(0,o.parseStartTime)(e),end:(0,o.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),p),events:{onReady:function(){h&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(e){return u(e.data)}},host:C.test(e)?"https://www.youtube-nocookie.com":void 0},f)))}),u),f.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&p(t.prototype,n),r&&p(t,r),l}(i.Component);t.default=S,v(S,"displayName","YouTube"),v(S,"canPlay",a.canPlay.youtube)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,a=p(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(g(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),m(g(e),"duration",null),m(g(e),"currentTime",null),m(g(e),"fractionLoaded",null),m(g(e),"mute",(function(){e.setVolume(0)})),m(g(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(g(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,h=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(h,(function(e){return n.props.onError(e)}))),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&d(t.prototype,n),r&&d(t,r),s}(i.Component);t.default=y,m(y,"displayName","SoundCloud"),m(y,"canPlay",a.canPlay.soundcloud),m(y,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,a=u(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(f(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),A(f(e),"duration",null),A(f(e),"currentTime",null),A(f(e),"secondsLoaded",null),A(f(e),"mute",(function(){e.setVolume(0)})),A(f(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),A(f(e),"ref",(function(t){e.container=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){t.container&&(t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&h(t.prototype,n),r&&h(t,r),s}(i.Component);t.default=m,A(m,"displayName","Vimeo"),A(m,"canPlay",a.canPlay.vimeo),A(m,"forceLoad",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="https://connect.facebook.net/en_US/sdk.js",y="fbAsyncInit",v="facebook-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,a=u(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(f(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),A(f(e),"playerID",e.props.config.playerId||"".concat(v).concat((0,o.randomString)())),A(f(e),"mute",(function(){e.callPlayer("mute")})),A(f(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,o.getSDK)(m,"FB",y).then((function(e){return e.XFBML.parse()})):(0,o.getSDK)(m,"FB",y).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&h(t.prototype,n),r&&h(t,r),s}(i.Component);t.default=b,A(b,"displayName","Facebook"),A(b,"canPlay",a.canPlay.facebook),A(b,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"duration",null),g(p(e),"currentTime",null),g(p(e),"secondsLoaded",null),g(p(e),"mute",(function(){e.callPlayer("mute")})),g(p(e),"unmute",(function(){e.callPlayer("unmute")})),g(p(e),"ref",(function(t){e.iframe=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&c(t.prototype,n),r&&c(t,r),u}(i.Component);t.default=A,g(A,"displayName","Streamable"),g(A,"canPlay",a.canPlay.streamable)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="wistia-player-",v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,r,s=p(l);function l(){var e;h(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(g(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(g(e),"playerID",e.props.config.playerId||"".concat(y).concat((0,o.randomString)())),m(g(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(g(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(g(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),m(g(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(g(e),"mute",(function(){e.callPlayer("mute")})),m(g(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,l=n.config,h=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){l.customControls&&l.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},l.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),s()}})}),h)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return i.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}])&&d(t.prototype,n),r&&d(t,r),l}(i.Component);t.default=v,m(v,"displayName","Wistia"),m(v,"canPlay",a.canPlay.wistia),m(v,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="twitch-player-",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=u(p);function p(){var e;c(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(f(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),A(f(e),"playerID",e.props.config.playerId||"".concat(m).concat((0,o.randomString)())),A(f(e),"mute",(function(){e.callPlayer("setMuted",!0)})),A(f(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playsinline,s=r.onError,c=r.config,h=r.controls,d=a.MATCH_URL_TWITCH_CHANNEL.test(e),u=d?e.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(a.MATCH_URL_TWITCH_VIDEO)[1];t?d?this.player.setChannel(u):this.player.setVideo("v"+u):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:d?"":u,channel:d?u:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!d||h,time:(0,o.parseStartTime)(e)},c.options));var r=t.Player,a=r.READY,s=r.PLAYING,p=r.PAUSE,f=r.ENDED,g=r.ONLINE,m=r.OFFLINE;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(p,n.props.onPause),n.player.addEventListener(f,n.props.onEnded),n.player.addEventListener(g,n.props.onLoaded),n.player.addEventListener(m,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}])&&h(t.prototype,n),r&&h(t,r),p}(i.Component);t.default=y,A(y,"displayName","Twitch"),A(y,"canPlay",a.canPlay.twitch),A(y,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,s=g(l);function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(m(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),v(m(e),"mute",(function(){e.callPlayer("setMuted",!0)})),v(m(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),v(m(e),"ref",(function(t){e.container=t})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,i=n.config,s=n.onError,l=n.playing,d=h(e.match(a.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(d,{start:(0,o.parseStartTime)(e),autoplay:l}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var a=n.player;t.player=new a(t.container,{width:"100%",height:"100%",video:d,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,o.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&p(t.prototype,n),r&&p(t,r),l}(i.Component);t.default=b,v(b,"displayName","DailyMotion"),v(b,"canPlay",a.canPlay.dailymotion),v(b,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,r,s=p(l);function l(){var e;h(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(g(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(g(e),"duration",null),m(g(e),"currentTime",null),m(g(e),"secondsLoaded",null),m(g(e),"mute",(function(){})),m(g(e),"unmute",(function(){})),m(g(e),"ref",(function(t){e.iframe=t})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(c(c({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}])&&d(t.prototype,n),r&&d(t,r),l}(i.Component);t.default=y,m(y,"displayName","Mixcloud"),m(y,"canPlay",a.canPlay.mixcloud),m(y,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=u(p);function p(){var e;c(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(f(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),A(f(e),"mute",(function(){e.setVolume(0)})),A(f(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),A(f(e),"ref",(function(t){e.container=t})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.config,s=n.onError,c=n.onDuration,h=e&&e.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded)}),h),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:h,container:t.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(h).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,n),r&&h(t,r),p}(i.Component);t.default=m,A(m,"displayName","Vidyard"),A(m,"canPlay",a.canPlay.vidyard)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,a=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"duration",null),g(p(e),"currentTime",null),g(p(e),"secondsLoaded",null),g(p(e),"mute",(function(){e.callPlayer("mute")})),g(p(e),"unmute",(function(){e.callPlayer("unmute")})),g(p(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){t.player.isReady=!0,t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),setTimeout((function(){t.props.onReady()}))})))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&c(t.prototype,n),r&&c(t,r),s}(i.Component);t.default=A,g(A,"displayName","Kaltura"),g(A,"canPlay",a.canPlay.kaltura)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(28),a=n(31);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="undefined"!==typeof navigator,y=m&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,v=m&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,b=/www\.dropbox\.com\/.+/,w=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=u(p);function p(){var e;c(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(f(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),A(f(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),A(f(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),A(f(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),A(f(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),A(f(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),A(f(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),A(f(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),A(f(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),A(f(e),"onPresentationModeChange",(function(t){if(e.player&&(0,o.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),A(f(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),A(f(e),"mute",(function(){e.player.muted=!0})),A(f(e),"unmute",(function(){e.player.muted=!1})),A(f(e),"renderSourceElement",(function(e,t){return"string"===typeof e?i.default.createElement("source",{key:t,src:e}):i.default.createElement("source",l({key:t},e))})),A(f(e),"renderTrack",(function(e,t){return i.default.createElement("track",l({key:t},e))})),A(f(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),v&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!v&&(a.HLS_EXTENSIONS.test(e)||w.test(e))}},{key:"shouldUseDASH",value:function(e){return a.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return a.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(i),t.hls.on(n.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),w.test(e)){var r=e.match(w)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(a)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,o.isMediaStream)(e))try{this.player.srcObject=e}catch(l){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,o.isMediaStream)(e)||t||n||r))return b.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,o=e.controls,a=e.muted,s=e.config,c=e.width,h=e.height,d=this.shouldUseAudio(this.props)?"audio":"video",u={width:"auto"===c?c:"100%",height:"auto"===h?h:"100%"};return i.default.createElement(d,l({ref:this.ref,src:this.getSource(t),style:u,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&h(t.prototype,n),r&&h(t,r),p}(i.Component);t.default=x,A(x,"displayName","FilePlayer"),A(x,"canPlay",a.canPlay.file)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=P(n(0)),i=h(n(134)),o=h(n(279)),a=h(n(135)),s=n(136),l=n(28),c=h(n(280));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return B=function(){return e},e}function P(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=B();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var E=(0,r.lazy)((function(){return Promise.resolve().then((function(){return P(n(281))}))})),O="undefined"!==typeof window&&window.document,T="undefined"!==typeof e&&e.window&&e.window.document,I=Object.keys(s.propTypes),L=O||T?r.Suspense:function(){return null},k=[];t.createReactPlayer=function(e,t){var n,h;return h=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(w,n);var h,d,u,A=b(w);function w(){var n;m(this,w);for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return S(x(n=A.call.apply(A,[this].concat(h))),"state",{showPreview:!!n.props.light}),S(x(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),S(x(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),S(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(x(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),S(x(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),S(x(n),"handleReady",(function(){n.props.onReady(x(n))})),S(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(k,g(e));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return t||null}))),S(x(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),S(x(n),"getAttributes",(0,o.default)((function(e){return(0,l.omit)(n.props,I)}))),S(x(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var i=n.getConfig(e,t.key);return r.default.createElement(c.default,f({},n.props,{key:t.key,ref:n.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return h=w,(d=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.default)(this.props,e)||!(0,a.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,i=t.playIcon,o=t.previewTabIndex;return r.default.createElement(E,{url:e,light:n,playIcon:i,previewTabIndex:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,i=e.width,o=e.height,a=e.fallback,s=e.wrapper,l=this.state.showPreview,c=this.getAttributes(t);return r.default.createElement(s,f({ref:this.references.wrapper,style:p(p({},n),{},{width:i,height:o})},c),r.default.createElement(L,{fallback:a},l?this.renderPreview(t):this.renderActivePlayer(t)))}}])&&y(h.prototype,d),u&&y(h,u),w}(r.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",s.propTypes),S(n,"defaultProps",s.defaultProps),S(n,"addCustomPlayer",(function(e){k.push(e)})),S(n,"removeCustomPlayers",(function(){k.length=0})),S(n,"canPlay",(function(t){for(var n=0,r=[].concat(k,g(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),S(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(k,g(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),h}}).call(this,n(75))},function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],o=t[n],!(i===o||r(i)&&r(o)))return!1;var i,o;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=(i=n(135))&&i.__esModule?i:{default:i},s=n(136);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,i=p(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(g(e=i.call.apply(i,[this].concat(n))),"mounted",!1),m(g(e),"isReady",!1),m(g(e),"isPlaying",!1),m(g(e),"isLoading",!0),m(g(e),"loadOnReady",null),m(g(e),"startOnPlay",!0),m(g(e),"seekOnPlay",null),m(g(e),"onDurationCalled",!1),m(g(e),"handlePlayerMount",(function(t){e.player=t,e.player.load(e.props.url),e.progress()})),m(g(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),m(g(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),m(g(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,o=t.muted;n(),o||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),m(g(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),m(g(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),m(g(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),m(g(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),m(g(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),m(g(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,l=n.playbackRate,c=n.pip,h=n.loop,d=n.activePlayer;if(!(0,a.default)(e.url,r)){if(this.isLoading&&!d.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==o&&null!==o&&this.player.setVolume(o),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return t.player.setVolume(o)})))),e.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),e.loop!==h&&this.player.setLoop&&this.player.setLoop(h)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?o.default.createElement(e,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&d(t.prototype,n),r&&d(t,r),s}(o.Component);t.default=y,m(y,"displayName","Player"),m(y,"propTypes",s.propTypes),m(y,"defaultProps",s.defaultProps)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="64px",m={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,o=d(a);function a(){var e;l(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=o.call.apply(o,[this].concat(n))),"mounted",!1),g(p(e),"state",{image:null}),g(p(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light;if("string"!==typeof r){if(!m[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),m[n]=r}}));this.setState({image:m[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,r=e.previewTabIndex,o=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:A,width:A,height:A},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},c=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress},n||c)}}])&&c(t.prototype,n),r&&c(t,r),a}(i.Component);t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(283))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":r(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(i){return!1}return!0}(t)?self[t]:o};var o={getItem:i,setItem:i,removeItem:i}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t),n.d(t,"CacheProvider",(function(){return T})),n.d(t,"ThemeContext",(function(){return O})),n.d(t,"withEmotionCache",(function(){return I})),n.d(t,"css",(function(){return D})),n.d(t,"ClassNames",(function(){return z})),n.d(t,"Global",(function(){return j})),n.d(t,"createElement",(function(){return R})),n.d(t,"jsx",(function(){return R})),n.d(t,"keyframes",(function(){return F}));var r=n(19),i=n(0);var o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(a){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var a=function(e){function t(e,r,l,c,u){for(var p,f,g,A,b,x=0,C=0,S=0,B=0,P=0,k=0,M=g=p=0,R=0,j=0,_=0,F=0,H=l.length,U=H-1,z="",Q="",W="",V="";R<H;){if(f=l.charCodeAt(R),R===U&&0!==C+B+S+x&&(0!==C&&(f=47===C?10:47),B=S=x=0,H++,U++),0===C+B+S+x){if(R===U&&(0<j&&(z=z.replace(d,"")),0<z.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:z+=l.charAt(R)}f=59}switch(f){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,F=++R;R<H;){switch(f=l.charCodeAt(R)){case 123:g++;break;case 125:g--;break;case 47:switch(f=l.charCodeAt(R+1)){case 42:case 47:e:{for(M=R+1;M<U;++M)switch(l.charCodeAt(M)){case 47:if(42===f&&42===l.charCodeAt(M-1)&&R+2!==M){R=M+1;break e}break;case 10:if(47===f){R=M+1;break e}}R=M}}break;case 91:f++;case 40:f++;case 34:case 39:for(;R++<U&&l.charCodeAt(R)!==f;);}if(0===g)break;R++}switch(g=l.substring(F,R),0===p&&(p=(z=z.replace(h,"").trim()).charCodeAt(0)),p){case 64:switch(0<j&&(z=z.replace(d,"")),f=z.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=L}if(F=(g=t(r,j,g,f,u+1)).length,0<N&&(b=s(3,g,j=n(L,z,_),r,O,E,F,f,u,c),z=j.join(""),void 0!==b&&0===(F=(g=b.trim()).length)&&(f=0,g="")),0<F)switch(f){case 115:z=z.replace(w,a);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(m,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===c&&(Q+=g,g="")}else g="";break;default:g=t(r,n(r,z,_),g,c,u+1)}W+=g,g=_=j=M=p=0,z="",f=l.charCodeAt(++R);break;case 125:case 59:if(1<(F=(z=(0<j?z.replace(d,""):z).trim()).length))switch(0===M&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(F=(z=z.replace(" ",":")).length),0<N&&void 0!==(b=s(1,z,r,e,O,E,Q.length,c,u,c))&&0===(F=(z=b.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),f=z.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){V+=z+l.charAt(R);break}default:58!==z.charCodeAt(F-1)&&(Q+=i(z,p,f,z.charCodeAt(2)))}_=j=M=p=0,z="",f=l.charCodeAt(++R)}}switch(f){case 13:case 10:47===C?C=0:0===1+p&&107!==c&&0<z.length&&(j=1,z+="\0"),0<N*D&&s(0,z,r,e,O,E,Q.length,c,u,c),E=1,O++;break;case 59:case 125:if(0===C+B+S+x){E++;break}default:switch(E++,A=l.charAt(R),f){case 9:case 32:if(0===B+x+C)switch(P){case 44:case 58:case 9:case 32:A="";break;default:32!==f&&(A=" ")}break;case 0:A="\\0";break;case 12:A="\\f";break;case 11:A="\\v";break;case 38:0===B+C+x&&(j=_=1,A="\f"+A);break;case 108:if(0===B+C+x+T&&0<M)switch(R-M){case 2:112===P&&58===l.charCodeAt(R-3)&&(T=P);case 8:111===k&&(T=k)}break;case 58:0===B+C+x&&(M=R);break;case 44:0===C+S+B+x&&(j=1,A+="\r");break;case 34:case 39:0===C&&(B=B===f?0:0===B?f:B);break;case 91:0===B+C+S&&x++;break;case 93:0===B+C+S&&x--;break;case 41:0===B+C+x&&S--;break;case 40:if(0===B+C+x){if(0===p)switch(2*P+3*k){case 533:break;default:p=1}S++}break;case 64:0===C+S+B+x+M+g&&(g=1);break;case 42:case 47:if(!(0<B+x+S))switch(C){case 0:switch(2*f+3*l.charCodeAt(R+1)){case 235:C=47;break;case 220:F=R,C=42}break;case 42:47===f&&42===P&&F+2!==R&&(33===l.charCodeAt(F+2)&&(Q+=l.substring(F,R+1)),A="",C=0)}}0===C&&(z+=A)}k=P,P=f,R++}if(0<(F=Q.length)){if(j=r,0<N&&(void 0!==(b=s(2,Q,j,e,O,E,F,c,u,c))&&0===(Q=b).length))return V+Q+W;if(Q=j.join(",")+"{"+Q+"}",0!==I*T){switch(2!==I||o(Q,2)||(T=0),T){case 111:Q=Q.replace(v,":-moz-$1")+Q;break;case 112:Q=Q.replace(y,"::-webkit-input-$1")+Q.replace(y,"::-moz-$1")+Q.replace(y,":-ms-input-$1")+Q}T=0}}return V+Q+W}function n(e,t,n){var i=t.trim().split(g);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(A,"$1"+e.trim());case 58:return e.trim()+t.replace(A,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(A,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===I||2===I&&o(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(P,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===B.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,h){for(var d,u=0,p=t;u<N;++u)switch(d=k[u].call(c,e,p,n,r,i,o,a,s,l,h)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?I=1:(I=2,M=e):I=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<N){var i=s(-1,n,r,r,O,E,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(L,r,n,0,0);return 0<N&&(void 0!==(i=s(-2,o,r,r,O,E,o.length,0,0,0))&&(o=i)),"",T=0,E=O=1,o}var h=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,g=/,\r+?/g,A=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,B=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,E=1,O=1,T=0,I=1,L=[],k=[],N=0,M=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:N=k.length=0;break;default:if("function"===typeof t)k[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},s="/*|*/";function l(e){e&&c.current.insert(e+"}")}var c={current:null},h=function(e,t,n,r,i,o,a,h,d,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===h)return t+s;break;case 3:switch(h){case 102:case 112:return c.current.insert(n[0]+t),"";default:return t+(0===u?s:"")}case-2:t.split("/*|*/}").forEach(l)}},d=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new a(t);var i,s={};i=e.container||document.head;var l,d=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(d,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(h),l=function(e,t,n,i){var o=t.name;c.current=n,r(e,t.styles),i&&(u.inserted[o]=!0)};var u={key:n,sheet:new o({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:l};return u};n(203);function u(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var p=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var f=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},g={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var A=/[A-Z]|^ms/g,m=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},v=function(e){return null!=e&&"boolean"!==typeof e},b=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return y(e)?e:e.replace(A,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(m,(function(e,t,n){return C={name:t,styles:n,next:C},t}))}return 1===g[e]||y(e)||"number"!==typeof t||0===t?t:t+"px"};function x(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return C={name:n.name,styles:n.styles,next:C},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)C={name:i.name,styles:i.styles,next:C},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=x(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":v(a)&&(r+=b(o)+":"+w(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=x(e,t,a,!1);switch(o){case"animation":case"animationName":r+=b(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)v(a[l])&&(r+=b(o)+":"+w(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=C,a=n(e);return C=o,x(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var C,S=/label:\s*([^\s;\n{]+)\s*;/g;var B=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";C=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=x(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=x(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);S.lastIndex=0;for(var s,l="";null!==(s=S.exec(i));)l+="-"+s[1];return{name:f(i)+l,styles:i,next:C}},P=Object.prototype.hasOwnProperty,E=Object(i.createContext)("undefined"!==typeof HTMLElement?d():null),O=Object(i.createContext)({}),T=E.Provider,I=function(e){var t=function(t,n){return Object(i.createElement)(E.Consumer,null,(function(r){return e(t,r,n)}))};return Object(i.forwardRef)(t)},L="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",k=function(e,t){var n={};for(var r in t)P.call(t,r)&&(n[r]=t[r]);return n[L]=e,n},N=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"===typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[L],s=[o],l="";"string"===typeof t.className?l=u(e.registered,s,t.className):null!=t.className&&(l=t.className+" ");var c=B(s);p(e,c,"string"===typeof a);l+=e.key+"-"+c.name;var h={};for(var d in t)P.call(t,d)&&"css"!==d&&d!==L&&(h[d]=t[d]);return h.ref=r,h.className=l,Object(i.createElement)(a,h)},M=I((function(e,t,n){return"function"===typeof e.css?Object(i.createElement)(O.Consumer,null,(function(r){return N(t,e,r,n)})):N(t,e,null,n)}));var D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return B(t)},R=function(e,t){var n=arguments;if(null==t||!P.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=M,o[1]=k(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},j=I((function(e,t){var n=e.styles;if("function"===typeof n)return Object(i.createElement)(O.Consumer,null,(function(e){var r=B([n(e)]);return Object(i.createElement)(_,{serialized:r,cache:t})}));var r=B([n]);return Object(i.createElement)(_,{serialized:r,cache:t})})),_=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new o({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&p(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(i.Component),F=function(){var e=D.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},H=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function U(e,t,n){var r=[],i=u(e,r,n);return r.length<2?n:i+t(r)}var z=I((function(e,t){return Object(i.createElement)(O.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=B(n,t.registered);return p(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return U(t.registered,r,H(n))},theme:n},o=e.children(i);return!0,o}))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return i.a})),n.d(t,"createSvgIcon",(function(){return o.a})),n.d(t,"debounce",(function(){return a.a})),n.d(t,"deprecatedPropType",(function(){return s})),n.d(t,"isMuiElement",(function(){return l.a})),n.d(t,"ownerDocument",(function(){return c.a})),n.d(t,"ownerWindow",(function(){return h.a})),n.d(t,"requirePropFactory",(function(){return d})),n.d(t,"setRef",(function(){return u.a})),n.d(t,"unsupportedProp",(function(){return p.a})),n.d(t,"useControlled",(function(){return g})),n.d(t,"useEventCallback",(function(){return A.a})),n.d(t,"useForkRef",(function(){return m.a})),n.d(t,"unstable_useId",(function(){return y})),n.d(t,"useIsFocusVisible",(function(){return v.a}));var r=n(14),i=n(68),o=n(44),a=n(41);function s(e,t){return function(){return null}}var l=n(82),c=n(36),h=n(59);function d(e){return function(){return null}}var u=n(46),p=n(97),f=n(0);function g(e){var t=e.controlled,n=e.default,r=(e.name,e.state,f.useRef(void 0!==t).current),i=f.useState(n),o=i[0],a=i[1];return[r?t:o,f.useCallback((function(e){r||a(e)}),[])]}var A=n(24),m=n(22);function y(e){var t=f.useState(e),n=t[0],r=t[1],i=e||n;return f.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var v=n(83)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(69);function o(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(157),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,h=e.invisible,d=void 0!==h&&h,u=e.open,p=e.transitionDuration,f=e.TransitionComponent,g=void 0===f?l.a:f,A=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(g,Object(r.a)({in:u,timeout:p},A),o.createElement("div",{className:Object(a.a)(s.root,c,d&&s.invisible),"aria-hidden":!0,ref:t},n))}));t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return gn}));var r=n(4),i=n(2),o=n(0),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(n(40),n(64)),h=n(19),d=n(71),u=n(18),p={}.constructor;function f(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=f(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var A=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=A(e[r]," ");else n=A(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function v(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var c in l){var h=l[c];null!=h&&(r&&(r+="\n"),r+=""+y(c+": "+m(h)+";",o))}}else for(var d in a){var u=a[d];null!=u&&(r&&(r+="\n"),r+=""+y(d+": "+m(u)+";",o))}for(var p in t){var f=t[p];null!=f&&"fallbacks"!==p&&(r&&(r+="\n"),r+=""+y(p+": "+m(f)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),y(e+" {"+r,--o)+y("}",o)):r}var b=/([[\].#*$><+~=|^:(),"'`\s])/g,w="undefined"!==typeof CSS&&CSS.escape,x=function(e){return w?w(e):e.replace(b,"\\$1")},C=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),S=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(Object(d.a)(Object(d.a)(i)),s),i.selectorText="."+x(i.id)),i}Object(h.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(C),B={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},P={indent:1,children:!0},E=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(E);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=P),null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),T=/@media|@supports\s+/,I={onCreateRule:function(e,t,n){return T.test(e)?new O(e,t,n):null}},L={indent:1,children:!0},k=/@keyframes\s+([\w-]+)/,N=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(k);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:x(s(this,a)),this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=L),null==e.indent&&(e.indent=L.indent),null==e.children&&(e.children=L.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),M=/@keyframes\s+/,D=/\$([\w-]+)/g,R=function(e,t){return"string"===typeof e?e.replace(D,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=R(r,n);i!==r&&(e[t]=i)},_={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new N(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return R(e,r.keyframes);default:return e}}},F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(h.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,n)},t}(C),H={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new F(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=v(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return v(this.at,this.style,e)},e}(),z=/@font-face/,Q={onCreateRule:function(e,t,n){return z.test(e)?new U(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},X=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Y={"@charset":!0,"@import":!0,"@namespace":!0},K=[B,I,_,H,Q,V,{onCreateRule:function(e,t,n){return e in Y?new X(e,t,n):null}}],G={process:!0},q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,c=r.generateId,h=r.scoped,d=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:h,name:e,keyframes:this.keyframes,selector:void 0},n),u=e;e in this.raw&&(u=e+"-d"+this.counter++),this.raw[u]=t,u in this.classes&&(d.selector="."+x(this.classes[u]));var p=g(u,t,d);if(!p)return null;this.register(p);var f=void 0===d.index?this.index.length:d.index;return this.index.splice(f,0,p),p},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof N&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof N&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=G);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,l=s.style;if(o.onUpdate(n,t,a,r),r.process&&l&&l!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var h=s.style[c];h!==l[c]&&s.prop(c,h,q)}for(var d in l){var u=s.style[d],p=l[d];null==u&&u!==p&&s.prop(d,null,q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),Z=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var re=te[ne]++,ie=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+re+i+t:o+n.key+"-"+re+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},he=oe((function(){return document.querySelector("head")}));function de(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=he(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ue=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},fe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=ae,this.setProperty=se,this.removeProperty=le,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ue();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=de(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=fe(n,t);if(!1===(i=pe(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=fe(n,t),l=pe(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ae=0,me=function(){function e(e){this.id=Ae++,this.version="10.6.0",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:ie,Renderer:l?ge:null,plugins:[]},this.generateId=ie({minify:!1});for(var t=0;t<K.length;t++)this.plugins.use(K[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=g(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function ye(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ye(r);o&&(t||(t={}),t[n]=o)}}return t}var ve="object"===typeof CSS&&null!=CSS&&"number"in CSS,be=function(e){return new me(e)};be();function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var xe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ce=n(292),Se=(n(8),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Be=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Pe=Date.now(),Ee="fnValues"+Pe,Oe="fnStyle"+ ++Pe,Te=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[Oe]=t,r},onProcessStyle:function(e,t){if(Ee in t||Oe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ee]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Oe];o&&(i.style=o(e)||{});var a=i[Ee];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Ie="@global",Le="@global ",ke=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ie,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ne=function(){function e(e,t,n){this.type="global",this.at=Ie,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(Le.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Me=/\s*,\s*/g;function De(e,t){for(var n=e.split(Me),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Re=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ie)return new ke(e,t,n);if("@"===e[0]&&e.substr(0,Le.length)===Le)return new Ne(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[Ie]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(i.a)({},n,{selector:De(a,e.selector)}));delete r[Ie]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,Ie.length)===Ie){var a=De(o.substr(Ie.length),e.selector);t.addRule(a,r[o],Object(i.a)({},n,{selector:a})),delete r[o]}}(e,t))}}},je=/\s*,\s*/g,_e=/&/g,Fe=/\$([\w-]+)/g;var He=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(je),r=e.split(je),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(_e,a):a+" "+l}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,l,c=o,h=c.options.parent;for(var d in r){var u=-1!==d.indexOf("&"),p="@"===d[0];if(u||p){if(s=n(c,h,s),u){var f=t(d,c.selector);l||(l=e(h,a)),f=f.replace(Fe,l),h.addRule(f,r[d],Object(i.a)({},s,{selector:f}))}else p&&h.addRule(d,{},s).addRule(c.key,r[d],{selector:c.selector});delete r[d]}}return r}}},Ue=/[A-Z]/g,ze=/^ms-/,Qe={};function We(e){return"-"+e.toLowerCase()}var Ve=function(e){if(Qe.hasOwnProperty(e))return Qe[e];var t=e.replace(Ue,We);return Qe[e]=ze.test(t)?"-"+t:t};function Xe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ve(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Xe):t.fallbacks=Xe(e.fallbacks)),t}var Ye=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Xe(e[t]);return e}return Xe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ve(t);return t===r?e:(n.prop(r,e),null)}}},Ke=ve&&CSS?CSS.px:"px",Ge=ve&&CSS?CSS.ms:"ms",qe=ve&&CSS?CSS.percent:"%";function Je(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ze=Je({"animation-delay":Ge,"animation-duration":Ge,"background-position":Ke,"background-position-x":Ke,"background-position-y":Ke,"background-size":Ke,border:Ke,"border-bottom":Ke,"border-bottom-left-radius":Ke,"border-bottom-right-radius":Ke,"border-bottom-width":Ke,"border-left":Ke,"border-left-width":Ke,"border-radius":Ke,"border-right":Ke,"border-right-width":Ke,"border-top":Ke,"border-top-left-radius":Ke,"border-top-right-radius":Ke,"border-top-width":Ke,"border-width":Ke,"border-block":Ke,"border-block-end":Ke,"border-block-end-width":Ke,"border-block-start":Ke,"border-block-start-width":Ke,"border-block-width":Ke,"border-inline":Ke,"border-inline-end":Ke,"border-inline-end-width":Ke,"border-inline-start":Ke,"border-inline-start-width":Ke,"border-inline-width":Ke,"border-start-start-radius":Ke,"border-start-end-radius":Ke,"border-end-start-radius":Ke,"border-end-end-radius":Ke,margin:Ke,"margin-bottom":Ke,"margin-left":Ke,"margin-right":Ke,"margin-top":Ke,"margin-block":Ke,"margin-block-end":Ke,"margin-block-start":Ke,"margin-inline":Ke,"margin-inline-end":Ke,"margin-inline-start":Ke,padding:Ke,"padding-bottom":Ke,"padding-left":Ke,"padding-right":Ke,"padding-top":Ke,"padding-block":Ke,"padding-block-end":Ke,"padding-block-start":Ke,"padding-inline":Ke,"padding-inline-end":Ke,"padding-inline-start":Ke,"mask-position-x":Ke,"mask-position-y":Ke,"mask-size":Ke,height:Ke,width:Ke,"min-height":Ke,"max-height":Ke,"min-width":Ke,"max-width":Ke,bottom:Ke,left:Ke,top:Ke,right:Ke,inset:Ke,"inset-block":Ke,"inset-block-end":Ke,"inset-block-start":Ke,"inset-inline":Ke,"inset-inline-end":Ke,"inset-inline-start":Ke,"box-shadow":Ke,"text-shadow":Ke,"column-gap":Ke,"column-rule":Ke,"column-rule-width":Ke,"column-width":Ke,"font-size":Ke,"font-size-delta":Ke,"letter-spacing":Ke,"text-decoration-thickness":Ke,"text-indent":Ke,"text-stroke":Ke,"text-stroke-width":Ke,"word-spacing":Ke,motion:Ke,"motion-offset":Ke,outline:Ke,"outline-offset":Ke,"outline-width":Ke,perspective:Ke,"perspective-origin-x":qe,"perspective-origin-y":qe,"transform-origin":qe,"transform-origin-x":qe,"transform-origin-y":qe,"transform-origin-z":qe,"transition-delay":Ge,"transition-duration":Ge,"vertical-align":Ke,"flex-basis":Ke,"shape-margin":Ke,size:Ke,gap:Ke,grid:Ke,"grid-gap":Ke,"row-gap":Ke,"grid-row-gap":Ke,"grid-column-gap":Ke,"grid-template-rows":Ke,"grid-template-columns":Ke,"grid-auto-rows":Ke,"grid-auto-columns":Ke,"box-shadow-x":Ke,"box-shadow-y":Ke,"box-shadow-blur":Ke,"box-shadow-spread":Ke,"font-line-height":Ke,"text-shadow-x":Ke,"text-shadow-y":Ke,"text-shadow-blur":Ke});function $e(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=$e(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=$e(i,t[i],n);else for(var o in t)t[o]=$e(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||Ze[e];return!a||0===t&&a===Ke?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var et=function(e){void 0===e&&(e={});var t=Je(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=$e(r,e[r],t);return e},onChangeValue:function(e,n){return $e(n,e,t)}}},tt=n(37),nt="",rt="",it="",ot="",at=l&&"ontouchstart"in document.documentElement;if(l){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lt=document.createElement("p").style;for(var ct in st)if(ct+"Transform"in lt){nt=ct,rt=st[ct];break}"Webkit"===nt&&"msHyphens"in lt&&(nt="ms",rt=st.ms,ot="edge"),"Webkit"===nt&&"-apple-trailing-word"in lt&&(it="apple")}var ht=nt,dt=rt,ut=it,pt=ot,ft=at;var gt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht?"-webkit-"+e:dt+e)}},At={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht?dt+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function vt(e){return e.replace(mt,yt)}function bt(e){return vt("-"+e)}var wt,xt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht){var n="mask-image";if(vt(n)in t)return e;if(ht+bt(n)in t)return dt+e}return e}},Ct={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ut||ft?e:dt+e)}},St={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:dt+e)}},Bt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:dt+e)}},Pt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht||"ms"===ht&&"edge"!==pt?dt+e:e)}},Et={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht||"ms"===ht||"apple"===ut?dt+e:e)}},Ot={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht?"WebkitColumn"+bt(e)in t&&dt+"column-"+e:"Moz"===ht&&("page"+bt(e)in t&&"page-"+e))}},Tt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht)return e;var n=e.replace("-inline","");return ht+bt(n)in t&&dt+n}},It={supportedProperty:function(e,t){return vt(e)in t&&e}},Lt={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht+n in t?dt+e:"Webkit"!==ht&&"Webkit"+n in t&&"-webkit-"+e}},kt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht?""+dt+e:e)}},Nt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht?dt+"scroll-chaining":e)}},Mt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Dt={supportedProperty:function(e,t){var n=Mt[e];return!!n&&(ht+bt(n)in t&&dt+n)}},Rt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},jt=Object.keys(Rt),_t=function(e){return dt+e},Ft=[gt,At,xt,Ct,St,Bt,Pt,Et,Ot,Tt,It,Lt,kt,Nt,Dt,{supportedProperty:function(e,t,n){var r=n.multiple;if(jt.indexOf(e)>-1){var i=Rt[e];if(!Array.isArray(i))return ht+bt(i)in t&&dt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ht+bt(i[0])in t))return!1;return i.map(_t)}return!1}}],Ht=Ft.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=Ft.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(tt.a)(t.noPrefill)),e}),[]),zt={};if(l){wt=document.createElement("p");var Qt=window.getComputedStyle(document.documentElement,"");for(var Wt in Qt)isNaN(Wt)||(zt[Qt[Wt]]=Qt[Wt]);Ut.forEach((function(e){return delete zt[e]}))}function Vt(e,t){if(void 0===t&&(t={}),!wt)return e;if(null!=zt[e])return zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in wt.style);for(var n=0;n<Ht.length&&(zt[e]=Ht[n](e,wt.style,t),!zt[e]);n++);try{wt.style[e]=""}catch(r){return!1}return zt[e]}var Xt,Yt={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Gt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function qt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Vt(t):", "+Vt(n);return r||(t||n)}function Jt(e,t){var n=t;if(!Xt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Yt[r])return Yt[r];try{Xt.style[e]=n}catch(i){return Yt[r]=!1,!1}if(Kt[e])n=n.replace(Gt,qt);else if(""===Xt.style[e]&&("-ms-flex"===(n=dt+n)&&(Xt.style[e]="-ms-flexbox"),Xt.style[e]=n,""===Xt.style[e]))return Yt[r]=!1,!1;return Xt.style[e]="",Yt[r]=n,Yt[r]}l&&(Xt=document.createElement("p"));var Zt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Vt(n);o&&o!==n&&(i=!0);var a=!1,s=Jt(o,m(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ht?n:"@"+dt+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Jt(t,m(e))||e}}};var $t=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function en(){return{plugins:[Te(),Re(),He(),Ye(),et(),"undefined"===typeof window?null:Zt(),$t()]}}var tn=be(en()),nn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,c=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Be.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Se]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),jss:tn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.a.createContext(nn);var on=-1e9;function an(){return on+=1}n(69);var sn=n(288);function ln(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(sn.a)(s[e],a[e])})),s},options:{}}}var cn={};function hn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=we({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function dn(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=xe.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},xe.set(o.sheetsManager,a,r,l));var c=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var h=o.sheetsRegistry;if(0===l.refs){var d;o.sheetsCache&&(d=xe.get(o.sheetsCache,a,r));var u=a.create(r,s);d||((d=o.jss.createStyleSheet(u,Object(i.a)({link:!1},c))).attach(),o.sheetsCache&&xe.set(o.sheetsCache,a,r,d)),h&&h.add(d),l.staticSheet=d,l.dynamicStyles=ye(u)}if(l.dynamicStyles){var p=o.jss.createStyleSheet(l.dynamicStyles,Object(i.a)({link:!0},c));p.update(t),p.attach(),n.dynamicSheet=p,n.classes=we({baseClasses:l.staticSheet.classes,newClasses:p.classes}),h&&h.add(p)}else n.classes=l.staticSheet.classes;l.refs+=1}}function un(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=xe.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(xe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function fn(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,c=void 0===l?cn:l,h=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),d=ln(e),u=n||o||"makeStyles";d.options={index:an(),name:n,meta:u,classNamePrefix:u};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ce.a)()||c,r=Object(i.a)({},a.a.useContext(rn),h),o=a.a.useRef(),l=a.a.useRef();fn((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return dn(i,e),l.current=!1,o.current=i,function(){pn(i)}}),[t,d]),a.a.useEffect((function(){l.current&&un(o.current,e),l.current=!0}));var u=hn(o.current,e.classes,s);return u};return p}},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(0),a=n(13),s=(n(8),n(292)),l=n(326),c=n(36),h=n(46),d=n(22);var u="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var p=o.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,s=void 0!==i&&i,l=e.onRendered,c=o.useState(null),p=c[0],f=c[1],g=Object(d.a)(o.isValidElement(n)?n.ref:null,t);return u((function(){s||f(function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(r)||document.body)}),[r,s]),u((function(){if(p&&!s)return Object(h.a)(t,p),function(){Object(h.a)(t,null)}}),[t,p,s]),u((function(){l&&(p||s)&&l()}),[l,p,s]),s?o.isValidElement(n)?o.cloneElement(n,{ref:g}):n:p?a.createPortal(n,p):p})),f=n(68),g=n(24),A=n(86);var m=n(64),y=n(37);var v=n(59);function b(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function w(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(y.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&b(e,i)}))}function C(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function S(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(c.a)(e);return t.body===e?Object(v.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(w(o)+a,"px"),n=Object(c.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(w(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(m.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&b(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);x(t,e.mountNode,e.modalRef,r,!0);var i=C(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=S(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&b(e.modalRef,!0),x(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&b(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var P=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,l=e.disableRestoreFocus,h=void 0!==l&&l,u=e.getDoc,p=e.isEnabled,f=e.open,g=o.useRef(),A=o.useRef(null),m=o.useRef(null),y=o.useRef(),v=o.useRef(null),b=o.useCallback((function(e){v.current=a.findDOMNode(e)}),[]),w=Object(d.a)(t.ref,b),x=o.useRef();return o.useEffect((function(){x.current=f}),[f]),!x.current&&f&&"undefined"!==typeof window&&(y.current=u().activeElement),o.useEffect((function(){if(f){var e=Object(c.a)(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){null!==v.current&&(e.hasFocus()&&!s&&p()&&!g.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():g.current=!1)},n=function(t){!s&&p()&&9===t.keyCode&&e.activeElement===v.current&&(g.current=!0,t.shiftKey?m.current.focus():A.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),h||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,s,h,p,f]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:A,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:w}),o.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},E={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},O=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,l=Object(r.a)(e,["invisible","open"]);return s?o.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},l,{style:Object(i.a)({},E.root,a?E.invisible:{},l.style)})):null}));var T=new B,I=o.forwardRef((function(e,t){var n=Object(s.a)(),h=Object(l.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),u=h.BackdropComponent,m=void 0===u?O:u,y=h.BackdropProps,v=h.children,w=h.closeAfterTransition,x=void 0!==w&&w,C=h.container,S=h.disableAutoFocus,B=void 0!==S&&S,E=h.disableBackdropClick,I=void 0!==E&&E,L=h.disableEnforceFocus,k=void 0!==L&&L,N=h.disableEscapeKeyDown,M=void 0!==N&&N,D=h.disablePortal,R=void 0!==D&&D,j=h.disableRestoreFocus,_=void 0!==j&&j,F=h.disableScrollLock,H=void 0!==F&&F,U=h.hideBackdrop,z=void 0!==U&&U,Q=h.keepMounted,W=void 0!==Q&&Q,V=h.manager,X=void 0===V?T:V,Y=h.onBackdropClick,K=h.onClose,G=h.onEscapeKeyDown,q=h.onRendered,J=h.open,Z=Object(r.a)(h,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),$=o.useState(!0),ee=$[0],te=$[1],ne=o.useRef({}),re=o.useRef(null),ie=o.useRef(null),oe=Object(d.a)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(h),se=function(){return Object(c.a)(re.current)},le=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ce=function(){X.mount(le(),{disableScrollLock:H}),ie.current.scrollTop=0},he=Object(g.a)((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(C)||se().body;X.add(le(),e),ie.current&&ce()})),de=o.useCallback((function(){return X.isTopModal(le())}),[X]),ue=Object(g.a)((function(e){re.current=e,e&&(q&&q(),J&&de()?ce():b(ie.current,!0))})),pe=o.useCallback((function(){X.remove(le())}),[X]);if(o.useEffect((function(){return function(){pe()}}),[pe]),o.useEffect((function(){J?he():ae&&x||pe()}),[J,pe,ae,x,he]),!W&&!J&&(!ae||ee))return null;var fe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:A.a}),ge={};return void 0===v.props.tabIndex&&(ge.tabIndex=v.props.tabIndex||"-1"),ae&&(ge.onEnter=Object(f.a)((function(){te(!1)}),v.props.onEnter),ge.onExited=Object(f.a)((function(){te(!0),x&&pe()}),v.props.onExited)),o.createElement(p,{ref:ue,container:C,disablePortal:R},o.createElement("div",Object(i.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&de()&&(G&&G(e),M||(e.stopPropagation(),K&&K(e,"escapeKeyDown")))},role:"presentation"},Z,{style:Object(i.a)({},fe.root,!J&&ee?fe.hidden:{},Z.style)}),z?null:o.createElement(m,Object(i.a)({open:J,onClick:function(e){e.target===e.currentTarget&&(Y&&Y(e),!I&&K&&K(e,"backdropClick"))}},y)),o.createElement(P,{disableEnforceFocus:k,disableAutoFocus:B,disableRestoreFocus:_,getDoc:se,isEnabled:de,open:J},o.cloneElement(v,ge))))}));t.a=I},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r);var o=i.a.createContext(null);function a(){return i.a.useContext(o)}},function(e,t,n){"use strict";var r=n(18),i=n(19),o=(n(8),n(0)),a=n.n(o),s=n(13),l=n.n(s),c=!1,h=n(65),d="unmounted",u="exited",p="entering",f="entered",g="exiting",A=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=u,r.appearStatus=p):i=f:i=t.unmountOnExit||t.mountOnEnter?d:u,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==f&&(t=p):n!==p&&n!==f||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),h=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:f},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:p},(function(){t.props.onEntering(o,a),t.onTransitionEnd(h,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:g},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(h.a.Provider,{value:null},"function"===typeof n?n(e,i):a.a.cloneElement(a.a.Children.only(n),i))},t}(a.a.Component);function m(){}A.contextType=h.a,A.propTypes={},A.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},A.UNMOUNTED=d,A.EXITED=u,A.ENTERING=p,A.ENTERED=f,A.EXITING=g;t.a=A},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2),i=n(290),o=n(49);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:o.a},t))}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(39),c=n(107),h=n(14),d=o.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,l=e.children,d=e.classes,u=e.className,p=e.color,f=void 0===p?"default":p,g=e.disabled,A=void 0!==g&&g,m=e.disableFocusRipple,y=void 0!==m&&m,v=e.size,b=void 0===v?"medium":v,w=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(c.a,Object(r.a)({className:Object(a.a)(d.root,u,"default"!==f&&d["color".concat(Object(h.a)(f))],A&&d.disabled,"small"===b&&d["size".concat(Object(h.a)(b))],{start:d.edgeStart,end:d.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:A,ref:t},w),o.createElement("span",{className:d.label},l))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(l.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(74),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,h=e.disableTypography,d=void 0!==h&&h,u=Object(i.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,c),ref:t},u),d?n:o.createElement(l.a,{component:"h2",variant:"h6"},n))}));t.a=Object(s.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(c)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.dividers,c=void 0!==l&&l,h=Object(i.a)(e,["classes","className","dividers"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,c&&n.dividers),ref:t},h))}));t.a=Object(s.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(l)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=o.forwardRef((function(e,t){var n=e.disableSpacing,s=void 0!==n&&n,l=e.classes,c=e.className,h=Object(i.a)(e,["disableSpacing","classes","className"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(l.root,c,!s&&l.spacing),ref:t},h))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(l)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(16),a=n(0),s=(n(8),n(5)),l=n(7),c=n(14),h=n(291),d=n(289),u=n(157),p=n(29),f=n(156),g={enter:p.b.enteringScreen,exit:p.b.leavingScreen},A=a.forwardRef((function(e,t){var n=e.BackdropProps,o=e.children,l=e.classes,p=e.className,A=e.disableBackdropClick,m=void 0!==A&&A,y=e.disableEscapeKeyDown,v=void 0!==y&&y,b=e.fullScreen,w=void 0!==b&&b,x=e.fullWidth,C=void 0!==x&&x,S=e.maxWidth,B=void 0===S?"sm":S,P=e.onBackdropClick,E=e.onClose,O=e.onEnter,T=e.onEntered,I=e.onEntering,L=e.onEscapeKeyDown,k=e.onExit,N=e.onExited,M=e.onExiting,D=e.open,R=e.PaperComponent,j=void 0===R?f.a:R,_=e.PaperProps,F=void 0===_?{}:_,H=e.scroll,U=void 0===H?"paper":H,z=e.TransitionComponent,Q=void 0===z?u.a:z,W=e.transitionDuration,V=void 0===W?g:W,X=e.TransitionProps,Y=e["aria-describedby"],K=e["aria-labelledby"],G=Object(i.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=a.useRef();return a.createElement(h.a,Object(r.a)({className:Object(s.a)(l.root,p),BackdropComponent:d.a,BackdropProps:Object(r.a)({transitionDuration:V},n),closeAfterTransition:!0,disableBackdropClick:m,disableEscapeKeyDown:v,onEscapeKeyDown:L,onClose:E,open:D,ref:t},G),a.createElement(Q,Object(r.a)({appear:!0,in:D,timeout:V,onEnter:O,onEntering:I,onEntered:T,onExit:k,onExiting:M,onExited:N,role:"none presentation"},X),a.createElement("div",{className:Object(s.a)(l.container,l["scroll".concat(Object(c.a)(U))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,P&&P(e),!m&&E&&E(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},a.createElement(j,Object(r.a)({elevation:24,role:"dialog","aria-describedby":Y,"aria-labelledby":K},F,{className:Object(s.a)(l.paper,l["paperScroll".concat(Object(c.a)(U))],l["paperWidth".concat(Object(c.a)(String(B)))],F.className,w&&l.paperFullScreen,C&&l.paperFullWidth)}),o))))}));t.a=Object(l.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(A)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(14),c=n(156),h=o.forwardRef((function(e,t){var n=e.classes,s=e.className,h=e.color,d=void 0===h?"primary":h,u=e.position,p=void 0===u?"fixed":u,f=Object(i.a)(e,["classes","className","color","position"]);return o.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(a.a)(n.root,n["position".concat(Object(l.a)(p))],n["color".concat(Object(l.a)(d))],s,"fixed"===p&&"mui-fixed"),ref:t},f))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(h)},function(e,t,n){"use strict";var r=n(4),i=n(16),o=n(2),a=n(0),s=(n(8),n(5)),l=n(7),c=n(107),h=n(14),d=a.forwardRef((function(e,t){var n=e.classes,i=e.className,l=e.disabled,d=void 0!==l&&l,u=e.disableFocusRipple,p=void 0!==u&&u,f=e.fullWidth,g=e.icon,A=e.indicator,m=e.label,y=e.onChange,v=e.onClick,b=e.onFocus,w=e.selected,x=e.selectionFollowsFocus,C=e.textColor,S=void 0===C?"inherit":C,B=e.value,P=e.wrapped,E=void 0!==P&&P,O=Object(r.a)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return a.createElement(c.a,Object(o.a)({focusRipple:!p,className:Object(s.a)(n.root,n["textColor".concat(Object(h.a)(S))],i,d&&n.disabled,w&&n.selected,m&&g&&n.labelIcon,f&&n.fullWidth,E&&n.wrapped),ref:t,role:"tab","aria-selected":w,disabled:d,onClick:function(e){y&&y(e,B),v&&v(e)},onFocus:function(e){x&&!w&&y&&y(e,B),b&&b(e)},tabIndex:w?0:-1},O),a.createElement("span",{className:n.wrapper},g,m),A)}));t.a=Object(l.a)((function(e){var t;return{root:Object(o.a)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(i.a)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),Object(i.a)(t,"overflow","hidden"),Object(i.a)(t,"whiteSpace","normal"),Object(i.a)(t,"textAlign","center"),Object(i.a)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(d)},function(e,t,n){"use strict";var r=n(2),i=n(0),o=(n(8),n(7)),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(o.a)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(16),a=n(0),s=(n(8),n(5)),l=n(7),c=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.component,c=void 0===l?"div":l,h=e.disableGutters,d=void 0!==h&&h,u=e.variant,p=void 0===u?"regular":u,f=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(c,Object(r.a)({className:Object(s.a)(n.root,n[p],o,!d&&n.gutters),ref:t},f))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(39),c=o.forwardRef((function(e,t){var n=e.absolute,s=void 0!==n&&n,l=e.classes,c=e.className,h=e.component,d=void 0===h?"hr":h,u=e.flexItem,p=void 0!==u&&u,f=e.light,g=void 0!==f&&f,A=e.orientation,m=void 0===A?"horizontal":A,y=e.role,v=void 0===y?"hr"!==d?"separator":void 0:y,b=e.variant,w=void 0===b?"fullWidth":b,x=Object(i.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,Object(r.a)({className:Object(a.a)(l.root,c,"fullWidth"!==w&&l[w],s&&l.absolute,p&&l.flexItem,g&&l.light,"vertical"===m&&l.vertical),role:v,ref:t},x))}));t.a=Object(s.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.b)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(38),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,h=e.component,d=void 0===h?"ul":h,u=e.dense,p=void 0!==u&&u,f=e.disablePadding,g=void 0!==f&&f,A=e.subheader,m=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=o.useMemo((function(){return{dense:p}}),[p]);return o.createElement(l.a.Provider,{value:y},o.createElement(d,Object(r.a)({className:Object(a.a)(s.root,c,p&&s.dense,!g&&s.padding,A&&s.subheader),ref:t},m),A,n))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(c)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(107),c=n(82),h=n(22),d=n(38),u=n(13),p="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,f=e.autoFocus,g=void 0!==f&&f,A=e.button,m=void 0!==A&&A,y=e.children,v=e.classes,b=e.className,w=e.component,x=e.ContainerComponent,C=void 0===x?"li":x,S=e.ContainerProps,B=(S=void 0===S?{}:S).className,P=Object(i.a)(S,["className"]),E=e.dense,O=void 0!==E&&E,T=e.disabled,I=void 0!==T&&T,L=e.disableGutters,k=void 0!==L&&L,N=e.divider,M=void 0!==N&&N,D=e.focusVisibleClassName,R=e.selected,j=void 0!==R&&R,_=Object(i.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=o.useContext(d.a),H={dense:O||F.dense||!1,alignItems:s},U=o.useRef(null);p((function(){g&&U.current&&U.current.focus()}),[g]);var z=o.Children.toArray(y),Q=z.length&&Object(c.a)(z[z.length-1],["ListItemSecondaryAction"]),W=o.useCallback((function(e){U.current=u.findDOMNode(e)}),[]),V=Object(h.a)(W,t),X=Object(r.a)({className:Object(a.a)(v.root,b,H.dense&&v.dense,!k&&v.gutters,M&&v.divider,I&&v.disabled,m&&v.button,"center"!==s&&v.alignItemsFlexStart,Q&&v.secondaryAction,j&&v.selected),disabled:I},_),Y=w||"li";return m&&(X.component=w||"div",X.focusVisibleClassName=Object(a.a)(v.focusVisible,D),Y=l.a),Q?(Y=X.component||w?Y:"div","li"===C&&("li"===Y?Y="div":"li"===X.component&&(X.component="div")),o.createElement(d.a.Provider,{value:H},o.createElement(C,Object(r.a)({className:Object(a.a)(v.container,B),ref:V},P),o.createElement(Y,X,z),z.pop()))):o.createElement(d.a.Provider,{value:H},o.createElement(Y,Object(r.a)({ref:V},X),z))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(38),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=Object(i.a)(e,["classes","className"]),h=o.useContext(l.a);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"flex-start"===h.alignItems&&n.alignItemsFlexStart),ref:t},c))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(c)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(74),c=n(38),h=o.forwardRef((function(e,t){var n=e.children,s=e.classes,h=e.className,d=e.disableTypography,u=void 0!==d&&d,p=e.inset,f=void 0!==p&&p,g=e.primary,A=e.primaryTypographyProps,m=e.secondary,y=e.secondaryTypographyProps,v=Object(i.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),b=o.useContext(c.a).dense,w=null!=g?g:n;null==w||w.type===l.a||u||(w=o.createElement(l.a,Object(r.a)({variant:b?"body2":"body1",className:s.primary,component:"span",display:"block"},A),w));var x=m;return null==x||x.type===l.a||u||(x=o.createElement(l.a,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},y),x)),o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,h,b&&s.dense,f&&s.inset,w&&x&&s.multiline),ref:t},v),w,x)}));t.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(h)},function(e,t,n){"use strict";var r=n(37),i=n(2),o=(n(8),n(45));var a=function(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.css))),function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(o.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=n(16),c=n(85);function h(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var d=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=h(e.theme,i)||{};return Object(c.a)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=h(a,e)||e,o&&(t=o(t))),!1===r?t:Object(l.a)({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function u(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var p=s(d({prop:"border",themeKey:"borders",transform:u}),d({prop:"borderTop",themeKey:"borders",transform:u}),d({prop:"borderRight",themeKey:"borders",transform:u}),d({prop:"borderBottom",themeKey:"borders",transform:u}),d({prop:"borderLeft",themeKey:"borders",transform:u}),d({prop:"borderColor",themeKey:"palette"}),d({prop:"borderRadius",themeKey:"shape"})),f=s(d({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),d({prop:"display"}),d({prop:"overflow"}),d({prop:"textOverflow"}),d({prop:"visibility"}),d({prop:"whiteSpace"})),g=s(d({prop:"flexBasis"}),d({prop:"flexDirection"}),d({prop:"flexWrap"}),d({prop:"justifyContent"}),d({prop:"alignItems"}),d({prop:"alignContent"}),d({prop:"order"}),d({prop:"flex"}),d({prop:"flexGrow"}),d({prop:"flexShrink"}),d({prop:"alignSelf"}),d({prop:"justifyItems"}),d({prop:"justifySelf"})),A=s(d({prop:"gridGap"}),d({prop:"gridColumnGap"}),d({prop:"gridRowGap"}),d({prop:"gridColumn"}),d({prop:"gridRow"}),d({prop:"gridAutoFlow"}),d({prop:"gridAutoColumns"}),d({prop:"gridAutoRows"}),d({prop:"gridTemplateColumns"}),d({prop:"gridTemplateRows"}),d({prop:"gridTemplateAreas"}),d({prop:"gridArea"})),m=s(d({prop:"position"}),d({prop:"zIndex",themeKey:"zIndex"}),d({prop:"top"}),d({prop:"right"}),d({prop:"bottom"}),d({prop:"left"})),y=s(d({prop:"color",themeKey:"palette"}),d({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),v=d({prop:"boxShadow",themeKey:"shadows"});function b(e){return e<=1?"".concat(100*e,"%"):e}var w=d({prop:"width",transform:b}),x=d({prop:"maxWidth",transform:b}),C=d({prop:"minWidth",transform:b}),S=d({prop:"height",transform:b}),B=d({prop:"maxHeight",transform:b}),P=d({prop:"minHeight",transform:b}),E=(d({prop:"size",cssProperty:"width",transform:b}),d({prop:"size",cssProperty:"height",transform:b}),s(w,x,C,S,B,P,d({prop:"boxSizing"}))),O=n(346),T=s(d({prop:"fontFamily",themeKey:"typography"}),d({prop:"fontSize",themeKey:"typography"}),d({prop:"fontStyle",themeKey:"typography"}),d({prop:"fontWeight",themeKey:"typography"}),d({prop:"letterSpacing"}),d({prop:"lineHeight"}),d({prop:"textAlign"})),I=n(4),L=n(0),k=n.n(L),N=n(5),M=n(42),D=n.n(M),R=n(290);function j(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var _=n(49),F=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,a=Object(I.a)(r,["name"]),s=o,l="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},c=Object(R.a)(l,Object(i.a)({Component:e,name:o||e.displayName,classNamePrefix:s},a));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var h=k.a.forwardRef((function(t,r){var o=t.children,a=t.className,s=t.clone,l=t.component,h=Object(I.a)(t,["children","className","clone","component"]),d=c(t),u=Object(N.a)(d.root,a),p=h;if(n&&(p=j(p,n)),s)return k.a.cloneElement(o,Object(i.a)({className:Object(N.a)(o.props.className,u)},p));if("function"===typeof o)return o(Object(i.a)({className:u},p));var f=l||e;return k.a.createElement(f,Object(i.a)({ref:r,className:u},p),o)}));return D()(h,e),h}}(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:_.a},n))}},H=a(s(p,f,g,A,m,y,v,E,O.b,T)),U=F("div")(H,{name:"MuiBox"});t.a=U},function(e,t,n){"use strict";var r,i=n(2),o=n(4),a=n(16),s=n(0),l=(n(67),n(8),n(5)),c=n(41),h=n(59);function d(){if(r)return r;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),r="reverse",e.scrollLeft>0?r="default":(e.scrollLeft=1,0===e.scrollLeft&&(r="negative")),document.body.removeChild(e),r}function u(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(d()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function p(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var f={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function g(e){var t=e.onChange,n=Object(o.a)(e,["onChange"]),r=s.useRef(),a=s.useRef(null),l=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return s.useEffect((function(){var e=Object(c.a)((function(){var e=r.current;l(),e!==r.current&&t(r.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),s.useEffect((function(){l(),t(r.current)}),[t]),s.createElement("div",Object(i.a)({style:f,ref:a},n))}var A=n(7),m=n(14),y=s.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,c=e.orientation,h=Object(o.a)(e,["classes","className","color","orientation"]);return s.createElement("span",Object(i.a)({className:Object(l.a)(n.root,n["color".concat(Object(m.a)(a))],r,"vertical"===c&&n.vertical),ref:t},h))})),v=Object(A.a)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(y),b=n(44),w=Object(b.a)(s.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),x=Object(b.a)(s.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),C=n(107),S=s.createElement(w,{fontSize:"small"}),B=s.createElement(x,{fontSize:"small"}),P=s.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.direction,c=e.orientation,h=e.disabled,d=Object(o.a)(e,["classes","className","direction","orientation","disabled"]);return s.createElement(C.a,Object(i.a)({component:"div",className:Object(l.a)(n.root,r,h&&n.disabled,"vertical"===c&&n.vertical),ref:t,role:null,tabIndex:null},d),"left"===a?S:B)})),E=Object(A.a)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(P),O=n(24),T=n(48),I=s.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],f=e.action,A=e.centered,m=void 0!==A&&A,y=e.children,b=e.classes,w=e.className,x=e.component,C=void 0===x?"div":x,S=e.indicatorColor,B=void 0===S?"secondary":S,P=e.onChange,I=e.orientation,L=void 0===I?"horizontal":I,k=e.ScrollButtonComponent,N=void 0===k?E:k,M=e.scrollButtons,D=void 0===M?"auto":M,R=e.selectionFollowsFocus,j=e.TabIndicatorProps,_=void 0===j?{}:j,F=e.TabScrollButtonProps,H=e.textColor,U=void 0===H?"inherit":H,z=e.value,Q=e.variant,W=void 0===Q?"standard":Q,V=Object(o.a)(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),X=Object(T.a)(),Y="scrollable"===W,K="rtl"===X.direction,G="vertical"===L,q=G?"scrollTop":"scrollLeft",J=G?"top":"left",Z=G?"bottom":"right",$=G?"clientHeight":"clientWidth",ee=G?"height":"width";var te=s.useState(!1),ne=te[0],re=te[1],ie=s.useState({}),oe=ie[0],ae=ie[1],se=s.useState({start:!1,end:!1}),le=se[0],ce=se[1],he=s.useState({overflow:"hidden",marginBottom:null}),de=he[0],ue=he[1],pe=new Map,fe=s.useRef(null),ge=s.useRef(null),Ae=function(){var e,t,n=fe.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:u(n,X.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==z){var i=ge.current.children;if(i.length>0){var o=i[pe.get(z)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},me=Object(O.a)((function(){var e,t=Ae(),n=t.tabsMeta,r=t.tabMeta,i=0;if(r&&n)if(G)i=r.top-n.top+n.scrollTop;else{var o=K?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+o}var s=(e={},Object(a.a)(e,J,i),Object(a.a)(e,ee,r?r[ee]:0),e);if(isNaN(oe[J])||isNaN(oe[ee]))ae(s);else{var l=Math.abs(oe[J]-s[J]),c=Math.abs(oe[ee]-s[ee]);(l>=1||c>=1)&&ae(s)}})),ye=function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?p:o,s=r.duration,l=void 0===s?300:s,c=null,h=t[e],d=!1,u=function(){d=!0},f=function r(o){if(d)i(new Error("Animation cancelled"));else{null===c&&(c=o);var s=Math.min(1,(o-c)/l);t[e]=a(s)*(n-h)+h,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};h===n?i(new Error("Element already at target position")):requestAnimationFrame(f)}(q,fe.current,e)},ve=function(e){var t=fe.current[q];G?t+=e:(t+=e*(K?-1:1),t*=K&&"reverse"===d()?-1:1),ye(t)},be=function(){ve(-fe.current[$])},we=function(){ve(fe.current[$])},xe=s.useCallback((function(e){ue({overflow:null,marginBottom:-e})}),[]),Ce=Object(O.a)((function(){var e=Ae(),t=e.tabsMeta,n=e.tabMeta;if(n&&t)if(n[J]<t[J]){var r=t[q]+(n[J]-t[J]);ye(r)}else if(n[Z]>t[Z]){var i=t[q]+(n[Z]-t[Z]);ye(i)}})),Se=Object(O.a)((function(){if(Y&&"off"!==D){var e,t,n=fe.current,r=n.scrollTop,i=n.scrollHeight,o=n.clientHeight,a=n.scrollWidth,s=n.clientWidth;if(G)e=r>1,t=r<i-o-1;else{var l=u(fe.current,X.direction);e=K?l<a-s-1:l>1,t=K?l>1:l<a-s-1}e===le.start&&t===le.end||ce({start:e,end:t})}}));s.useEffect((function(){var e=Object(c.a)((function(){me(),Se()})),t=Object(h.a)(fe.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[me,Se]);var Be=s.useCallback(Object(c.a)((function(){Se()})));s.useEffect((function(){return function(){Be.clear()}}),[Be]),s.useEffect((function(){re(!0)}),[]),s.useEffect((function(){me(),Se()})),s.useEffect((function(){Ce()}),[Ce,oe]),s.useImperativeHandle(f,(function(){return{updateIndicator:me,updateScrollButtons:Se}}),[me,Se]);var Pe=s.createElement(v,Object(i.a)({className:b.indicator,orientation:L,color:B},_,{style:Object(i.a)({},oe,_.style)})),Ee=0,Oe=s.Children.map(y,(function(e){if(!s.isValidElement(e))return null;var t=void 0===e.props.value?Ee:e.props.value;pe.set(t,Ee);var n=t===z;return Ee+=1,s.cloneElement(e,{fullWidth:"fullWidth"===W,indicator:n&&!ne&&Pe,selected:n,selectionFollowsFocus:R,onChange:P,textColor:U,value:t})})),Te=function(){var e={};e.scrollbarSizeListener=Y?s.createElement(g,{className:b.scrollable,onChange:xe}):null;var t=le.start||le.end,n=Y&&("auto"===D&&t||"desktop"===D||"on"===D);return e.scrollButtonStart=n?s.createElement(N,Object(i.a)({orientation:L,direction:K?"right":"left",onClick:be,disabled:!le.start,className:Object(l.a)(b.scrollButtons,"on"!==D&&b.scrollButtonsDesktop)},F)):null,e.scrollButtonEnd=n?s.createElement(N,Object(i.a)({orientation:L,direction:K?"left":"right",onClick:we,disabled:!le.end,className:Object(l.a)(b.scrollButtons,"on"!==D&&b.scrollButtonsDesktop)},F)):null,e}();return s.createElement(C,Object(i.a)({className:Object(l.a)(b.root,w,G&&b.vertical),ref:t},V),Te.scrollButtonStart,Te.scrollbarSizeListener,s.createElement("div",{className:Object(l.a)(b.scroller,Y?b.scrollable:b.fixed),style:de,ref:fe,onScroll:Be},s.createElement("div",{"aria-label":n,"aria-labelledby":r,className:Object(l.a)(b.flexContainer,G&&b.flexContainerVertical,m&&!Y&&b.centered),onKeyDown:function(e){var t=e.target;if("tab"===t.getAttribute("role")){var n=null,r="vertical"!==L?"ArrowLeft":"ArrowUp",i="vertical"!==L?"ArrowRight":"ArrowDown";switch("vertical"!==L&&"rtl"===X.direction&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:n=t.previousElementSibling||ge.current.lastChild;break;case i:n=t.nextElementSibling||ge.current.firstChild;break;case"Home":n=ge.current.firstChild;break;case"End":n=ge.current.lastChild}null!==n&&(n.focus(),e.preventDefault())}},ref:ge,role:"tablist"},Oe),ne&&Pe),Te.scrollButtonEnd)}));t.a=Object(A.a)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:Object(a.a)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(I)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(291),l=n(289),c=n(7),h=n(13),d=n(41),u=n(293),p=n(22),f=n(48),g=n(29),A=n(51);function m(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var y={enter:g.b.enteringScreen,exit:g.b.leavingScreen},v=o.forwardRef((function(e,t){var n=e.children,a=e.direction,s=void 0===a?"down":a,l=e.in,c=e.onEnter,g=e.onEntered,v=e.onEntering,b=e.onExit,w=e.onExited,x=e.onExiting,C=e.style,S=e.timeout,B=void 0===S?y:S,P=e.TransitionComponent,E=void 0===P?u.a:P,O=Object(i.a)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),T=Object(f.a)(),I=o.useRef(null),L=o.useCallback((function(e){I.current=h.findDOMNode(e)}),[]),k=Object(p.a)(n.ref,L),N=Object(p.a)(k,t),M=function(e){return function(t){e&&(void 0===t?e(I.current):e(I.current,t))}},D=M((function(e,t){m(s,e),Object(A.b)(e),c&&c(e,t)})),R=M((function(e,t){var n=Object(A.a)({timeout:B,style:C},{mode:"enter"});e.style.webkitTransition=T.transitions.create("-webkit-transform",Object(r.a)({},n,{easing:T.transitions.easing.easeOut})),e.style.transition=T.transitions.create("transform",Object(r.a)({},n,{easing:T.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),j=M(g),_=M(x),F=M((function(e){var t=Object(A.a)({timeout:B,style:C},{mode:"exit"});e.style.webkitTransition=T.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:T.transitions.easing.sharp})),e.style.transition=T.transitions.create("transform",Object(r.a)({},t,{easing:T.transitions.easing.sharp})),m(s,e),b&&b(e)})),H=M((function(e){e.style.webkitTransition="",e.style.transition="",w&&w(e)})),U=o.useCallback((function(){I.current&&m(s,I.current)}),[s]);return o.useEffect((function(){if(!l&&"down"!==s&&"right"!==s){var e=Object(d.a)((function(){I.current&&m(s,I.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,l]),o.useEffect((function(){l||U()}),[l,U]),o.createElement(E,Object(r.a)({nodeRef:I,onEnter:D,onEntered:j,onEntering:R,onExit:F,onExited:H,onExiting:_,appear:!0,in:l,timeout:B},O),(function(e,t){return o.cloneElement(n,Object(r.a)({ref:N,style:Object(r.a)({visibility:"exited"!==e||l?void 0:"hidden"},C,n.props.style)},t))}))})),b=n(156),w=n(14),x={left:"right",right:"left",top:"down",bottom:"up"};var C={enter:g.b.enteringScreen,exit:g.b.leavingScreen},S=o.forwardRef((function(e,t){var n=e.anchor,c=void 0===n?"left":n,h=e.BackdropProps,d=e.children,u=e.classes,p=e.className,g=e.elevation,A=void 0===g?16:g,m=e.ModalProps,y=(m=void 0===m?{}:m).BackdropProps,S=Object(i.a)(m,["BackdropProps"]),B=e.onClose,P=e.open,E=void 0!==P&&P,O=e.PaperProps,T=void 0===O?{}:O,I=e.SlideProps,L=e.TransitionComponent,k=void 0===L?v:L,N=e.transitionDuration,M=void 0===N?C:N,D=e.variant,R=void 0===D?"temporary":D,j=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),_=Object(f.a)(),F=o.useRef(!1);o.useEffect((function(){F.current=!0}),[]);var H=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?x[t]:t}(_,c),U=o.createElement(b.a,Object(r.a)({elevation:"temporary"===R?A:0,square:!0},T,{className:Object(a.a)(u.paper,u["paperAnchor".concat(Object(w.a)(H))],T.className,"temporary"!==R&&u["paperAnchorDocked".concat(Object(w.a)(H))])}),d);if("permanent"===R)return o.createElement("div",Object(r.a)({className:Object(a.a)(u.root,u.docked,p),ref:t},j),U);var z=o.createElement(k,Object(r.a)({in:E,direction:x[H],timeout:M,appear:F.current},I),U);return"persistent"===R?o.createElement("div",Object(r.a)({className:Object(a.a)(u.root,u.docked,p),ref:t},j),z):o.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},h,y,{transitionDuration:M}),BackdropComponent:l.a,className:Object(a.a)(u.root,u.modal,p),open:E,onClose:B,ref:t},j,S),z)}));t.a=Object(c.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(S)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=(n(8),n(5)),s=n(7),l=n(44),c=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var h=o.forwardRef((function(e,t){var n=e.alt,s=e.children,l=e.classes,h=e.className,d=e.component,u=void 0===d?"div":d,p=e.imgProps,f=e.sizes,g=e.src,A=e.srcSet,m=e.variant,y=void 0===m?"circle":m,v=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,w=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),i=r[0],a=r[1];return o.useEffect((function(){if(t||n){a(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&a("loaded")},r.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,n]),i}({src:g,srcSet:A}),x=g||A,C=x&&"error"!==w;return b=C?o.createElement("img",Object(r.a)({alt:n,src:g,srcSet:A,sizes:f,className:l.img},p)):null!=s?s:x&&n?n[0]:o.createElement(c,{className:l.fallback}),o.createElement(u,Object(r.a)({className:Object(a.a)(l.root,l.system,l[y],h,!C&&l.colorDefault),ref:t},v),b)}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(h)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(91),i=n(85),o=n(45);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],o=n[1],c=a[i],h=s[o]||"";return Array.isArray(h)?h.map((function(e){return c+e})):[c+h]})),h=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function u(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function p(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===h.indexOf(n))return null;var r=u(c(n),t),o=e[n];return Object(i.a)(e,o,r)})).reduce(o.a,{})}p.propTypes={},p.filterProps=h;t.b=p}]]);
//# sourceMappingURL=3.7c25bc07.chunk.js.map